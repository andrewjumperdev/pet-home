var cB=Object.defineProperty;var hB=(n,e,t)=>e in n?cB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ma=(n,e,t)=>hB(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var IR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _o(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pT={exports:{}},vf={},mT={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR;function dB(){if(AR)return ft;AR=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=p&&W[p]||W["@@iterator"],typeof W=="function"?W:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function x(W,Q,ye){this.props=W,this.context=Q,this.refs=v,this.updater=ye||_}x.prototype.isReactComponent={},x.prototype.setState=function(W,Q){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Q,"setState")},x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function C(){}C.prototype=x.prototype;function k(W,Q,ye){this.props=W,this.context=Q,this.refs=v,this.updater=ye||_}var L=k.prototype=new C;L.constructor=k,w(L,x.prototype),L.isPureReactComponent=!0;var O=Array.isArray,j=Object.prototype.hasOwnProperty,$={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(W,Q,ye){var ve,xe={},Pe=null,Se=null;if(Q!=null)for(ve in Q.ref!==void 0&&(Se=Q.ref),Q.key!==void 0&&(Pe=""+Q.key),Q)j.call(Q,ve)&&!N.hasOwnProperty(ve)&&(xe[ve]=Q[ve]);var Me=arguments.length-2;if(Me===1)xe.children=ye;else if(1<Me){for(var Ve=Array(Me),Et=0;Et<Me;Et++)Ve[Et]=arguments[Et+2];xe.children=Ve}if(W&&W.defaultProps)for(ve in Me=W.defaultProps,Me)xe[ve]===void 0&&(xe[ve]=Me[ve]);return{$$typeof:n,type:W,key:Pe,ref:Se,props:xe,_owner:$.current}}function P(W,Q){return{$$typeof:n,type:W.type,key:Q,ref:W.ref,props:W.props,_owner:W._owner}}function D(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function U(W){var Q={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ye){return Q[ye]})}var B=/\/+/g;function V(W,Q){return typeof W=="object"&&W!==null&&W.key!=null?U(""+W.key):Q.toString(36)}function oe(W,Q,ye,ve,xe){var Pe=typeof W;(Pe==="undefined"||Pe==="boolean")&&(W=null);var Se=!1;if(W===null)Se=!0;else switch(Pe){case"string":case"number":Se=!0;break;case"object":switch(W.$$typeof){case n:case e:Se=!0}}if(Se)return Se=W,xe=xe(Se),W=ve===""?"."+V(Se,0):ve,O(xe)?(ye="",W!=null&&(ye=W.replace(B,"$&/")+"/"),oe(xe,Q,ye,"",function(Et){return Et})):xe!=null&&(D(xe)&&(xe=P(xe,ye+(!xe.key||Se&&Se.key===xe.key?"":(""+xe.key).replace(B,"$&/")+"/")+W)),Q.push(xe)),1;if(Se=0,ve=ve===""?".":ve+":",O(W))for(var Me=0;Me<W.length;Me++){Pe=W[Me];var Ve=ve+V(Pe,Me);Se+=oe(Pe,Q,ye,Ve,xe)}else if(Ve=g(W),typeof Ve=="function")for(W=Ve.call(W),Me=0;!(Pe=W.next()).done;)Pe=Pe.value,Ve=ve+V(Pe,Me++),Se+=oe(Pe,Q,ye,Ve,xe);else if(Pe==="object")throw Q=String(W),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Se}function ie(W,Q,ye){if(W==null)return W;var ve=[],xe=0;return oe(W,ve,"","",function(Pe){return Q.call(ye,Pe,xe++)}),ve}function fe(W){if(W._status===-1){var Q=W._result;Q=Q(),Q.then(function(ye){(W._status===0||W._status===-1)&&(W._status=1,W._result=ye)},function(ye){(W._status===0||W._status===-1)&&(W._status=2,W._result=ye)}),W._status===-1&&(W._status=0,W._result=Q)}if(W._status===1)return W._result.default;throw W._result}var re={current:null},ee={transition:null},ue={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:ee,ReactCurrentOwner:$};function z(){throw Error("act(...) is not supported in production builds of React.")}return ft.Children={map:ie,forEach:function(W,Q,ye){ie(W,function(){Q.apply(this,arguments)},ye)},count:function(W){var Q=0;return ie(W,function(){Q++}),Q},toArray:function(W){return ie(W,function(Q){return Q})||[]},only:function(W){if(!D(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},ft.Component=x,ft.Fragment=t,ft.Profiler=i,ft.PureComponent=k,ft.StrictMode=r,ft.Suspense=c,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,ft.act=z,ft.cloneElement=function(W,Q,ye){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ve=w({},W.props),xe=W.key,Pe=W.ref,Se=W._owner;if(Q!=null){if(Q.ref!==void 0&&(Pe=Q.ref,Se=$.current),Q.key!==void 0&&(xe=""+Q.key),W.type&&W.type.defaultProps)var Me=W.type.defaultProps;for(Ve in Q)j.call(Q,Ve)&&!N.hasOwnProperty(Ve)&&(ve[Ve]=Q[Ve]===void 0&&Me!==void 0?Me[Ve]:Q[Ve])}var Ve=arguments.length-2;if(Ve===1)ve.children=ye;else if(1<Ve){Me=Array(Ve);for(var Et=0;Et<Ve;Et++)Me[Et]=arguments[Et+2];ve.children=Me}return{$$typeof:n,type:W.type,key:xe,ref:Pe,props:ve,_owner:Se}},ft.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},ft.createElement=A,ft.createFactory=function(W){var Q=A.bind(null,W);return Q.type=W,Q},ft.createRef=function(){return{current:null}},ft.forwardRef=function(W){return{$$typeof:l,render:W}},ft.isValidElement=D,ft.lazy=function(W){return{$$typeof:d,_payload:{_status:-1,_result:W},_init:fe}},ft.memo=function(W,Q){return{$$typeof:h,type:W,compare:Q===void 0?null:Q}},ft.startTransition=function(W){var Q=ee.transition;ee.transition={};try{W()}finally{ee.transition=Q}},ft.unstable_act=z,ft.useCallback=function(W,Q){return re.current.useCallback(W,Q)},ft.useContext=function(W){return re.current.useContext(W)},ft.useDebugValue=function(){},ft.useDeferredValue=function(W){return re.current.useDeferredValue(W)},ft.useEffect=function(W,Q){return re.current.useEffect(W,Q)},ft.useId=function(){return re.current.useId()},ft.useImperativeHandle=function(W,Q,ye){return re.current.useImperativeHandle(W,Q,ye)},ft.useInsertionEffect=function(W,Q){return re.current.useInsertionEffect(W,Q)},ft.useLayoutEffect=function(W,Q){return re.current.useLayoutEffect(W,Q)},ft.useMemo=function(W,Q){return re.current.useMemo(W,Q)},ft.useReducer=function(W,Q,ye){return re.current.useReducer(W,Q,ye)},ft.useRef=function(W){return re.current.useRef(W)},ft.useState=function(W){return re.current.useState(W)},ft.useSyncExternalStore=function(W,Q,ye){return re.current.useSyncExternalStore(W,Q,ye)},ft.useTransition=function(){return re.current.useTransition()},ft.version="18.3.1",ft}var RR;function fm(){return RR||(RR=1,mT.exports=dB()),mT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR;function fB(){if(PR)return vf;PR=1;var n=fm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,h){var d,p={},g=null,_=null;h!==void 0&&(g=""+h),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(_=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(p[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:l,key:g,ref:_,props:p,_owner:i.current}}return vf.Fragment=t,vf.jsx=o,vf.jsxs=o,vf}var kR;function pB(){return kR||(kR=1,pT.exports=fB()),pT.exports}var E=pB(),R=fm();const tt=_o(R);var ry={},gT={exports:{}},Oi={},yT={exports:{}},_T={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NR;function mB(){return NR||(NR=1,function(n){function e(ee,ue){var z=ee.length;ee.push(ue);e:for(;0<z;){var W=z-1>>>1,Q=ee[W];if(0<i(Q,ue))ee[W]=ue,ee[z]=Q,z=W;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ue=ee[0],z=ee.pop();if(z!==ue){ee[0]=z;e:for(var W=0,Q=ee.length,ye=Q>>>1;W<ye;){var ve=2*(W+1)-1,xe=ee[ve],Pe=ve+1,Se=ee[Pe];if(0>i(xe,z))Pe<Q&&0>i(Se,xe)?(ee[W]=Se,ee[Pe]=z,W=Pe):(ee[W]=xe,ee[ve]=z,W=ve);else if(Pe<Q&&0>i(Se,z))ee[W]=Se,ee[Pe]=z,W=Pe;else break e}}return ue}function i(ee,ue){var z=ee.sortIndex-ue.sortIndex;return z!==0?z:ee.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],h=[],d=1,p=null,g=3,_=!1,w=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(ee){for(var ue=t(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=ee)r(h),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=t(h)}}function O(ee){if(v=!1,L(ee),!w)if(t(c)!==null)w=!0,fe(j);else{var ue=t(h);ue!==null&&re(O,ue.startTime-ee)}}function j(ee,ue){w=!1,v&&(v=!1,C(A),A=-1),_=!0;var z=g;try{for(L(ue),p=t(c);p!==null&&(!(p.expirationTime>ue)||ee&&!U());){var W=p.callback;if(typeof W=="function"){p.callback=null,g=p.priorityLevel;var Q=W(p.expirationTime<=ue);ue=n.unstable_now(),typeof Q=="function"?p.callback=Q:p===t(c)&&r(c),L(ue)}else r(c);p=t(c)}if(p!==null)var ye=!0;else{var ve=t(h);ve!==null&&re(O,ve.startTime-ue),ye=!1}return ye}finally{p=null,g=z,_=!1}}var $=!1,N=null,A=-1,P=5,D=-1;function U(){return!(n.unstable_now()-D<P)}function B(){if(N!==null){var ee=n.unstable_now();D=ee;var ue=!0;try{ue=N(!0,ee)}finally{ue?V():($=!1,N=null)}}else $=!1}var V;if(typeof k=="function")V=function(){k(B)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ie=oe.port2;oe.port1.onmessage=B,V=function(){ie.postMessage(null)}}else V=function(){x(B,0)};function fe(ee){N=ee,$||($=!0,V())}function re(ee,ue){A=x(function(){ee(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){w||_||(w=!0,fe(j))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var ue=3;break;default:ue=g}var z=g;g=ue;try{return ee()}finally{g=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ue){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var z=g;g=ee;try{return ue()}finally{g=z}},n.unstable_scheduleCallback=function(ee,ue,z){var W=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?W+z:W):z=W,ee){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,ee={id:d++,callback:ue,priorityLevel:ee,startTime:z,expirationTime:Q,sortIndex:-1},z>W?(ee.sortIndex=z,e(h,ee),t(c)===null&&ee===t(h)&&(v?(C(A),A=-1):v=!0,re(O,z-W))):(ee.sortIndex=Q,e(c,ee),w||_||(w=!0,fe(j))),ee},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(ee){var ue=g;return function(){var z=g;g=ue;try{return ee.apply(this,arguments)}finally{g=z}}}}(_T)),_T}var OR;function gB(){return OR||(OR=1,yT.exports=mB()),yT.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function yB(){if(DR)return Oi;DR=1;var n=fm(),e=gB();function t(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(a){return c.call(p,a)?!0:c.call(d,a)?!1:h.test(a)?p[a]=!0:(d[a]=!0,!1)}function _(a,u,f,y){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,u,f,y){if(u===null||typeof u>"u"||_(a,u,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function v(a,u,f,y,T,b,M){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=T,this.mustUseProperty=f,this.propertyName=a,this.type=u,this.sanitizeURL=b,this.removeEmptyString=M}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){x[a]=new v(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];x[u]=new v(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){x[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){x[a]=new v(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){x[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){x[a]=new v(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){x[a]=new v(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){x[a]=new v(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){x[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(C,k);x[u]=new v(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(C,k);x[u]=new v(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(C,k);x[u]=new v(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){x[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)}),x.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){x[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});function L(a,u,f,y){var T=x.hasOwnProperty(u)?x[u]:null;(T!==null?T.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,f,T,y)&&(f=null),y||T===null?g(u)&&(f===null?a.removeAttribute(u):a.setAttribute(u,""+f)):T.mustUseProperty?a[T.propertyName]=f===null?T.type===3?!1:"":f:(u=T.attributeName,y=T.attributeNamespace,f===null?a.removeAttribute(u):(T=T.type,f=T===3||T===4&&f===!0?"":""+f,y?a.setAttributeNS(y,u,f):a.setAttribute(u,f))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),$=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),U=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ue(a){return a===null||typeof a!="object"?null:(a=ee&&a[ee]||a["@@iterator"],typeof a=="function"?a:null)}var z=Object.assign,W;function Q(a){if(W===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+a}var ye=!1;function ve(a,u){if(!a||ye)return"";ye=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(J){var y=J}Reflect.construct(a,[],u)}else{try{u.call()}catch(J){y=J}a.call(u.prototype)}else{try{throw Error()}catch(J){y=J}a()}}catch(J){if(J&&y&&typeof J.stack=="string"){for(var T=J.stack.split(`
`),b=y.stack.split(`
`),M=T.length-1,H=b.length-1;1<=M&&0<=H&&T[M]!==b[H];)H--;for(;1<=M&&0<=H;M--,H--)if(T[M]!==b[H]){if(M!==1||H!==1)do if(M--,H--,0>H||T[M]!==b[H]){var q=`
`+T[M].replace(" at new "," at ");return a.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",a.displayName)),q}while(1<=M&&0<=H);break}}}finally{ye=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?Q(a):""}function xe(a){switch(a.tag){case 5:return Q(a.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return a=ve(a.type,!1),a;case 11:return a=ve(a.type.render,!1),a;case 1:return a=ve(a.type,!0),a;default:return""}}function Pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case $:return"Portal";case P:return"Profiler";case A:return"StrictMode";case V:return"Suspense";case oe:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case U:return(a.displayName||"Context")+".Consumer";case D:return(a._context.displayName||"Context")+".Provider";case B:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ie:return u=a.displayName||null,u!==null?u:Pe(a.type)||"Memo";case fe:u=a._payload,a=a._init;try{return Pe(a(u))}catch{}}return null}function Se(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(u);case 8:return u===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Me(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ve(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Et(a){var u=Ve(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),y=""+a[u];if(!a.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var T=f.get,b=f.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return T.call(this)},set:function(M){y=""+M,b.call(this,M)}}),Object.defineProperty(a,u,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(M){y=""+M},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Ft(a){a._valueTracker||(a._valueTracker=Et(a))}function Ht(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var f=u.getValue(),y="";return a&&(y=Ve(a)?a.checked?"true":"false":a.value),a=y,a!==f?(u.setValue(a),!0):!1}function Ye(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function We(a,u){var f=u.checked;return z({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function Nt(a,u){var f=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;f=Me(u.value!=null?u.value:f),a._wrapperState={initialChecked:y,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function xt(a,u){u=u.checked,u!=null&&L(a,"checked",u,!1)}function Z(a,u){xt(a,u);var f=Me(u.value),y=u.type;if(f!=null)y==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Nn(a,u.type,f):u.hasOwnProperty("defaultValue")&&Nn(a,u.type,Me(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function mn(a,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,f||u===a.value||(a.value=u),a.defaultValue=u}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Nn(a,u,f){(u!=="number"||Ye(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var On=Array.isArray;function he(a,u,f,y){if(a=a.options,u){u={};for(var T=0;T<f.length;T++)u["$"+f[T]]=!0;for(f=0;f<a.length;f++)T=u.hasOwnProperty("$"+a[f].value),a[f].selected!==T&&(a[f].selected=T),T&&y&&(a[f].defaultSelected=!0)}else{for(f=""+Me(f),u=null,T=0;T<a.length;T++){if(a[T].value===f){a[T].selected=!0,y&&(a[T].defaultSelected=!0);return}u!==null||a[T].disabled||(u=a[T])}u!==null&&(u.selected=!0)}}function st(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return z({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function It(a,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(t(92));if(On(f)){if(1<f.length)throw Error(t(93));f=f[0]}u=f}u==null&&(u=""),f=u}a._wrapperState={initialValue:Me(f)}}function Zt(a,u){var f=Me(u.value),y=Me(u.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),u.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),y!=null&&(a.defaultValue=""+y)}function ut(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function _t(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ke(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?_t(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Kt,rn=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,y,T){MSApp.execUnsafeLocalFunction(function(){return a(u,f,y,T)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Kt=Kt||document.createElement("div"),Kt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Kt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Lt(a,u){if(u){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=u;return}}a.textContent=u}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vt=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(a){vt.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),qn[u]=qn[a]})});function hr(a,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||qn.hasOwnProperty(a)&&qn[a]?(""+u).trim():u+"px"}function Dn(a,u){a=a.style;for(var f in u)if(u.hasOwnProperty(f)){var y=f.indexOf("--")===0,T=hr(f,u[f],y);f==="float"&&(f="cssFloat"),y?a.setProperty(f,T):a[f]=T}}var Si=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ui(a,u){if(u){if(Si[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function br(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rr=null;function Ze(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Cr=null,sn=null,ln=null;function Ot(a){if(a=rf(a)){if(typeof Cr!="function")throw Error(t(280));var u=a.stateNode;u&&(u=_g(u),Cr(a.stateNode,a.type,u))}}function Dt(a){sn?ln?ln.push(a):ln=[a]:sn=a}function Ir(){if(sn){var a=sn,u=ln;if(ln=sn=null,Ot(a),u)for(a=0;a<u.length;a++)Ot(u[a])}}function at(a,u){return a(u)}function Mn(){}var Ue=!1;function Ne(a,u,f){if(Ue)return a(u,f);Ue=!0;try{return at(a,u,f)}finally{Ue=!1,(sn!==null||ln!==null)&&(Mn(),Ir())}}function Le(a,u){var f=a.stateNode;if(f===null)return null;var y=_g(f);if(y===null)return null;f=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(t(231,u,typeof f));return f}var me=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){me=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch{me=!1}function be(a,u,f,y,T,b,M,H,q){var J=Array.prototype.slice.call(arguments,3);try{u.apply(f,J)}catch(ce){this.onError(ce)}}var Fe=!1,qt=null,He=!1,Gt=null,gn={onError:function(a){Fe=!0,qt=a}};function jt(a,u,f,y,T,b,M,H,q){Fe=!1,qt=null,be.apply(gn,arguments)}function Ut(a,u,f,y,T,b,M,H,q){if(jt.apply(this,arguments),Fe){if(Fe){var J=qt;Fe=!1,qt=null}else throw Error(t(198));He||(He=!0,Gt=J)}}function lt(a){var u=a,f=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(f=u.return),a=u.return;while(a)}return u.tag===3?f:null}function je(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function De(a){if(lt(a)!==a)throw Error(t(188))}function ct(a){var u=a.alternate;if(!u){if(u=lt(a),u===null)throw Error(t(188));return u!==a?null:a}for(var f=a,y=u;;){var T=f.return;if(T===null)break;var b=T.alternate;if(b===null){if(y=T.return,y!==null){f=y;continue}break}if(T.child===b.child){for(b=T.child;b;){if(b===f)return De(T),a;if(b===y)return De(T),u;b=b.sibling}throw Error(t(188))}if(f.return!==y.return)f=T,y=b;else{for(var M=!1,H=T.child;H;){if(H===f){M=!0,f=T,y=b;break}if(H===y){M=!0,y=T,f=b;break}H=H.sibling}if(!M){for(H=b.child;H;){if(H===f){M=!0,f=b,y=T;break}if(H===y){M=!0,y=b,f=T;break}H=H.sibling}if(!M)throw Error(t(189))}}if(f.alternate!==y)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?a:u}function Xt(a){return a=ct(a),a!==null?wt(a):null}function wt(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=wt(a);if(u!==null)return u;a=a.sibling}return null}var Qt=e.unstable_scheduleCallback,yn=e.unstable_cancelCallback,bi=e.unstable_shouldYield,qa=e.unstable_requestPaint,rt=e.unstable_now,_n=e.unstable_getCurrentPriorityLevel,dr=e.unstable_ImmediatePriority,vs=e.unstable_UserBlockingPriority,ci=e.unstable_NormalPriority,Hs=e.unstable_LowPriority,hi=e.unstable_IdlePriority,Ki=null,fr=null;function Xi(a){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Ki,a,void 0,(a.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:Xm,Bd=Math.log,Km=Math.LN2;function Xm(a){return a>>>=0,a===0?32:31-(Bd(a)/Km|0)|0}var Nc=64,Oc=4194304;function Ga(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ou(a,u){var f=a.pendingLanes;if(f===0)return 0;var y=0,T=a.suspendedLanes,b=a.pingedLanes,M=f&268435455;if(M!==0){var H=M&~T;H!==0?y=Ga(H):(b&=M,b!==0&&(y=Ga(b)))}else M=f&~T,M!==0?y=Ga(M):b!==0&&(y=Ga(b));if(y===0)return 0;if(u!==0&&u!==y&&(u&T)===0&&(T=y&-y,b=u&-u,T>=b||T===16&&(b&4194240)!==0))return u;if((y&4)!==0&&(y|=f&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=y;0<u;)f=31-di(u),T=1<<f,y|=a[f],u&=~T;return y}function W0(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function na(a,u){for(var f=a.suspendedLanes,y=a.pingedLanes,T=a.expirationTimes,b=a.pendingLanes;0<b;){var M=31-di(b),H=1<<M,q=T[M];q===-1?((H&f)===0||(H&y)!==0)&&(T[M]=W0(H,u)):q<=u&&(a.expiredLanes|=H),b&=~H}}function Qi(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function au(){var a=Nc;return Nc<<=1,(Nc&4194240)===0&&(Nc=64),a}function Ya(a){for(var u=[],f=0;31>f;f++)u.push(a);return u}function Ka(a,u,f){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-di(u),a[u]=f}function en(a,u){var f=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<f;){var T=31-di(f),b=1<<T;u[T]=0,y[T]=-1,a[T]=-1,f&=~b}}function Xa(a,u){var f=a.entangledLanes|=u;for(a=a.entanglements;f;){var y=31-di(f),T=1<<y;T&u|a[y]&u&&(a[y]|=u),f&=~T}}var St=0;function Qa(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Qm,Dc,Jm,Zm,eg,$d=!1,wo=[],Ar=null,qs=null,Gs=null,Ja=new Map,ws=new Map,To=[],H0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tg(a,u){switch(a){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Ja.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(u.pointerId)}}function Ci(a,u,f,y,T,b){return a===null||a.nativeEvent!==b?(a={blockedOn:u,domEventName:f,eventSystemFlags:y,nativeEvent:b,targetContainers:[T]},u!==null&&(u=rf(u),u!==null&&Dc(u)),a):(a.eventSystemFlags|=y,u=a.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),a)}function q0(a,u,f,y,T){switch(u){case"focusin":return Ar=Ci(Ar,a,u,f,y,T),!0;case"dragenter":return qs=Ci(qs,a,u,f,y,T),!0;case"mouseover":return Gs=Ci(Gs,a,u,f,y,T),!0;case"pointerover":var b=T.pointerId;return Ja.set(b,Ci(Ja.get(b)||null,a,u,f,y,T)),!0;case"gotpointercapture":return b=T.pointerId,ws.set(b,Ci(ws.get(b)||null,a,u,f,y,T)),!0}return!1}function ng(a){var u=du(a.target);if(u!==null){var f=lt(u);if(f!==null){if(u=f.tag,u===13){if(u=je(f),u!==null){a.blockedOn=u,eg(a.priority,function(){Jm(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ra(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var f=Mc(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var y=new f.constructor(f.type,f);rr=y,f.target.dispatchEvent(y),rr=null}else return u=rf(f),u!==null&&Dc(u),a.blockedOn=f,!1;u.shift()}return!0}function lu(a,u,f){ra(a)&&f.delete(u)}function rg(){$d=!1,Ar!==null&&ra(Ar)&&(Ar=null),qs!==null&&ra(qs)&&(qs=null),Gs!==null&&ra(Gs)&&(Gs=null),Ja.forEach(lu),ws.forEach(lu)}function Ys(a,u){a.blockedOn===u&&(a.blockedOn=null,$d||($d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rg)))}function Ks(a){function u(T){return Ys(T,a)}if(0<wo.length){Ys(wo[0],a);for(var f=1;f<wo.length;f++){var y=wo[f];y.blockedOn===a&&(y.blockedOn=null)}}for(Ar!==null&&Ys(Ar,a),qs!==null&&Ys(qs,a),Gs!==null&&Ys(Gs,a),Ja.forEach(u),ws.forEach(u),f=0;f<To.length;f++)y=To[f],y.blockedOn===a&&(y.blockedOn=null);for(;0<To.length&&(f=To[0],f.blockedOn===null);)ng(f),f.blockedOn===null&&To.shift()}var ia=O.ReactCurrentBatchConfig,Za=!0;function vn(a,u,f,y){var T=St,b=ia.transition;ia.transition=null;try{St=1,zd(a,u,f,y)}finally{St=T,ia.transition=b}}function G0(a,u,f,y){var T=St,b=ia.transition;ia.transition=null;try{St=4,zd(a,u,f,y)}finally{St=T,ia.transition=b}}function zd(a,u,f,y){if(Za){var T=Mc(a,u,f,y);if(T===null)iw(a,u,y,uu,f),tg(a,y);else if(q0(T,a,u,f,y))y.stopPropagation();else if(tg(a,y),u&4&&-1<H0.indexOf(a)){for(;T!==null;){var b=rf(T);if(b!==null&&Qm(b),b=Mc(a,u,f,y),b===null&&iw(a,u,y,uu,f),b===T)break;T=b}T!==null&&y.stopPropagation()}else iw(a,u,y,null,f)}}var uu=null;function Mc(a,u,f,y){if(uu=null,a=Ze(y),a=du(a),a!==null)if(u=lt(a),u===null)a=null;else if(f=u.tag,f===13){if(a=je(u),a!==null)return a;a=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return uu=a,null}function Wd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_n()){case dr:return 1;case vs:return 4;case ci:case Hs:return 16;case hi:return 536870912;default:return 16}default:return 16}}var Ji=null,Lc=null,Ii=null;function Hd(){if(Ii)return Ii;var a,u=Lc,f=u.length,y,T="value"in Ji?Ji.value:Ji.textContent,b=T.length;for(a=0;a<f&&u[a]===T[a];a++);var M=f-a;for(y=1;y<=M&&u[f-y]===T[b-y];y++);return Ii=T.slice(a,1<y?1-y:void 0)}function jc(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Eo(){return!0}function qd(){return!1}function Rr(a){function u(f,y,T,b,M){this._reactName=f,this._targetInst=T,this.type=y,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(f=a[H],this[H]=f?f(b):b[H]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Eo:qd,this.isPropagationStopped=qd,this}return z(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),u}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=Rr(Xs),xo=z({},Xs,{view:0,detail:0}),Y0=Rr(xo),Fc,sa,el,cu=z({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:So,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==el&&(el&&a.type==="mousemove"?(Fc=a.screenX-el.screenX,sa=a.screenY-el.screenY):sa=Fc=0,el=a),Fc)},movementY:function(a){return"movementY"in a?a.movementY:sa}}),Uc=Rr(cu),Gd=z({},cu,{dataTransfer:0}),ig=Rr(Gd),Bc=z({},xo,{relatedTarget:0}),$c=Rr(Bc),sg=z({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=Rr(sg),og=z({},Xs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ag=Rr(og),lg=z({},Xs,{data:0}),Yd=Rr(lg),zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=ug[a])?!!u[a]:!1}function So(){return cg}var m=z({},xo,{key:function(a){if(a.key){var u=zc[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=jc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?fi[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:So,charCode:function(a){return a.type==="keypress"?jc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?jc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),S=Rr(m),I=z({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F=Rr(I),Y=z({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:So}),te=Rr(Y),ge=z({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yt=Rr(ge),ir=z({},cu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),At=Rr(ir),pr=[9,13,27,32],Gn=l&&"CompositionEvent"in window,Ts=null;l&&"documentMode"in document&&(Ts=document.documentMode);var Zi=l&&"TextEvent"in window&&!Ts,hu=l&&(!Gn||Ts&&8<Ts&&11>=Ts),Wc=" ",TI=!1;function EI(a,u){switch(a){case"keyup":return pr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xI(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hc=!1;function a6(a,u){switch(a){case"compositionend":return xI(u);case"keypress":return u.which!==32?null:(TI=!0,Wc);case"textInput":return a=u.data,a===Wc&&TI?null:a;default:return null}}function l6(a,u){if(Hc)return a==="compositionend"||!Gn&&EI(a,u)?(a=Hd(),Ii=Lc=Ji=null,Hc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return hu&&u.locale!=="ko"?null:u.data;default:return null}}var u6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SI(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!u6[a.type]:u==="textarea"}function bI(a,u,f,y){Dt(y),u=mg(u,"onChange"),0<u.length&&(f=new Vc("onChange","change",null,f,y),a.push({event:f,listeners:u}))}var Kd=null,Xd=null;function c6(a){zI(a,0)}function hg(a){var u=Xc(a);if(Ht(u))return a}function h6(a,u){if(a==="change")return u}var CI=!1;if(l){var K0;if(l){var X0="oninput"in document;if(!X0){var II=document.createElement("div");II.setAttribute("oninput","return;"),X0=typeof II.oninput=="function"}K0=X0}else K0=!1;CI=K0&&(!document.documentMode||9<document.documentMode)}function AI(){Kd&&(Kd.detachEvent("onpropertychange",RI),Xd=Kd=null)}function RI(a){if(a.propertyName==="value"&&hg(Xd)){var u=[];bI(u,Xd,a,Ze(a)),Ne(c6,u)}}function d6(a,u,f){a==="focusin"?(AI(),Kd=u,Xd=f,Kd.attachEvent("onpropertychange",RI)):a==="focusout"&&AI()}function f6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return hg(Xd)}function p6(a,u){if(a==="click")return hg(u)}function m6(a,u){if(a==="input"||a==="change")return hg(u)}function g6(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Qs=typeof Object.is=="function"?Object.is:g6;function Qd(a,u){if(Qs(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var f=Object.keys(a),y=Object.keys(u);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var T=f[y];if(!c.call(u,T)||!Qs(a[T],u[T]))return!1}return!0}function PI(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function kI(a,u){var f=PI(a);a=0;for(var y;f;){if(f.nodeType===3){if(y=a+f.textContent.length,a<=u&&y>=u)return{node:f,offset:u-a};a=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=PI(f)}}function NI(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?NI(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function OI(){for(var a=window,u=Ye();u instanceof a.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)a=u.contentWindow;else break;u=Ye(a.document)}return u}function Q0(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function y6(a){var u=OI(),f=a.focusedElem,y=a.selectionRange;if(u!==f&&f&&f.ownerDocument&&NI(f.ownerDocument.documentElement,f)){if(y!==null&&Q0(f)){if(u=y.start,a=y.end,a===void 0&&(a=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(a,f.value.length);else if(a=(u=f.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var T=f.textContent.length,b=Math.min(y.start,T);y=y.end===void 0?b:Math.min(y.end,T),!a.extend&&b>y&&(T=y,y=b,b=T),T=kI(f,b);var M=kI(f,y);T&&M&&(a.rangeCount!==1||a.anchorNode!==T.node||a.anchorOffset!==T.offset||a.focusNode!==M.node||a.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(T.node,T.offset),a.removeAllRanges(),b>y?(a.addRange(u),a.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),a.addRange(u)))}}for(u=[],a=f;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)a=u[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var _6=l&&"documentMode"in document&&11>=document.documentMode,qc=null,J0=null,Jd=null,Z0=!1;function DI(a,u,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Z0||qc==null||qc!==Ye(y)||(y=qc,"selectionStart"in y&&Q0(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Jd&&Qd(Jd,y)||(Jd=y,y=mg(J0,"onSelect"),0<y.length&&(u=new Vc("onSelect","select",null,u,f),a.push({event:u,listeners:y}),u.target=qc)))}function dg(a,u){var f={};return f[a.toLowerCase()]=u.toLowerCase(),f["Webkit"+a]="webkit"+u,f["Moz"+a]="moz"+u,f}var Gc={animationend:dg("Animation","AnimationEnd"),animationiteration:dg("Animation","AnimationIteration"),animationstart:dg("Animation","AnimationStart"),transitionend:dg("Transition","TransitionEnd")},ew={},MI={};l&&(MI=document.createElement("div").style,"AnimationEvent"in window||(delete Gc.animationend.animation,delete Gc.animationiteration.animation,delete Gc.animationstart.animation),"TransitionEvent"in window||delete Gc.transitionend.transition);function fg(a){if(ew[a])return ew[a];if(!Gc[a])return a;var u=Gc[a],f;for(f in u)if(u.hasOwnProperty(f)&&f in MI)return ew[a]=u[f];return a}var LI=fg("animationend"),jI=fg("animationiteration"),VI=fg("animationstart"),FI=fg("transitionend"),UI=new Map,BI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(a,u){UI.set(a,u),s(u,[a])}for(var tw=0;tw<BI.length;tw++){var nw=BI[tw],v6=nw.toLowerCase(),w6=nw[0].toUpperCase()+nw.slice(1);tl(v6,"on"+w6)}tl(LI,"onAnimationEnd"),tl(jI,"onAnimationIteration"),tl(VI,"onAnimationStart"),tl("dblclick","onDoubleClick"),tl("focusin","onFocus"),tl("focusout","onBlur"),tl(FI,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zd));function $I(a,u,f){var y=a.type||"unknown-event";a.currentTarget=f,Ut(y,u,void 0,a),a.currentTarget=null}function zI(a,u){u=(u&4)!==0;for(var f=0;f<a.length;f++){var y=a[f],T=y.event;y=y.listeners;e:{var b=void 0;if(u)for(var M=y.length-1;0<=M;M--){var H=y[M],q=H.instance,J=H.currentTarget;if(H=H.listener,q!==b&&T.isPropagationStopped())break e;$I(T,H,J),b=q}else for(M=0;M<y.length;M++){if(H=y[M],q=H.instance,J=H.currentTarget,H=H.listener,q!==b&&T.isPropagationStopped())break e;$I(T,H,J),b=q}}}if(He)throw a=Gt,He=!1,Gt=null,a}function un(a,u){var f=u[cw];f===void 0&&(f=u[cw]=new Set);var y=a+"__bubble";f.has(y)||(WI(u,a,2,!1),f.add(y))}function rw(a,u,f){var y=0;u&&(y|=4),WI(f,a,y,u)}var pg="_reactListening"+Math.random().toString(36).slice(2);function ef(a){if(!a[pg]){a[pg]=!0,r.forEach(function(f){f!=="selectionchange"&&(T6.has(f)||rw(f,!1,a),rw(f,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[pg]||(u[pg]=!0,rw("selectionchange",!1,u))}}function WI(a,u,f,y){switch(Wd(u)){case 1:var T=vn;break;case 4:T=G0;break;default:T=zd}f=T.bind(null,u,f,a),T=void 0,!me||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),y?T!==void 0?a.addEventListener(u,f,{capture:!0,passive:T}):a.addEventListener(u,f,!0):T!==void 0?a.addEventListener(u,f,{passive:T}):a.addEventListener(u,f,!1)}function iw(a,u,f,y,T){var b=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var M=y.tag;if(M===3||M===4){var H=y.stateNode.containerInfo;if(H===T||H.nodeType===8&&H.parentNode===T)break;if(M===4)for(M=y.return;M!==null;){var q=M.tag;if((q===3||q===4)&&(q=M.stateNode.containerInfo,q===T||q.nodeType===8&&q.parentNode===T))return;M=M.return}for(;H!==null;){if(M=du(H),M===null)return;if(q=M.tag,q===5||q===6){y=b=M;continue e}H=H.parentNode}}y=y.return}Ne(function(){var J=b,ce=Ze(f),de=[];e:{var le=UI.get(a);if(le!==void 0){var we=Vc,Ie=a;switch(a){case"keypress":if(jc(f)===0)break e;case"keydown":case"keyup":we=S;break;case"focusin":Ie="focus",we=$c;break;case"focusout":Ie="blur",we=$c;break;case"beforeblur":case"afterblur":we=$c;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=te;break;case LI:case jI:case VI:we=oa;break;case FI:we=Yt;break;case"scroll":we=Y0;break;case"wheel":we=At;break;case"copy":case"cut":case"paste":we=ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=F}var Re=(u&4)!==0,Un=!Re&&a==="scroll",K=Re?le!==null?le+"Capture":null:le;Re=[];for(var G=J,X;G!==null;){X=G;var pe=X.stateNode;if(X.tag===5&&pe!==null&&(X=pe,K!==null&&(pe=Le(G,K),pe!=null&&Re.push(tf(G,pe,X)))),Un)break;G=G.return}0<Re.length&&(le=new we(le,Ie,null,f,ce),de.push({event:le,listeners:Re}))}}if((u&7)===0){e:{if(le=a==="mouseover"||a==="pointerover",we=a==="mouseout"||a==="pointerout",le&&f!==rr&&(Ie=f.relatedTarget||f.fromElement)&&(du(Ie)||Ie[aa]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Ie=f.relatedTarget||f.toElement,we=J,Ie=Ie?du(Ie):null,Ie!==null&&(Un=lt(Ie),Ie!==Un||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(we=null,Ie=J),we!==Ie)){if(Re=Uc,pe="onMouseLeave",K="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Re=F,pe="onPointerLeave",K="onPointerEnter",G="pointer"),Un=we==null?le:Xc(we),X=Ie==null?le:Xc(Ie),le=new Re(pe,G+"leave",we,f,ce),le.target=Un,le.relatedTarget=X,pe=null,du(ce)===J&&(Re=new Re(K,G+"enter",Ie,f,ce),Re.target=X,Re.relatedTarget=Un,pe=Re),Un=pe,we&&Ie)t:{for(Re=we,K=Ie,G=0,X=Re;X;X=Yc(X))G++;for(X=0,pe=K;pe;pe=Yc(pe))X++;for(;0<G-X;)Re=Yc(Re),G--;for(;0<X-G;)K=Yc(K),X--;for(;G--;){if(Re===K||K!==null&&Re===K.alternate)break t;Re=Yc(Re),K=Yc(K)}Re=null}else Re=null;we!==null&&HI(de,le,we,Re,!1),Ie!==null&&Un!==null&&HI(de,Un,Ie,Re,!0)}}e:{if(le=J?Xc(J):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var ke=h6;else if(SI(le))if(CI)ke=m6;else{ke=f6;var $e=d6}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(ke=p6);if(ke&&(ke=ke(a,J))){bI(de,ke,f,ce);break e}$e&&$e(a,le,J),a==="focusout"&&($e=le._wrapperState)&&$e.controlled&&le.type==="number"&&Nn(le,"number",le.value)}switch($e=J?Xc(J):window,a){case"focusin":(SI($e)||$e.contentEditable==="true")&&(qc=$e,J0=J,Jd=null);break;case"focusout":Jd=J0=qc=null;break;case"mousedown":Z0=!0;break;case"contextmenu":case"mouseup":case"dragend":Z0=!1,DI(de,f,ce);break;case"selectionchange":if(_6)break;case"keydown":case"keyup":DI(de,f,ce)}var ze;if(Gn)e:{switch(a){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Hc?EI(a,f)&&(Qe="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Qe="onCompositionStart");Qe&&(hu&&f.locale!=="ko"&&(Hc||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Hc&&(ze=Hd()):(Ji=ce,Lc="value"in Ji?Ji.value:Ji.textContent,Hc=!0)),$e=mg(J,Qe),0<$e.length&&(Qe=new Yd(Qe,a,null,f,ce),de.push({event:Qe,listeners:$e}),ze?Qe.data=ze:(ze=xI(f),ze!==null&&(Qe.data=ze)))),(ze=Zi?a6(a,f):l6(a,f))&&(J=mg(J,"onBeforeInput"),0<J.length&&(ce=new Yd("onBeforeInput","beforeinput",null,f,ce),de.push({event:ce,listeners:J}),ce.data=ze))}zI(de,u)})}function tf(a,u,f){return{instance:a,listener:u,currentTarget:f}}function mg(a,u){for(var f=u+"Capture",y=[];a!==null;){var T=a,b=T.stateNode;T.tag===5&&b!==null&&(T=b,b=Le(a,f),b!=null&&y.unshift(tf(a,b,T)),b=Le(a,u),b!=null&&y.push(tf(a,b,T))),a=a.return}return y}function Yc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function HI(a,u,f,y,T){for(var b=u._reactName,M=[];f!==null&&f!==y;){var H=f,q=H.alternate,J=H.stateNode;if(q!==null&&q===y)break;H.tag===5&&J!==null&&(H=J,T?(q=Le(f,b),q!=null&&M.unshift(tf(f,q,H))):T||(q=Le(f,b),q!=null&&M.push(tf(f,q,H)))),f=f.return}M.length!==0&&a.push({event:u,listeners:M})}var E6=/\r\n?/g,x6=/\u0000|\uFFFD/g;function qI(a){return(typeof a=="string"?a:""+a).replace(E6,`
`).replace(x6,"")}function gg(a,u,f){if(u=qI(u),qI(a)!==u&&f)throw Error(t(425))}function yg(){}var sw=null,ow=null;function aw(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var lw=typeof setTimeout=="function"?setTimeout:void 0,S6=typeof clearTimeout=="function"?clearTimeout:void 0,GI=typeof Promise=="function"?Promise:void 0,b6=typeof queueMicrotask=="function"?queueMicrotask:typeof GI<"u"?function(a){return GI.resolve(null).then(a).catch(C6)}:lw;function C6(a){setTimeout(function(){throw a})}function uw(a,u){var f=u,y=0;do{var T=f.nextSibling;if(a.removeChild(f),T&&T.nodeType===8)if(f=T.data,f==="/$"){if(y===0){a.removeChild(T),Ks(u);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=T}while(f);Ks(u)}function nl(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function YI(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return a;u--}else f==="/$"&&u++}a=a.previousSibling}return null}var Kc=Math.random().toString(36).slice(2),bo="__reactFiber$"+Kc,nf="__reactProps$"+Kc,aa="__reactContainer$"+Kc,cw="__reactEvents$"+Kc,I6="__reactListeners$"+Kc,A6="__reactHandles$"+Kc;function du(a){var u=a[bo];if(u)return u;for(var f=a.parentNode;f;){if(u=f[aa]||f[bo]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(a=YI(a);a!==null;){if(f=a[bo])return f;a=YI(a)}return u}a=f,f=a.parentNode}return null}function rf(a){return a=a[bo]||a[aa],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Xc(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function _g(a){return a[nf]||null}var hw=[],Qc=-1;function rl(a){return{current:a}}function cn(a){0>Qc||(a.current=hw[Qc],hw[Qc]=null,Qc--)}function on(a,u){Qc++,hw[Qc]=a.current,a.current=u}var il={},Br=rl(il),Ai=rl(!1),fu=il;function Jc(a,u){var f=a.type.contextTypes;if(!f)return il;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var T={},b;for(b in f)T[b]=u[b];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=T),T}function Ri(a){return a=a.childContextTypes,a!=null}function vg(){cn(Ai),cn(Br)}function KI(a,u,f){if(Br.current!==il)throw Error(t(168));on(Br,u),on(Ai,f)}function XI(a,u,f){var y=a.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var T in y)if(!(T in u))throw Error(t(108,Se(a)||"Unknown",T));return z({},f,y)}function wg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||il,fu=Br.current,on(Br,a),on(Ai,Ai.current),!0}function QI(a,u,f){var y=a.stateNode;if(!y)throw Error(t(169));f?(a=XI(a,u,fu),y.__reactInternalMemoizedMergedChildContext=a,cn(Ai),cn(Br),on(Br,a)):cn(Ai),on(Ai,f)}var la=null,Tg=!1,dw=!1;function JI(a){la===null?la=[a]:la.push(a)}function R6(a){Tg=!0,JI(a)}function sl(){if(!dw&&la!==null){dw=!0;var a=0,u=St;try{var f=la;for(St=1;a<f.length;a++){var y=f[a];do y=y(!0);while(y!==null)}la=null,Tg=!1}catch(T){throw la!==null&&(la=la.slice(a+1)),Qt(dr,sl),T}finally{St=u,dw=!1}}return null}var Zc=[],eh=0,Eg=null,xg=0,Es=[],xs=0,pu=null,ua=1,ca="";function mu(a,u){Zc[eh++]=xg,Zc[eh++]=Eg,Eg=a,xg=u}function ZI(a,u,f){Es[xs++]=ua,Es[xs++]=ca,Es[xs++]=pu,pu=a;var y=ua;a=ca;var T=32-di(y)-1;y&=~(1<<T),f+=1;var b=32-di(u)+T;if(30<b){var M=T-T%5;b=(y&(1<<M)-1).toString(32),y>>=M,T-=M,ua=1<<32-di(u)+T|f<<T|y,ca=b+a}else ua=1<<b|f<<T|y,ca=a}function fw(a){a.return!==null&&(mu(a,1),ZI(a,1,0))}function pw(a){for(;a===Eg;)Eg=Zc[--eh],Zc[eh]=null,xg=Zc[--eh],Zc[eh]=null;for(;a===pu;)pu=Es[--xs],Es[xs]=null,ca=Es[--xs],Es[xs]=null,ua=Es[--xs],Es[xs]=null}var es=null,ts=null,wn=!1,Js=null;function eA(a,u){var f=Is(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=a,u=a.deletions,u===null?(a.deletions=[f],a.flags|=16):u.push(f)}function tA(a,u){switch(a.tag){case 5:var f=a.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,es=a,ts=nl(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,es=a,ts=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=pu!==null?{id:ua,overflow:ca}:null,a.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=Is(18,null,null,0),f.stateNode=u,f.return=a,a.child=f,es=a,ts=null,!0):!1;default:return!1}}function mw(a){return(a.mode&1)!==0&&(a.flags&128)===0}function gw(a){if(wn){var u=ts;if(u){var f=u;if(!tA(a,u)){if(mw(a))throw Error(t(418));u=nl(f.nextSibling);var y=es;u&&tA(a,u)?eA(y,f):(a.flags=a.flags&-4097|2,wn=!1,es=a)}}else{if(mw(a))throw Error(t(418));a.flags=a.flags&-4097|2,wn=!1,es=a}}}function nA(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;es=a}function Sg(a){if(a!==es)return!1;if(!wn)return nA(a),wn=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!aw(a.type,a.memoizedProps)),u&&(u=ts)){if(mw(a))throw rA(),Error(t(418));for(;u;)eA(a,u),u=nl(u.nextSibling)}if(nA(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(u===0){ts=nl(a.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}a=a.nextSibling}ts=null}}else ts=es?nl(a.stateNode.nextSibling):null;return!0}function rA(){for(var a=ts;a;)a=nl(a.nextSibling)}function th(){ts=es=null,wn=!1}function yw(a){Js===null?Js=[a]:Js.push(a)}var P6=O.ReactCurrentBatchConfig;function sf(a,u,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var y=f.stateNode}if(!y)throw Error(t(147,a));var T=y,b=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===b?u.ref:(u=function(M){var H=T.refs;M===null?delete H[b]:H[b]=M},u._stringRef=b,u)}if(typeof a!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,a))}return a}function bg(a,u){throw a=Object.prototype.toString.call(u),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function iA(a){var u=a._init;return u(a._payload)}function sA(a){function u(K,G){if(a){var X=K.deletions;X===null?(K.deletions=[G],K.flags|=16):X.push(G)}}function f(K,G){if(!a)return null;for(;G!==null;)u(K,G),G=G.sibling;return null}function y(K,G){for(K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function T(K,G){return K=fl(K,G),K.index=0,K.sibling=null,K}function b(K,G,X){return K.index=X,a?(X=K.alternate,X!==null?(X=X.index,X<G?(K.flags|=2,G):X):(K.flags|=2,G)):(K.flags|=1048576,G)}function M(K){return a&&K.alternate===null&&(K.flags|=2),K}function H(K,G,X,pe){return G===null||G.tag!==6?(G=lT(X,K.mode,pe),G.return=K,G):(G=T(G,X),G.return=K,G)}function q(K,G,X,pe){var ke=X.type;return ke===N?ce(K,G,X.props.children,pe,X.key):G!==null&&(G.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&iA(ke)===G.type)?(pe=T(G,X.props),pe.ref=sf(K,G,X),pe.return=K,pe):(pe=Kg(X.type,X.key,X.props,null,K.mode,pe),pe.ref=sf(K,G,X),pe.return=K,pe)}function J(K,G,X,pe){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=uT(X,K.mode,pe),G.return=K,G):(G=T(G,X.children||[]),G.return=K,G)}function ce(K,G,X,pe,ke){return G===null||G.tag!==7?(G=xu(X,K.mode,pe,ke),G.return=K,G):(G=T(G,X),G.return=K,G)}function de(K,G,X){if(typeof G=="string"&&G!==""||typeof G=="number")return G=lT(""+G,K.mode,X),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return X=Kg(G.type,G.key,G.props,null,K.mode,X),X.ref=sf(K,null,G),X.return=K,X;case $:return G=uT(G,K.mode,X),G.return=K,G;case fe:var pe=G._init;return de(K,pe(G._payload),X)}if(On(G)||ue(G))return G=xu(G,K.mode,X,null),G.return=K,G;bg(K,G)}return null}function le(K,G,X,pe){var ke=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return ke!==null?null:H(K,G,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return X.key===ke?q(K,G,X,pe):null;case $:return X.key===ke?J(K,G,X,pe):null;case fe:return ke=X._init,le(K,G,ke(X._payload),pe)}if(On(X)||ue(X))return ke!==null?null:ce(K,G,X,pe,null);bg(K,X)}return null}function we(K,G,X,pe,ke){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return K=K.get(X)||null,H(G,K,""+pe,ke);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case j:return K=K.get(pe.key===null?X:pe.key)||null,q(G,K,pe,ke);case $:return K=K.get(pe.key===null?X:pe.key)||null,J(G,K,pe,ke);case fe:var $e=pe._init;return we(K,G,X,$e(pe._payload),ke)}if(On(pe)||ue(pe))return K=K.get(X)||null,ce(G,K,pe,ke,null);bg(G,pe)}return null}function Ie(K,G,X,pe){for(var ke=null,$e=null,ze=G,Qe=G=0,yr=null;ze!==null&&Qe<X.length;Qe++){ze.index>Qe?(yr=ze,ze=null):yr=ze.sibling;var Vt=le(K,ze,X[Qe],pe);if(Vt===null){ze===null&&(ze=yr);break}a&&ze&&Vt.alternate===null&&u(K,ze),G=b(Vt,G,Qe),$e===null?ke=Vt:$e.sibling=Vt,$e=Vt,ze=yr}if(Qe===X.length)return f(K,ze),wn&&mu(K,Qe),ke;if(ze===null){for(;Qe<X.length;Qe++)ze=de(K,X[Qe],pe),ze!==null&&(G=b(ze,G,Qe),$e===null?ke=ze:$e.sibling=ze,$e=ze);return wn&&mu(K,Qe),ke}for(ze=y(K,ze);Qe<X.length;Qe++)yr=we(ze,K,Qe,X[Qe],pe),yr!==null&&(a&&yr.alternate!==null&&ze.delete(yr.key===null?Qe:yr.key),G=b(yr,G,Qe),$e===null?ke=yr:$e.sibling=yr,$e=yr);return a&&ze.forEach(function(pl){return u(K,pl)}),wn&&mu(K,Qe),ke}function Re(K,G,X,pe){var ke=ue(X);if(typeof ke!="function")throw Error(t(150));if(X=ke.call(X),X==null)throw Error(t(151));for(var $e=ke=null,ze=G,Qe=G=0,yr=null,Vt=X.next();ze!==null&&!Vt.done;Qe++,Vt=X.next()){ze.index>Qe?(yr=ze,ze=null):yr=ze.sibling;var pl=le(K,ze,Vt.value,pe);if(pl===null){ze===null&&(ze=yr);break}a&&ze&&pl.alternate===null&&u(K,ze),G=b(pl,G,Qe),$e===null?ke=pl:$e.sibling=pl,$e=pl,ze=yr}if(Vt.done)return f(K,ze),wn&&mu(K,Qe),ke;if(ze===null){for(;!Vt.done;Qe++,Vt=X.next())Vt=de(K,Vt.value,pe),Vt!==null&&(G=b(Vt,G,Qe),$e===null?ke=Vt:$e.sibling=Vt,$e=Vt);return wn&&mu(K,Qe),ke}for(ze=y(K,ze);!Vt.done;Qe++,Vt=X.next())Vt=we(ze,K,Qe,Vt.value,pe),Vt!==null&&(a&&Vt.alternate!==null&&ze.delete(Vt.key===null?Qe:Vt.key),G=b(Vt,G,Qe),$e===null?ke=Vt:$e.sibling=Vt,$e=Vt);return a&&ze.forEach(function(uB){return u(K,uB)}),wn&&mu(K,Qe),ke}function Un(K,G,X,pe){if(typeof X=="object"&&X!==null&&X.type===N&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case j:e:{for(var ke=X.key,$e=G;$e!==null;){if($e.key===ke){if(ke=X.type,ke===N){if($e.tag===7){f(K,$e.sibling),G=T($e,X.props.children),G.return=K,K=G;break e}}else if($e.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&iA(ke)===$e.type){f(K,$e.sibling),G=T($e,X.props),G.ref=sf(K,$e,X),G.return=K,K=G;break e}f(K,$e);break}else u(K,$e);$e=$e.sibling}X.type===N?(G=xu(X.props.children,K.mode,pe,X.key),G.return=K,K=G):(pe=Kg(X.type,X.key,X.props,null,K.mode,pe),pe.ref=sf(K,G,X),pe.return=K,K=pe)}return M(K);case $:e:{for($e=X.key;G!==null;){if(G.key===$e)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){f(K,G.sibling),G=T(G,X.children||[]),G.return=K,K=G;break e}else{f(K,G);break}else u(K,G);G=G.sibling}G=uT(X,K.mode,pe),G.return=K,K=G}return M(K);case fe:return $e=X._init,Un(K,G,$e(X._payload),pe)}if(On(X))return Ie(K,G,X,pe);if(ue(X))return Re(K,G,X,pe);bg(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,G!==null&&G.tag===6?(f(K,G.sibling),G=T(G,X),G.return=K,K=G):(f(K,G),G=lT(X,K.mode,pe),G.return=K,K=G),M(K)):f(K,G)}return Un}var nh=sA(!0),oA=sA(!1),Cg=rl(null),Ig=null,rh=null,_w=null;function vw(){_w=rh=Ig=null}function ww(a){var u=Cg.current;cn(Cg),a._currentValue=u}function Tw(a,u,f){for(;a!==null;){var y=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),a===f)break;a=a.return}}function ih(a,u){Ig=a,_w=rh=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Pi=!0),a.firstContext=null)}function Ss(a){var u=a._currentValue;if(_w!==a)if(a={context:a,memoizedValue:u,next:null},rh===null){if(Ig===null)throw Error(t(308));rh=a,Ig.dependencies={lanes:0,firstContext:a}}else rh=rh.next=a;return u}var gu=null;function Ew(a){gu===null?gu=[a]:gu.push(a)}function aA(a,u,f,y){var T=u.interleaved;return T===null?(f.next=f,Ew(u)):(f.next=T.next,T.next=f),u.interleaved=f,ha(a,y)}function ha(a,u){a.lanes|=u;var f=a.alternate;for(f!==null&&(f.lanes|=u),f=a,a=a.return;a!==null;)a.childLanes|=u,f=a.alternate,f!==null&&(f.childLanes|=u),f=a,a=a.return;return f.tag===3?f.stateNode:null}var ol=!1;function xw(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lA(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function da(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function al(a,u,f){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Mt&2)!==0){var T=y.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),y.pending=u,ha(a,f)}return T=y.interleaved,T===null?(u.next=u,Ew(y)):(u.next=T.next,T.next=u),y.interleaved=u,ha(a,f)}function Ag(a,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var y=u.lanes;y&=a.pendingLanes,f|=y,u.lanes=f,Xa(a,f)}}function uA(a,u){var f=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var T=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var M={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};b===null?T=b=M:b=b.next=M,f=f.next}while(f!==null);b===null?T=b=u:b=b.next=u}else T=b=u;f={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:b,shared:y.shared,effects:y.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=u}function Rg(a,u,f,y){var T=a.updateQueue;ol=!1;var b=T.firstBaseUpdate,M=T.lastBaseUpdate,H=T.shared.pending;if(H!==null){T.shared.pending=null;var q=H,J=q.next;q.next=null,M===null?b=J:M.next=J,M=q;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,H=ce.lastBaseUpdate,H!==M&&(H===null?ce.firstBaseUpdate=J:H.next=J,ce.lastBaseUpdate=q))}if(b!==null){var de=T.baseState;M=0,ce=J=q=null,H=b;do{var le=H.lane,we=H.eventTime;if((y&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Ie=a,Re=H;switch(le=u,we=f,Re.tag){case 1:if(Ie=Re.payload,typeof Ie=="function"){de=Ie.call(we,de,le);break e}de=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Re.payload,le=typeof Ie=="function"?Ie.call(we,de,le):Ie,le==null)break e;de=z({},de,le);break e;case 2:ol=!0}}H.callback!==null&&H.lane!==0&&(a.flags|=64,le=T.effects,le===null?T.effects=[H]:le.push(H))}else we={eventTime:we,lane:le,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ce===null?(J=ce=we,q=de):ce=ce.next=we,M|=le;if(H=H.next,H===null){if(H=T.shared.pending,H===null)break;le=H,H=le.next,le.next=null,T.lastBaseUpdate=le,T.shared.pending=null}}while(!0);if(ce===null&&(q=de),T.baseState=q,T.firstBaseUpdate=J,T.lastBaseUpdate=ce,u=T.shared.interleaved,u!==null){T=u;do M|=T.lane,T=T.next;while(T!==u)}else b===null&&(T.shared.lanes=0);vu|=M,a.lanes=M,a.memoizedState=de}}function cA(a,u,f){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var y=a[u],T=y.callback;if(T!==null){if(y.callback=null,y=f,typeof T!="function")throw Error(t(191,T));T.call(y)}}}var of={},Co=rl(of),af=rl(of),lf=rl(of);function yu(a){if(a===of)throw Error(t(174));return a}function Sw(a,u){switch(on(lf,u),on(af,a),on(Co,of),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ke(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Ke(u,a)}cn(Co),on(Co,u)}function sh(){cn(Co),cn(af),cn(lf)}function hA(a){yu(lf.current);var u=yu(Co.current),f=Ke(u,a.type);u!==f&&(on(af,a),on(Co,f))}function bw(a){af.current===a&&(cn(Co),cn(af))}var Sn=rl(0);function Pg(a){for(var u=a;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Cw=[];function Iw(){for(var a=0;a<Cw.length;a++)Cw[a]._workInProgressVersionPrimary=null;Cw.length=0}var kg=O.ReactCurrentDispatcher,Aw=O.ReactCurrentBatchConfig,_u=0,bn=null,sr=null,mr=null,Ng=!1,uf=!1,cf=0,k6=0;function $r(){throw Error(t(321))}function Rw(a,u){if(u===null)return!1;for(var f=0;f<u.length&&f<a.length;f++)if(!Qs(a[f],u[f]))return!1;return!0}function Pw(a,u,f,y,T,b){if(_u=b,bn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,kg.current=a===null||a.memoizedState===null?M6:L6,a=f(y,T),uf){b=0;do{if(uf=!1,cf=0,25<=b)throw Error(t(301));b+=1,mr=sr=null,u.updateQueue=null,kg.current=j6,a=f(y,T)}while(uf)}if(kg.current=Mg,u=sr!==null&&sr.next!==null,_u=0,mr=sr=bn=null,Ng=!1,u)throw Error(t(300));return a}function kw(){var a=cf!==0;return cf=0,a}function Io(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?bn.memoizedState=mr=a:mr=mr.next=a,mr}function bs(){if(sr===null){var a=bn.alternate;a=a!==null?a.memoizedState:null}else a=sr.next;var u=mr===null?bn.memoizedState:mr.next;if(u!==null)mr=u,sr=a;else{if(a===null)throw Error(t(310));sr=a,a={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},mr===null?bn.memoizedState=mr=a:mr=mr.next=a}return mr}function hf(a,u){return typeof u=="function"?u(a):u}function Nw(a){var u=bs(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var y=sr,T=y.baseQueue,b=f.pending;if(b!==null){if(T!==null){var M=T.next;T.next=b.next,b.next=M}y.baseQueue=T=b,f.pending=null}if(T!==null){b=T.next,y=y.baseState;var H=M=null,q=null,J=b;do{var ce=J.lane;if((_u&ce)===ce)q!==null&&(q=q.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),y=J.hasEagerState?J.eagerState:a(y,J.action);else{var de={lane:ce,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};q===null?(H=q=de,M=y):q=q.next=de,bn.lanes|=ce,vu|=ce}J=J.next}while(J!==null&&J!==b);q===null?M=y:q.next=H,Qs(y,u.memoizedState)||(Pi=!0),u.memoizedState=y,u.baseState=M,u.baseQueue=q,f.lastRenderedState=y}if(a=f.interleaved,a!==null){T=a;do b=T.lane,bn.lanes|=b,vu|=b,T=T.next;while(T!==a)}else T===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function Ow(a){var u=bs(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var y=f.dispatch,T=f.pending,b=u.memoizedState;if(T!==null){f.pending=null;var M=T=T.next;do b=a(b,M.action),M=M.next;while(M!==T);Qs(b,u.memoizedState)||(Pi=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),f.lastRenderedState=b}return[b,y]}function dA(){}function fA(a,u){var f=bn,y=bs(),T=u(),b=!Qs(y.memoizedState,T);if(b&&(y.memoizedState=T,Pi=!0),y=y.queue,Dw(gA.bind(null,f,y,a),[a]),y.getSnapshot!==u||b||mr!==null&&mr.memoizedState.tag&1){if(f.flags|=2048,df(9,mA.bind(null,f,y,T,u),void 0,null),gr===null)throw Error(t(349));(_u&30)!==0||pA(f,u,T)}return T}function pA(a,u,f){a.flags|=16384,a={getSnapshot:u,value:f},u=bn.updateQueue,u===null?(u={lastEffect:null,stores:null},bn.updateQueue=u,u.stores=[a]):(f=u.stores,f===null?u.stores=[a]:f.push(a))}function mA(a,u,f,y){u.value=f,u.getSnapshot=y,yA(u)&&_A(a)}function gA(a,u,f){return f(function(){yA(u)&&_A(a)})}function yA(a){var u=a.getSnapshot;a=a.value;try{var f=u();return!Qs(a,f)}catch{return!0}}function _A(a){var u=ha(a,1);u!==null&&no(u,a,1,-1)}function vA(a){var u=Io();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:a},u.queue=a,a=a.dispatch=D6.bind(null,bn,a),[u.memoizedState,a]}function df(a,u,f,y){return a={tag:a,create:u,destroy:f,deps:y,next:null},u=bn.updateQueue,u===null?(u={lastEffect:null,stores:null},bn.updateQueue=u,u.lastEffect=a.next=a):(f=u.lastEffect,f===null?u.lastEffect=a.next=a:(y=f.next,f.next=a,a.next=y,u.lastEffect=a)),a}function wA(){return bs().memoizedState}function Og(a,u,f,y){var T=Io();bn.flags|=a,T.memoizedState=df(1|u,f,void 0,y===void 0?null:y)}function Dg(a,u,f,y){var T=bs();y=y===void 0?null:y;var b=void 0;if(sr!==null){var M=sr.memoizedState;if(b=M.destroy,y!==null&&Rw(y,M.deps)){T.memoizedState=df(u,f,b,y);return}}bn.flags|=a,T.memoizedState=df(1|u,f,b,y)}function TA(a,u){return Og(8390656,8,a,u)}function Dw(a,u){return Dg(2048,8,a,u)}function EA(a,u){return Dg(4,2,a,u)}function xA(a,u){return Dg(4,4,a,u)}function SA(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function bA(a,u,f){return f=f!=null?f.concat([a]):null,Dg(4,4,SA.bind(null,u,a),f)}function Mw(){}function CA(a,u){var f=bs();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&Rw(u,y[1])?y[0]:(f.memoizedState=[a,u],a)}function IA(a,u){var f=bs();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&Rw(u,y[1])?y[0]:(a=a(),f.memoizedState=[a,u],a)}function AA(a,u,f){return(_u&21)===0?(a.baseState&&(a.baseState=!1,Pi=!0),a.memoizedState=f):(Qs(f,u)||(f=au(),bn.lanes|=f,vu|=f,a.baseState=!0),u)}function N6(a,u){var f=St;St=f!==0&&4>f?f:4,a(!0);var y=Aw.transition;Aw.transition={};try{a(!1),u()}finally{St=f,Aw.transition=y}}function RA(){return bs().memoizedState}function O6(a,u,f){var y=hl(a);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},PA(a))kA(u,f);else if(f=aA(a,u,f,y),f!==null){var T=mi();no(f,a,y,T),NA(f,u,y)}}function D6(a,u,f){var y=hl(a),T={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(PA(a))kA(u,T);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer,b!==null))try{var M=u.lastRenderedState,H=b(M,f);if(T.hasEagerState=!0,T.eagerState=H,Qs(H,M)){var q=u.interleaved;q===null?(T.next=T,Ew(u)):(T.next=q.next,q.next=T),u.interleaved=T;return}}catch{}finally{}f=aA(a,u,T,y),f!==null&&(T=mi(),no(f,a,y,T),NA(f,u,y))}}function PA(a){var u=a.alternate;return a===bn||u!==null&&u===bn}function kA(a,u){uf=Ng=!0;var f=a.pending;f===null?u.next=u:(u.next=f.next,f.next=u),a.pending=u}function NA(a,u,f){if((f&4194240)!==0){var y=u.lanes;y&=a.pendingLanes,f|=y,u.lanes=f,Xa(a,f)}}var Mg={readContext:Ss,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},M6={readContext:Ss,useCallback:function(a,u){return Io().memoizedState=[a,u===void 0?null:u],a},useContext:Ss,useEffect:TA,useImperativeHandle:function(a,u,f){return f=f!=null?f.concat([a]):null,Og(4194308,4,SA.bind(null,u,a),f)},useLayoutEffect:function(a,u){return Og(4194308,4,a,u)},useInsertionEffect:function(a,u){return Og(4,2,a,u)},useMemo:function(a,u){var f=Io();return u=u===void 0?null:u,a=a(),f.memoizedState=[a,u],a},useReducer:function(a,u,f){var y=Io();return u=f!==void 0?f(u):u,y.memoizedState=y.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},y.queue=a,a=a.dispatch=O6.bind(null,bn,a),[y.memoizedState,a]},useRef:function(a){var u=Io();return a={current:a},u.memoizedState=a},useState:vA,useDebugValue:Mw,useDeferredValue:function(a){return Io().memoizedState=a},useTransition:function(){var a=vA(!1),u=a[0];return a=N6.bind(null,a[1]),Io().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,f){var y=bn,T=Io();if(wn){if(f===void 0)throw Error(t(407));f=f()}else{if(f=u(),gr===null)throw Error(t(349));(_u&30)!==0||pA(y,u,f)}T.memoizedState=f;var b={value:f,getSnapshot:u};return T.queue=b,TA(gA.bind(null,y,b,a),[a]),y.flags|=2048,df(9,mA.bind(null,y,b,f,u),void 0,null),f},useId:function(){var a=Io(),u=gr.identifierPrefix;if(wn){var f=ca,y=ua;f=(y&~(1<<32-di(y)-1)).toString(32)+f,u=":"+u+"R"+f,f=cf++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=k6++,u=":"+u+"r"+f.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},L6={readContext:Ss,useCallback:CA,useContext:Ss,useEffect:Dw,useImperativeHandle:bA,useInsertionEffect:EA,useLayoutEffect:xA,useMemo:IA,useReducer:Nw,useRef:wA,useState:function(){return Nw(hf)},useDebugValue:Mw,useDeferredValue:function(a){var u=bs();return AA(u,sr.memoizedState,a)},useTransition:function(){var a=Nw(hf)[0],u=bs().memoizedState;return[a,u]},useMutableSource:dA,useSyncExternalStore:fA,useId:RA,unstable_isNewReconciler:!1},j6={readContext:Ss,useCallback:CA,useContext:Ss,useEffect:Dw,useImperativeHandle:bA,useInsertionEffect:EA,useLayoutEffect:xA,useMemo:IA,useReducer:Ow,useRef:wA,useState:function(){return Ow(hf)},useDebugValue:Mw,useDeferredValue:function(a){var u=bs();return sr===null?u.memoizedState=a:AA(u,sr.memoizedState,a)},useTransition:function(){var a=Ow(hf)[0],u=bs().memoizedState;return[a,u]},useMutableSource:dA,useSyncExternalStore:fA,useId:RA,unstable_isNewReconciler:!1};function Zs(a,u){if(a&&a.defaultProps){u=z({},u),a=a.defaultProps;for(var f in a)u[f]===void 0&&(u[f]=a[f]);return u}return u}function Lw(a,u,f,y){u=a.memoizedState,f=f(y,u),f=f==null?u:z({},u,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Lg={isMounted:function(a){return(a=a._reactInternals)?lt(a)===a:!1},enqueueSetState:function(a,u,f){a=a._reactInternals;var y=mi(),T=hl(a),b=da(y,T);b.payload=u,f!=null&&(b.callback=f),u=al(a,b,T),u!==null&&(no(u,a,T,y),Ag(u,a,T))},enqueueReplaceState:function(a,u,f){a=a._reactInternals;var y=mi(),T=hl(a),b=da(y,T);b.tag=1,b.payload=u,f!=null&&(b.callback=f),u=al(a,b,T),u!==null&&(no(u,a,T,y),Ag(u,a,T))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var f=mi(),y=hl(a),T=da(f,y);T.tag=2,u!=null&&(T.callback=u),u=al(a,T,y),u!==null&&(no(u,a,y,f),Ag(u,a,y))}};function OA(a,u,f,y,T,b,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,b,M):u.prototype&&u.prototype.isPureReactComponent?!Qd(f,y)||!Qd(T,b):!0}function DA(a,u,f){var y=!1,T=il,b=u.contextType;return typeof b=="object"&&b!==null?b=Ss(b):(T=Ri(u)?fu:Br.current,y=u.contextTypes,b=(y=y!=null)?Jc(a,T):il),u=new u(f,b),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lg,a.stateNode=u,u._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=T,a.__reactInternalMemoizedMaskedChildContext=b),u}function MA(a,u,f,y){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,y),u.state!==a&&Lg.enqueueReplaceState(u,u.state,null)}function jw(a,u,f,y){var T=a.stateNode;T.props=f,T.state=a.memoizedState,T.refs={},xw(a);var b=u.contextType;typeof b=="object"&&b!==null?T.context=Ss(b):(b=Ri(u)?fu:Br.current,T.context=Jc(a,b)),T.state=a.memoizedState,b=u.getDerivedStateFromProps,typeof b=="function"&&(Lw(a,u,b,f),T.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(u=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),u!==T.state&&Lg.enqueueReplaceState(T,T.state,null),Rg(a,f,T,y),T.state=a.memoizedState),typeof T.componentDidMount=="function"&&(a.flags|=4194308)}function oh(a,u){try{var f="",y=u;do f+=xe(y),y=y.return;while(y);var T=f}catch(b){T=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:u,stack:T,digest:null}}function Vw(a,u,f){return{value:a,source:null,stack:f??null,digest:u??null}}function Fw(a,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var V6=typeof WeakMap=="function"?WeakMap:Map;function LA(a,u,f){f=da(-1,f),f.tag=3,f.payload={element:null};var y=u.value;return f.callback=function(){zg||(zg=!0,eT=y),Fw(a,u)},f}function jA(a,u,f){f=da(-1,f),f.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var T=u.value;f.payload=function(){return y(T)},f.callback=function(){Fw(a,u)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(f.callback=function(){Fw(a,u),typeof y!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),f}function VA(a,u,f){var y=a.pingCache;if(y===null){y=a.pingCache=new V6;var T=new Set;y.set(u,T)}else T=y.get(u),T===void 0&&(T=new Set,y.set(u,T));T.has(f)||(T.add(f),a=J6.bind(null,a,u,f),u.then(a,a))}function FA(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function UA(a,u,f,y,T){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=da(-1,1),u.tag=2,al(f,u,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=T,a)}var F6=O.ReactCurrentOwner,Pi=!1;function pi(a,u,f,y){u.child=a===null?oA(u,null,f,y):nh(u,a.child,f,y)}function BA(a,u,f,y,T){f=f.render;var b=u.ref;return ih(u,T),y=Pw(a,u,f,y,b,T),f=kw(),a!==null&&!Pi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~T,fa(a,u,T)):(wn&&f&&fw(u),u.flags|=1,pi(a,u,y,T),u.child)}function $A(a,u,f,y,T){if(a===null){var b=f.type;return typeof b=="function"&&!aT(b)&&b.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=b,zA(a,u,b,y,T)):(a=Kg(f.type,null,y,u,u.mode,T),a.ref=u.ref,a.return=u,u.child=a)}if(b=a.child,(a.lanes&T)===0){var M=b.memoizedProps;if(f=f.compare,f=f!==null?f:Qd,f(M,y)&&a.ref===u.ref)return fa(a,u,T)}return u.flags|=1,a=fl(b,y),a.ref=u.ref,a.return=u,u.child=a}function zA(a,u,f,y,T){if(a!==null){var b=a.memoizedProps;if(Qd(b,y)&&a.ref===u.ref)if(Pi=!1,u.pendingProps=y=b,(a.lanes&T)!==0)(a.flags&131072)!==0&&(Pi=!0);else return u.lanes=a.lanes,fa(a,u,T)}return Uw(a,u,f,y,T)}function WA(a,u,f){var y=u.pendingProps,T=y.children,b=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(lh,ns),ns|=f;else{if((f&1073741824)===0)return a=b!==null?b.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,on(lh,ns),ns|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=b!==null?b.baseLanes:f,on(lh,ns),ns|=y}else b!==null?(y=b.baseLanes|f,u.memoizedState=null):y=f,on(lh,ns),ns|=y;return pi(a,u,T,f),u.child}function HA(a,u){var f=u.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function Uw(a,u,f,y,T){var b=Ri(f)?fu:Br.current;return b=Jc(u,b),ih(u,T),f=Pw(a,u,f,y,b,T),y=kw(),a!==null&&!Pi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~T,fa(a,u,T)):(wn&&y&&fw(u),u.flags|=1,pi(a,u,f,T),u.child)}function qA(a,u,f,y,T){if(Ri(f)){var b=!0;wg(u)}else b=!1;if(ih(u,T),u.stateNode===null)Vg(a,u),DA(u,f,y),jw(u,f,y,T),y=!0;else if(a===null){var M=u.stateNode,H=u.memoizedProps;M.props=H;var q=M.context,J=f.contextType;typeof J=="object"&&J!==null?J=Ss(J):(J=Ri(f)?fu:Br.current,J=Jc(u,J));var ce=f.getDerivedStateFromProps,de=typeof ce=="function"||typeof M.getSnapshotBeforeUpdate=="function";de||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==y||q!==J)&&MA(u,M,y,J),ol=!1;var le=u.memoizedState;M.state=le,Rg(u,y,M,T),q=u.memoizedState,H!==y||le!==q||Ai.current||ol?(typeof ce=="function"&&(Lw(u,f,ce,y),q=u.memoizedState),(H=ol||OA(u,f,H,y,le,q,J))?(de||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=q),M.props=y,M.state=q,M.context=J,y=H):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{M=u.stateNode,lA(a,u),H=u.memoizedProps,J=u.type===u.elementType?H:Zs(u.type,H),M.props=J,de=u.pendingProps,le=M.context,q=f.contextType,typeof q=="object"&&q!==null?q=Ss(q):(q=Ri(f)?fu:Br.current,q=Jc(u,q));var we=f.getDerivedStateFromProps;(ce=typeof we=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==de||le!==q)&&MA(u,M,y,q),ol=!1,le=u.memoizedState,M.state=le,Rg(u,y,M,T);var Ie=u.memoizedState;H!==de||le!==Ie||Ai.current||ol?(typeof we=="function"&&(Lw(u,f,we,y),Ie=u.memoizedState),(J=ol||OA(u,f,J,y,le,Ie,q)||!1)?(ce||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,Ie,q),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,Ie,q)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&le===a.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&le===a.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ie),M.props=y,M.state=Ie,M.context=q,y=J):(typeof M.componentDidUpdate!="function"||H===a.memoizedProps&&le===a.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&le===a.memoizedState||(u.flags|=1024),y=!1)}return Bw(a,u,f,y,b,T)}function Bw(a,u,f,y,T,b){HA(a,u);var M=(u.flags&128)!==0;if(!y&&!M)return T&&QI(u,f,!1),fa(a,u,b);y=u.stateNode,F6.current=u;var H=M&&typeof f.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,a!==null&&M?(u.child=nh(u,a.child,null,b),u.child=nh(u,null,H,b)):pi(a,u,H,b),u.memoizedState=y.state,T&&QI(u,f,!0),u.child}function GA(a){var u=a.stateNode;u.pendingContext?KI(a,u.pendingContext,u.pendingContext!==u.context):u.context&&KI(a,u.context,!1),Sw(a,u.containerInfo)}function YA(a,u,f,y,T){return th(),yw(T),u.flags|=256,pi(a,u,f,y),u.child}var $w={dehydrated:null,treeContext:null,retryLane:0};function zw(a){return{baseLanes:a,cachePool:null,transitions:null}}function KA(a,u,f){var y=u.pendingProps,T=Sn.current,b=!1,M=(u.flags&128)!==0,H;if((H=M)||(H=a!==null&&a.memoizedState===null?!1:(T&2)!==0),H?(b=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(T|=1),on(Sn,T&1),a===null)return gw(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(M=y.children,a=y.fallback,b?(y=u.mode,b=u.child,M={mode:"hidden",children:M},(y&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=M):b=Xg(M,y,0,null),a=xu(a,y,f,null),b.return=u,a.return=u,b.sibling=a,u.child=b,u.child.memoizedState=zw(f),u.memoizedState=$w,a):Ww(u,M));if(T=a.memoizedState,T!==null&&(H=T.dehydrated,H!==null))return U6(a,u,M,y,H,T,f);if(b){b=y.fallback,M=u.mode,T=a.child,H=T.sibling;var q={mode:"hidden",children:y.children};return(M&1)===0&&u.child!==T?(y=u.child,y.childLanes=0,y.pendingProps=q,u.deletions=null):(y=fl(T,q),y.subtreeFlags=T.subtreeFlags&14680064),H!==null?b=fl(H,b):(b=xu(b,M,f,null),b.flags|=2),b.return=u,y.return=u,y.sibling=b,u.child=y,y=b,b=u.child,M=a.child.memoizedState,M=M===null?zw(f):{baseLanes:M.baseLanes|f,cachePool:null,transitions:M.transitions},b.memoizedState=M,b.childLanes=a.childLanes&~f,u.memoizedState=$w,y}return b=a.child,a=b.sibling,y=fl(b,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=f),y.return=u,y.sibling=null,a!==null&&(f=u.deletions,f===null?(u.deletions=[a],u.flags|=16):f.push(a)),u.child=y,u.memoizedState=null,y}function Ww(a,u){return u=Xg({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function jg(a,u,f,y){return y!==null&&yw(y),nh(u,a.child,null,f),a=Ww(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function U6(a,u,f,y,T,b,M){if(f)return u.flags&256?(u.flags&=-257,y=Vw(Error(t(422))),jg(a,u,M,y)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(b=y.fallback,T=u.mode,y=Xg({mode:"visible",children:y.children},T,0,null),b=xu(b,T,M,null),b.flags|=2,y.return=u,b.return=u,y.sibling=b,u.child=y,(u.mode&1)!==0&&nh(u,a.child,null,M),u.child.memoizedState=zw(M),u.memoizedState=$w,b);if((u.mode&1)===0)return jg(a,u,M,null);if(T.data==="$!"){if(y=T.nextSibling&&T.nextSibling.dataset,y)var H=y.dgst;return y=H,b=Error(t(419)),y=Vw(b,y,void 0),jg(a,u,M,y)}if(H=(M&a.childLanes)!==0,Pi||H){if(y=gr,y!==null){switch(M&-M){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(y.suspendedLanes|M))!==0?0:T,T!==0&&T!==b.retryLane&&(b.retryLane=T,ha(a,T),no(y,a,T,-1))}return oT(),y=Vw(Error(t(421))),jg(a,u,M,y)}return T.data==="$?"?(u.flags|=128,u.child=a.child,u=Z6.bind(null,a),T._reactRetry=u,null):(a=b.treeContext,ts=nl(T.nextSibling),es=u,wn=!0,Js=null,a!==null&&(Es[xs++]=ua,Es[xs++]=ca,Es[xs++]=pu,ua=a.id,ca=a.overflow,pu=u),u=Ww(u,y.children),u.flags|=4096,u)}function XA(a,u,f){a.lanes|=u;var y=a.alternate;y!==null&&(y.lanes|=u),Tw(a.return,u,f)}function Hw(a,u,f,y,T){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:T}:(b.isBackwards=u,b.rendering=null,b.renderingStartTime=0,b.last=y,b.tail=f,b.tailMode=T)}function QA(a,u,f){var y=u.pendingProps,T=y.revealOrder,b=y.tail;if(pi(a,u,y.children,f),y=Sn.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&XA(a,f,u);else if(a.tag===19)XA(a,f,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(on(Sn,y),(u.mode&1)===0)u.memoizedState=null;else switch(T){case"forwards":for(f=u.child,T=null;f!==null;)a=f.alternate,a!==null&&Pg(a)===null&&(T=f),f=f.sibling;f=T,f===null?(T=u.child,u.child=null):(T=f.sibling,f.sibling=null),Hw(u,!1,T,f,b);break;case"backwards":for(f=null,T=u.child,u.child=null;T!==null;){if(a=T.alternate,a!==null&&Pg(a)===null){u.child=T;break}a=T.sibling,T.sibling=f,f=T,T=a}Hw(u,!0,f,null,b);break;case"together":Hw(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Vg(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function fa(a,u,f){if(a!==null&&(u.dependencies=a.dependencies),vu|=u.lanes,(f&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(t(153));if(u.child!==null){for(a=u.child,f=fl(a,a.pendingProps),u.child=f,f.return=u;a.sibling!==null;)a=a.sibling,f=f.sibling=fl(a,a.pendingProps),f.return=u;f.sibling=null}return u.child}function B6(a,u,f){switch(u.tag){case 3:GA(u),th();break;case 5:hA(u);break;case 1:Ri(u.type)&&wg(u);break;case 4:Sw(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,T=u.memoizedProps.value;on(Cg,y._currentValue),y._currentValue=T;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(on(Sn,Sn.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?KA(a,u,f):(on(Sn,Sn.current&1),a=fa(a,u,f),a!==null?a.sibling:null);on(Sn,Sn.current&1);break;case 19:if(y=(f&u.childLanes)!==0,(a.flags&128)!==0){if(y)return QA(a,u,f);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),on(Sn,Sn.current),y)break;return null;case 22:case 23:return u.lanes=0,WA(a,u,f)}return fa(a,u,f)}var JA,qw,ZA,eR;JA=function(a,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},qw=function(){},ZA=function(a,u,f,y){var T=a.memoizedProps;if(T!==y){a=u.stateNode,yu(Co.current);var b=null;switch(f){case"input":T=We(a,T),y=We(a,y),b=[];break;case"select":T=z({},T,{value:void 0}),y=z({},y,{value:void 0}),b=[];break;case"textarea":T=st(a,T),y=st(a,y),b=[];break;default:typeof T.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=yg)}ui(f,y);var M;f=null;for(J in T)if(!y.hasOwnProperty(J)&&T.hasOwnProperty(J)&&T[J]!=null)if(J==="style"){var H=T[J];for(M in H)H.hasOwnProperty(M)&&(f||(f={}),f[M]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?b||(b=[]):(b=b||[]).push(J,null));for(J in y){var q=y[J];if(H=T!=null?T[J]:void 0,y.hasOwnProperty(J)&&q!==H&&(q!=null||H!=null))if(J==="style")if(H){for(M in H)!H.hasOwnProperty(M)||q&&q.hasOwnProperty(M)||(f||(f={}),f[M]="");for(M in q)q.hasOwnProperty(M)&&H[M]!==q[M]&&(f||(f={}),f[M]=q[M])}else f||(b||(b=[]),b.push(J,f)),f=q;else J==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,H=H?H.__html:void 0,q!=null&&H!==q&&(b=b||[]).push(J,q)):J==="children"?typeof q!="string"&&typeof q!="number"||(b=b||[]).push(J,""+q):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(q!=null&&J==="onScroll"&&un("scroll",a),b||H===q||(b=[])):(b=b||[]).push(J,q))}f&&(b=b||[]).push("style",f);var J=b;(u.updateQueue=J)&&(u.flags|=4)}},eR=function(a,u,f,y){f!==y&&(u.flags|=4)};function ff(a,u){if(!wn)switch(a.tailMode){case"hidden":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function zr(a){var u=a.alternate!==null&&a.alternate.child===a.child,f=0,y=0;if(u)for(var T=a.child;T!==null;)f|=T.lanes|T.childLanes,y|=T.subtreeFlags&14680064,y|=T.flags&14680064,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)f|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=y,a.childLanes=f,u}function $6(a,u,f){var y=u.pendingProps;switch(pw(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(u),null;case 1:return Ri(u.type)&&vg(),zr(u),null;case 3:return y=u.stateNode,sh(),cn(Ai),cn(Br),Iw(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(Sg(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Js!==null&&(rT(Js),Js=null))),qw(a,u),zr(u),null;case 5:bw(u);var T=yu(lf.current);if(f=u.type,a!==null&&u.stateNode!=null)ZA(a,u,f,y,T),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(t(166));return zr(u),null}if(a=yu(Co.current),Sg(u)){y=u.stateNode,f=u.type;var b=u.memoizedProps;switch(y[bo]=u,y[nf]=b,a=(u.mode&1)!==0,f){case"dialog":un("cancel",y),un("close",y);break;case"iframe":case"object":case"embed":un("load",y);break;case"video":case"audio":for(T=0;T<Zd.length;T++)un(Zd[T],y);break;case"source":un("error",y);break;case"img":case"image":case"link":un("error",y),un("load",y);break;case"details":un("toggle",y);break;case"input":Nt(y,b),un("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!b.multiple},un("invalid",y);break;case"textarea":It(y,b),un("invalid",y)}ui(f,b),T=null;for(var M in b)if(b.hasOwnProperty(M)){var H=b[M];M==="children"?typeof H=="string"?y.textContent!==H&&(b.suppressHydrationWarning!==!0&&gg(y.textContent,H,a),T=["children",H]):typeof H=="number"&&y.textContent!==""+H&&(b.suppressHydrationWarning!==!0&&gg(y.textContent,H,a),T=["children",""+H]):i.hasOwnProperty(M)&&H!=null&&M==="onScroll"&&un("scroll",y)}switch(f){case"input":Ft(y),mn(y,b,!0);break;case"textarea":Ft(y),ut(y);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(y.onclick=yg)}y=T,u.updateQueue=y,y!==null&&(u.flags|=4)}else{M=T.nodeType===9?T:T.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=_t(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=M.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=M.createElement(f,{is:y.is}):(a=M.createElement(f),f==="select"&&(M=a,y.multiple?M.multiple=!0:y.size&&(M.size=y.size))):a=M.createElementNS(a,f),a[bo]=u,a[nf]=y,JA(a,u,!1,!1),u.stateNode=a;e:{switch(M=br(f,y),f){case"dialog":un("cancel",a),un("close",a),T=y;break;case"iframe":case"object":case"embed":un("load",a),T=y;break;case"video":case"audio":for(T=0;T<Zd.length;T++)un(Zd[T],a);T=y;break;case"source":un("error",a),T=y;break;case"img":case"image":case"link":un("error",a),un("load",a),T=y;break;case"details":un("toggle",a),T=y;break;case"input":Nt(a,y),T=We(a,y),un("invalid",a);break;case"option":T=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},T=z({},y,{value:void 0}),un("invalid",a);break;case"textarea":It(a,y),T=st(a,y),un("invalid",a);break;default:T=y}ui(f,T),H=T;for(b in H)if(H.hasOwnProperty(b)){var q=H[b];b==="style"?Dn(a,q):b==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&rn(a,q)):b==="children"?typeof q=="string"?(f!=="textarea"||q!=="")&&Lt(a,q):typeof q=="number"&&Lt(a,""+q):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?q!=null&&b==="onScroll"&&un("scroll",a):q!=null&&L(a,b,q,M))}switch(f){case"input":Ft(a),mn(a,y,!1);break;case"textarea":Ft(a),ut(a);break;case"option":y.value!=null&&a.setAttribute("value",""+Me(y.value));break;case"select":a.multiple=!!y.multiple,b=y.value,b!=null?he(a,!!y.multiple,b,!1):y.defaultValue!=null&&he(a,!!y.multiple,y.defaultValue,!0);break;default:typeof T.onClick=="function"&&(a.onclick=yg)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return zr(u),null;case 6:if(a&&u.stateNode!=null)eR(a,u,a.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(t(166));if(f=yu(lf.current),yu(Co.current),Sg(u)){if(y=u.stateNode,f=u.memoizedProps,y[bo]=u,(b=y.nodeValue!==f)&&(a=es,a!==null))switch(a.tag){case 3:gg(y.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&gg(y.nodeValue,f,(a.mode&1)!==0)}b&&(u.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[bo]=u,u.stateNode=y}return zr(u),null;case 13:if(cn(Sn),y=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(wn&&ts!==null&&(u.mode&1)!==0&&(u.flags&128)===0)rA(),th(),u.flags|=98560,b=!1;else if(b=Sg(u),y!==null&&y.dehydrated!==null){if(a===null){if(!b)throw Error(t(318));if(b=u.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));b[bo]=u}else th(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;zr(u),b=!1}else Js!==null&&(rT(Js),Js=null),b=!0;if(!b)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(Sn.current&1)!==0?or===0&&(or=3):oT())),u.updateQueue!==null&&(u.flags|=4),zr(u),null);case 4:return sh(),qw(a,u),a===null&&ef(u.stateNode.containerInfo),zr(u),null;case 10:return ww(u.type._context),zr(u),null;case 17:return Ri(u.type)&&vg(),zr(u),null;case 19:if(cn(Sn),b=u.memoizedState,b===null)return zr(u),null;if(y=(u.flags&128)!==0,M=b.rendering,M===null)if(y)ff(b,!1);else{if(or!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(M=Pg(a),M!==null){for(u.flags|=128,ff(b,!1),y=M.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=f,f=u.child;f!==null;)b=f,a=y,b.flags&=14680066,M=b.alternate,M===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=M.childLanes,b.lanes=M.lanes,b.child=M.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=M.memoizedProps,b.memoizedState=M.memoizedState,b.updateQueue=M.updateQueue,b.type=M.type,a=M.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return on(Sn,Sn.current&1|2),u.child}a=a.sibling}b.tail!==null&&rt()>uh&&(u.flags|=128,y=!0,ff(b,!1),u.lanes=4194304)}else{if(!y)if(a=Pg(M),a!==null){if(u.flags|=128,y=!0,f=a.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),ff(b,!0),b.tail===null&&b.tailMode==="hidden"&&!M.alternate&&!wn)return zr(u),null}else 2*rt()-b.renderingStartTime>uh&&f!==1073741824&&(u.flags|=128,y=!0,ff(b,!1),u.lanes=4194304);b.isBackwards?(M.sibling=u.child,u.child=M):(f=b.last,f!==null?f.sibling=M:u.child=M,b.last=M)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=rt(),u.sibling=null,f=Sn.current,on(Sn,y?f&1|2:f&1),u):(zr(u),null);case 22:case 23:return sT(),y=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(ns&1073741824)!==0&&(zr(u),u.subtreeFlags&6&&(u.flags|=8192)):zr(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function z6(a,u){switch(pw(u),u.tag){case 1:return Ri(u.type)&&vg(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return sh(),cn(Ai),cn(Br),Iw(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return bw(u),null;case 13:if(cn(Sn),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(t(340));th()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return cn(Sn),null;case 4:return sh(),null;case 10:return ww(u.type._context),null;case 22:case 23:return sT(),null;case 24:return null;default:return null}}var Fg=!1,Wr=!1,W6=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ah(a,u){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){Ln(a,u,y)}else f.current=null}function Gw(a,u,f){try{f()}catch(y){Ln(a,u,y)}}var tR=!1;function H6(a,u){if(sw=Za,a=OI(),Q0(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var T=y.anchorOffset,b=y.focusNode;y=y.focusOffset;try{f.nodeType,b.nodeType}catch{f=null;break e}var M=0,H=-1,q=-1,J=0,ce=0,de=a,le=null;t:for(;;){for(var we;de!==f||T!==0&&de.nodeType!==3||(H=M+T),de!==b||y!==0&&de.nodeType!==3||(q=M+y),de.nodeType===3&&(M+=de.nodeValue.length),(we=de.firstChild)!==null;)le=de,de=we;for(;;){if(de===a)break t;if(le===f&&++J===T&&(H=M),le===b&&++ce===y&&(q=M),(we=de.nextSibling)!==null)break;de=le,le=de.parentNode}de=we}f=H===-1||q===-1?null:{start:H,end:q}}else f=null}f=f||{start:0,end:0}}else f=null;for(ow={focusedElem:a,selectionRange:f},Za=!1,Ee=u;Ee!==null;)if(u=Ee,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Ee=a;else for(;Ee!==null;){u=Ee;try{var Ie=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Re=Ie.memoizedProps,Un=Ie.memoizedState,K=u.stateNode,G=K.getSnapshotBeforeUpdate(u.elementType===u.type?Re:Zs(u.type,Re),Un);K.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var X=u.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Ln(u,u.return,pe)}if(a=u.sibling,a!==null){a.return=u.return,Ee=a;break}Ee=u.return}return Ie=tR,tR=!1,Ie}function pf(a,u,f){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var T=y=y.next;do{if((T.tag&a)===a){var b=T.destroy;T.destroy=void 0,b!==void 0&&Gw(u,f,b)}T=T.next}while(T!==y)}}function Ug(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&a)===a){var y=f.create;f.destroy=y()}f=f.next}while(f!==u)}}function Yw(a){var u=a.ref;if(u!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof u=="function"?u(a):u.current=a}}function nR(a){var u=a.alternate;u!==null&&(a.alternate=null,nR(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[bo],delete u[nf],delete u[cw],delete u[I6],delete u[A6])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function rR(a){return a.tag===5||a.tag===3||a.tag===4}function iR(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||rR(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Kw(a,u,f){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(a,u):f.insertBefore(a,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(a,f)):(u=f,u.appendChild(a)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=yg));else if(y!==4&&(a=a.child,a!==null))for(Kw(a,u,f),a=a.sibling;a!==null;)Kw(a,u,f),a=a.sibling}function Xw(a,u,f){var y=a.tag;if(y===5||y===6)a=a.stateNode,u?f.insertBefore(a,u):f.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(Xw(a,u,f),a=a.sibling;a!==null;)Xw(a,u,f),a=a.sibling}var Pr=null,eo=!1;function ll(a,u,f){for(f=f.child;f!==null;)sR(a,u,f),f=f.sibling}function sR(a,u,f){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Ki,f)}catch{}switch(f.tag){case 5:Wr||ah(f,u);case 6:var y=Pr,T=eo;Pr=null,ll(a,u,f),Pr=y,eo=T,Pr!==null&&(eo?(a=Pr,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Pr.removeChild(f.stateNode));break;case 18:Pr!==null&&(eo?(a=Pr,f=f.stateNode,a.nodeType===8?uw(a.parentNode,f):a.nodeType===1&&uw(a,f),Ks(a)):uw(Pr,f.stateNode));break;case 4:y=Pr,T=eo,Pr=f.stateNode.containerInfo,eo=!0,ll(a,u,f),Pr=y,eo=T;break;case 0:case 11:case 14:case 15:if(!Wr&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){T=y=y.next;do{var b=T,M=b.destroy;b=b.tag,M!==void 0&&((b&2)!==0||(b&4)!==0)&&Gw(f,u,M),T=T.next}while(T!==y)}ll(a,u,f);break;case 1:if(!Wr&&(ah(f,u),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(H){Ln(f,u,H)}ll(a,u,f);break;case 21:ll(a,u,f);break;case 22:f.mode&1?(Wr=(y=Wr)||f.memoizedState!==null,ll(a,u,f),Wr=y):ll(a,u,f);break;default:ll(a,u,f)}}function oR(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new W6),u.forEach(function(y){var T=eB.bind(null,a,y);f.has(y)||(f.add(y),y.then(T,T))})}}function to(a,u){var f=u.deletions;if(f!==null)for(var y=0;y<f.length;y++){var T=f[y];try{var b=a,M=u,H=M;e:for(;H!==null;){switch(H.tag){case 5:Pr=H.stateNode,eo=!1;break e;case 3:Pr=H.stateNode.containerInfo,eo=!0;break e;case 4:Pr=H.stateNode.containerInfo,eo=!0;break e}H=H.return}if(Pr===null)throw Error(t(160));sR(b,M,T),Pr=null,eo=!1;var q=T.alternate;q!==null&&(q.return=null),T.return=null}catch(J){Ln(T,u,J)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)aR(u,a),u=u.sibling}function aR(a,u){var f=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(to(u,a),Ao(a),y&4){try{pf(3,a,a.return),Ug(3,a)}catch(Re){Ln(a,a.return,Re)}try{pf(5,a,a.return)}catch(Re){Ln(a,a.return,Re)}}break;case 1:to(u,a),Ao(a),y&512&&f!==null&&ah(f,f.return);break;case 5:if(to(u,a),Ao(a),y&512&&f!==null&&ah(f,f.return),a.flags&32){var T=a.stateNode;try{Lt(T,"")}catch(Re){Ln(a,a.return,Re)}}if(y&4&&(T=a.stateNode,T!=null)){var b=a.memoizedProps,M=f!==null?f.memoizedProps:b,H=a.type,q=a.updateQueue;if(a.updateQueue=null,q!==null)try{H==="input"&&b.type==="radio"&&b.name!=null&&xt(T,b),br(H,M);var J=br(H,b);for(M=0;M<q.length;M+=2){var ce=q[M],de=q[M+1];ce==="style"?Dn(T,de):ce==="dangerouslySetInnerHTML"?rn(T,de):ce==="children"?Lt(T,de):L(T,ce,de,J)}switch(H){case"input":Z(T,b);break;case"textarea":Zt(T,b);break;case"select":var le=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!b.multiple;var we=b.value;we!=null?he(T,!!b.multiple,we,!1):le!==!!b.multiple&&(b.defaultValue!=null?he(T,!!b.multiple,b.defaultValue,!0):he(T,!!b.multiple,b.multiple?[]:"",!1))}T[nf]=b}catch(Re){Ln(a,a.return,Re)}}break;case 6:if(to(u,a),Ao(a),y&4){if(a.stateNode===null)throw Error(t(162));T=a.stateNode,b=a.memoizedProps;try{T.nodeValue=b}catch(Re){Ln(a,a.return,Re)}}break;case 3:if(to(u,a),Ao(a),y&4&&f!==null&&f.memoizedState.isDehydrated)try{Ks(u.containerInfo)}catch(Re){Ln(a,a.return,Re)}break;case 4:to(u,a),Ao(a);break;case 13:to(u,a),Ao(a),T=a.child,T.flags&8192&&(b=T.memoizedState!==null,T.stateNode.isHidden=b,!b||T.alternate!==null&&T.alternate.memoizedState!==null||(Zw=rt())),y&4&&oR(a);break;case 22:if(ce=f!==null&&f.memoizedState!==null,a.mode&1?(Wr=(J=Wr)||ce,to(u,a),Wr=J):to(u,a),Ao(a),y&8192){if(J=a.memoizedState!==null,(a.stateNode.isHidden=J)&&!ce&&(a.mode&1)!==0)for(Ee=a,ce=a.child;ce!==null;){for(de=Ee=ce;Ee!==null;){switch(le=Ee,we=le.child,le.tag){case 0:case 11:case 14:case 15:pf(4,le,le.return);break;case 1:ah(le,le.return);var Ie=le.stateNode;if(typeof Ie.componentWillUnmount=="function"){y=le,f=le.return;try{u=y,Ie.props=u.memoizedProps,Ie.state=u.memoizedState,Ie.componentWillUnmount()}catch(Re){Ln(y,f,Re)}}break;case 5:ah(le,le.return);break;case 22:if(le.memoizedState!==null){cR(de);continue}}we!==null?(we.return=le,Ee=we):cR(de)}ce=ce.sibling}e:for(ce=null,de=a;;){if(de.tag===5){if(ce===null){ce=de;try{T=de.stateNode,J?(b=T.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(H=de.stateNode,q=de.memoizedProps.style,M=q!=null&&q.hasOwnProperty("display")?q.display:null,H.style.display=hr("display",M))}catch(Re){Ln(a,a.return,Re)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=J?"":de.memoizedProps}catch(Re){Ln(a,a.return,Re)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===a)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===a)break e;for(;de.sibling===null;){if(de.return===null||de.return===a)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:to(u,a),Ao(a),y&4&&oR(a);break;case 21:break;default:to(u,a),Ao(a)}}function Ao(a){var u=a.flags;if(u&2){try{e:{for(var f=a.return;f!==null;){if(rR(f)){var y=f;break e}f=f.return}throw Error(t(160))}switch(y.tag){case 5:var T=y.stateNode;y.flags&32&&(Lt(T,""),y.flags&=-33);var b=iR(a);Xw(a,b,T);break;case 3:case 4:var M=y.stateNode.containerInfo,H=iR(a);Kw(a,H,M);break;default:throw Error(t(161))}}catch(q){Ln(a,a.return,q)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function q6(a,u,f){Ee=a,lR(a)}function lR(a,u,f){for(var y=(a.mode&1)!==0;Ee!==null;){var T=Ee,b=T.child;if(T.tag===22&&y){var M=T.memoizedState!==null||Fg;if(!M){var H=T.alternate,q=H!==null&&H.memoizedState!==null||Wr;H=Fg;var J=Wr;if(Fg=M,(Wr=q)&&!J)for(Ee=T;Ee!==null;)M=Ee,q=M.child,M.tag===22&&M.memoizedState!==null?hR(T):q!==null?(q.return=M,Ee=q):hR(T);for(;b!==null;)Ee=b,lR(b),b=b.sibling;Ee=T,Fg=H,Wr=J}uR(a)}else(T.subtreeFlags&8772)!==0&&b!==null?(b.return=T,Ee=b):uR(a)}}function uR(a){for(;Ee!==null;){var u=Ee;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Wr||Ug(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!Wr)if(f===null)y.componentDidMount();else{var T=u.elementType===u.type?f.memoizedProps:Zs(u.type,f.memoizedProps);y.componentDidUpdate(T,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var b=u.updateQueue;b!==null&&cA(u,b,y);break;case 3:var M=u.updateQueue;if(M!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}cA(u,M,f)}break;case 5:var H=u.stateNode;if(f===null&&u.flags&4){f=H;var q=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&f.focus();break;case"img":q.src&&(f.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var J=u.alternate;if(J!==null){var ce=J.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&Ks(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wr||u.flags&512&&Yw(u)}catch(le){Ln(u,u.return,le)}}if(u===a){Ee=null;break}if(f=u.sibling,f!==null){f.return=u.return,Ee=f;break}Ee=u.return}}function cR(a){for(;Ee!==null;){var u=Ee;if(u===a){Ee=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Ee=f;break}Ee=u.return}}function hR(a){for(;Ee!==null;){var u=Ee;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Ug(4,u)}catch(q){Ln(u,f,q)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var T=u.return;try{y.componentDidMount()}catch(q){Ln(u,T,q)}}var b=u.return;try{Yw(u)}catch(q){Ln(u,b,q)}break;case 5:var M=u.return;try{Yw(u)}catch(q){Ln(u,M,q)}}}catch(q){Ln(u,u.return,q)}if(u===a){Ee=null;break}var H=u.sibling;if(H!==null){H.return=u.return,Ee=H;break}Ee=u.return}}var G6=Math.ceil,Bg=O.ReactCurrentDispatcher,Qw=O.ReactCurrentOwner,Cs=O.ReactCurrentBatchConfig,Mt=0,gr=null,Yn=null,kr=0,ns=0,lh=rl(0),or=0,mf=null,vu=0,$g=0,Jw=0,gf=null,ki=null,Zw=0,uh=1/0,pa=null,zg=!1,eT=null,ul=null,Wg=!1,cl=null,Hg=0,yf=0,tT=null,qg=-1,Gg=0;function mi(){return(Mt&6)!==0?rt():qg!==-1?qg:qg=rt()}function hl(a){return(a.mode&1)===0?1:(Mt&2)!==0&&kr!==0?kr&-kr:P6.transition!==null?(Gg===0&&(Gg=au()),Gg):(a=St,a!==0||(a=window.event,a=a===void 0?16:Wd(a.type)),a)}function no(a,u,f,y){if(50<yf)throw yf=0,tT=null,Error(t(185));Ka(a,f,y),((Mt&2)===0||a!==gr)&&(a===gr&&((Mt&2)===0&&($g|=f),or===4&&dl(a,kr)),Ni(a,y),f===1&&Mt===0&&(u.mode&1)===0&&(uh=rt()+500,Tg&&sl()))}function Ni(a,u){var f=a.callbackNode;na(a,u);var y=ou(a,a===gr?kr:0);if(y===0)f!==null&&yn(f),a.callbackNode=null,a.callbackPriority=0;else if(u=y&-y,a.callbackPriority!==u){if(f!=null&&yn(f),u===1)a.tag===0?R6(fR.bind(null,a)):JI(fR.bind(null,a)),b6(function(){(Mt&6)===0&&sl()}),f=null;else{switch(Qa(y)){case 1:f=dr;break;case 4:f=vs;break;case 16:f=ci;break;case 536870912:f=hi;break;default:f=ci}f=TR(f,dR.bind(null,a))}a.callbackPriority=u,a.callbackNode=f}}function dR(a,u){if(qg=-1,Gg=0,(Mt&6)!==0)throw Error(t(327));var f=a.callbackNode;if(ch()&&a.callbackNode!==f)return null;var y=ou(a,a===gr?kr:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||u)u=Yg(a,y);else{u=y;var T=Mt;Mt|=2;var b=mR();(gr!==a||kr!==u)&&(pa=null,uh=rt()+500,Tu(a,u));do try{X6();break}catch(H){pR(a,H)}while(!0);vw(),Bg.current=b,Mt=T,Yn!==null?u=0:(gr=null,kr=0,u=or)}if(u!==0){if(u===2&&(T=Qi(a),T!==0&&(y=T,u=nT(a,T))),u===1)throw f=mf,Tu(a,0),dl(a,y),Ni(a,rt()),f;if(u===6)dl(a,y);else{if(T=a.current.alternate,(y&30)===0&&!Y6(T)&&(u=Yg(a,y),u===2&&(b=Qi(a),b!==0&&(y=b,u=nT(a,b))),u===1))throw f=mf,Tu(a,0),dl(a,y),Ni(a,rt()),f;switch(a.finishedWork=T,a.finishedLanes=y,u){case 0:case 1:throw Error(t(345));case 2:Eu(a,ki,pa);break;case 3:if(dl(a,y),(y&130023424)===y&&(u=Zw+500-rt(),10<u)){if(ou(a,0)!==0)break;if(T=a.suspendedLanes,(T&y)!==y){mi(),a.pingedLanes|=a.suspendedLanes&T;break}a.timeoutHandle=lw(Eu.bind(null,a,ki,pa),u);break}Eu(a,ki,pa);break;case 4:if(dl(a,y),(y&4194240)===y)break;for(u=a.eventTimes,T=-1;0<y;){var M=31-di(y);b=1<<M,M=u[M],M>T&&(T=M),y&=~b}if(y=T,y=rt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*G6(y/1960))-y,10<y){a.timeoutHandle=lw(Eu.bind(null,a,ki,pa),y);break}Eu(a,ki,pa);break;case 5:Eu(a,ki,pa);break;default:throw Error(t(329))}}}return Ni(a,rt()),a.callbackNode===f?dR.bind(null,a):null}function nT(a,u){var f=gf;return a.current.memoizedState.isDehydrated&&(Tu(a,u).flags|=256),a=Yg(a,u),a!==2&&(u=ki,ki=f,u!==null&&rT(u)),a}function rT(a){ki===null?ki=a:ki.push.apply(ki,a)}function Y6(a){for(var u=a;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var T=f[y],b=T.getSnapshot;T=T.value;try{if(!Qs(b(),T))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function dl(a,u){for(u&=~Jw,u&=~$g,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var f=31-di(u),y=1<<f;a[f]=-1,u&=~y}}function fR(a){if((Mt&6)!==0)throw Error(t(327));ch();var u=ou(a,0);if((u&1)===0)return Ni(a,rt()),null;var f=Yg(a,u);if(a.tag!==0&&f===2){var y=Qi(a);y!==0&&(u=y,f=nT(a,y))}if(f===1)throw f=mf,Tu(a,0),dl(a,u),Ni(a,rt()),f;if(f===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Eu(a,ki,pa),Ni(a,rt()),null}function iT(a,u){var f=Mt;Mt|=1;try{return a(u)}finally{Mt=f,Mt===0&&(uh=rt()+500,Tg&&sl())}}function wu(a){cl!==null&&cl.tag===0&&(Mt&6)===0&&ch();var u=Mt;Mt|=1;var f=Cs.transition,y=St;try{if(Cs.transition=null,St=1,a)return a()}finally{St=y,Cs.transition=f,Mt=u,(Mt&6)===0&&sl()}}function sT(){ns=lh.current,cn(lh)}function Tu(a,u){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,S6(f)),Yn!==null)for(f=Yn.return;f!==null;){var y=f;switch(pw(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&vg();break;case 3:sh(),cn(Ai),cn(Br),Iw();break;case 5:bw(y);break;case 4:sh();break;case 13:cn(Sn);break;case 19:cn(Sn);break;case 10:ww(y.type._context);break;case 22:case 23:sT()}f=f.return}if(gr=a,Yn=a=fl(a.current,null),kr=ns=u,or=0,mf=null,Jw=$g=vu=0,ki=gf=null,gu!==null){for(u=0;u<gu.length;u++)if(f=gu[u],y=f.interleaved,y!==null){f.interleaved=null;var T=y.next,b=f.pending;if(b!==null){var M=b.next;b.next=T,y.next=M}f.pending=y}gu=null}return a}function pR(a,u){do{var f=Yn;try{if(vw(),kg.current=Mg,Ng){for(var y=bn.memoizedState;y!==null;){var T=y.queue;T!==null&&(T.pending=null),y=y.next}Ng=!1}if(_u=0,mr=sr=bn=null,uf=!1,cf=0,Qw.current=null,f===null||f.return===null){or=1,mf=u,Yn=null;break}e:{var b=a,M=f.return,H=f,q=u;if(u=kr,H.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var J=q,ce=H,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=FA(M);if(we!==null){we.flags&=-257,UA(we,M,H,b,u),we.mode&1&&VA(b,J,u),u=we,q=J;var Ie=u.updateQueue;if(Ie===null){var Re=new Set;Re.add(q),u.updateQueue=Re}else Ie.add(q);break e}else{if((u&1)===0){VA(b,J,u),oT();break e}q=Error(t(426))}}else if(wn&&H.mode&1){var Un=FA(M);if(Un!==null){(Un.flags&65536)===0&&(Un.flags|=256),UA(Un,M,H,b,u),yw(oh(q,H));break e}}b=q=oh(q,H),or!==4&&(or=2),gf===null?gf=[b]:gf.push(b),b=M;do{switch(b.tag){case 3:b.flags|=65536,u&=-u,b.lanes|=u;var K=LA(b,q,u);uA(b,K);break e;case 1:H=q;var G=b.type,X=b.stateNode;if((b.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(ul===null||!ul.has(X)))){b.flags|=65536,u&=-u,b.lanes|=u;var pe=jA(b,H,u);uA(b,pe);break e}}b=b.return}while(b!==null)}yR(f)}catch(ke){u=ke,Yn===f&&f!==null&&(Yn=f=f.return);continue}break}while(!0)}function mR(){var a=Bg.current;return Bg.current=Mg,a===null?Mg:a}function oT(){(or===0||or===3||or===2)&&(or=4),gr===null||(vu&268435455)===0&&($g&268435455)===0||dl(gr,kr)}function Yg(a,u){var f=Mt;Mt|=2;var y=mR();(gr!==a||kr!==u)&&(pa=null,Tu(a,u));do try{K6();break}catch(T){pR(a,T)}while(!0);if(vw(),Mt=f,Bg.current=y,Yn!==null)throw Error(t(261));return gr=null,kr=0,or}function K6(){for(;Yn!==null;)gR(Yn)}function X6(){for(;Yn!==null&&!bi();)gR(Yn)}function gR(a){var u=wR(a.alternate,a,ns);a.memoizedProps=a.pendingProps,u===null?yR(a):Yn=u,Qw.current=null}function yR(a){var u=a;do{var f=u.alternate;if(a=u.return,(u.flags&32768)===0){if(f=$6(f,u,ns),f!==null){Yn=f;return}}else{if(f=z6(f,u),f!==null){f.flags&=32767,Yn=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{or=6,Yn=null;return}}if(u=u.sibling,u!==null){Yn=u;return}Yn=u=a}while(u!==null);or===0&&(or=5)}function Eu(a,u,f){var y=St,T=Cs.transition;try{Cs.transition=null,St=1,Q6(a,u,f,y)}finally{Cs.transition=T,St=y}return null}function Q6(a,u,f,y){do ch();while(cl!==null);if((Mt&6)!==0)throw Error(t(327));f=a.finishedWork;var T=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var b=f.lanes|f.childLanes;if(en(a,b),a===gr&&(Yn=gr=null,kr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Wg||(Wg=!0,TR(ci,function(){return ch(),null})),b=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||b){b=Cs.transition,Cs.transition=null;var M=St;St=1;var H=Mt;Mt|=4,Qw.current=null,H6(a,f),aR(f,a),y6(ow),Za=!!sw,ow=sw=null,a.current=f,q6(f),qa(),Mt=H,St=M,Cs.transition=b}else a.current=f;if(Wg&&(Wg=!1,cl=a,Hg=T),b=a.pendingLanes,b===0&&(ul=null),Xi(f.stateNode),Ni(a,rt()),u!==null)for(y=a.onRecoverableError,f=0;f<u.length;f++)T=u[f],y(T.value,{componentStack:T.stack,digest:T.digest});if(zg)throw zg=!1,a=eT,eT=null,a;return(Hg&1)!==0&&a.tag!==0&&ch(),b=a.pendingLanes,(b&1)!==0?a===tT?yf++:(yf=0,tT=a):yf=0,sl(),null}function ch(){if(cl!==null){var a=Qa(Hg),u=Cs.transition,f=St;try{if(Cs.transition=null,St=16>a?16:a,cl===null)var y=!1;else{if(a=cl,cl=null,Hg=0,(Mt&6)!==0)throw Error(t(331));var T=Mt;for(Mt|=4,Ee=a.current;Ee!==null;){var b=Ee,M=b.child;if((Ee.flags&16)!==0){var H=b.deletions;if(H!==null){for(var q=0;q<H.length;q++){var J=H[q];for(Ee=J;Ee!==null;){var ce=Ee;switch(ce.tag){case 0:case 11:case 15:pf(8,ce,b)}var de=ce.child;if(de!==null)de.return=ce,Ee=de;else for(;Ee!==null;){ce=Ee;var le=ce.sibling,we=ce.return;if(nR(ce),ce===J){Ee=null;break}if(le!==null){le.return=we,Ee=le;break}Ee=we}}}var Ie=b.alternate;if(Ie!==null){var Re=Ie.child;if(Re!==null){Ie.child=null;do{var Un=Re.sibling;Re.sibling=null,Re=Un}while(Re!==null)}}Ee=b}}if((b.subtreeFlags&2064)!==0&&M!==null)M.return=b,Ee=M;else e:for(;Ee!==null;){if(b=Ee,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:pf(9,b,b.return)}var K=b.sibling;if(K!==null){K.return=b.return,Ee=K;break e}Ee=b.return}}var G=a.current;for(Ee=G;Ee!==null;){M=Ee;var X=M.child;if((M.subtreeFlags&2064)!==0&&X!==null)X.return=M,Ee=X;else e:for(M=G;Ee!==null;){if(H=Ee,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Ug(9,H)}}catch(ke){Ln(H,H.return,ke)}if(H===M){Ee=null;break e}var pe=H.sibling;if(pe!==null){pe.return=H.return,Ee=pe;break e}Ee=H.return}}if(Mt=T,sl(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Ki,a)}catch{}y=!0}return y}finally{St=f,Cs.transition=u}}return!1}function _R(a,u,f){u=oh(f,u),u=LA(a,u,1),a=al(a,u,1),u=mi(),a!==null&&(Ka(a,1,u),Ni(a,u))}function Ln(a,u,f){if(a.tag===3)_R(a,a,f);else for(;u!==null;){if(u.tag===3){_R(u,a,f);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ul===null||!ul.has(y))){a=oh(f,a),a=jA(u,a,1),u=al(u,a,1),a=mi(),u!==null&&(Ka(u,1,a),Ni(u,a));break}}u=u.return}}function J6(a,u,f){var y=a.pingCache;y!==null&&y.delete(u),u=mi(),a.pingedLanes|=a.suspendedLanes&f,gr===a&&(kr&f)===f&&(or===4||or===3&&(kr&130023424)===kr&&500>rt()-Zw?Tu(a,0):Jw|=f),Ni(a,u)}function vR(a,u){u===0&&((a.mode&1)===0?u=1:(u=Oc,Oc<<=1,(Oc&130023424)===0&&(Oc=4194304)));var f=mi();a=ha(a,u),a!==null&&(Ka(a,u,f),Ni(a,f))}function Z6(a){var u=a.memoizedState,f=0;u!==null&&(f=u.retryLane),vR(a,f)}function eB(a,u){var f=0;switch(a.tag){case 13:var y=a.stateNode,T=a.memoizedState;T!==null&&(f=T.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(u),vR(a,f)}var wR;wR=function(a,u,f){if(a!==null)if(a.memoizedProps!==u.pendingProps||Ai.current)Pi=!0;else{if((a.lanes&f)===0&&(u.flags&128)===0)return Pi=!1,B6(a,u,f);Pi=(a.flags&131072)!==0}else Pi=!1,wn&&(u.flags&1048576)!==0&&ZI(u,xg,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;Vg(a,u),a=u.pendingProps;var T=Jc(u,Br.current);ih(u,f),T=Pw(null,u,y,a,T,f);var b=kw();return u.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Ri(y)?(b=!0,wg(u)):b=!1,u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,xw(u),T.updater=Lg,u.stateNode=T,T._reactInternals=u,jw(u,y,a,f),u=Bw(null,u,y,!0,b,f)):(u.tag=0,wn&&b&&fw(u),pi(null,u,T,f),u=u.child),u;case 16:y=u.elementType;e:{switch(Vg(a,u),a=u.pendingProps,T=y._init,y=T(y._payload),u.type=y,T=u.tag=nB(y),a=Zs(y,a),T){case 0:u=Uw(null,u,y,a,f);break e;case 1:u=qA(null,u,y,a,f);break e;case 11:u=BA(null,u,y,a,f);break e;case 14:u=$A(null,u,y,Zs(y.type,a),f);break e}throw Error(t(306,y,""))}return u;case 0:return y=u.type,T=u.pendingProps,T=u.elementType===y?T:Zs(y,T),Uw(a,u,y,T,f);case 1:return y=u.type,T=u.pendingProps,T=u.elementType===y?T:Zs(y,T),qA(a,u,y,T,f);case 3:e:{if(GA(u),a===null)throw Error(t(387));y=u.pendingProps,b=u.memoizedState,T=b.element,lA(a,u),Rg(u,y,null,f);var M=u.memoizedState;if(y=M.element,b.isDehydrated)if(b={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){T=oh(Error(t(423)),u),u=YA(a,u,y,f,T);break e}else if(y!==T){T=oh(Error(t(424)),u),u=YA(a,u,y,f,T);break e}else for(ts=nl(u.stateNode.containerInfo.firstChild),es=u,wn=!0,Js=null,f=oA(u,null,y,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(th(),y===T){u=fa(a,u,f);break e}pi(a,u,y,f)}u=u.child}return u;case 5:return hA(u),a===null&&gw(u),y=u.type,T=u.pendingProps,b=a!==null?a.memoizedProps:null,M=T.children,aw(y,T)?M=null:b!==null&&aw(y,b)&&(u.flags|=32),HA(a,u),pi(a,u,M,f),u.child;case 6:return a===null&&gw(u),null;case 13:return KA(a,u,f);case 4:return Sw(u,u.stateNode.containerInfo),y=u.pendingProps,a===null?u.child=nh(u,null,y,f):pi(a,u,y,f),u.child;case 11:return y=u.type,T=u.pendingProps,T=u.elementType===y?T:Zs(y,T),BA(a,u,y,T,f);case 7:return pi(a,u,u.pendingProps,f),u.child;case 8:return pi(a,u,u.pendingProps.children,f),u.child;case 12:return pi(a,u,u.pendingProps.children,f),u.child;case 10:e:{if(y=u.type._context,T=u.pendingProps,b=u.memoizedProps,M=T.value,on(Cg,y._currentValue),y._currentValue=M,b!==null)if(Qs(b.value,M)){if(b.children===T.children&&!Ai.current){u=fa(a,u,f);break e}}else for(b=u.child,b!==null&&(b.return=u);b!==null;){var H=b.dependencies;if(H!==null){M=b.child;for(var q=H.firstContext;q!==null;){if(q.context===y){if(b.tag===1){q=da(-1,f&-f),q.tag=2;var J=b.updateQueue;if(J!==null){J=J.shared;var ce=J.pending;ce===null?q.next=q:(q.next=ce.next,ce.next=q),J.pending=q}}b.lanes|=f,q=b.alternate,q!==null&&(q.lanes|=f),Tw(b.return,f,u),H.lanes|=f;break}q=q.next}}else if(b.tag===10)M=b.type===u.type?null:b.child;else if(b.tag===18){if(M=b.return,M===null)throw Error(t(341));M.lanes|=f,H=M.alternate,H!==null&&(H.lanes|=f),Tw(M,f,u),M=b.sibling}else M=b.child;if(M!==null)M.return=b;else for(M=b;M!==null;){if(M===u){M=null;break}if(b=M.sibling,b!==null){b.return=M.return,M=b;break}M=M.return}b=M}pi(a,u,T.children,f),u=u.child}return u;case 9:return T=u.type,y=u.pendingProps.children,ih(u,f),T=Ss(T),y=y(T),u.flags|=1,pi(a,u,y,f),u.child;case 14:return y=u.type,T=Zs(y,u.pendingProps),T=Zs(y.type,T),$A(a,u,y,T,f);case 15:return zA(a,u,u.type,u.pendingProps,f);case 17:return y=u.type,T=u.pendingProps,T=u.elementType===y?T:Zs(y,T),Vg(a,u),u.tag=1,Ri(y)?(a=!0,wg(u)):a=!1,ih(u,f),DA(u,y,T),jw(u,y,T,f),Bw(null,u,y,!0,a,f);case 19:return QA(a,u,f);case 22:return WA(a,u,f)}throw Error(t(156,u.tag))};function TR(a,u){return Qt(a,u)}function tB(a,u,f,y){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(a,u,f,y){return new tB(a,u,f,y)}function aT(a){return a=a.prototype,!(!a||!a.isReactComponent)}function nB(a){if(typeof a=="function")return aT(a)?1:0;if(a!=null){if(a=a.$$typeof,a===B)return 11;if(a===ie)return 14}return 2}function fl(a,u){var f=a.alternate;return f===null?(f=Is(a.tag,u,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=u,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,u=a.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function Kg(a,u,f,y,T,b){var M=2;if(y=a,typeof a=="function")aT(a)&&(M=1);else if(typeof a=="string")M=5;else e:switch(a){case N:return xu(f.children,T,b,u);case A:M=8,T|=8;break;case P:return a=Is(12,f,u,T|2),a.elementType=P,a.lanes=b,a;case V:return a=Is(13,f,u,T),a.elementType=V,a.lanes=b,a;case oe:return a=Is(19,f,u,T),a.elementType=oe,a.lanes=b,a;case re:return Xg(f,T,b,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:M=10;break e;case U:M=9;break e;case B:M=11;break e;case ie:M=14;break e;case fe:M=16,y=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return u=Is(M,f,u,T),u.elementType=a,u.type=y,u.lanes=b,u}function xu(a,u,f,y){return a=Is(7,a,y,u),a.lanes=f,a}function Xg(a,u,f,y){return a=Is(22,a,y,u),a.elementType=re,a.lanes=f,a.stateNode={isHidden:!1},a}function lT(a,u,f){return a=Is(6,a,null,u),a.lanes=f,a}function uT(a,u,f){return u=Is(4,a.children!==null?a.children:[],a.key,u),u.lanes=f,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function rB(a,u,f,y,T){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ya(0),this.expirationTimes=Ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.identifierPrefix=y,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function cT(a,u,f,y,T,b,M,H,q){return a=new rB(a,u,f,H,q),u===1?(u=1,b===!0&&(u|=8)):u=0,b=Is(3,null,null,u),a.current=b,b.stateNode=a,b.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},xw(b),a}function iB(a,u,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:y==null?null:""+y,children:a,containerInfo:u,implementation:f}}function ER(a){if(!a)return il;a=a._reactInternals;e:{if(lt(a)!==a||a.tag!==1)throw Error(t(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Ri(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(a.tag===1){var f=a.type;if(Ri(f))return XI(a,f,u)}return u}function xR(a,u,f,y,T,b,M,H,q){return a=cT(f,y,!0,a,T,b,M,H,q),a.context=ER(null),f=a.current,y=mi(),T=hl(f),b=da(y,T),b.callback=u??null,al(f,b,T),a.current.lanes=T,Ka(a,T,y),Ni(a,y),a}function Qg(a,u,f,y){var T=u.current,b=mi(),M=hl(T);return f=ER(f),u.context===null?u.context=f:u.pendingContext=f,u=da(b,M),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=al(T,u,M),a!==null&&(no(a,T,M,b),Ag(a,T,M)),M}function Jg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function SR(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<u?f:u}}function hT(a,u){SR(a,u),(a=a.alternate)&&SR(a,u)}function sB(){return null}var bR=typeof reportError=="function"?reportError:function(a){console.error(a)};function dT(a){this._internalRoot=a}Zg.prototype.render=dT.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(t(409));Qg(a,u,null,null)},Zg.prototype.unmount=dT.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;wu(function(){Qg(null,a,null,null)}),u[aa]=null}};function Zg(a){this._internalRoot=a}Zg.prototype.unstable_scheduleHydration=function(a){if(a){var u=Zm();a={blockedOn:null,target:a,priority:u};for(var f=0;f<To.length&&u!==0&&u<To[f].priority;f++);To.splice(f,0,a),f===0&&ng(a)}};function fT(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ey(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function CR(){}function oB(a,u,f,y,T){if(T){if(typeof y=="function"){var b=y;y=function(){var J=Jg(M);b.call(J)}}var M=xR(u,y,a,0,null,!1,!1,"",CR);return a._reactRootContainer=M,a[aa]=M.current,ef(a.nodeType===8?a.parentNode:a),wu(),M}for(;T=a.lastChild;)a.removeChild(T);if(typeof y=="function"){var H=y;y=function(){var J=Jg(q);H.call(J)}}var q=cT(a,0,!1,null,null,!1,!1,"",CR);return a._reactRootContainer=q,a[aa]=q.current,ef(a.nodeType===8?a.parentNode:a),wu(function(){Qg(u,q,f,y)}),q}function ty(a,u,f,y,T){var b=f._reactRootContainer;if(b){var M=b;if(typeof T=="function"){var H=T;T=function(){var q=Jg(M);H.call(q)}}Qg(u,M,a,T)}else M=oB(f,u,a,T,y);return Jg(M)}Qm=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var f=Ga(u.pendingLanes);f!==0&&(Xa(u,f|1),Ni(u,rt()),(Mt&6)===0&&(uh=rt()+500,sl()))}break;case 13:wu(function(){var y=ha(a,1);if(y!==null){var T=mi();no(y,a,1,T)}}),hT(a,1)}},Dc=function(a){if(a.tag===13){var u=ha(a,134217728);if(u!==null){var f=mi();no(u,a,134217728,f)}hT(a,134217728)}},Jm=function(a){if(a.tag===13){var u=hl(a),f=ha(a,u);if(f!==null){var y=mi();no(f,a,u,y)}hT(a,u)}},Zm=function(){return St},eg=function(a,u){var f=St;try{return St=a,u()}finally{St=f}},Cr=function(a,u,f){switch(u){case"input":if(Z(a,f),u=f.name,f.type==="radio"&&u!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var y=f[u];if(y!==a&&y.form===a.form){var T=_g(y);if(!T)throw Error(t(90));Ht(y),Z(y,T)}}}break;case"textarea":Zt(a,f);break;case"select":u=f.value,u!=null&&he(a,!!f.multiple,u,!1)}},at=iT,Mn=wu;var aB={usingClientEntryPoint:!1,Events:[rf,Xc,_g,Dt,Ir,iT]},_f={findFiberByHostInstance:du,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lB={bundleType:_f.bundleType,version:_f.version,rendererPackageName:_f.rendererPackageName,rendererConfig:_f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Xt(a),a===null?null:a.stateNode},findFiberByHostInstance:_f.findFiberByHostInstance||sB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ny=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ny.isDisabled&&ny.supportsFiber)try{Ki=ny.inject(lB),fr=ny}catch{}}return Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aB,Oi.createPortal=function(a,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fT(u))throw Error(t(200));return iB(a,u,null,f)},Oi.createRoot=function(a,u){if(!fT(a))throw Error(t(299));var f=!1,y="",T=bR;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),u=cT(a,1,!1,null,null,f,!1,y,T),a[aa]=u.current,ef(a.nodeType===8?a.parentNode:a),new dT(u)},Oi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Xt(u),a=a===null?null:a.stateNode,a},Oi.flushSync=function(a){return wu(a)},Oi.hydrate=function(a,u,f){if(!ey(u))throw Error(t(200));return ty(null,a,u,!0,f)},Oi.hydrateRoot=function(a,u,f){if(!fT(a))throw Error(t(405));var y=f!=null&&f.hydratedSources||null,T=!1,b="",M=bR;if(f!=null&&(f.unstable_strictMode===!0&&(T=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onRecoverableError!==void 0&&(M=f.onRecoverableError)),u=xR(u,null,a,1,f??null,T,!1,b,M),a[aa]=u.current,ef(a),y)for(a=0;a<y.length;a++)f=y[a],T=f._getVersion,T=T(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,T]:u.mutableSourceEagerHydrationData.push(f,T);return new Zg(u)},Oi.render=function(a,u,f){if(!ey(u))throw Error(t(200));return ty(null,a,u,!1,f)},Oi.unmountComponentAtNode=function(a){if(!ey(a))throw Error(t(40));return a._reactRootContainer?(wu(function(){ty(null,null,a,!1,function(){a._reactRootContainer=null,a[aa]=null})}),!0):!1},Oi.unstable_batchedUpdates=iT,Oi.unstable_renderSubtreeIntoContainer=function(a,u,f,y){if(!ey(f))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return ty(a,u,f,!1,y)},Oi.version="18.3.1-next-f1338f8080-20240426",Oi}var MR;function DM(){if(MR)return gT.exports;MR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gT.exports=yB(),gT.exports}var LR;function _B(){if(LR)return ry;LR=1;var n=DM();return ry.createRoot=n.createRoot,ry.hydrateRoot=n.hydrateRoot,ry}var vB=_B();const wB=_o(vB);var vT,jR;function TB(){if(jR)return vT;jR=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,c,h;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!i(s[c],o[c]))return!1;return!0}var d;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(d=s.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;for(d=s.entries();!(c=d.next()).done;)if(!i(c.value[1],o.get(c.value[0])))return!1;return!0}if(t&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(d=s.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(s[c]!==o[c])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(h=Object.keys(s),l=h.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,h[c]))return!1;if(n&&s instanceof Element)return!1;for(c=l;c--!==0;)if(!((h[c]==="_owner"||h[c]==="__v"||h[c]==="__o")&&s.$$typeof)&&!i(s[h[c]],o[h[c]]))return!1;return!0}return s!==s&&o!==o}return vT=function(o,l){try{return i(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},vT}var EB=TB();const MM=_o(EB);var wT,VR;function xB(){if(VR)return wT;VR=1;var n=function(e,t,r,i,s,o,l,c){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,i,s,o,l,c],p=0;h=new Error(t.replace(/%s/g,function(){return d[p++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return wT=n,wT}var SB=xB();const FR=_o(SB);var TT,UR;function bB(){return UR||(UR=1,TT=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),h=0;h<o.length;h++){var d=o[h];if(!c(d))return!1;var p=e[d],g=t[d];if(s=r?r.call(i,p,g,d):void 0,s===!1||s===void 0&&p!==g)return!1}return!0}),TT}var CB=bB();const IB=_o(CB);var LM=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(LM||{}),ET={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},BR=Object.values(LM),_1={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},AB=Object.entries(_1).reduce((n,[e,t])=>(n[t]=e,n),{}),lo="data-rh",Vh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Fh=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},RB=n=>{let e=Fh(n,"title");const t=Fh(n,Vh.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=Fh(n,Vh.DEFAULT_TITLE);return e||r||void 0},PB=n=>Fh(n,Vh.ON_CHANGE_CLIENT_STATE)||(()=>{}),xT=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),kB=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const l=i[s].toLowerCase();if(n.indexOf(l)!==-1&&r[l])return t.concat(r)}}return t},[]),NB=n=>console&&typeof console.warn=="function"&&console.warn(n),wf=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&NB(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,s)=>{const o={};s.filter(c=>{let h;const d=Object.keys(c);for(let g=0;g<d.length;g+=1){const _=d[g],w=_.toLowerCase();e.indexOf(w)!==-1&&!(h==="rel"&&c[h].toLowerCase()==="canonical")&&!(w==="rel"&&c[w].toLowerCase()==="stylesheet")&&(h=w),e.indexOf(_)!==-1&&(_==="innerHTML"||_==="cssText"||_==="itemprop")&&(h=_)}if(!h||!c[h])return!1;const p=c[h].toLowerCase();return r[h]||(r[h]={}),o[h]||(o[h]={}),r[h][p]?!1:(o[h][p]=!0,!0)}).reverse().forEach(c=>i.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const h=l[c],d={...r[h],...o[h]};r[h]=d}return i},[]).reverse()},OB=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},DB=n=>({baseTag:kB(["href"],n),bodyAttributes:xT("bodyAttributes",n),defer:Fh(n,Vh.DEFER),encode:Fh(n,Vh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:xT("htmlAttributes",n),linkTags:wf("link",["rel","href"],n),metaTags:wf("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:wf("noscript",["innerHTML"],n),onChangeClientState:PB(n),scriptTags:wf("script",["src","innerHTML"],n),styleTags:wf("style",["cssText"],n),title:RB(n),titleAttributes:xT("titleAttributes",n),prioritizeSeoTags:OB(n,Vh.PRIORITIZE_SEO_TAGS)}),jM=n=>Array.isArray(n)?n.join(""):n,MB=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},ST=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(MB(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},$R=(n,e)=>({...n,[e]:void 0}),LB=["noscript","script","style"],QE=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),VM=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),jB=(n,e,t,r)=>{const i=VM(t),s=jM(e);return i?`<${n} ${lo}="true" ${i}>${QE(s,r)}</${n}>`:`<${n} ${lo}="true">${QE(s,r)}</${n}>`},VB=(n,e,t=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,d)=>{const p=typeof s[d]>"u"?d:`${d}="${QE(s[d],t)}"`;return h?`${h} ${p}`:p},""),l=s.innerHTML||s.cssText||"",c=LB.indexOf(n)===-1;return`${r}<${n} ${lo}="true" ${o}${c?"/>":`>${l}</${n}>`}`},""),FM=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=_1[r];return t[i||r]=n[r],t},e),FB=(n,e,t)=>{const r={key:e,[lo]:!0},i=FM(t,r);return[tt.createElement("title",i,e)]},Wy=(n,e)=>e.map((t,r)=>{const i={key:r,[lo]:!0};return Object.keys(t).forEach(s=>{const l=_1[s]||s;if(l==="innerHTML"||l==="cssText"){const c=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[l]=t[s]}),tt.createElement(n,i)}),ks=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>FB(n,e.title,e.titleAttributes),toString:()=>jB(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>FM(e),toString:()=>VM(e)};default:return{toComponent:()=>Wy(n,e),toString:()=>VB(n,e,t)}}},UB=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=ST(n,ET.meta),s=ST(e,ET.link),o=ST(t,ET.script);return{priorityMethods:{toComponent:()=>[...Wy("meta",i.priority),...Wy("link",s.priority),...Wy("script",o.priority)],toString:()=>`${ks("meta",i.priority,r)} ${ks("link",s.priority,r)} ${ks("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},BB=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:h}=n;let{linkTags:d,metaTags:p,scriptTags:g}=n,_={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:_,linkTags:d,metaTags:p,scriptTags:g}=UB(n)),{priority:_,base:ks("base",e,r),bodyAttributes:ks("bodyAttributes",t,r),htmlAttributes:ks("htmlAttributes",i,r),link:ks("link",d,r),meta:ks("meta",p,r),noscript:ks("noscript",s,r),script:ks("script",g,r),style:ks("style",o,r),title:ks("title",{title:l,titleAttributes:c},r)}},JE=BB,iy=[],UM=!!(typeof window<"u"&&window.document&&window.document.createElement),ZE=class{constructor(n,e){ma(this,"instances",[]);ma(this,"canUseDOM",UM);ma(this,"context");ma(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?iy:this.instances,add:n=>{(this.canUseDOM?iy:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?iy:this.instances).indexOf(n);(this.canUseDOM?iy:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=JE({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},$B={},BM=tt.createContext($B),Wu,$M=(Wu=class extends R.Component{constructor(t){super(t);ma(this,"helmetData");this.helmetData=new ZE(this.props.context||{},Wu.canUseDOM)}render(){return tt.createElement(BM.Provider,{value:this.helmetData.value},this.props.children)}},ma(Wu,"canUseDOM",UM),Wu),hh=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${lo}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(l=>{const c=document.createElement(n);for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h))if(h==="innerHTML")c.innerHTML=l.innerHTML;else if(h==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=h,p=typeof l[d]>"u"?"":l[d];c.setAttribute(h,p)}c.setAttribute(lo,"true"),i.some((h,d)=>(o=d,c.isEqualNode(h)))?i.splice(o,1):s.push(c)}),i.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),s.forEach(l=>t.appendChild(l)),{oldTags:i,newTags:s}},ex=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(lo),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const l of o){const c=e[l]||"";t.getAttribute(l)!==c&&t.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);const h=s.indexOf(l);h!==-1&&s.splice(h,1)}for(let l=s.length-1;l>=0;l-=1)t.removeAttribute(s[l]);i.length===s.length?t.removeAttribute(lo):t.getAttribute(lo)!==o.join(",")&&t.setAttribute(lo,o.join(","))},zB=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=jM(n)),ex("title",e)},zR=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:h,styleTags:d,title:p,titleAttributes:g}=n;ex("body",r),ex("html",i),zB(p,g);const _={baseTag:hh("base",t),linkTags:hh("link",s),metaTags:hh("meta",o),noscriptTags:hh("noscript",l),scriptTags:hh("script",h),styleTags:hh("style",d)},w={},v={};Object.keys(_).forEach(x=>{const{newTags:C,oldTags:k}=_[x];C.length&&(w[x]=C),k.length&&(v[x]=_[x].oldTags)}),e&&e(),c(n,w,v)},Tf=null,WB=n=>{Tf&&cancelAnimationFrame(Tf),n.defer?Tf=requestAnimationFrame(()=>{zR(n,()=>{Tf=null})}):(zR(n),Tf=null)},HB=WB,WR=class extends R.Component{constructor(){super(...arguments);ma(this,"rendered",!1)}shouldComponentUpdate(e){return!IB(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=DB(e.get().map(s=>{const o={...s.props};return delete o.context,o}));$M.canUseDOM?HB(i):JE&&(r=JE(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},XE,qB=(XE=class extends R.Component{shouldComponentUpdate(e){return!MM($R(this.props,"helmetData"),$R(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,i){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,i)}]}}mapObjectTypeChildren(e,t,r,i){switch(e.type){case"title":return{...t,[e.type]:i,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(i=>{r={...r,[i]:e[i]}}),r}warnOnInvalidChildren(e,t){return FR(BR.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${BR.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),FR(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return tt.Children.forEach(e,i=>{if(!i||!i.props)return;const{children:s,...o}=i.props,l=Object.keys(o).reduce((h,d)=>(h[AB[d]||d]=o[d],h),{});let{type:c}=i;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(i,s),c){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(i,r,l,s);break;default:t=this.mapObjectTypeChildren(i,t,l,s);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:i}=t;if(e&&(r=this.mapChildrenToProps(e,r)),i&&!(i instanceof ZE)){const s=i;i=new ZE(s.context,!0),delete r.helmetData}return i?tt.createElement(WR,{...r,context:i.value}):tt.createElement(BM.Consumer,null,s=>tt.createElement(WR,{...r,context:s}))}},ma(XE,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),XE),Ef={},HR;function GB(){if(HR)return Ef;HR=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.parse=o,Ef.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,_){const w=new s,v=g.length;if(v<2)return w;const x=(_==null?void 0:_.decode)||d;let C=0;do{const k=g.indexOf("=",C);if(k===-1)break;const L=g.indexOf(";",C),O=L===-1?v:L;if(k>O){C=g.lastIndexOf(";",k-1)+1;continue}const j=l(g,C,k),$=c(g,k,j),N=g.slice(j,$);if(w[N]===void 0){let A=l(g,k+1,O),P=c(g,O,A);const D=x(g.slice(A,P));w[N]=D}C=O+1}while(C<v);return w}function l(g,_,w){do{const v=g.charCodeAt(_);if(v!==32&&v!==9)return _}while(++_<w);return w}function c(g,_,w){for(;_>w;){const v=g.charCodeAt(--_);if(v!==32&&v!==9)return _+1}return w}function h(g,_,w){const v=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const x=v(_);if(!e.test(x))throw new TypeError(`argument val is invalid: ${_}`);let C=g+"="+x;if(!w)return C;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);C+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);C+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);C+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);C+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(C+="; HttpOnly"),w.secure&&(C+="; Secure"),w.partitioned&&(C+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return C}function d(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return Ef}GB();var qR="popstate";function YB(n={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return tx("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Pp(i)}return XB(e,t,null,n)}function Rn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ko(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KB(){return Math.random().toString(36).substring(2,10)}function GR(n,e){return{usr:n.state,key:n.key,idx:e}}function tx(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Td(e):e,state:t,key:e&&e.key||r||KB()}}function Pp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Td(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XB(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",c=null,h=d();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function d(){return(o.state||{idx:null}).idx}function p(){l="POP";let x=d(),C=x==null?null:x-h;h=x,c&&c({action:l,location:v.location,delta:C})}function g(x,C){l="PUSH";let k=tx(v.location,x,C);h=d()+1;let L=GR(k,h),O=v.createHref(k);try{o.pushState(L,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(O)}s&&c&&c({action:l,location:v.location,delta:1})}function _(x,C){l="REPLACE";let k=tx(v.location,x,C);h=d();let L=GR(k,h),O=v.createHref(k);o.replaceState(L,"",O),s&&c&&c({action:l,location:v.location,delta:0})}function w(x){return QB(x)}let v={get action(){return l},get location(){return n(i,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qR,p),c=x,()=>{i.removeEventListener(qR,p),c=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let C=w(x);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:_,go(x){return o.go(x)}};return v}function QB(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Rn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Pp(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function zM(n,e,t="/"){return JB(n,e,t,!1)}function JB(n,e,t,r){let i=typeof e=="string"?Td(e):e,s=ka(i.pathname||"/",t);if(s==null)return null;let o=WM(n);ZB(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=c$(s);l=l$(o[c],h,r)}return l}function WM(n,e=[],t=[],r=""){let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Rn(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=ba([r,c.relativePath]),d=t.concat(c);s.children&&s.children.length>0&&(Rn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),WM(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:o$(h,s.index),routesMeta:d})};return n.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of HM(s.path))i(s,o,c)}),e}function HM(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HM(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function ZB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:a$(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var e$=/^:[\w-]+$/,t$=3,n$=2,r$=1,i$=10,s$=-2,YR=n=>n==="*";function o$(n,e){let t=n.split("/"),r=t.length;return t.some(YR)&&(r+=s$),e&&(r+=n$),t.filter(i=>!YR(i)).reduce((i,s)=>i+(e$.test(s)?t$:s===""?r$:i$),r)}function a$(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function l$(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=A_({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),g=c.route;if(!p&&h&&t&&!r[r.length-1].route.index&&(p=A_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ba([s,p.pathname]),pathnameBase:p$(ba([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=ba([s,p.pathnameBase]))}return o}function A_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=u$(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:p},g)=>{if(d==="*"){let w=l[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=l[g];return p&&!_?h[d]=void 0:h[d]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:n}}function u$(n,e=!1,t=!0){Ko(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function c$(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ko(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ka(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function h$(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Td(n):n;return{pathname:t?t.startsWith("/")?t:d$(t,e):e,search:m$(r),hash:g$(i)}}function d$(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function bT(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f$(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qM(n){let e=f$(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function GM(n,e,t,r=!1){let i;typeof n=="string"?i=Td(n):(i={...n},Rn(!i.pathname||!i.pathname.includes("?"),bT("?","pathname","search",i)),Rn(!i.pathname||!i.pathname.includes("#"),bT("#","pathname","hash",i)),Rn(!i.search||!i.search.includes("#"),bT("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=t;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let c=h$(i,l),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}var ba=n=>n.join("/").replace(/\/\/+/g,"/"),p$=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),m$=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g$=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function y$(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var YM=["POST","PUT","PATCH","DELETE"];new Set(YM);var _$=["GET",...YM];new Set(_$);var Ed=R.createContext(null);Ed.displayName="DataRouter";var Ov=R.createContext(null);Ov.displayName="DataRouterState";var KM=R.createContext({isTransitioning:!1});KM.displayName="ViewTransition";var v$=R.createContext(new Map);v$.displayName="Fetchers";var w$=R.createContext(null);w$.displayName="Await";var Zo=R.createContext(null);Zo.displayName="Navigation";var pm=R.createContext(null);pm.displayName="Location";var za=R.createContext({outlet:null,matches:[],isDataRoute:!1});za.displayName="Route";var v1=R.createContext(null);v1.displayName="RouteError";function T$(n,{relative:e}={}){Rn(mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=R.useContext(Zo),{hash:i,pathname:s,search:o}=gm(n,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:ba([t,s])),r.createHref({pathname:l,search:o,hash:i})}function mm(){return R.useContext(pm)!=null}function Ws(){return Rn(mm(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(pm).location}var XM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QM(n){R.useContext(Zo).static||R.useLayoutEffect(n)}function vc(){let{isDataRoute:n}=R.useContext(za);return n?D$():E$()}function E$(){Rn(mm(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Ed),{basename:e,navigator:t}=R.useContext(Zo),{matches:r}=R.useContext(za),{pathname:i}=Ws(),s=JSON.stringify(qM(r)),o=R.useRef(!1);return QM(()=>{o.current=!0}),R.useCallback((c,h={})=>{if(Ko(o.current,XM),!o.current)return;if(typeof c=="number"){t.go(c);return}let d=GM(c,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ba([e,d.pathname])),(h.replace?t.replace:t.push)(d,h.state,h)},[e,t,s,i,n])}R.createContext(null);function gm(n,{relative:e}={}){let{matches:t}=R.useContext(za),{pathname:r}=Ws(),i=JSON.stringify(qM(t));return R.useMemo(()=>GM(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function x$(n,e){return JM(n,e)}function JM(n,e,t,r){var C;Rn(mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(Zo),{matches:s}=R.useContext(za),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",d=o&&o.route;{let k=d&&d.path||"";ZM(c,!d||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=Ws(),g;if(e){let k=typeof e=="string"?Td(e):e;Rn(h==="/"||((C=k.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),g=k}else g=p;let _=g.pathname||"/",w=_;if(h!=="/"){let k=h.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=zM(n,{pathname:w});Ko(d||v!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ko(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=A$(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:ba([h,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:ba([h,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,t,r);return e&&x?R.createElement(pm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},x):x}function S$(){let n=O$(),e=y$(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:i},t):null,o)}var b$=R.createElement(S$,null),C$=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(za.Provider,{value:this.props.routeContext},R.createElement(v1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I$({routeContext:n,match:e,children:t}){let r=R.useContext(Ed);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(za.Provider,{value:n},t)}function A$(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Rn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:d,errors:p}=t,g=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,h,d)=>{let p,g=!1,_=null,w=null;t&&(p=s&&h.route.id?s[h.route.id]:void 0,_=h.route.errorElement||b$,o&&(l<0&&d===0?(ZM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):l===d&&(g=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,d+1)),x=()=>{let C;return p?C=_:g?C=w:h.route.Component?C=R.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=c,R.createElement(I$,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?R.createElement(C$,{location:t.location,revalidation:t.revalidation,component:_,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}function w1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R$(n){let e=R.useContext(Ed);return Rn(e,w1(n)),e}function P$(n){let e=R.useContext(Ov);return Rn(e,w1(n)),e}function k$(n){let e=R.useContext(za);return Rn(e,w1(n)),e}function T1(n){let e=k$(n),t=e.matches[e.matches.length-1];return Rn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function N$(){return T1("useRouteId")}function O$(){var r;let n=R.useContext(v1),e=P$("useRouteError"),t=T1("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function D$(){let{router:n}=R$("useNavigate"),e=T1("useNavigate"),t=R.useRef(!1);return QM(()=>{t.current=!0}),R.useCallback(async(i,s={})=>{Ko(t.current,XM),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var KR={};function ZM(n,e,t){!e&&!KR[n]&&(KR[n]=!0,Ko(!1,t))}R.memo(M$);function M$({routes:n,future:e,state:t}){return JM(n,void 0,t,e)}function Di(n){Rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L$({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Rn(!mm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Td(t));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:g="default"}=t,_=R.useMemo(()=>{let w=ka(c,o);return w==null?null:{location:{pathname:w,search:h,hash:d,state:p,key:g},navigationType:r}},[o,c,h,d,p,g,r]);return Ko(_!=null,`<Router basename="${o}"> is not able to match the URL "${c}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:R.createElement(Zo.Provider,{value:l},R.createElement(pm.Provider,{children:e,value:_}))}function j$({children:n,location:e}){return x$(nx(n),e)}function nx(n,e=[]){let t=[];return R.Children.forEach(n,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){t.push.apply(t,nx(r.props.children,s));return}Rn(r.type===Di,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=nx(r.props.children,s)),t.push(o)}),t}var Hy="get",qy="application/x-www-form-urlencoded";function Dv(n){return n!=null&&typeof n.tagName=="string"}function V$(n){return Dv(n)&&n.tagName.toLowerCase()==="button"}function F$(n){return Dv(n)&&n.tagName.toLowerCase()==="form"}function U$(n){return Dv(n)&&n.tagName.toLowerCase()==="input"}function B$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $$(n,e){return n.button===0&&(!e||e==="_self")&&!B$(n)}var sy=null;function z$(){if(sy===null)try{new FormData(document.createElement("form"),0),sy=!1}catch{sy=!0}return sy}var W$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function CT(n){return n!=null&&!W$.has(n)?(Ko(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qy}"`),null):n}function H$(n,e){let t,r,i,s,o;if(F$(n)){let l=n.getAttribute("action");r=l?ka(l,e):null,t=n.getAttribute("method")||Hy,i=CT(n.getAttribute("enctype"))||qy,s=new FormData(n)}else if(V$(n)||U$(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||l.getAttribute("action");if(r=c?ka(c,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||Hy,i=CT(n.getAttribute("formenctype"))||CT(l.getAttribute("enctype"))||qy,s=new FormData(l,n),!z$()){let{name:h,type:d,value:p}=n;if(d==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,p)}}else{if(Dv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hy,r=null,i=qy,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function E1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function q$(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G$(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Y$(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await q$(s,t);return o.links?o.links():[]}return[]}));return J$(r.flat(1).filter(G$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function XR(n,e,t,r,i,s){let o=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,l=(c,h)=>{var d;return t[h].pathname!==c.pathname||((d=t[h].route.path)==null?void 0:d.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>o(c,h)||l(c,h)):s==="data"?e.filter((c,h)=>{var p;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function K$(n,e,{includeHydrateFallback:t}={}){return X$(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function X$(n){return[...new Set(n)]}function Q$(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function J$(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Q$(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z$=new Set([100,101,204,205]);function ez(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ka(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function e2(){let n=R.useContext(Ed);return E1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tz(){let n=R.useContext(Ov);return E1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var x1=R.createContext(void 0);x1.displayName="FrameworkContext";function t2(){let n=R.useContext(x1);return E1(n,"You must render this element inside a <HydratedRouter> element"),n}function nz(n,e){let t=R.useContext(x1),[r,i]=R.useState(!1),[s,o]=R.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:p}=e,g=R.useRef(null);R.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let v=C=>{C.forEach(k=>{o(k.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[n]),R.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let _=()=>{i(!0)},w=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:xf(l,_),onBlur:xf(c,w),onMouseEnter:xf(h,_),onMouseLeave:xf(d,w),onTouchStart:xf(p,_)}]:[!1,g,{}]}function xf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function rz({page:n,...e}){let{router:t}=e2(),r=R.useMemo(()=>zM(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?R.createElement(sz,{page:n,matches:r,...e}):null}function iz(n){let{manifest:e,routeModules:t}=t2(),[r,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return Y$(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function sz({page:n,matches:e,...t}){let r=Ws(),{manifest:i,routeModules:s}=t2(),{basename:o}=e2(),{loaderData:l,matches:c}=tz(),h=R.useMemo(()=>XR(n,e,c,i,r,"data"),[n,e,c,i,r]),d=R.useMemo(()=>XR(n,e,c,i,r,"assets"),[n,e,c,i,r]),p=R.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,v=!1;if(e.forEach(C=>{var L;let k=i.routes[C.route.id];!k||!k.hasLoader||(!h.some(O=>O.route.id===C.route.id)&&C.route.id in l&&((L=s[C.route.id])!=null&&L.shouldRevalidate)||k.hasClientLoader?v=!0:w.add(C.route.id))}),w.size===0)return[];let x=ez(n,o);return v&&w.size>0&&x.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[x.pathname+x.search]},[o,l,r,i,h,e,n,s]),g=R.useMemo(()=>K$(d,i),[d,i]),_=iz(d);return R.createElement(R.Fragment,null,p.map(w=>R.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),g.map(w=>R.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),_.map(({key:w,link:v})=>R.createElement("link",{key:w,...v})))}function oz(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var n2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n2&&(window.__reactRouterVersion="7.6.1")}catch{}function az({basename:n,children:e,window:t}){let r=R.useRef();r.current==null&&(r.current=YB({window:t,v5Compat:!0}));let i=r.current,[s,o]=R.useState({action:i.action,location:i.location}),l=R.useCallback(c=>{R.startTransition(()=>o(c))},[o]);return R.useLayoutEffect(()=>i.listen(l),[i,l]),R.createElement(L$,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var r2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ls=R.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:d,viewTransition:p,...g},_){let{basename:w}=R.useContext(Zo),v=typeof h=="string"&&r2.test(h),x,C=!1;if(typeof h=="string"&&v&&(x=h,n2))try{let P=new URL(window.location.href),D=h.startsWith("//")?new URL(P.protocol+h):new URL(h),U=ka(D.pathname,w);D.origin===P.origin&&U!=null?h=U+D.search+D.hash:C=!0}catch{Ko(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=T$(h,{relative:i}),[L,O,j]=nz(r,g),$=hz(h,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:p});function N(P){e&&e(P),P.defaultPrevented||$(P)}let A=R.createElement("a",{...g,...j,href:x||k,onClick:C||s?e:N,ref:oz(_,O),target:c,"data-discover":!v&&t==="render"?"true":void 0});return L&&!v?R.createElement(R.Fragment,null,A,R.createElement(rz,{page:k})):A});ls.displayName="Link";var lz=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...h},d){let p=gm(o,{relative:h.relative}),g=Ws(),_=R.useContext(Ov),{navigator:w,basename:v}=R.useContext(Zo),x=_!=null&&gz(p)&&l===!0,C=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,k=g.pathname,L=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(k=k.toLowerCase(),L=L?L.toLowerCase():null,C=C.toLowerCase()),L&&v&&(L=ka(L,v)||L);const O=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let j=k===C||!i&&k.startsWith(C)&&k.charAt(O)==="/",$=L!=null&&(L===C||!i&&L.startsWith(C)&&L.charAt(C.length)==="/"),N={isActive:j,isPending:$,isTransitioning:x},A=j?e:void 0,P;typeof r=="function"?P=r(N):P=[r,j?"active":null,$?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(N):s;return R.createElement(ls,{...h,"aria-current":A,className:P,ref:d,style:D,to:o,viewTransition:l},typeof c=="function"?c(N):c)});lz.displayName="NavLink";var uz=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=Hy,action:l,onSubmit:c,relative:h,preventScrollReset:d,viewTransition:p,...g},_)=>{let w=pz(),v=mz(l,{relative:h}),x=o.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&r2.test(l),k=L=>{if(c&&c(L),L.defaultPrevented)return;L.preventDefault();let O=L.nativeEvent.submitter,j=(O==null?void 0:O.getAttribute("formmethod"))||o;w(O||L.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:s,relative:h,preventScrollReset:d,viewTransition:p})};return R.createElement("form",{ref:_,method:x,action:v,onSubmit:r?c:k,...g,"data-discover":!C&&n==="render"?"true":void 0})});uz.displayName="Form";function cz(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i2(n){let e=R.useContext(Ed);return Rn(e,cz(n)),e}function hz(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=vc(),c=Ws(),h=gm(n,{relative:s});return R.useCallback(d=>{if($$(d,e)){d.preventDefault();let p=t!==void 0?t:Pp(c)===Pp(h);l(n,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,h,t,r,e,n,i,s,o])}var dz=0,fz=()=>`__${String(++dz)}__`;function pz(){let{router:n}=i2("useSubmit"),{basename:e}=R.useContext(Zo),t=N$();return R.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:h}=H$(r,e);if(i.navigate===!1){let d=i.fetcherKey||fz();await n.fetch(d,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function mz(n,{relative:e}={}){let{basename:t}=R.useContext(Zo),r=R.useContext(za);Rn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...gm(n||".",{relative:e})},o=Ws();if(n==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ba([t,s.pathname])),Pp(s)}function gz(n,e={}){let t=R.useContext(KM);Rn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i2("useViewTransitionState"),i=gm(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=ka(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=ka(t.nextLocation.pathname,r)||t.nextLocation.pathname;return A_(i.pathname,o)!=null||A_(i.pathname,s)!=null}[...Z$];var yz=DM();/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vz=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),QR=n=>{const e=vz(n);return e.charAt(0).toUpperCase()+e.slice(1)},s2=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),wz=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>R.createElement("svg",{ref:c,...Tz,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:s2("lucide",i),...!s&&!wz(l)&&{"aria-hidden":"true"},...l},[...o.map(([h,d])=>R.createElement(h,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=(n,e)=>{const t=R.forwardRef(({className:r,...i},s)=>R.createElement(Ez,{ref:s,iconNode:e,className:s2(`lucide-${_z(QR(n))}`,`lucide-${n}`,r),...i}));return t.displayName=QR(n),t};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Sz=Fn("calendar-days",xz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cz=Fn("calendar",bz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],Az=Fn("cat",Iz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Pz=Fn("chevron-down",Rz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Nz=Fn("chevron-up",kz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dz=Fn("circle-check-big",Oz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Lz=Fn("cloud-upload",Mz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],Vz=Fn("dog",jz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uz=Fn("eye",Fz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],$z=Fn("handshake",Bz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Wz=Fn("heart",zz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],o2=Fn("info",Hz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gz=Fn("lock",qz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Kz=Fn("mail",Yz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Qz=Fn("map-pin",Xz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Zz=Fn("menu",Jz);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],t9=Fn("paw-print",e9);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],r9=Fn("star",n9);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M2 9a3 3 0 1 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 1 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"1l48ns"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],s9=Fn("ticket-percent",i9);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],a9=Fn("trash-2",o9);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],S1=Fn("user",l9);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],a2=Fn("x",u9),JR=[{name:"À propos",to:"/apropos"},{name:"Services et tarifs",to:"/tarifs"},{name:"Galerie",to:"/gallery"},{name:"Réservez",to:"/tarifs"},{name:"Contact",to:"/contact"}],c9=()=>{const[n,e]=R.useState(!1),t=Ws();return E.jsxs("nav",{className:"text-white shadow-md fixed w-full z-50 bg-blue-400 backdrop-blur-sm",children:[E.jsxs("div",{className:"py-3 flex justify-between items-center mr-2 md:mr-20",children:[E.jsxs(ls,{to:"/",className:"text-xl oregano text-white flex items-center ml-4",children:[E.jsx("img",{src:"/icon.png",alt:"Logo",className:"h-8 w-8 mr-1 inline-block"}),E.jsx("h1",{className:"font-oregano oregano-regular-italic",children:"PetHome"})]}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:()=>e(!n),"aria-label":"Toggle menu",className:"p-2 focus:outline-none",children:n?E.jsx(a2,{size:28}):E.jsx(Zz,{size:28})})}),E.jsx("ul",{className:"hidden md:flex space-x-6",children:JR.map(r=>E.jsx("li",{children:E.jsx(ls,{to:r.to,className:`text-white font-bold hover:underline hover:decoration-white transition duration-200 ${t.pathname===r.to?"underline decoration-white":""}`,children:r.name})},r.name))})]}),E.jsx("div",{className:`md:hidden bg-gradient-to-t from-sky-500 to-transparent px-4 space-y-2 transition-all duration-300 ease-in-out overflow-hidden ${n?"max-h-[400px] py-4":"max-h-0 py-0"}`,children:E.jsx("ul",{children:JR.map(r=>E.jsx("li",{children:E.jsx(ls,{to:r.to,onClick:()=>e(!1),className:`block text-white font-medium hover:decoration-white transition duration-200 ${t.pathname===r.to?"underline decoration-white":""}`,children:r.name})},r.name))})})]})},h9=()=>E.jsxs("footer",{className:"bg-blue-400 text-white text-sm",children:[E.jsxs("div",{className:"container mx-auto px-4 py-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:[E.jsx("div",{className:"text-center sm:text-left space-y-2",children:E.jsxs("ul",{className:"space-y-1",children:[E.jsx("li",{children:E.jsx(ls,{to:"/apropos",className:"hover:underline",children:"En savoir plus"})}),E.jsx("li",{children:E.jsx(ls,{to:"/tarifs",className:"hover:underline",children:"Réservez"})}),E.jsx("li",{children:E.jsx(ls,{to:"/contact",className:"hover:underline",children:"Nous contacter"})}),E.jsx("li",{children:E.jsx(ls,{to:"/FAQ",className:"hover:underline",children:"FAQ"})})]})}),E.jsxs("div",{className:"text-center sm:text-left space-y-2",children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-location-dot mr-2"}),"Antony, Île-de-France"]}),E.jsxs(ls,{to:"https://www.instagram.com/maisonpourpets",className:"inline-flex items-center gap-2 hover:text-blue-200 transition-colors",target:"_blank",rel:"noopener noreferrer",children:[E.jsx("i",{className:"fa-brands fa-instagram text-xl"}),E.jsx("span",{children:"@maisonpourpets"})]})]}),E.jsxs("div",{className:"text-center sm:text-left space-y-2",children:[E.jsxs("div",{className:"flex justify-center sm:justify-start items-center gap-3",children:[E.jsx("img",{src:"/icon.png",alt:"Logo",className:"h-10 w-10"}),E.jsx("span",{className:"font-oregano oregano-regular-italic text-xl",children:"PetHome"})]}),E.jsx("p",{className:"max-w-xs mx-auto sm:mx-0",children:"Votre refuge pour chiens et chats, où chaque jour est une nouvelle aventure pleine de câlins et de sourires."})]})]}),E.jsx("div",{className:"border-t border-white/30 mt-8 py-4",children:E.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-2 text-center md:text-left",children:[E.jsx(ls,{to:"/FAQ",className:"hover:underline",children:"Mentions légales"}),E.jsxs("p",{className:"opacity-90",children:["© ",new Date().getFullYear()," Jumper Enterprise. Tous droits réservés."]})]})})]});function _a(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function l2(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var fs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Zh={duration:.5,overwrite:!1,delay:0},b1,Fr,En,Fo=1e8,ri=1/Fo,rx=Math.PI*2,d9=rx/4,f9=0,u2=Math.sqrt,p9=Math.cos,m9=Math.sin,Sr=function(e){return typeof e=="string"},Vn=function(e){return typeof e=="function"},Na=function(e){return typeof e=="number"},C1=function(e){return typeof e>"u"},Xo=function(e){return typeof e=="object"},Bi=function(e){return e!==!1},I1=function(){return typeof window<"u"},oy=function(e){return Vn(e)||Sr(e)},c2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},oi=Array.isArray,ix=/(?:-?\.?\d|\.)+/gi,h2=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,bh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,IT=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,d2=/[+-]=-?[.\d]+/,f2=/[^,'"\[\]\s]+/gi,g9=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Cn,ko,sx,A1,ms={},R_={},p2,m2=function(e){return(R_=ed(e,ms))&&Yi},R1=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},kp=function(e,t){return!t&&console.warn(e)},g2=function(e,t){return e&&(ms[e]=t)&&R_&&(R_[e]=t)||ms},Np=function(){return 0},y9={suppressEvents:!0,isStart:!0,kill:!1},Gy={suppressEvents:!0,kill:!1},_9={suppressEvents:!0},P1={},Al=[],ox={},y2,as={},AT={},ZR=30,Yy=[],k1="",N1=function(e){var t=e[0],r,i;if(Xo(t)||Vn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Yy.length;i--&&!Yy[i].targetTest(t););r=Yy[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new B2(e[i],r)))||e.splice(i,1);return e},Hu=function(e){return e._gsap||N1(Ms(e))[0]._gsap},_2=function(e,t,r){return(r=e[t])&&Vn(r)?e[t]():C1(r)&&e.getAttribute&&e.getAttribute(t)||r},$i=function(e,t){return(e=e.split(",")).forEach(t)||e},$n=function(e){return Math.round(e*1e5)/1e5||0},Jn=function(e){return Math.round(e*1e7)/1e7||0},Uh=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},v9=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},P_=function(){var e=Al.length,t=Al.slice(0),r,i;for(ox={},Al.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},O1=function(e){return!!(e._initted||e._startAt||e.add)},v2=function(e,t,r,i){Al.length&&!Fr&&P_(),e.render(t,r,!!(Fr&&t<0&&O1(e))),Al.length&&!Fr&&P_()},w2=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(f2).length<2?t:Sr(e)?e.trim():e},T2=function(e){return e},gs=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},w9=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},ed=function(e,t){for(var r in t)e[r]=t[r];return e},eP=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Xo(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},k_=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},np=function(e){var t=e.parent||Cn,r=e.keyframes?w9(oi(e.keyframes)):gs;if(Bi(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},T9=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},E2=function(e,t,r,i,s){var o=e[i],l;if(s)for(l=t[s];o&&o[s]>l;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},Mv=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},jl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},qu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},E9=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},ax=function(e,t,r,i){return e._startAt&&(Fr?e._startAt.revert(Gy):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},x9=function n(e){return!e||e._ts&&n(e.parent)},tP=function(e){return e._repeat?td(e._tTime,e=e.duration()+e._rDelay)*e:0},td=function(e,t){var r=Math.floor(e=Jn(e/t));return e&&r===e?r-1:r},N_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Lv=function(e){return e._end=Jn(e._start+(e._tDur/Math.abs(e._ts||e._rts||ri)||0))},jv=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Jn(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Lv(e),r._dirty||qu(r,e)),e},x2=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=N_(e.rawTime(),t),(!t._dur||ym(0,t.totalDuration(),r)-t._tTime>ri)&&t.render(r,!0)),qu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},Do=function(e,t,r,i){return t.parent&&jl(t),t._start=Jn((Na(r)?r:r||e!==Cn?Rs(e,r,t):e._time)+t._delay),t._end=Jn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),E2(e,t,"_first","_last",e._sort?"_start":0),lx(t)||(e._recent=t),i||x2(e,t),e._ts<0&&jv(e,e._tTime),e},S2=function(e,t){return(ms.ScrollTrigger||R1("scrollTrigger",t))&&ms.ScrollTrigger.create(t,e)},b2=function(e,t,r,i,s){if(M1(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Fr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&y2!==cs.frame)return Al.push(e),e._lazy=[s,i],1},S9=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},lx=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},b9=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&S9(e)&&!(!e._initted&&lx(e))||(e._ts<0||e._dp._ts<0)&&!lx(e))?0:1,l=e._rDelay,c=0,h,d,p;if(l&&e._repeat&&(c=ym(0,e._tDur,t),d=td(c,l),e._yoyo&&d&1&&(o=1-o),d!==td(e._tTime,l)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Fr||i||e._zTime===ri||!t&&e._zTime){if(!e._initted&&b2(e,t,i,r,c))return;for(p=e._zTime,e._zTime=t||(r?ri:0),r||(r=t&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,h=e._pt;h;)h.r(o,h.d),h=h._next;t<0&&ax(e,t,r,!0),e._onUpdate&&!r&&ds(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&ds(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&jl(e,1),!r&&!Fr&&(ds(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},C9=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},nd=function(e,t,r,i){var s=e._repeat,o=Jn(t)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Jn(o*(s+1)+e._rDelay*s):o,l>0&&!i&&jv(e,e._tTime=e._tDur*l),e.parent&&Lv(e),r||qu(e.parent,e),e},nP=function(e){return e instanceof Ti?qu(e):nd(e,e._dur)},I9={_start:0,endTime:Np,totalDuration:Np},Rs=function n(e,t,r){var i=e.labels,s=e._recent||I9,o=e.duration()>=Fo?s.endTime(!1):e._dur,l,c,h;return Sr(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),c==="<"||c===">"?(l>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?s:r).totalDuration()/100:1)):l<0?(t in i||(i[t]=o),i[t]):(c=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&r&&(c=c/100*(oi(r)?r[0]:r).totalDuration()),l>1?n(e,t.substr(0,l-1),r)+c:o+c)):t==null?o:+t},rp=function(e,t,r){var i=Na(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],l,c;if(i&&(o.duration=t[1]),o.parent=r,e){for(l=o,c=r;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=Bi(c.vars.inherit)&&c.parent;o.immediateRender=Bi(l.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Qn(t[0],o,t[s+1])},Ql=function(e,t){return e||e===0?t(e):t},ym=function(e,t,r){return r<e?e:r>t?t:r},ei=function(e,t){return!Sr(e)||!(t=g9.exec(e))?"":t[1]},A9=function(e,t,r){return Ql(r,function(i){return ym(e,t,i)})},ux=[].slice,C2=function(e,t){return e&&Xo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Xo(e[0]))&&!e.nodeType&&e!==ko},R9=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Sr(i)&&!t||C2(i,1)?(s=r).push.apply(s,Ms(i)):r.push(i)})||r},Ms=function(e,t,r){return En&&!t&&En.selector?En.selector(e):Sr(e)&&!r&&(sx||!rd())?ux.call((t||A1).querySelectorAll(e),0):oi(e)?R9(e,r):C2(e)?ux.call(e,0):e?[e]:[]},cx=function(e){return e=Ms(e)[0]||kp("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Ms(t,r.querySelectorAll?r:r===e?kp("Invalid scope")||A1.createElement("div"):e)}},I2=function(e){return e.sort(function(){return .5-Math.random()})},A2=function(e){if(Vn(e))return e;var t=Xo(e)?e:{each:e},r=Gu(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},l=i>0&&i<1,c=isNaN(i)||l,h=t.axis,d=i,p=i;return Sr(i)?d=p={center:.5,edges:.5,end:1}[i]||0:!l&&c&&(d=i[0],p=i[1]),function(g,_,w){var v=(w||t).length,x=o[v],C,k,L,O,j,$,N,A,P;if(!x){if(P=t.grid==="auto"?0:(t.grid||[1,Fo])[1],!P){for(N=-1e8;N<(N=w[P++].getBoundingClientRect().left)&&P<v;);P<v&&P--}for(x=o[v]=[],C=c?Math.min(P,v)*d-.5:i%P,k=P===Fo?0:c?v*p/P-.5:i/P|0,N=0,A=Fo,$=0;$<v;$++)L=$%P-C,O=k-($/P|0),x[$]=j=h?Math.abs(h==="y"?O:L):u2(L*L+O*O),j>N&&(N=j),j<A&&(A=j);i==="random"&&I2(x),x.max=N-A,x.min=A,x.v=v=(parseFloat(t.amount)||parseFloat(t.each)*(P>v?v-1:h?h==="y"?v/P:P:Math.max(P,v/P))||0)*(i==="edges"?-1:1),x.b=v<0?s-v:s,x.u=ei(t.amount||t.each)||0,r=r&&v<0?V2(r):r}return v=(x[g]-x.min)/x.max||0,Jn(x.b+(r?r(v):v)*x.v)+x.u}},hx=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Jn(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Na(r)?0:ei(r))}},R2=function(e,t){var r=oi(e),i,s;return!r&&Xo(e)&&(i=r=e.radius||Fo,e.values?(e=Ms(e.values),(s=!Na(e[0]))&&(i*=i)):e=hx(e.increment)),Ql(t,r?Vn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var l=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),h=Fo,d=0,p=e.length,g,_;p--;)s?(g=e[p].x-l,_=e[p].y-c,g=g*g+_*_):g=Math.abs(e[p]-l),g<h&&(h=g,d=p);return d=!i||h<=i?e[d]:o,s||d===o||Na(o)?d:d+ei(o)}:hx(e))},P2=function(e,t,r,i){return Ql(oi(e)?!t:r===!0?!!(r=0):!i,function(){return oi(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},P9=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},k9=function(e,t){return function(r){return e(parseFloat(r))+(t||ei(r))}},N9=function(e,t,r){return N2(e,t,0,1,r)},k2=function(e,t,r){return Ql(r,function(i){return e[~~t(i)]})},O9=function n(e,t,r){var i=t-e;return oi(e)?k2(e,n(0,e.length),t):Ql(r,function(s){return(i+(s-e)%i)%i+e})},D9=function n(e,t,r){var i=t-e,s=i*2;return oi(e)?k2(e,n(0,e.length-1),t):Ql(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Op=function(e){for(var t=0,r="",i,s,o,l;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),l=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(l?f2:ix),r+=e.substr(t,i-t)+P2(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},N2=function(e,t,r,i,s){var o=t-e,l=i-r;return Ql(s,function(c){return r+((c-e)/o*l||0)})},M9=function n(e,t,r,i){var s=isNaN(e+t)?0:function(_){return(1-_)*e+_*t};if(!s){var o=Sr(e),l={},c,h,d,p,g;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(oi(e)&&!oi(t)){for(d=[],p=e.length,g=p-2,h=1;h<p;h++)d.push(n(e[h-1],e[h]));p--,s=function(w){w*=p;var v=Math.min(g,~~w);return d[v](w-v)},r=t}else i||(e=ed(oi(e)?[]:{},e));if(!d){for(c in t)D1.call(l,e,c,"get",t[c]);s=function(w){return V1(w,l)||(o?e.p:e)}}}return Ql(r,s)},rP=function(e,t,r){var i=e.labels,s=Fo,o,l,c;for(o in i)l=i[o]-t,l<0==!!r&&l&&s>(l=Math.abs(l))&&(c=o,s=l);return c},ds=function(e,t,r){var i=e.vars,s=i[t],o=En,l=e._ctx,c,h,d;if(s)return c=i[t+"Params"],h=i.callbackScope||e,r&&Al.length&&P_(),l&&(En=l),d=c?s.apply(h,c):s.call(h),En=o,d},Ff=function(e){return jl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Fr),e.progress()<1&&ds(e,"onInterrupt"),e},Ch,O2=[],D2=function(e){if(e)if(e=!e.name&&e.default||e,I1()||e.headless){var t=e.name,r=Vn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:Np,render:V1,add:D1,kill:Q9,modifier:X9,rawVars:0},o={targetTest:0,get:0,getSetter:j1,aliases:{},register:0};if(rd(),e!==i){if(as[t])return;gs(i,gs(k_(e,s),o)),ed(i.prototype,ed(s,k_(e,o))),as[i.prop=t]=i,e.targetTest&&(Yy.push(i),P1[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}g2(t,i),e.register&&e.register(Yi,i,zi)}else O2.push(e)},tn=255,Uf={aqua:[0,tn,tn],lime:[0,tn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,tn],navy:[0,0,128],white:[tn,tn,tn],olive:[128,128,0],yellow:[tn,tn,0],orange:[tn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[tn,0,0],pink:[tn,192,203],cyan:[0,tn,tn],transparent:[tn,tn,tn,0]},RT=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*tn+.5|0},M2=function(e,t,r){var i=e?Na(e)?[e>>16,e>>8&tn,e&tn]:0:Uf.black,s,o,l,c,h,d,p,g,_,w;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Uf[e])i=Uf[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+s+s+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&tn,i&tn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&tn,e&tn]}else if(e.substr(0,3)==="hsl"){if(i=w=e.match(ix),!t)c=+i[0]%360/360,h=+i[1]/100,d=+i[2]/100,o=d<=.5?d*(h+1):d+h-d*h,s=d*2-o,i.length>3&&(i[3]*=1),i[0]=RT(c+1/3,s,o),i[1]=RT(c,s,o),i[2]=RT(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(h2),r&&i.length<4&&(i[3]=1),i}else i=e.match(ix)||Uf.transparent;i=i.map(Number)}return t&&!w&&(s=i[0]/tn,o=i[1]/tn,l=i[2]/tn,p=Math.max(s,o,l),g=Math.min(s,o,l),d=(p+g)/2,p===g?c=h=0:(_=p-g,h=d>.5?_/(2-p-g):_/(p+g),c=p===s?(o-l)/_+(o<l?6:0):p===o?(l-s)/_+2:(s-o)/_+4,c*=60),i[0]=~~(c+.5),i[1]=~~(h*100+.5),i[2]=~~(d*100+.5)),r&&i.length<4&&(i[3]=1),i},L2=function(e){var t=[],r=[],i=-1;return e.split(Rl).forEach(function(s){var o=s.match(bh)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},iP=function(e,t,r){var i="",s=(e+i).match(Rl),o=t?"hsla(":"rgba(",l=0,c,h,d,p;if(!s)return e;if(s=s.map(function(g){return(g=M2(g,t,1))&&o+(t?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),r&&(d=L2(e),c=r.c,c.join(i)!==d.c.join(i)))for(h=e.replace(Rl,"1").split(bh),p=h.length-1;l<p;l++)i+=h[l]+(~c.indexOf(l)?s.shift()||o+"0,0,0,0)":(d.length?d:s.length?s:r).shift());if(!h)for(h=e.split(Rl),p=h.length-1;l<p;l++)i+=h[l]+s[l];return i+h[p]},Rl=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Uf)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),L9=/hsl[a]?\(/,j2=function(e){var t=e.join(" "),r;if(Rl.lastIndex=0,Rl.test(t))return r=L9.test(t),e[1]=iP(e[1],r),e[0]=iP(e[0],r,L2(e[1])),!0},Dp,cs=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,l=[],c,h,d,p,g,_,w=function v(x){var C=n()-i,k=x===!0,L,O,j,$;if((C>e||C<0)&&(r+=C-t),i+=C,j=i-r,L=j-o,(L>0||k)&&($=++p.frame,g=j-p.time*1e3,p.time=j=j/1e3,o+=L+(L>=s?4:s-L),O=1),k||(c=h(v)),O)for(_=0;_<l.length;_++)l[_](j,g,$,x)};return p={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(x){return g/(1e3/(x||60))},wake:function(){p2&&(!sx&&I1()&&(ko=sx=window,A1=ko.document||{},ms.gsap=Yi,(ko.gsapVersions||(ko.gsapVersions=[])).push(Yi.version),m2(R_||ko.GreenSockGlobals||!ko.gsap&&ko||{}),O2.forEach(D2)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&p.sleep(),h=d||function(x){return setTimeout(x,o-p.time*1e3+1|0)},Dp=1,w(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),Dp=0,h=Np},lagSmoothing:function(x,C){e=x||1/0,t=Math.min(C||33,e)},fps:function(x){s=1e3/(x||240),o=p.time*1e3+s},add:function(x,C,k){var L=C?function(O,j,$,N){x(O,j,$,N),p.remove(L)}:x;return p.remove(x),l[k?"unshift":"push"](L),rd(),L},remove:function(x,C){~(C=l.indexOf(x))&&l.splice(C,1)&&_>=C&&_--},_listeners:l},p}(),rd=function(){return!Dp&&cs.wake()},Ct={},j9=/^[\d.\-M][\d.\-,\s]/,V9=/["']/g,F9=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,l,c,h;s<o;s++)c=r[s],l=s!==o-1?c.lastIndexOf(","):c.length,h=c.substr(0,l),t[i]=isNaN(h)?h.replace(V9,"").trim():+h,i=c.substr(l+1).trim();return t},U9=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},B9=function(e){var t=(e+"").split("("),r=Ct[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[F9(t[1])]:U9(e).split(",").map(w2)):Ct._CE&&j9.test(e)?Ct._CE("",e):r},V2=function(e){return function(t){return 1-e(1-t)}},F2=function n(e,t){for(var r=e._first,i;r;)r instanceof Ti?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},Gu=function(e,t){return e&&(Vn(e)?e:Ct[e]||B9(e))||t},wc=function(e,t,r,i){r===void 0&&(r=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return $i(e,function(l){Ct[l]=ms[l]=s,Ct[o=l.toLowerCase()]=r;for(var c in s)Ct[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Ct[l+"."+c]=s[c]}),s},U2=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},PT=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/rx*(Math.asin(1/i)||0),l=function(d){return d===1?1:i*Math.pow(2,-10*d)*m9((d-o)*s)+1},c=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:U2(l);return s=rx/s,c.config=function(h,d){return n(e,h,d)},c},kT=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:U2(r);return i.config=function(s){return n(e,s)},i};$i("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;wc(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Ct.Linear.easeNone=Ct.none=Ct.Linear.easeIn;wc("Elastic",PT("in"),PT("out"),PT());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(l){return l<t?n*l*l:l<r?n*Math.pow(l-1.5/e,2)+.75:l<i?n*(l-=2.25/e)*l+.9375:n*Math.pow(l-2.625/e,2)+.984375};wc("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);wc("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});wc("Circ",function(n){return-(u2(1-n*n)-1)});wc("Sine",function(n){return n===1?1:-p9(n*d9)+1});wc("Back",kT("in"),kT("out"),kT());Ct.SteppedEase=Ct.steps=ms.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-ri;return function(l){return((i*ym(0,o,l)|0)+s)*r}}};Zh.ease=Ct["quad.out"];$i("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return k1+=n+","+n+"Params,"});var B2=function(e,t){this.id=f9++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:_2,this.set=t?t.getSetter:j1},Mp=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,nd(this,+t.duration,1,1),this.data=t.data,En&&(this._ctx=En,En.data.push(this)),Dp||cs.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,nd(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(rd(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(jv(this,r),!s._dp||s.parent||x2(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Do(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===ri||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),v2(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+tP(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+tP(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?td(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?N_(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(ym(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),Lv(this),E9(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(rd(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ri&&(this._tTime-=ri)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Do(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Bi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?N_(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=_9);var i=Fr;return Fr=r,O1(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Fr=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,nP(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,nP(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Rs(this,r),Bi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Bi(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-ri)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Vn(r)?r:T2,l=function(){var h=i.then;i.then=null,Vn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=h),s(o),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){Ff(this)},n}();gs(Mp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ti=function(n){l2(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Bi(r.sortChildren),Cn&&Do(r.parent||Cn,_a(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&S2(_a(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return rp(0,arguments,this),this},t.from=function(i,s,o){return rp(1,arguments,this),this},t.fromTo=function(i,s,o,l){return rp(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,np(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Qn(i,s,Rs(this,o),1),this},t.call=function(i,s,o){return Do(this,Qn.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,l,c,h,d){return o.duration=s,o.stagger=o.stagger||l,o.onComplete=h,o.onCompleteParams=d,o.parent=this,new Qn(i,o,Rs(this,c)),this},t.staggerFrom=function(i,s,o,l,c,h,d){return o.runBackwards=1,np(o).immediateRender=Bi(o.immediateRender),this.staggerTo(i,s,o,l,c,h,d)},t.staggerFromTo=function(i,s,o,l,c,h,d,p){return l.startAt=o,np(l).immediateRender=Bi(l.immediateRender),this.staggerTo(i,s,l,c,h,d,p)},t.render=function(i,s,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,d=i<=0?0:Jn(i),p=this._zTime<0!=i<0&&(this._initted||!h),g,_,w,v,x,C,k,L,O,j,$,N;if(this!==Cn&&d>c&&i>=0&&(d=c),d!==this._tTime||o||p){if(l!==this._time&&h&&(d+=this._time-l,i+=this._time-l),g=d,O=this._start,L=this._ts,C=!L,p&&(h||(l=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if($=this._yoyo,x=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(x*100+i,s,o);if(g=Jn(d%x),d===c?(v=this._repeat,g=h):(j=Jn(d/x),v=~~j,v&&v===j&&(g=h,v--),g>h&&(g=h)),j=td(this._tTime,x),!l&&this._tTime&&j!==v&&this._tTime-j*x-this._dur<=0&&(j=v),$&&v&1&&(g=h-g,N=1),v!==j&&!this._lock){var A=$&&j&1,P=A===($&&v&1);if(v<j&&(A=!A),l=A?0:d%h?h:d,this._lock=1,this.render(l||(N?0:Jn(v*x)),s,!h)._lock=0,this._tTime=d,!s&&this.parent&&ds(this,"onRepeat"),this.vars.repeatRefresh&&!N&&(this.invalidate()._lock=1),l&&l!==this._time||C!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,P&&(this._lock=2,l=A?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!N&&this.invalidate()),this._lock=0,!this._ts&&!C)return this;F2(this,N)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(k=C9(this,Jn(l),Jn(g)),k&&(d-=g-(g=k._start))),this._tTime=d,this._time=g,this._act=!L,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&d&&!s&&!j&&(ds(this,"onStart"),this._tTime!==d))return this;if(g>=l&&i>=0)for(_=this._first;_;){if(w=_._next,(_._act||g>=_._start)&&_._ts&&k!==_){if(_.parent!==this)return this.render(i,s,o);if(_.render(_._ts>0?(g-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(g-_._start)*_._ts,s,o),g!==this._time||!this._ts&&!C){k=0,w&&(d+=this._zTime=-1e-8);break}}_=w}else{_=this._last;for(var D=i<0?i:g;_;){if(w=_._prev,(_._act||D<=_._end)&&_._ts&&k!==_){if(_.parent!==this)return this.render(i,s,o);if(_.render(_._ts>0?(D-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(D-_._start)*_._ts,s,o||Fr&&O1(_)),g!==this._time||!this._ts&&!C){k=0,w&&(d+=this._zTime=D?-1e-8:ri);break}}_=w}}if(k&&!s&&(this.pause(),k.render(g>=l?0:-1e-8)._zTime=g>=l?1:-1,this._ts))return this._start=O,Lv(this),this.render(i,s,o);this._onUpdate&&!s&&ds(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(O===this._start||Math.abs(L)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(d===c&&this._ts>0||!d&&this._ts<0)&&jl(this,1),!s&&!(i<0&&!l)&&(d||l||!c)&&(ds(this,d===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Na(s)||(s=Rs(this,s,i)),!(i instanceof Mp)){if(oi(i))return i.forEach(function(l){return o.add(l,s)}),this;if(Sr(i))return this.addLabel(i,s);if(Vn(i))i=Qn.delayedCall(0,i);else return this}return this!==i?Do(this,i,s):this},t.getChildren=function(i,s,o,l){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=-1e8);for(var c=[],h=this._first;h;)h._start>=l&&(h instanceof Qn?s&&c.push(h):(o&&c.push(h),i&&c.push.apply(c,h.getChildren(!0,s,o)))),h=h._next;return c},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Sr(i)?this.removeLabel(i):Vn(i)?this.killTweensOf(i):(i.parent===this&&Mv(this,i),i===this._recent&&(this._recent=this._last),qu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Jn(cs.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Rs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var l=Qn.delayedCall(0,s||Np,o);return l.data="isPause",this._hasPause=1,Do(this,l,Rs(this,i))},t.removePause=function(i){var s=this._first;for(i=Rs(this,i);s;)s._start===i&&s.data==="isPause"&&jl(s),s=s._next},t.killTweensOf=function(i,s,o){for(var l=this.getTweensOf(i,o),c=l.length;c--;)El!==l[c]&&l[c].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],l=Ms(i),c=this._first,h=Na(s),d;c;)c instanceof Qn?v9(c._targets,l)&&(h?(!El||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(d=c.getTweensOf(l,s)).length&&o.push.apply(o,d),c=c._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,l=Rs(o,i),c=s,h=c.startAt,d=c.onStart,p=c.onStartParams,g=c.immediateRender,_,w=Qn.to(o,gs({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale())||ri,onStart:function(){if(o.pause(),!_){var x=s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale());w._dur!==x&&nd(w,x,0,1).render(w._time,!0,!0),_=1}d&&d.apply(w,p||[])}},s));return g?w.render(0):w},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,gs({startAt:{time:Rs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),rP(this,Rs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),rP(this,Rs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+ri)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var l=this._first,c=this.labels,h;l;)l._start>=o&&(l._start+=i,l._end+=i),l=l._next;if(s)for(h in c)c[h]>=o&&(c[h]+=i);return qu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),qu(this)},t.totalDuration=function(i){var s=0,o=this,l=o._last,c=Fo,h,d,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,Do(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(s-=d,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>s&&l._ts&&(s=l._end),l=h;nd(o,o===Cn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Cn._ts&&(v2(Cn,N_(i,Cn)),y2=cs.frame),cs.frame>=ZR){ZR+=fs.autoSleep||120;var s=Cn._first;if((!s||!s._ts)&&fs.autoSleep&&cs._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||cs.sleep()}}},e}(Mp);gs(Ti.prototype,{_lock:0,_hasPause:0,_forcing:0});var $9=function(e,t,r,i,s,o,l){var c=new zi(this._pt,e,t,0,1,G2,null,s),h=0,d=0,p,g,_,w,v,x,C,k;for(c.b=r,c.e=i,r+="",i+="",(C=~i.indexOf("random("))&&(i=Op(i)),o&&(k=[r,i],o(k,e,t),r=k[0],i=k[1]),g=r.match(IT)||[];p=IT.exec(i);)w=p[0],v=i.substring(h,p.index),_?_=(_+1)%5:v.substr(-5)==="rgba("&&(_=1),w!==g[d++]&&(x=parseFloat(g[d-1])||0,c._pt={_next:c._pt,p:v||d===1?v:",",s:x,c:w.charAt(1)==="="?Uh(x,w)-x:parseFloat(w)-x,m:_&&_<4?Math.round:0},h=IT.lastIndex);return c.c=h<i.length?i.substring(h,i.length):"",c.fp=l,(d2.test(i)||C)&&(c.e=0),this._pt=c,c},D1=function(e,t,r,i,s,o,l,c,h,d){Vn(i)&&(i=i(s||0,e,o));var p=e[t],g=r!=="get"?r:Vn(p)?h?e[t.indexOf("set")||!Vn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():p,_=Vn(p)?h?G9:H2:L1,w;if(Sr(i)&&(~i.indexOf("random(")&&(i=Op(i)),i.charAt(1)==="="&&(w=Uh(g,i)+(ei(g)||0),(w||w===0)&&(i=w))),!d||g!==i||dx)return!isNaN(g*i)&&i!==""?(w=new zi(this._pt,e,t,+g||0,i-(g||0),typeof p=="boolean"?K9:q2,0,_),h&&(w.fp=h),l&&w.modifier(l,this,e),this._pt=w):(!p&&!(t in e)&&R1(t,i),$9.call(this,e,t,g,i,_,c||fs.stringFilter,h))},z9=function(e,t,r,i,s){if(Vn(e)&&(e=ip(e,s,t,r,i)),!Xo(e)||e.style&&e.nodeType||oi(e)||c2(e))return Sr(e)?ip(e,s,t,r,i):e;var o={},l;for(l in e)o[l]=ip(e[l],s,t,r,i);return o},$2=function(e,t,r,i,s,o){var l,c,h,d;if(as[e]&&(l=new as[e]).init(s,l.rawVars?t[e]:z9(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=c=new zi(r._pt,s,e,0,1,l.render,l,0,l.priority),r!==Ch))for(h=r._ptLookup[r._targets.indexOf(s)],d=l._props.length;d--;)h[l._props[d]]=c;return l},El,dx,M1=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,l=i.immediateRender,c=i.lazy,h=i.onUpdate,d=i.runBackwards,p=i.yoyoEase,g=i.keyframes,_=i.autoRevert,w=e._dur,v=e._startAt,x=e._targets,C=e.parent,k=C&&C.data==="nested"?C.vars.targets:x,L=e._overwrite==="auto"&&!b1,O=e.timeline,j,$,N,A,P,D,U,B,V,oe,ie,fe,re;if(O&&(!g||!s)&&(s="none"),e._ease=Gu(s,Zh.ease),e._yEase=p?V2(Gu(p===!0?s:p,Zh.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!O&&!!i.runBackwards,!O||g&&!i.stagger){if(B=x[0]?Hu(x[0]).harness:0,fe=B&&i[B.prop],j=k_(i,P1),v&&(v._zTime<0&&v.progress(1),t<0&&d&&l&&!_?v.render(-1,!0):v.revert(d&&w?Gy:y9),v._lazy=0),o){if(jl(e._startAt=Qn.set(x,gs({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!v&&Bi(c),startAt:null,delay:0,onUpdate:h&&function(){return ds(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Fr||!l&&!_)&&e._startAt.revert(Gy),l&&w&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(d&&w&&!v){if(t&&(l=!1),N=gs({overwrite:!1,data:"isFromStart",lazy:l&&!v&&Bi(c),immediateRender:l,stagger:0,parent:C},j),fe&&(N[B.prop]=fe),jl(e._startAt=Qn.set(x,N)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Fr?e._startAt.revert(Gy):e._startAt.render(-1,!0)),e._zTime=t,!l)n(e._startAt,ri,ri);else if(!t)return}for(e._pt=e._ptCache=0,c=w&&Bi(c)||c&&!w,$=0;$<x.length;$++){if(P=x[$],U=P._gsap||N1(x)[$]._gsap,e._ptLookup[$]=oe={},ox[U.id]&&Al.length&&P_(),ie=k===x?$:k.indexOf(P),B&&(V=new B).init(P,fe||j,e,ie,k)!==!1&&(e._pt=A=new zi(e._pt,P,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(ee){oe[ee]=A}),V.priority&&(D=1)),!B||fe)for(N in j)as[N]&&(V=$2(N,j,e,ie,P,k))?V.priority&&(D=1):oe[N]=A=D1.call(e,P,N,"get",j[N],ie,k,0,i.stringFilter);e._op&&e._op[$]&&e.kill(P,e._op[$]),L&&e._pt&&(El=e,Cn.killTweensOf(P,oe,e.globalTime(t)),re=!e.parent,El=0),e._pt&&c&&(ox[U.id]=1)}D&&Y2(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!re,g&&t<=0&&O.render(Fo,!0,!0)},W9=function(e,t,r,i,s,o,l,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,p,g,_;if(!h)for(h=e._ptCache[t]=[],g=e._ptLookup,_=e._targets.length;_--;){if(d=g[_][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return dx=1,e.vars[t]="+=0",M1(e,l),dx=0,c?kp(t+" not eligible for reset"):1;h.push(d)}for(_=h.length;_--;)p=h[_],d=p._pt||p,d.s=(i||i===0)&&!s?i:d.s+(i||0)+o*d.c,d.c=r-d.s,p.e&&(p.e=$n(r)+ei(p.e)),p.b&&(p.b=d.s+ei(p.b))},H9=function(e,t){var r=e[0]?Hu(e[0]).harness:0,i=r&&r.aliases,s,o,l,c;if(!i)return t;s=ed({},t);for(o in i)if(o in s)for(c=i[o].split(","),l=c.length;l--;)s[c[l]]=s[o];return s},q9=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,l;if(oi(t))l=r[e]||(r[e]=[]),t.forEach(function(c,h){return l.push({t:h/(t.length-1)*100,v:c,e:s})});else for(o in t)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:t[o],e:s})},ip=function(e,t,r,i,s){return Vn(e)?e.call(t,r,i,s):Sr(e)&&~e.indexOf("random(")?Op(e):e},z2=k1+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",W2={};$i(z2+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return W2[n]=1});var Qn=function(n){l2(e,n);function e(r,i,s,o){var l;typeof i=="number"&&(s.duration=i,i=s,s=null),l=n.call(this,o?i:np(i))||this;var c=l.vars,h=c.duration,d=c.delay,p=c.immediateRender,g=c.stagger,_=c.overwrite,w=c.keyframes,v=c.defaults,x=c.scrollTrigger,C=c.yoyoEase,k=i.parent||Cn,L=(oi(r)||c2(r)?Na(r[0]):"length"in i)?[r]:Ms(r),O,j,$,N,A,P,D,U;if(l._targets=L.length?N1(L):kp("GSAP target "+r+" not found. https://gsap.com",!fs.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=_,w||g||oy(h)||oy(d)){if(i=l.vars,O=l.timeline=new Ti({data:"nested",defaults:v||{},targets:k&&k.data==="nested"?k.vars.targets:L}),O.kill(),O.parent=O._dp=_a(l),O._start=0,g||oy(h)||oy(d)){if(N=L.length,D=g&&A2(g),Xo(g))for(A in g)~z2.indexOf(A)&&(U||(U={}),U[A]=g[A]);for(j=0;j<N;j++)$=k_(i,W2),$.stagger=0,C&&($.yoyoEase=C),U&&ed($,U),P=L[j],$.duration=+ip(h,_a(l),j,P,L),$.delay=(+ip(d,_a(l),j,P,L)||0)-l._delay,!g&&N===1&&$.delay&&(l._delay=d=$.delay,l._start+=d,$.delay=0),O.to(P,$,D?D(j,P,L):0),O._ease=Ct.none;O.duration()?h=d=0:l.timeline=0}else if(w){np(gs(O.vars.defaults,{ease:"none"})),O._ease=Gu(w.ease||i.ease||"none");var B=0,V,oe,ie;if(oi(w))w.forEach(function(fe){return O.to(L,fe,">")}),O.duration();else{$={};for(A in w)A==="ease"||A==="easeEach"||q9(A,w[A],$,w.easeEach);for(A in $)for(V=$[A].sort(function(fe,re){return fe.t-re.t}),B=0,j=0;j<V.length;j++)oe=V[j],ie={ease:oe.e,duration:(oe.t-(j?V[j-1].t:0))/100*h},ie[A]=oe.v,O.to(L,ie,B),B+=ie.duration;O.duration()<h&&O.to({},{duration:h-O.duration()})}}h||l.duration(h=O.duration())}else l.timeline=0;return _===!0&&!b1&&(El=_a(l),Cn.killTweensOf(L),El=0),Do(k,_a(l),s),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(p||!h&&!w&&l._start===Jn(k._time)&&Bi(p)&&x9(_a(l))&&k.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-d)||0)),x&&S2(_a(l),x),l}var t=e.prototype;return t.render=function(i,s,o){var l=this._time,c=this._tDur,h=this._dur,d=i<0,p=i>c-ri&&!d?c:i<ri?0:i,g,_,w,v,x,C,k,L,O;if(!h)b9(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(g=p,L=this.timeline,this._repeat){if(v=h+this._rDelay,this._repeat<-1&&d)return this.totalTime(v*100+i,s,o);if(g=Jn(p%v),p===c?(w=this._repeat,g=h):(x=Jn(p/v),w=~~x,w&&w===x?(g=h,w--):g>h&&(g=h)),C=this._yoyo&&w&1,C&&(O=this._yEase,g=h-g),x=td(this._tTime,v),g===l&&!o&&this._initted&&w===x)return this._tTime=p,this;w!==x&&(L&&this._yEase&&F2(L,C),this.vars.repeatRefresh&&!C&&!this._lock&&g!==v&&this._initted&&(this._lock=o=1,this.render(Jn(v*w),!0).invalidate()._lock=0))}if(!this._initted){if(b2(this,d?i:g,o,s,p))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&w!==x))return this;if(h!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=k=(O||this._ease)(g/h),this._from&&(this.ratio=k=1-k),!l&&p&&!s&&!x&&(ds(this,"onStart"),this._tTime!==p))return this;for(_=this._pt;_;)_.r(k,_.d),_=_._next;L&&L.render(i<0?i:L._dur*L._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(d&&ax(this,i,s,o),ds(this,"onUpdate")),this._repeat&&w!==x&&this.vars.onRepeat&&!s&&this.parent&&ds(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(d&&!this._onUpdate&&ax(this,i,!0,!0),(i||!h)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&jl(this,1),!s&&!(d&&!l)&&(p||l||C)&&(ds(this,p===c?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,l,c){Dp||cs.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||M1(this,h),d=this._ease(h/this._dur),W9(this,i,s,o,l,d,h,c)?this.resetTo(i,s,o,l,1):(jv(this,0),this.parent||E2(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Ff(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Fr),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,El&&El.vars.overwrite!==!0)._first||Ff(this),this.parent&&o!==this.timeline.totalDuration()&&nd(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=i?Ms(i):l,h=this._ptLookup,d=this._pt,p,g,_,w,v,x,C;if((!s||s==="all")&&T9(l,c))return s==="all"&&(this._pt=0),Ff(this);for(p=this._op=this._op||[],s!=="all"&&(Sr(s)&&(v={},$i(s,function(k){return v[k]=1}),s=v),s=H9(l,s)),C=l.length;C--;)if(~c.indexOf(l[C])){g=h[C],s==="all"?(p[C]=s,w=g,_={}):(_=p[C]=p[C]||{},w=s);for(v in w)x=g&&g[v],x&&((!("kill"in x.d)||x.d.kill(v)===!0)&&Mv(this,x,"_pt"),delete g[v]),_!=="all"&&(_[v]=1)}return this._initted&&!this._pt&&d&&Ff(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return rp(1,arguments)},e.delayedCall=function(i,s,o,l){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(i,s,o){return rp(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Cn.killTweensOf(i,s,o)},e}(Mp);gs(Qn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$i("staggerTo,staggerFrom,staggerFromTo",function(n){Qn[n]=function(){var e=new Ti,t=ux.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var L1=function(e,t,r){return e[t]=r},H2=function(e,t,r){return e[t](r)},G9=function(e,t,r,i){return e[t](i.fp,r)},Y9=function(e,t,r){return e.setAttribute(t,r)},j1=function(e,t){return Vn(e[t])?H2:C1(e[t])&&e.setAttribute?Y9:L1},q2=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},K9=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},G2=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},V1=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},X9=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},Q9=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Mv(this,t,"_pt"):t.dep||(r=1),t=i;return!r},J9=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},Y2=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},zi=function(){function n(t,r,i,s,o,l,c,h,d){this.t=r,this.s=s,this.c=o,this.p=i,this.r=l||q2,this.d=c||this,this.set=h||L1,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=J9,this.m=r,this.mt=s,this.tween=i},n}();$i(k1+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return P1[n]=1});ms.TweenMax=ms.TweenLite=Qn;ms.TimelineLite=ms.TimelineMax=Ti;Cn=new Ti({sortChildren:!1,defaults:Zh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});fs.stringFilter=j2;var Yu=[],Ky={},Z9=[],sP=0,eW=0,NT=function(e){return(Ky[e]||Z9).map(function(t){return t()})},fx=function(){var e=Date.now(),t=[];e-sP>2&&(NT("matchMediaInit"),Yu.forEach(function(r){var i=r.queries,s=r.conditions,o,l,c,h;for(l in i)o=ko.matchMedia(i[l]).matches,o&&(c=1),o!==s[l]&&(s[l]=o,h=1);h&&(r.revert(),c&&t.push(r))}),NT("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),sP=e,NT("matchMedia"))},K2=function(){function n(t,r){this.selector=r&&cx(r),this.data=[],this._r=[],this.isReverted=!1,this.id=eW++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Vn(r)&&(s=i,i=r,r=Vn);var o=this,l=function(){var h=En,d=o.selector,p;return h&&h!==o&&h.data.push(o),s&&(o.selector=cx(s)),En=o,p=i.apply(o,arguments),Vn(p)&&o._r.push(p),En=h,o.selector=d,o.isReverted=!1,p};return o.last=l,r===Vn?l(o,function(c){return o.add(null,c)}):r?o[r]=l:l},e.ignore=function(r){var i=En;En=null,r(this),En=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Qn&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var l=s.getTweens(),c=s.data.length,h;c--;)h=s.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,p){return p.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),c=s.data.length;c--;)h=s.data[c],h instanceof Ti?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Qn)&&h.revert&&h.revert(r);s._r.forEach(function(d){return d(r,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var o=Yu.length;o--;)Yu[o].id===this.id&&Yu.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),tW=function(){function n(t){this.contexts=[],this.scope=t,En&&En.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){Xo(r)||(r={matches:r});var o=new K2(0,s||this.scope),l=o.conditions={},c,h,d;En&&!o.selector&&(o.selector=En.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(h in r)h==="all"?d=1:(c=ko.matchMedia(r[h]),c&&(Yu.indexOf(o)<0&&Yu.push(o),(l[h]=c.matches)&&(d=1),c.addListener?c.addListener(fx):c.addEventListener("change",fx)));return d&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),O_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return D2(i)})},timeline:function(e){return new Ti(e)},getTweensOf:function(e,t){return Cn.getTweensOf(e,t)},getProperty:function(e,t,r,i){Sr(e)&&(e=Ms(e)[0]);var s=Hu(e||{}).get,o=r?T2:w2;return r==="native"&&(r=""),e&&(t?o((as[t]&&as[t].get||s)(e,t,r,i)):function(l,c,h){return o((as[l]&&as[l].get||s)(e,l,c,h))})},quickSetter:function(e,t,r){if(e=Ms(e),e.length>1){var i=e.map(function(d){return Yi.quickSetter(d,t,r)}),s=i.length;return function(d){for(var p=s;p--;)i[p](d)}}e=e[0]||{};var o=as[t],l=Hu(e),c=l.harness&&(l.harness.aliases||{})[t]||t,h=o?function(d){var p=new o;Ch._pt=0,p.init(e,r?d+r:d,Ch,0,[e]),p.render(1,p),Ch._pt&&V1(1,Ch)}:l.set(e,c);return o?h:function(d){return h(e,c,r?d+r:d,l,1)}},quickTo:function(e,t,r){var i,s=Yi.to(e,gs((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(c,h,d){return s.resetTo(t,c,h,d)};return o.tween=s,o},isTweening:function(e){return Cn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Gu(e.ease,Zh.ease)),eP(Zh,e||{})},config:function(e){return eP(fs,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!as[l]&&!ms[l]&&kp(t+" effect requires "+l+" plugin.")}),AT[t]=function(l,c,h){return r(Ms(l),gs(c||{},s),h)},o&&(Ti.prototype[t]=function(l,c,h){return this.add(AT[t](l,Xo(c)?c:(h=c)&&{},this),h)})},registerEase:function(e,t){Ct[e]=Gu(t)},parseEase:function(e,t){return arguments.length?Gu(e,t):Ct},getById:function(e){return Cn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Ti(e),i,s;for(r.smoothChildTiming=Bi(e.smoothChildTiming),Cn.remove(r),r._dp=0,r._time=r._tTime=Cn._time,i=Cn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Qn&&i.vars.onComplete===i._targets[0]))&&Do(r,i,i._start-i._delay),i=s;return Do(Cn,r,0),r},context:function(e,t){return e?new K2(e,t):En},matchMedia:function(e){return new tW(e)},matchMediaRefresh:function(){return Yu.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||fx()},addEventListener:function(e,t){var r=Ky[e]||(Ky[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Ky[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:O9,wrapYoyo:D9,distribute:A2,random:P2,snap:R2,normalize:N9,getUnit:ei,clamp:A9,splitColor:M2,toArray:Ms,selector:cx,mapRange:N2,pipe:P9,unitize:k9,interpolate:M9,shuffle:I2},install:m2,effects:AT,ticker:cs,updateRoot:Ti.updateRoot,plugins:as,globalTimeline:Cn,core:{PropTween:zi,globals:g2,Tween:Qn,Timeline:Ti,Animation:Mp,getCache:Hu,_removeLinkedListItem:Mv,reverting:function(){return Fr},context:function(e){return e&&En&&(En.data.push(e),e._ctx=En),En},suppressOverwrites:function(e){return b1=e}}};$i("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return O_[n]=Qn[n]});cs.add(Ti.updateRoot);Ch=O_.to({},{duration:0});var nW=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},rW=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=nW(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},OT=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(l){var c,h;if(Sr(s)&&(c={},$i(s,function(d){return c[d]=1}),s=c),t){c={};for(h in s)c[h]=t(s[h]);s=c}rW(l,s)}}}},Yi=O_.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,l,c;this.tween=r;for(o in t)c=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(c||0)+"",t[o],i,s,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Fr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},OT("roundProps",hx),OT("modifiers"),OT("snap",R2))||O_;Qn.version=Ti.version=Yi.version="3.13.0";p2=1;I1()&&rd();Ct.Power0;Ct.Power1;Ct.Power2;Ct.Power3;Ct.Power4;Ct.Linear;Ct.Quad;Ct.Cubic;Ct.Quart;Ct.Quint;Ct.Strong;Ct.Elastic;Ct.Back;Ct.SteppedEase;Ct.Bounce;Ct.Sine;Ct.Expo;Ct.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var oP,xl,Bh,F1,ju,aP,U1,iW=function(){return typeof window<"u"},Oa={},Au=180/Math.PI,$h=Math.PI/180,dh=Math.atan2,lP=1e8,B1=/([A-Z])/g,sW=/(left|right|width|margin|padding|x)/i,oW=/[\s,\(]\S/,Mo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},px=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},aW=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},lW=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},uW=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},X2=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Q2=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},cW=function(e,t,r){return e.style[t]=r},hW=function(e,t,r){return e.style.setProperty(t,r)},dW=function(e,t,r){return e._gsap[t]=r},fW=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},pW=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},mW=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},In="transform",Wi=In+"Origin",gW=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in Oa&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Mo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=va(i,l)}):this.tfm[e]=o.x?o[e]:va(i,e),e===Wi&&(this.tfm.zOrigin=o.zOrigin);else return Mo.transform.split(",").forEach(function(l){return n.call(r,l,t)});if(this.props.indexOf(In)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Wi,t,"")),e=In}(s||t)&&this.props.push(e,t,s[e])},J2=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},yW=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(B1,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=U1(),(!s||!s.isStart)&&!r[In]&&(J2(r),i.zOrigin&&r[Wi]&&(r[Wi]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Z2=function(e,t){var r={target:e,props:[],revert:yW,save:gW};return e._gsap||Yi.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return r.save(i)}),r},eL,mx=function(e,t){var r=xl.createElementNS?xl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):xl.createElement(e);return r&&r.style?r:xl.createElement(e)},Ls=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(B1,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,id(t)||t,1)||""},uP="O,Moz,ms,Ms,Webkit".split(","),id=function(e,t,r){var i=t||ju,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(uP[o]+e in s););return o<0?null:(o===3?"ms":o>=0?uP[o]:"")+e},gx=function(){iW()&&window.document&&(oP=window,xl=oP.document,Bh=xl.documentElement,ju=mx("div")||{style:{}},mx("div"),In=id(In),Wi=In+"Origin",ju.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",eL=!!id("perspective"),U1=Yi.core.reverting,F1=1)},cP=function(e){var t=e.ownerSVGElement,r=mx("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),Bh.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),Bh.removeChild(r),s},hP=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},tL=function(e){var t,r;try{t=e.getBBox()}catch{t=cP(e),r=1}return t&&(t.width||t.height)||r||(t=cP(e)),t&&!t.width&&!t.x&&!t.y?{x:+hP(e,["x","cx","x1"])||0,y:+hP(e,["y","cy","y1"])||0,width:0,height:0}:t},nL=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&tL(e))},rc=function(e,t){if(t){var r=e.style,i;t in Oa&&t!==Wi&&(t=In),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(B1,"-$1").toLowerCase())):r.removeAttribute(t)}},Sl=function(e,t,r,i,s,o){var l=new zi(e._pt,t,r,0,1,o?Q2:X2);return e._pt=l,l.b=i,l.e=s,e._props.push(r),l},dP={deg:1,rad:1,turn:1},_W={grid:1,flex:1},Vl=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",l=ju.style,c=sW.test(t),h=e.tagName.toLowerCase()==="svg",d=(h?"client":"offset")+(c?"Width":"Height"),p=100,g=i==="px",_=i==="%",w,v,x,C;if(i===o||!s||dP[i]||dP[o])return s;if(o!=="px"&&!g&&(s=n(e,t,r,"px")),C=e.getCTM&&nL(e),(_||o==="%")&&(Oa[t]||~t.indexOf("adius")))return w=C?e.getBBox()[c?"width":"height"]:e[d],$n(_?s/w*p:s/100*w);if(l[c?"width":"height"]=p+(g?o:i),v=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,C&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===xl||!v.appendChild)&&(v=xl.body),x=v._gsap,x&&_&&x.width&&c&&x.time===cs.time&&!x.uncache)return $n(s/x.width*p);if(_&&(t==="height"||t==="width")){var k=e.style[t];e.style[t]=p+i,w=e[d],k?e.style[t]=k:rc(e,t)}else(_||o==="%")&&!_W[Ls(v,"display")]&&(l.position=Ls(e,"position")),v===e&&(l.position="static"),v.appendChild(ju),w=ju[d],v.removeChild(ju),l.position="absolute";return c&&_&&(x=Hu(v),x.time=cs.time,x.width=v[d]),$n(g?w*s/p:w&&s?p/w*s:0)},va=function(e,t,r,i){var s;return F1||gx(),t in Mo&&t!=="transform"&&(t=Mo[t],~t.indexOf(",")&&(t=t.split(",")[0])),Oa[t]&&t!=="transform"?(s=jp(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:M_(Ls(e,Wi))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=D_[t]&&D_[t](e,t,r)||Ls(e,t)||_2(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Vl(e,t,s,r)+r:s},vW=function(e,t,r,i){if(!r||r==="none"){var s=id(t,e,1),o=s&&Ls(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=Ls(e,"borderTopColor"))}var l=new zi(this._pt,e.style,t,0,1,G2),c=0,h=0,d,p,g,_,w,v,x,C,k,L,O,j;if(l.b=r,l.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=Ls(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(v=e.style[t],e.style[t]=i,i=Ls(e,t)||i,v?e.style[t]=v:rc(e,t)),d=[r,i],j2(d),r=d[0],i=d[1],g=r.match(bh)||[],j=i.match(bh)||[],j.length){for(;p=bh.exec(i);)x=p[0],k=i.substring(c,p.index),w?w=(w+1)%5:(k.substr(-5)==="rgba("||k.substr(-5)==="hsla(")&&(w=1),x!==(v=g[h++]||"")&&(_=parseFloat(v)||0,O=v.substr((_+"").length),x.charAt(1)==="="&&(x=Uh(_,x)+O),C=parseFloat(x),L=x.substr((C+"").length),c=bh.lastIndex-L.length,L||(L=L||fs.units[t]||O,c===i.length&&(i+=L,l.e+=L)),O!==L&&(_=Vl(e,t,v,L)||0),l._pt={_next:l._pt,p:k||h===1?k:",",s:_,c:C-_,m:w&&w<4||t==="zIndex"?Math.round:0});l.c=c<i.length?i.substring(c,i.length):""}else l.r=t==="display"&&i==="none"?Q2:X2;return d2.test(i)&&(l.e=0),this._pt=l,l},fP={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},wW=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=fP[r]||r,t[1]=fP[i]||i,t.join(" ")},TW=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,l,c,h;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),h=s.length;--h>-1;)l=s[h],Oa[l]&&(c=1,l=l==="transformOrigin"?Wi:In),rc(r,l);c&&(rc(r,In),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",jp(r,1),o.uncache=1,J2(i)))}},D_={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new zi(e._pt,t,r,0,0,TW);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Lp=[1,0,0,1,0,0],rL={},iL=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},pP=function(e){var t=Ls(e,In);return iL(t)?Lp:t.substr(7).match(h2).map($n)},$1=function(e,t){var r=e._gsap||Hu(e),i=e.style,s=pP(e),o,l,c,h;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?Lp:s):(s===Lp&&!e.offsetParent&&e!==Bh&&!r.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,Bh.appendChild(e)),s=pP(e),c?i.display=c:rc(e,"display"),h&&(l?o.insertBefore(e,l):o?o.appendChild(e):Bh.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},yx=function(e,t,r,i,s,o){var l=e._gsap,c=s||$1(e,!0),h=l.xOrigin||0,d=l.yOrigin||0,p=l.xOffset||0,g=l.yOffset||0,_=c[0],w=c[1],v=c[2],x=c[3],C=c[4],k=c[5],L=t.split(" "),O=parseFloat(L[0])||0,j=parseFloat(L[1])||0,$,N,A,P;r?c!==Lp&&(N=_*x-w*v)&&(A=O*(x/N)+j*(-v/N)+(v*k-x*C)/N,P=O*(-w/N)+j*(_/N)-(_*k-w*C)/N,O=A,j=P):($=tL(e),O=$.x+(~L[0].indexOf("%")?O/100*$.width:O),j=$.y+(~(L[1]||L[0]).indexOf("%")?j/100*$.height:j)),i||i!==!1&&l.smooth?(C=O-h,k=j-d,l.xOffset=p+(C*_+k*v)-C,l.yOffset=g+(C*w+k*x)-k):l.xOffset=l.yOffset=0,l.xOrigin=O,l.yOrigin=j,l.smooth=!!i,l.origin=t,l.originIsAbsolute=!!r,e.style[Wi]="0px 0px",o&&(Sl(o,l,"xOrigin",h,O),Sl(o,l,"yOrigin",d,j),Sl(o,l,"xOffset",p,l.xOffset),Sl(o,l,"yOffset",g,l.yOffset)),e.setAttribute("data-svg-origin",O+" "+j)},jp=function(e,t){var r=e._gsap||new B2(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",l="deg",c=getComputedStyle(e),h=Ls(e,Wi)||"0",d,p,g,_,w,v,x,C,k,L,O,j,$,N,A,P,D,U,B,V,oe,ie,fe,re,ee,ue,z,W,Q,ye,ve,xe;return d=p=g=v=x=C=k=L=O=0,_=w=1,r.svg=!!(e.getCTM&&nL(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[In]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[In]!=="none"?c[In]:"")),i.scale=i.rotate=i.translate="none"),N=$1(e,r.svg),r.svg&&(r.uncache?(ee=e.getBBox(),h=r.xOrigin-ee.x+"px "+(r.yOrigin-ee.y)+"px",re=""):re=!t&&e.getAttribute("data-svg-origin"),yx(e,re||h,!!re||r.originIsAbsolute,r.smooth!==!1,N)),j=r.xOrigin||0,$=r.yOrigin||0,N!==Lp&&(U=N[0],B=N[1],V=N[2],oe=N[3],d=ie=N[4],p=fe=N[5],N.length===6?(_=Math.sqrt(U*U+B*B),w=Math.sqrt(oe*oe+V*V),v=U||B?dh(B,U)*Au:0,k=V||oe?dh(V,oe)*Au+v:0,k&&(w*=Math.abs(Math.cos(k*$h))),r.svg&&(d-=j-(j*U+$*V),p-=$-(j*B+$*oe))):(xe=N[6],ye=N[7],z=N[8],W=N[9],Q=N[10],ve=N[11],d=N[12],p=N[13],g=N[14],A=dh(xe,Q),x=A*Au,A&&(P=Math.cos(-A),D=Math.sin(-A),re=ie*P+z*D,ee=fe*P+W*D,ue=xe*P+Q*D,z=ie*-D+z*P,W=fe*-D+W*P,Q=xe*-D+Q*P,ve=ye*-D+ve*P,ie=re,fe=ee,xe=ue),A=dh(-V,Q),C=A*Au,A&&(P=Math.cos(-A),D=Math.sin(-A),re=U*P-z*D,ee=B*P-W*D,ue=V*P-Q*D,ve=oe*D+ve*P,U=re,B=ee,V=ue),A=dh(B,U),v=A*Au,A&&(P=Math.cos(A),D=Math.sin(A),re=U*P+B*D,ee=ie*P+fe*D,B=B*P-U*D,fe=fe*P-ie*D,U=re,ie=ee),x&&Math.abs(x)+Math.abs(v)>359.9&&(x=v=0,C=180-C),_=$n(Math.sqrt(U*U+B*B+V*V)),w=$n(Math.sqrt(fe*fe+xe*xe)),A=dh(ie,fe),k=Math.abs(A)>2e-4?A*Au:0,O=ve?1/(ve<0?-ve:ve):0),r.svg&&(re=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!iL(Ls(e,In)),re&&e.setAttribute("transform",re))),Math.abs(k)>90&&Math.abs(k)<270&&(s?(_*=-1,k+=v<=0?180:-180,v+=v<=0?180:-180):(w*=-1,k+=k<=0?180:-180)),t=t||r.uncache,r.x=d-((r.xPercent=d&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=p-((r.yPercent=p&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=g+o,r.scaleX=$n(_),r.scaleY=$n(w),r.rotation=$n(v)+l,r.rotationX=$n(x)+l,r.rotationY=$n(C)+l,r.skewX=k+l,r.skewY=L+l,r.transformPerspective=O+o,(r.zOrigin=parseFloat(h.split(" ")[2])||!t&&r.zOrigin||0)&&(i[Wi]=M_(h)),r.xOffset=r.yOffset=0,r.force3D=fs.force3D,r.renderTransform=r.svg?xW:eL?sL:EW,r.uncache=0,r},M_=function(e){return(e=e.split(" "))[0]+" "+e[1]},DT=function(e,t,r){var i=ei(t);return $n(parseFloat(t)+parseFloat(Vl(e,"x",r+"px",i)))+i},EW=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,sL(e,t)},Su="0deg",Sf="0px",bu=") ",sL=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,l=r.y,c=r.z,h=r.rotation,d=r.rotationY,p=r.rotationX,g=r.skewX,_=r.skewY,w=r.scaleX,v=r.scaleY,x=r.transformPerspective,C=r.force3D,k=r.target,L=r.zOrigin,O="",j=C==="auto"&&e&&e!==1||C===!0;if(L&&(p!==Su||d!==Su)){var $=parseFloat(d)*$h,N=Math.sin($),A=Math.cos($),P;$=parseFloat(p)*$h,P=Math.cos($),o=DT(k,o,N*P*-L),l=DT(k,l,-Math.sin($)*-L),c=DT(k,c,A*P*-L+L)}x!==Sf&&(O+="perspective("+x+bu),(i||s)&&(O+="translate("+i+"%, "+s+"%) "),(j||o!==Sf||l!==Sf||c!==Sf)&&(O+=c!==Sf||j?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+bu),h!==Su&&(O+="rotate("+h+bu),d!==Su&&(O+="rotateY("+d+bu),p!==Su&&(O+="rotateX("+p+bu),(g!==Su||_!==Su)&&(O+="skew("+g+", "+_+bu),(w!==1||v!==1)&&(O+="scale("+w+", "+v+bu),k.style[In]=O||"translate(0, 0)"},xW=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,l=r.y,c=r.rotation,h=r.skewX,d=r.skewY,p=r.scaleX,g=r.scaleY,_=r.target,w=r.xOrigin,v=r.yOrigin,x=r.xOffset,C=r.yOffset,k=r.forceCSS,L=parseFloat(o),O=parseFloat(l),j,$,N,A,P;c=parseFloat(c),h=parseFloat(h),d=parseFloat(d),d&&(d=parseFloat(d),h+=d,c+=d),c||h?(c*=$h,h*=$h,j=Math.cos(c)*p,$=Math.sin(c)*p,N=Math.sin(c-h)*-g,A=Math.cos(c-h)*g,h&&(d*=$h,P=Math.tan(h-d),P=Math.sqrt(1+P*P),N*=P,A*=P,d&&(P=Math.tan(d),P=Math.sqrt(1+P*P),j*=P,$*=P)),j=$n(j),$=$n($),N=$n(N),A=$n(A)):(j=p,A=g,$=N=0),(L&&!~(o+"").indexOf("px")||O&&!~(l+"").indexOf("px"))&&(L=Vl(_,"x",o,"px"),O=Vl(_,"y",l,"px")),(w||v||x||C)&&(L=$n(L+w-(w*j+v*N)+x),O=$n(O+v-(w*$+v*A)+C)),(i||s)&&(P=_.getBBox(),L=$n(L+i/100*P.width),O=$n(O+s/100*P.height)),P="matrix("+j+","+$+","+N+","+A+","+L+","+O+")",_.setAttribute("transform",P),k&&(_.style[In]=P)},SW=function(e,t,r,i,s){var o=360,l=Sr(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?Au:1),h=c-i,d=i+h+"deg",p,g;return l&&(p=s.split("_")[1],p==="short"&&(h%=o,h!==h%(o/2)&&(h+=h<0?o:-360)),p==="cw"&&h<0?h=(h+o*lP)%o-~~(h/o)*o:p==="ccw"&&h>0&&(h=(h-o*lP)%o-~~(h/o)*o)),e._pt=g=new zi(e._pt,t,r,i,h,aW),g.e=d,g.u="deg",e._props.push(r),g},mP=function(e,t){for(var r in t)e[r]=t[r];return e},bW=function(e,t,r){var i=mP({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,c,h,d,p,g,_,w;i.svg?(h=r.getAttribute("transform"),r.setAttribute("transform",""),o[In]=t,l=jp(r,1),rc(r,In),r.setAttribute("transform",h)):(h=getComputedStyle(r)[In],o[In]=t,l=jp(r,1),o[In]=h);for(c in Oa)h=i[c],d=l[c],h!==d&&s.indexOf(c)<0&&(_=ei(h),w=ei(d),p=_!==w?Vl(r,c,h,w):parseFloat(h),g=parseFloat(d),e._pt=new zi(e._pt,l,c,p,g-p,px),e._pt.u=w||0,e._props.push(c));mP(l,i)};$i("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(l){return e<2?n+l:"border"+l+n});D_[e>1?"border"+n:n]=function(l,c,h,d,p){var g,_;if(arguments.length<4)return g=o.map(function(w){return va(l,w,h)}),_=g.join(" "),_.split(g[0]).length===5?g[0]:_;g=(d+"").split(" "),_={},o.forEach(function(w,v){return _[w]=g[v]=g[v]||g[(v-1)/2|0]}),l.init(c,_,p)}});var oL={name:"css",register:gx,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,l=e.style,c=r.vars.startAt,h,d,p,g,_,w,v,x,C,k,L,O,j,$,N,A;F1||gx(),this.styles=this.styles||Z2(e),A=this.styles.props,this.tween=r;for(v in t)if(v!=="autoRound"&&(d=t[v],!(as[v]&&$2(v,t,r,i,e,s)))){if(_=typeof d,w=D_[v],_==="function"&&(d=d.call(r,i,e,s),_=typeof d),_==="string"&&~d.indexOf("random(")&&(d=Op(d)),w)w(this,e,v,d,r)&&(N=1);else if(v.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(v)+"").trim(),d+="",Rl.lastIndex=0,Rl.test(h)||(x=ei(h),C=ei(d)),C?x!==C&&(h=Vl(e,v,h,C)+C):x&&(d+=x),this.add(l,"setProperty",h,d,i,s,0,0,v),o.push(v),A.push(v,0,l[v]);else if(_!=="undefined"){if(c&&v in c?(h=typeof c[v]=="function"?c[v].call(r,i,e,s):c[v],Sr(h)&&~h.indexOf("random(")&&(h=Op(h)),ei(h+"")||h==="auto"||(h+=fs.units[v]||ei(va(e,v))||""),(h+"").charAt(1)==="="&&(h=va(e,v))):h=va(e,v),g=parseFloat(h),k=_==="string"&&d.charAt(1)==="="&&d.substr(0,2),k&&(d=d.substr(2)),p=parseFloat(d),v in Mo&&(v==="autoAlpha"&&(g===1&&va(e,"visibility")==="hidden"&&p&&(g=0),A.push("visibility",0,l.visibility),Sl(this,l,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),v!=="scale"&&v!=="transform"&&(v=Mo[v],~v.indexOf(",")&&(v=v.split(",")[0]))),L=v in Oa,L){if(this.styles.save(v),_==="string"&&d.substring(0,6)==="var(--"&&(d=Ls(e,d.substring(4,d.indexOf(")"))),p=parseFloat(d)),O||(j=e._gsap,j.renderTransform&&!t.parseTransform||jp(e,t.parseTransform),$=t.smoothOrigin!==!1&&j.smooth,O=this._pt=new zi(this._pt,l,In,0,1,j.renderTransform,j,0,-1),O.dep=1),v==="scale")this._pt=new zi(this._pt,j,"scaleY",j.scaleY,(k?Uh(j.scaleY,k+p):p)-j.scaleY||0,px),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){A.push(Wi,0,l[Wi]),d=wW(d),j.svg?yx(e,d,0,$,0,this):(C=parseFloat(d.split(" ")[2])||0,C!==j.zOrigin&&Sl(this,j,"zOrigin",j.zOrigin,C),Sl(this,l,v,M_(h),M_(d)));continue}else if(v==="svgOrigin"){yx(e,d,1,$,0,this);continue}else if(v in rL){SW(this,j,v,g,k?Uh(g,k+d):d);continue}else if(v==="smoothOrigin"){Sl(this,j,"smooth",j.smooth,d);continue}else if(v==="force3D"){j[v]=d;continue}else if(v==="transform"){bW(this,d,e);continue}}else v in l||(v=id(v)||v);if(L||(p||p===0)&&(g||g===0)&&!oW.test(d)&&v in l)x=(h+"").substr((g+"").length),p||(p=0),C=ei(d)||(v in fs.units?fs.units[v]:x),x!==C&&(g=Vl(e,v,h,C)),this._pt=new zi(this._pt,L?j:l,v,g,(k?Uh(g,k+p):p)-g,!L&&(C==="px"||v==="zIndex")&&t.autoRound!==!1?uW:px),this._pt.u=C||0,x!==C&&C!=="%"&&(this._pt.b=h,this._pt.r=lW);else if(v in l)vW.call(this,e,v,h,k?k+d:d);else if(v in e)this.add(e,v,h||e[v],k?k+d:d,i,s);else if(v!=="parseTransform"){R1(v,d);continue}L||(v in l?A.push(v,0,l[v]):typeof e[v]=="function"?A.push(v,2,e[v]()):A.push(v,1,h||e[v])),o.push(v)}}N&&Y2(this)},render:function(e,t){if(t.tween._time||!U1())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:va,aliases:Mo,getSetter:function(e,t,r){var i=Mo[t];return i&&i.indexOf(",")<0&&(t=i),t in Oa&&t!==Wi&&(e._gsap.x||va(e,"x"))?r&&aP===r?t==="scale"?fW:dW:(aP=r||{})&&(t==="scale"?pW:mW):e.style&&!C1(e.style[t])?cW:~t.indexOf("-")?hW:j1(e,t)},core:{_removeProperty:rc,_getMatrix:$1}};Yi.utils.checkPrefix=id;Yi.core.getStyleSaver=Z2;(function(n,e,t,r){var i=$i(n+","+e+","+t,function(s){Oa[s]=1});$i(e,function(s){fs.units[s]="deg",rL[s]=1}),Mo[i[13]]=n+","+e,$i(r,function(s){var o=s.split(":");Mo[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$i("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){fs.units[n]="px"});Yi.registerPlugin(oL);var z1=Yi.registerPlugin(oL)||Yi;z1.core.Tween;const CW=()=>{const n=R.useRef(null);return R.useEffect(()=>{const e=n.current;e&&z1.to(e,{opacity:0,scale:.5,duration:1.5,ease:"power1.inOut"})},[]),E.jsx("img",{ref:n,src:"https://i.ibb.co/JW3nKrKx/paws.png",alt:"Paw",className:"w-6 h-6"})},IW=()=>{const[n,e]=R.useState([]);return R.useEffect(()=>{const t=r=>{const i={x:r.clientX,y:r.clientY};e(s=>(s.length>9e5&&s.shift(),[...s,i]))};return window.addEventListener("mousemove",t),()=>{window.removeEventListener("mousemove",t)}},[]),E.jsx("div",{className:"absolute inset-0 pointer-events-none z-30",children:n.map((t,r)=>E.jsxs("div",{className:"paw-container absolute",style:{left:`${t.x-20+Math.random()*10}px`,top:`${t.y-20+Math.random()*10}px`,animationDelay:`${r*.1}s`,transition:"all 0.8s ease-out"},children:[E.jsx("div",{}),E.jsx("div",{className:"",children:E.jsx(CW,{})})]},r))})},ic=({label:n,alt:e,variant:t="primary",onClick:r,to:i,type:s="button",className:o=""})=>{const h=`w-full md:w-auto px-6 py-2 md:px-8 md:py-3 rounded-full text-base md:text-lg shadow-lg transform transition duration-300 drop-shadow-md uppercase font-semibold text-center ${{primary:"bg-blue-400 hover:bg-blue-800 text-white hover:scale-110",secondary:"bg-white border border-blue-400 text-blue-600 hover:bg-blue-100 hover:scale-105"}[t]} ${o}`;return i?E.jsx(ls,{to:i,className:h,"aria-label":e,children:n}):E.jsx("button",{onClick:r,className:h,"aria-label":e,type:s,children:n})},AW=()=>E.jsx("div",{className:"relative w-full h-screen overflow-hidden bg-yellow-50",children:E.jsxs("section",{className:"hero relative h-full flex items-center justify-center overflow-hidden z-20",children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none z-30",children:E.jsx(IW,{})}),E.jsx("div",{className:"absolute inset-0 bg-[url('/hero-small.webp')] bg-cover bg-center z-0 md:hidden"}),E.jsx("div",{className:"absolute inset-0 bg-[url('/hero-img.jpg')] bg-cover bg-center z-0 hidden md:block"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/40 to-transparent z-10"}),E.jsxs("div",{className:"hero-text relative text-center z-20 text-white px-4",children:[E.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4 animate-[wiggle_1s_ease-in-out_infinite] drop-shadow-lg pb-5",children:"PetHome"}),E.jsxs("p",{className:"text-lg md:text-2xl mb-6 max-w-md mx-auto drop-shadow-md pb-5",children:["Service de garderie ",E.jsx("span",{className:"text-blue-500 font-extrabold",children:"privé"}),E.jsx("br",{})," pour chiens et chats",E.jsx("br",{}),E.jsx("br",{}),"Aventures, Câlins et Repos : les vacances rêvées pour votre boule d’amour !"]}),E.jsx(ic,{label:"Réservez",alt:"Aller à la page de réservation",variant:"primary",to:"/tarifs"})]})]})});function RW(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function PW(n,e,t){return e&&RW(n.prototype,e),n}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Vr,Xy,hs,bl,Cl,zh,aL,Ru,sp,lL,Ta,ro,uL,cL=function(){return Vr||typeof window<"u"&&(Vr=window.gsap)&&Vr.registerPlugin&&Vr},hL=1,Ih=[],mt=[],Uo=[],op=Date.now,_x=function(e,t){return t},kW=function(){var e=sp.core,t=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,mt),i.push.apply(i,Uo),mt=r,Uo=i,_x=function(o,l){return t[o](l)}},Pl=function(e,t){return~Uo.indexOf(e)&&Uo[Uo.indexOf(e)+1][t]},ap=function(e){return!!~lL.indexOf(e)},yi=function(e,t,r,i,s){return e.addEventListener(t,r,{passive:i!==!1,capture:!!s})},gi=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},ay="scrollLeft",ly="scrollTop",vx=function(){return Ta&&Ta.isPressed||mt.cache++},L_=function(e,t){var r=function i(s){if(s||s===0){hL&&(hs.history.scrollRestoration="manual");var o=Ta&&Ta.isPressed;s=i.v=Math.round(s)||(Ta&&Ta.iOS?1:0),e(s),i.cacheID=mt.cache,o&&_x("ss",s)}else(t||mt.cache!==i.cacheID||_x("ref"))&&(i.cacheID=mt.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},Ei={s:ay,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:L_(function(n){return arguments.length?hs.scrollTo(n,lr.sc()):hs.pageXOffset||bl[ay]||Cl[ay]||zh[ay]||0})},lr={s:ly,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ei,sc:L_(function(n){return arguments.length?hs.scrollTo(Ei.sc(),n):hs.pageYOffset||bl[ly]||Cl[ly]||zh[ly]||0})},Li=function(e,t){return(t&&t._ctx&&t._ctx.selector||Vr.utils.toArray)(e)[0]||(typeof e=="string"&&Vr.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},NW=function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1},Fl=function(e,t){var r=t.s,i=t.sc;ap(e)&&(e=bl.scrollingElement||Cl);var s=mt.indexOf(e),o=i===lr.sc?1:2;!~s&&(s=mt.push(e)-1),mt[s+o]||yi(e,"scroll",vx);var l=mt[s+o],c=l||(mt[s+o]=L_(Pl(e,r),!0)||(ap(e)?i:L_(function(h){return arguments.length?e[r]=h:e[r]})));return c.target=e,l||(c.smooth=Vr.getProperty(e,"scrollBehavior")==="smooth"),c},wx=function(e,t,r){var i=e,s=e,o=op(),l=o,c=t||50,h=Math.max(500,c*3),d=function(w,v){var x=op();v||x-o>c?(s=i,i=w,l=o,o=x):r?i+=w:i=s+(w-s)/(x-l)*(o-l)},p=function(){s=i=r?0:i,l=o=0},g=function(w){var v=l,x=s,C=op();return(w||w===0)&&w!==i&&d(w),o===l||C-l>h?0:(i+(r?x:-x))/((r?C:o)-v)*1e3};return{update:d,reset:p,getVelocity:g}},bf=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},gP=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},dL=function(){sp=Vr.core.globals().ScrollTrigger,sp&&sp.core&&kW()},fL=function(e){return Vr=e||cL(),!Xy&&Vr&&typeof document<"u"&&document.body&&(hs=window,bl=document,Cl=bl.documentElement,zh=bl.body,lL=[hs,bl,Cl,zh],Vr.utils.clamp,uL=Vr.core.context||function(){},Ru="onpointerenter"in zh?"pointer":"mouse",aL=Wn.isTouch=hs.matchMedia&&hs.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in hs||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,ro=Wn.eventTypes=("ontouchstart"in Cl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Cl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return hL=0},500),dL(),Xy=1),Xy};Ei.op=lr;mt.cache=0;var Wn=function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(r){Xy||fL(Vr)||console.warn("Please gsap.registerPlugin(Observer)"),sp||dL();var i=r.tolerance,s=r.dragMinimum,o=r.type,l=r.target,c=r.lineHeight,h=r.debounce,d=r.preventDefault,p=r.onStop,g=r.onStopDelay,_=r.ignore,w=r.wheelSpeed,v=r.event,x=r.onDragStart,C=r.onDragEnd,k=r.onDrag,L=r.onPress,O=r.onRelease,j=r.onRight,$=r.onLeft,N=r.onUp,A=r.onDown,P=r.onChangeX,D=r.onChangeY,U=r.onChange,B=r.onToggleX,V=r.onToggleY,oe=r.onHover,ie=r.onHoverEnd,fe=r.onMove,re=r.ignoreCheck,ee=r.isNormalizer,ue=r.onGestureStart,z=r.onGestureEnd,W=r.onWheel,Q=r.onEnable,ye=r.onDisable,ve=r.onClick,xe=r.scrollSpeed,Pe=r.capture,Se=r.allowClicks,Me=r.lockAxis,Ve=r.onLockAxis;this.target=l=Li(l)||Cl,this.vars=r,_&&(_=Vr.utils.toArray(_)),i=i||1e-9,s=s||0,w=w||1,xe=xe||1,o=o||"wheel,touch,pointer",h=h!==!1,c||(c=parseFloat(hs.getComputedStyle(zh).lineHeight)||22);var Et,Ft,Ht,Ye,We,Nt,xt,Z=this,mn=0,Nn=0,On=r.passive||!d&&r.passive!==!1,he=Fl(l,Ei),st=Fl(l,lr),It=he(),Zt=st(),ut=~o.indexOf("touch")&&!~o.indexOf("pointer")&&ro[0]==="pointerdown",_t=ap(l),Ke=l.ownerDocument||bl,Kt=[0,0,0],rn=[0,0,0],Lt=0,qn=function(){return Lt=op()},vt=function(Ne,Le){return(Z.event=Ne)&&_&&NW(Ne.target,_)||Le&&ut&&Ne.pointerType!=="touch"||re&&re(Ne,Le)},hr=function(){Z._vx.reset(),Z._vy.reset(),Ft.pause(),p&&p(Z)},Dn=function(){var Ne=Z.deltaX=gP(Kt),Le=Z.deltaY=gP(rn),me=Math.abs(Ne)>=i,Oe=Math.abs(Le)>=i;U&&(me||Oe)&&U(Z,Ne,Le,Kt,rn),me&&(j&&Z.deltaX>0&&j(Z),$&&Z.deltaX<0&&$(Z),P&&P(Z),B&&Z.deltaX<0!=mn<0&&B(Z),mn=Z.deltaX,Kt[0]=Kt[1]=Kt[2]=0),Oe&&(A&&Z.deltaY>0&&A(Z),N&&Z.deltaY<0&&N(Z),D&&D(Z),V&&Z.deltaY<0!=Nn<0&&V(Z),Nn=Z.deltaY,rn[0]=rn[1]=rn[2]=0),(Ye||Ht)&&(fe&&fe(Z),Ht&&(x&&Ht===1&&x(Z),k&&k(Z),Ht=0),Ye=!1),Nt&&!(Nt=!1)&&Ve&&Ve(Z),We&&(W(Z),We=!1),Et=0},Si=function(Ne,Le,me){Kt[me]+=Ne,rn[me]+=Le,Z._vx.update(Ne),Z._vy.update(Le),h?Et||(Et=requestAnimationFrame(Dn)):Dn()},ui=function(Ne,Le){Me&&!xt&&(Z.axis=xt=Math.abs(Ne)>Math.abs(Le)?"x":"y",Nt=!0),xt!=="y"&&(Kt[2]+=Ne,Z._vx.update(Ne,!0)),xt!=="x"&&(rn[2]+=Le,Z._vy.update(Le,!0)),h?Et||(Et=requestAnimationFrame(Dn)):Dn()},br=function(Ne){if(!vt(Ne,1)){Ne=bf(Ne,d);var Le=Ne.clientX,me=Ne.clientY,Oe=Le-Z.x,be=me-Z.y,Fe=Z.isDragging;Z.x=Le,Z.y=me,(Fe||(Oe||be)&&(Math.abs(Z.startX-Le)>=s||Math.abs(Z.startY-me)>=s))&&(Ht=Fe?2:1,Fe||(Z.isDragging=!0),ui(Oe,be))}},rr=Z.onPress=function(Ue){vt(Ue,1)||Ue&&Ue.button||(Z.axis=xt=null,Ft.pause(),Z.isPressed=!0,Ue=bf(Ue),mn=Nn=0,Z.startX=Z.x=Ue.clientX,Z.startY=Z.y=Ue.clientY,Z._vx.reset(),Z._vy.reset(),yi(ee?l:Ke,ro[1],br,On,!0),Z.deltaX=Z.deltaY=0,L&&L(Z))},Ze=Z.onRelease=function(Ue){if(!vt(Ue,1)){gi(ee?l:Ke,ro[1],br,!0);var Ne=!isNaN(Z.y-Z.startY),Le=Z.isDragging,me=Le&&(Math.abs(Z.x-Z.startX)>3||Math.abs(Z.y-Z.startY)>3),Oe=bf(Ue);!me&&Ne&&(Z._vx.reset(),Z._vy.reset(),d&&Se&&Vr.delayedCall(.08,function(){if(op()-Lt>300&&!Ue.defaultPrevented){if(Ue.target.click)Ue.target.click();else if(Ke.createEvent){var be=Ke.createEvent("MouseEvents");be.initMouseEvent("click",!0,!0,hs,1,Oe.screenX,Oe.screenY,Oe.clientX,Oe.clientY,!1,!1,!1,!1,0,null),Ue.target.dispatchEvent(be)}}})),Z.isDragging=Z.isGesturing=Z.isPressed=!1,p&&Le&&!ee&&Ft.restart(!0),Ht&&Dn(),C&&Le&&C(Z),O&&O(Z,me)}},Cr=function(Ne){return Ne.touches&&Ne.touches.length>1&&(Z.isGesturing=!0)&&ue(Ne,Z.isDragging)},sn=function(){return(Z.isGesturing=!1)||z(Z)},ln=function(Ne){if(!vt(Ne)){var Le=he(),me=st();Si((Le-It)*xe,(me-Zt)*xe,1),It=Le,Zt=me,p&&Ft.restart(!0)}},Ot=function(Ne){if(!vt(Ne)){Ne=bf(Ne,d),W&&(We=!0);var Le=(Ne.deltaMode===1?c:Ne.deltaMode===2?hs.innerHeight:1)*w;Si(Ne.deltaX*Le,Ne.deltaY*Le,0),p&&!ee&&Ft.restart(!0)}},Dt=function(Ne){if(!vt(Ne)){var Le=Ne.clientX,me=Ne.clientY,Oe=Le-Z.x,be=me-Z.y;Z.x=Le,Z.y=me,Ye=!0,p&&Ft.restart(!0),(Oe||be)&&ui(Oe,be)}},Ir=function(Ne){Z.event=Ne,oe(Z)},at=function(Ne){Z.event=Ne,ie(Z)},Mn=function(Ne){return vt(Ne)||bf(Ne,d)&&ve(Z)};Ft=Z._dc=Vr.delayedCall(g||.25,hr).pause(),Z.deltaX=Z.deltaY=0,Z._vx=wx(0,50,!0),Z._vy=wx(0,50,!0),Z.scrollX=he,Z.scrollY=st,Z.isDragging=Z.isGesturing=Z.isPressed=!1,uL(this),Z.enable=function(Ue){return Z.isEnabled||(yi(_t?Ke:l,"scroll",vx),o.indexOf("scroll")>=0&&yi(_t?Ke:l,"scroll",ln,On,Pe),o.indexOf("wheel")>=0&&yi(l,"wheel",Ot,On,Pe),(o.indexOf("touch")>=0&&aL||o.indexOf("pointer")>=0)&&(yi(l,ro[0],rr,On,Pe),yi(Ke,ro[2],Ze),yi(Ke,ro[3],Ze),Se&&yi(l,"click",qn,!0,!0),ve&&yi(l,"click",Mn),ue&&yi(Ke,"gesturestart",Cr),z&&yi(Ke,"gestureend",sn),oe&&yi(l,Ru+"enter",Ir),ie&&yi(l,Ru+"leave",at),fe&&yi(l,Ru+"move",Dt)),Z.isEnabled=!0,Z.isDragging=Z.isGesturing=Z.isPressed=Ye=Ht=!1,Z._vx.reset(),Z._vy.reset(),It=he(),Zt=st(),Ue&&Ue.type&&rr(Ue),Q&&Q(Z)),Z},Z.disable=function(){Z.isEnabled&&(Ih.filter(function(Ue){return Ue!==Z&&ap(Ue.target)}).length||gi(_t?Ke:l,"scroll",vx),Z.isPressed&&(Z._vx.reset(),Z._vy.reset(),gi(ee?l:Ke,ro[1],br,!0)),gi(_t?Ke:l,"scroll",ln,Pe),gi(l,"wheel",Ot,Pe),gi(l,ro[0],rr,Pe),gi(Ke,ro[2],Ze),gi(Ke,ro[3],Ze),gi(l,"click",qn,!0),gi(l,"click",Mn),gi(Ke,"gesturestart",Cr),gi(Ke,"gestureend",sn),gi(l,Ru+"enter",Ir),gi(l,Ru+"leave",at),gi(l,Ru+"move",Dt),Z.isEnabled=Z.isPressed=Z.isDragging=!1,ye&&ye(Z))},Z.kill=Z.revert=function(){Z.disable();var Ue=Ih.indexOf(Z);Ue>=0&&Ih.splice(Ue,1),Ta===Z&&(Ta=0)},Ih.push(Z),ee&&ap(l)&&(Ta=Z),Z.enable(v)},PW(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();Wn.version="3.13.0";Wn.create=function(n){return new Wn(n)};Wn.register=fL;Wn.getAll=function(){return Ih.slice()};Wn.getById=function(n){return Ih.filter(function(e){return e.vars.id===n})[0]};cL()&&Vr.registerPlugin(Wn);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ce,vh,pt,an,us,Bt,W1,j_,Vp,lp,Bf,uy,qr,Vv,Tx,vi,yP,_P,wh,pL,MT,mL,_i,Ex,gL,yL,gl,xx,H1,Wh,q1,V_,Sx,LT,cy=1,Kr=Date.now,jT=Kr(),Vs=0,$f=0,vP=function(e,t,r){var i=ss(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=i,i?e.substr(6,e.length-7):e},wP=function(e,t){return t&&(!ss(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},OW=function n(){return $f&&requestAnimationFrame(n)},TP=function(){return Vv=1},EP=function(){return Vv=0},No=function(e){return e},zf=function(e){return Math.round(e*1e5)/1e5||0},_L=function(){return typeof window<"u"},vL=function(){return Ce||_L()&&(Ce=window.gsap)&&Ce.registerPlugin&&Ce},sc=function(e){return!!~W1.indexOf(e)},wL=function(e){return(e==="Height"?q1:pt["inner"+e])||us["client"+e]||Bt["client"+e]},TL=function(e){return Pl(e,"getBoundingClientRect")||(sc(e)?function(){return t_.width=pt.innerWidth,t_.height=q1,t_}:function(){return wa(e)})},DW=function(e,t,r){var i=r.d,s=r.d2,o=r.a;return(o=Pl(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(t?wL(s):e["client"+s])||0}},MW=function(e,t){return!t||~Uo.indexOf(e)?TL(e):function(){return t_}},Lo=function(e,t){var r=t.s,i=t.d2,s=t.d,o=t.a;return Math.max(0,(r="scroll"+i)&&(o=Pl(e,r))?o()-TL(e)()[s]:sc(e)?(us[r]||Bt[r])-wL(i):e[r]-e["offset"+i])},hy=function(e,t){for(var r=0;r<wh.length;r+=3)(!t||~t.indexOf(wh[r+1]))&&e(wh[r],wh[r+1],wh[r+2])},ss=function(e){return typeof e=="string"},ti=function(e){return typeof e=="function"},Wf=function(e){return typeof e=="number"},Pu=function(e){return typeof e=="object"},Cf=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},VT=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},fh=Math.abs,EL="left",xL="top",G1="right",Y1="bottom",Ku="width",Xu="height",up="Right",cp="Left",hp="Top",dp="Bottom",Xn="padding",Ns="margin",sd="Width",K1="Height",ar="px",Os=function(e){return pt.getComputedStyle(e)},LW=function(e){var t=Os(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},xP=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},wa=function(e,t){var r=t&&Os(e)[Tx]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ce.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},F_=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},SL=function(e){var t=[],r=e.labels,i=e.duration(),s;for(s in r)t.push(r[s]/i);return t},jW=function(e){return function(t){return Ce.utils.snap(SL(e),t)}},X1=function(e){var t=Ce.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return r?function(i,s,o){o===void 0&&(o=.001);var l;if(!s)return t(i);if(s>0){for(i-=o,l=0;l<r.length;l++)if(r[l]>=i)return r[l];return r[l-1]}else for(l=r.length,i+=o;l--;)if(r[l]<=i)return r[l];return r[0]}:function(i,s,o){o===void 0&&(o=.001);var l=t(i);return!s||Math.abs(l-i)<o||l-i<0==s<0?l:t(s<0?i-e:i+e)}},VW=function(e){return function(t,r){return X1(SL(e))(t,r.direction)}},dy=function(e,t,r,i){return r.split(",").forEach(function(s){return e(t,s,i)})},vr=function(e,t,r,i,s){return e.addEventListener(t,r,{passive:!i,capture:!!s})},_r=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},fy=function(e,t,r){r=r&&r.wheelHandler,r&&(e(t,"wheel",r),e(t,"touchmove",r))},SP={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},py={toggleActions:"play",anticipatePin:0},U_={top:0,left:0,center:.5,bottom:1,right:1},Qy=function(e,t){if(ss(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=t/100),e=e.substr(0,r-1)),e=i+(e in U_?U_[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},my=function(e,t,r,i,s,o,l,c){var h=s.startColor,d=s.endColor,p=s.fontSize,g=s.indent,_=s.fontWeight,w=an.createElement("div"),v=sc(r)||Pl(r,"pinType")==="fixed",x=e.indexOf("scroller")!==-1,C=v?Bt:r,k=e.indexOf("start")!==-1,L=k?h:d,O="border-color:"+L+";font-size:"+p+";color:"+L+";font-weight:"+_+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return O+="position:"+((x||c)&&v?"fixed;":"absolute;"),(x||c||!v)&&(O+=(i===lr?G1:Y1)+":"+(o+parseFloat(g))+"px;"),l&&(O+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),w._isStart=k,w.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),w.style.cssText=O,w.innerText=t||t===0?e+"-"+t:e,C.children[0]?C.insertBefore(w,C.children[0]):C.appendChild(w),w._offset=w["offset"+i.op.d2],Jy(w,0,i,k),w},Jy=function(e,t,r,i){var s={display:"block"},o=r[i?"os2":"p2"],l=r[i?"p2":"os2"];e._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+o+sd]=1,s["border"+l+sd]=0,s[r.p]=t+"px",Ce.set(e,s)},ht=[],bx={},Fp,bP=function(){return Kr()-Vs>34&&(Fp||(Fp=requestAnimationFrame(Ca)))},ph=function(){(!_i||!_i.isPressed||_i.startX>Bt.clientWidth)&&(mt.cache++,_i?Fp||(Fp=requestAnimationFrame(Ca)):Ca(),Vs||ac("scrollStart"),Vs=Kr())},FT=function(){yL=pt.innerWidth,gL=pt.innerHeight},Hf=function(e){mt.cache++,(e===!0||!qr&&!mL&&!an.fullscreenElement&&!an.webkitFullscreenElement&&(!Ex||yL!==pt.innerWidth||Math.abs(pt.innerHeight-gL)>pt.innerHeight*.25))&&j_.restart(!0)},oc={},FW=[],bL=function n(){return _r(yt,"scrollEnd",n)||Vu(!0)},ac=function(e){return oc[e]&&oc[e].map(function(t){return t()})||FW},is=[],CL=function(e){for(var t=0;t<is.length;t+=5)(!e||is[t+4]&&is[t+4].query===e)&&(is[t].style.cssText=is[t+1],is[t].getBBox&&is[t].setAttribute("transform",is[t+2]||""),is[t+3].uncache=1)},Q1=function(e,t){var r;for(vi=0;vi<ht.length;vi++)r=ht[vi],r&&(!t||r._ctx===t)&&(e?r.kill(1):r.revert(!0,!0));V_=!0,t&&CL(t),t||ac("revert")},IL=function(e,t){mt.cache++,(t||!wi)&&mt.forEach(function(r){return ti(r)&&r.cacheID++&&(r.rec=0)}),ss(e)&&(pt.history.scrollRestoration=H1=e)},wi,Qu=0,CP,UW=function(){if(CP!==Qu){var e=CP=Qu;requestAnimationFrame(function(){return e===Qu&&Vu(!0)})}},AL=function(){Bt.appendChild(Wh),q1=!_i&&Wh.offsetHeight||pt.innerHeight,Bt.removeChild(Wh)},IP=function(e){return Vp(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Vu=function(e,t){if(us=an.documentElement,Bt=an.body,W1=[pt,an,us,Bt],Vs&&!e&&!V_){vr(yt,"scrollEnd",bL);return}AL(),wi=yt.isRefreshing=!0,mt.forEach(function(i){return ti(i)&&++i.cacheID&&(i.rec=i())});var r=ac("refreshInit");pL&&yt.sort(),t||Q1(),mt.forEach(function(i){ti(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),ht.slice(0).forEach(function(i){return i.refresh()}),V_=!1,ht.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),Sx=1,IP(!0),ht.forEach(function(i){var s=Lo(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,l=i._startClamp&&i.start>=s;(o||l)&&i.setPositions(l?s-1:i.start,o?Math.max(l?s:i.start+1,s):i.end,!0)}),IP(!1),Sx=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),mt.forEach(function(i){ti(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),IL(H1,1),j_.pause(),Qu++,wi=2,Ca(2),ht.forEach(function(i){return ti(i.vars.onRefresh)&&i.vars.onRefresh(i)}),wi=yt.isRefreshing=!1,ac("refresh")},Cx=0,Zy=1,fp,Ca=function(e){if(e===2||!wi&&!V_){yt.isUpdating=!0,fp&&fp.update(0);var t=ht.length,r=Kr(),i=r-jT>=50,s=t&&ht[0].scroll();if(Zy=Cx>s?-1:1,wi||(Cx=s),i&&(Vs&&!Vv&&r-Vs>200&&(Vs=0,ac("scrollEnd")),Bf=jT,jT=r),Zy<0){for(vi=t;vi-- >0;)ht[vi]&&ht[vi].update(0,i);Zy=1}else for(vi=0;vi<t;vi++)ht[vi]&&ht[vi].update(0,i);yt.isUpdating=!1}Fp=0},Ix=[EL,xL,Y1,G1,Ns+dp,Ns+up,Ns+hp,Ns+cp,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],e_=Ix.concat([Ku,Xu,"boxSizing","max"+sd,"max"+K1,"position",Ns,Xn,Xn+hp,Xn+up,Xn+dp,Xn+cp]),BW=function(e,t,r){Hh(r);var i=e._gsap;if(i.spacerIsNative)Hh(i.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},UT=function(e,t,r,i){if(!e._gsap.swappedIn){for(var s=Ix.length,o=t.style,l=e.style,c;s--;)c=Ix[s],o[c]=r[c];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),l[Y1]=l[G1]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Ku]=F_(e,Ei)+ar,o[Xu]=F_(e,lr)+ar,o[Xn]=l[Ns]=l[xL]=l[EL]="0",Hh(i),l[Ku]=l["max"+sd]=r[Ku],l[Xu]=l["max"+K1]=r[Xu],l[Xn]=r[Xn],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},$W=/([A-Z])/g,Hh=function(e){if(e){var t=e.t.style,r=e.length,i=0,s,o;for((e.t._gsap||Ce.core.getCache(e.t)).uncache=1;i<r;i+=2)o=e[i+1],s=e[i],o?t[s]=o:t[s]&&t.removeProperty(s.replace($W,"-$1").toLowerCase())}},gy=function(e){for(var t=e_.length,r=e.style,i=[],s=0;s<t;s++)i.push(e_[s],r[e_[s]]);return i.t=e,i},zW=function(e,t,r){for(var i=[],s=e.length,o=r?8:0,l;o<s;o+=2)l=e[o],i.push(l,l in t?t[l]:e[o+1]);return i.t=e.t,i},t_={left:0,top:0},AP=function(e,t,r,i,s,o,l,c,h,d,p,g,_,w){ti(e)&&(e=e(c)),ss(e)&&e.substr(0,3)==="max"&&(e=g+(e.charAt(4)==="="?Qy("0"+e.substr(3),r):0));var v=_?_.time():0,x,C,k;if(_&&_.seek(0),isNaN(e)||(e=+e),Wf(e))_&&(e=Ce.utils.mapRange(_.scrollTrigger.start,_.scrollTrigger.end,0,g,e)),l&&Jy(l,r,i,!0);else{ti(t)&&(t=t(c));var L=(e||"0").split(" "),O,j,$,N;k=Li(t,c)||Bt,O=wa(k)||{},(!O||!O.left&&!O.top)&&Os(k).display==="none"&&(N=k.style.display,k.style.display="block",O=wa(k),N?k.style.display=N:k.style.removeProperty("display")),j=Qy(L[0],O[i.d]),$=Qy(L[1]||"0",r),e=O[i.p]-h[i.p]-d+j+s-$,l&&Jy(l,$,i,r-$<20||l._isStart&&$>20),r-=r-$}if(w&&(c[w]=e||-.001,e<0&&(e=0)),o){var A=e+r,P=o._isStart;x="scroll"+i.d2,Jy(o,A,i,P&&A>20||!P&&(p?Math.max(Bt[x],us[x]):o.parentNode[x])<=A+1),p&&(h=wa(l),p&&(o.style[i.op.p]=h[i.op.p]-i.op.m-o._offset+ar))}return _&&k&&(x=wa(k),_.seek(g),C=wa(k),_._caScrollDist=x[i.p]-C[i.p],e=e/_._caScrollDist*g),_&&_.seek(v),_?e:Math.round(e)},WW=/(webkit|moz|length|cssText|inset)/i,RP=function(e,t,r,i){if(e.parentNode!==t){var s=e.style,o,l;if(t===Bt){e._stOrig=s.cssText,l=Os(e);for(o in l)!+o&&!WW.test(o)&&l[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=l[o]);s.top=r,s.left=i}else s.cssText=e._stOrig;Ce.core.getCache(e).uncache=1,t.appendChild(e)}},RL=function(e,t,r){var i=t,s=i;return function(o){var l=Math.round(e());return l!==i&&l!==s&&Math.abs(l-i)>3&&Math.abs(l-s)>3&&(o=l,r&&r()),s=i,i=Math.round(o),i}},yy=function(e,t,r){var i={};i[t.p]="+="+r,Ce.set(e,i)},PP=function(e,t){var r=Fl(e,t),i="_scroll"+t.p2,s=function o(l,c,h,d,p){var g=o.tween,_=c.onComplete,w={};h=h||r();var v=RL(r,h,function(){g.kill(),o.tween=0});return p=d&&p||0,d=d||l-h,g&&g.kill(),c[i]=l,c.inherit=!1,c.modifiers=w,w[i]=function(){return v(h+d*g.ratio+p*g.ratio*g.ratio)},c.onUpdate=function(){mt.cache++,o.tween&&Ca()},c.onComplete=function(){o.tween=0,_&&_.call(g)},g=o.tween=Ce.to(e,c),g};return e[i]=r,r.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},vr(e,"wheel",r.wheelHandler),yt.isTouch&&vr(e,"touchmove",r.wheelHandler),s},yt=function(){function n(t,r){vh||n.register(Ce)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),xx(this),this.init(t,r)}var e=n.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!$f){this.update=this.refresh=this.kill=No;return}r=xP(ss(r)||Wf(r)||r.nodeType?{trigger:r}:r,py);var s=r,o=s.onUpdate,l=s.toggleClass,c=s.id,h=s.onToggle,d=s.onRefresh,p=s.scrub,g=s.trigger,_=s.pin,w=s.pinSpacing,v=s.invalidateOnRefresh,x=s.anticipatePin,C=s.onScrubComplete,k=s.onSnapComplete,L=s.once,O=s.snap,j=s.pinReparent,$=s.pinSpacer,N=s.containerAnimation,A=s.fastScrollEnd,P=s.preventOverlaps,D=r.horizontal||r.containerAnimation&&r.horizontal!==!1?Ei:lr,U=!p&&p!==0,B=Li(r.scroller||pt),V=Ce.core.getCache(B),oe=sc(B),ie=("pinType"in r?r.pinType:Pl(B,"pinType")||oe&&"fixed")==="fixed",fe=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],re=U&&r.toggleActions.split(" "),ee="markers"in r?r.markers:py.markers,ue=oe?0:parseFloat(Os(B)["border"+D.p2+sd])||0,z=this,W=r.onRefreshInit&&function(){return r.onRefreshInit(z)},Q=DW(B,oe,D),ye=MW(B,oe),ve=0,xe=0,Pe=0,Se=Fl(B,D),Me,Ve,Et,Ft,Ht,Ye,We,Nt,xt,Z,mn,Nn,On,he,st,It,Zt,ut,_t,Ke,Kt,rn,Lt,qn,vt,hr,Dn,Si,ui,br,rr,Ze,Cr,sn,ln,Ot,Dt,Ir,at;if(z._startClamp=z._endClamp=!1,z._dir=D,x*=45,z.scroller=B,z.scroll=N?N.time.bind(N):Se,Ft=Se(),z.vars=r,i=i||r.animation,"refreshPriority"in r&&(pL=1,r.refreshPriority===-9999&&(fp=z)),V.tweenScroll=V.tweenScroll||{top:PP(B,lr),left:PP(B,Ei)},z.tweenTo=Me=V.tweenScroll[D.p],z.scrubDuration=function(me){Cr=Wf(me)&&me,Cr?Ze?Ze.duration(me):Ze=Ce.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Cr,paused:!0,onComplete:function(){return C&&C(z)}}):(Ze&&Ze.progress(1).kill(),Ze=0)},i&&(i.vars.lazy=!1,i._initted&&!z.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),z.animation=i.pause(),i.scrollTrigger=z,z.scrubDuration(p),br=0,c||(c=i.vars.id)),O&&((!Pu(O)||O.push)&&(O={snapTo:O}),"scrollBehavior"in Bt.style&&Ce.set(oe?[Bt,us]:B,{scrollBehavior:"auto"}),mt.forEach(function(me){return ti(me)&&me.target===(oe?an.scrollingElement||us:B)&&(me.smooth=!1)}),Et=ti(O.snapTo)?O.snapTo:O.snapTo==="labels"?jW(i):O.snapTo==="labelsDirectional"?VW(i):O.directional!==!1?function(me,Oe){return X1(O.snapTo)(me,Kr()-xe<500?0:Oe.direction)}:Ce.utils.snap(O.snapTo),sn=O.duration||{min:.1,max:2},sn=Pu(sn)?lp(sn.min,sn.max):lp(sn,sn),ln=Ce.delayedCall(O.delay||Cr/2||.1,function(){var me=Se(),Oe=Kr()-xe<500,be=Me.tween;if((Oe||Math.abs(z.getVelocity())<10)&&!be&&!Vv&&ve!==me){var Fe=(me-Ye)/he,qt=i&&!U?i.totalProgress():Fe,He=Oe?0:(qt-rr)/(Kr()-Bf)*1e3||0,Gt=Ce.utils.clamp(-Fe,1-Fe,fh(He/2)*He/.185),gn=Fe+(O.inertia===!1?0:Gt),jt,Ut,lt=O,je=lt.onStart,De=lt.onInterrupt,ct=lt.onComplete;if(jt=Et(gn,z),Wf(jt)||(jt=gn),Ut=Math.max(0,Math.round(Ye+jt*he)),me<=We&&me>=Ye&&Ut!==me){if(be&&!be._initted&&be.data<=fh(Ut-me))return;O.inertia===!1&&(Gt=jt-Fe),Me(Ut,{duration:sn(fh(Math.max(fh(gn-qt),fh(jt-qt))*.185/He/.05||0)),ease:O.ease||"power3",data:fh(Ut-me),onInterrupt:function(){return ln.restart(!0)&&De&&De(z)},onComplete:function(){z.update(),ve=Se(),i&&!U&&(Ze?Ze.resetTo("totalProgress",jt,i._tTime/i._tDur):i.progress(jt)),br=rr=i&&!U?i.totalProgress():z.progress,k&&k(z),ct&&ct(z)}},me,Gt*he,Ut-me-Gt*he),je&&je(z,Me.tween)}}else z.isActive&&ve!==me&&ln.restart(!0)}).pause()),c&&(bx[c]=z),g=z.trigger=Li(g||_!==!0&&_),at=g&&g._gsap&&g._gsap.stRevert,at&&(at=at(z)),_=_===!0?g:Li(_),ss(l)&&(l={targets:g,className:l}),_&&(w===!1||w===Ns||(w=!w&&_.parentNode&&_.parentNode.style&&Os(_.parentNode).display==="flex"?!1:Xn),z.pin=_,Ve=Ce.core.getCache(_),Ve.spacer?st=Ve.pinState:($&&($=Li($),$&&!$.nodeType&&($=$.current||$.nativeElement),Ve.spacerIsNative=!!$,$&&(Ve.spacerState=gy($))),Ve.spacer=ut=$||an.createElement("div"),ut.classList.add("pin-spacer"),c&&ut.classList.add("pin-spacer-"+c),Ve.pinState=st=gy(_)),r.force3D!==!1&&Ce.set(_,{force3D:!0}),z.spacer=ut=Ve.spacer,ui=Os(_),qn=ui[w+D.os2],Ke=Ce.getProperty(_),Kt=Ce.quickSetter(_,D.a,ar),UT(_,ut,ui),Zt=gy(_)),ee){Nn=Pu(ee)?xP(ee,SP):SP,Z=my("scroller-start",c,B,D,Nn,0),mn=my("scroller-end",c,B,D,Nn,0,Z),_t=Z["offset"+D.op.d2];var Mn=Li(Pl(B,"content")||B);Nt=this.markerStart=my("start",c,Mn,D,Nn,_t,0,N),xt=this.markerEnd=my("end",c,Mn,D,Nn,_t,0,N),N&&(Ir=Ce.quickSetter([Nt,xt],D.a,ar)),!ie&&!(Uo.length&&Pl(B,"fixedMarkers")===!0)&&(LW(oe?Bt:B),Ce.set([Z,mn],{force3D:!0}),hr=Ce.quickSetter(Z,D.a,ar),Si=Ce.quickSetter(mn,D.a,ar))}if(N){var Ue=N.vars.onUpdate,Ne=N.vars.onUpdateParams;N.eventCallback("onUpdate",function(){z.update(0,0,1),Ue&&Ue.apply(N,Ne||[])})}if(z.previous=function(){return ht[ht.indexOf(z)-1]},z.next=function(){return ht[ht.indexOf(z)+1]},z.revert=function(me,Oe){if(!Oe)return z.kill(!0);var be=me!==!1||!z.enabled,Fe=qr;be!==z.isReverted&&(be&&(Ot=Math.max(Se(),z.scroll.rec||0),Pe=z.progress,Dt=i&&i.progress()),Nt&&[Nt,xt,Z,mn].forEach(function(qt){return qt.style.display=be?"none":"block"}),be&&(qr=z,z.update(be)),_&&(!j||!z.isActive)&&(be?BW(_,ut,st):UT(_,ut,Os(_),vt)),be||z.update(be),qr=Fe,z.isReverted=be)},z.refresh=function(me,Oe,be,Fe){if(!((qr||!z.enabled)&&!Oe)){if(_&&me&&Vs){vr(n,"scrollEnd",bL);return}!wi&&W&&W(z),qr=z,Me.tween&&!be&&(Me.tween.kill(),Me.tween=0),Ze&&Ze.pause(),v&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(Xi){return Xi.vars.immediateRender&&Xi.render(0,!0,!0)})),z.isReverted||z.revert(!0,!0),z._subPinOffset=!1;var qt=Q(),He=ye(),Gt=N?N.duration():Lo(B,D),gn=he<=.01||!he,jt=0,Ut=Fe||0,lt=Pu(be)?be.end:r.end,je=r.endTrigger||g,De=Pu(be)?be.start:r.start||(r.start===0||!g?0:_?"0 0":"0 100%"),ct=z.pinnedContainer=r.pinnedContainer&&Li(r.pinnedContainer,z),Xt=g&&Math.max(0,ht.indexOf(z))||0,wt=Xt,Qt,yn,bi,qa,rt,_n,dr,vs,ci,Hs,hi,Ki,fr;for(ee&&Pu(be)&&(Ki=Ce.getProperty(Z,D.p),fr=Ce.getProperty(mn,D.p));wt-- >0;)_n=ht[wt],_n.end||_n.refresh(0,1)||(qr=z),dr=_n.pin,dr&&(dr===g||dr===_||dr===ct)&&!_n.isReverted&&(Hs||(Hs=[]),Hs.unshift(_n),_n.revert(!0,!0)),_n!==ht[wt]&&(Xt--,wt--);for(ti(De)&&(De=De(z)),De=vP(De,"start",z),Ye=AP(De,g,qt,D,Se(),Nt,Z,z,He,ue,ie,Gt,N,z._startClamp&&"_startClamp")||(_?-.001:0),ti(lt)&&(lt=lt(z)),ss(lt)&&!lt.indexOf("+=")&&(~lt.indexOf(" ")?lt=(ss(De)?De.split(" ")[0]:"")+lt:(jt=Qy(lt.substr(2),qt),lt=ss(De)?De:(N?Ce.utils.mapRange(0,N.duration(),N.scrollTrigger.start,N.scrollTrigger.end,Ye):Ye)+jt,je=g)),lt=vP(lt,"end",z),We=Math.max(Ye,AP(lt||(je?"100% 0":Gt),je,qt,D,Se()+jt,xt,mn,z,He,ue,ie,Gt,N,z._endClamp&&"_endClamp"))||-.001,jt=0,wt=Xt;wt--;)_n=ht[wt],dr=_n.pin,dr&&_n.start-_n._pinPush<=Ye&&!N&&_n.end>0&&(Qt=_n.end-(z._startClamp?Math.max(0,_n.start):_n.start),(dr===g&&_n.start-_n._pinPush<Ye||dr===ct)&&isNaN(De)&&(jt+=Qt*(1-_n.progress)),dr===_&&(Ut+=Qt));if(Ye+=jt,We+=jt,z._startClamp&&(z._startClamp+=jt),z._endClamp&&!wi&&(z._endClamp=We||-.001,We=Math.min(We,Lo(B,D))),he=We-Ye||(Ye-=.01)&&.001,gn&&(Pe=Ce.utils.clamp(0,1,Ce.utils.normalize(Ye,We,Ot))),z._pinPush=Ut,Nt&&jt&&(Qt={},Qt[D.a]="+="+jt,ct&&(Qt[D.p]="-="+Se()),Ce.set([Nt,xt],Qt)),_&&!(Sx&&z.end>=Lo(B,D)))Qt=Os(_),qa=D===lr,bi=Se(),rn=parseFloat(Ke(D.a))+Ut,!Gt&&We>1&&(hi=(oe?an.scrollingElement||us:B).style,hi={style:hi,value:hi["overflow"+D.a.toUpperCase()]},oe&&Os(Bt)["overflow"+D.a.toUpperCase()]!=="scroll"&&(hi.style["overflow"+D.a.toUpperCase()]="scroll")),UT(_,ut,Qt),Zt=gy(_),yn=wa(_,!0),vs=ie&&Fl(B,qa?Ei:lr)(),w?(vt=[w+D.os2,he+Ut+ar],vt.t=ut,wt=w===Xn?F_(_,D)+he+Ut:0,wt&&(vt.push(D.d,wt+ar),ut.style.flexBasis!=="auto"&&(ut.style.flexBasis=wt+ar)),Hh(vt),ct&&ht.forEach(function(Xi){Xi.pin===ct&&Xi.vars.pinSpacing!==!1&&(Xi._subPinOffset=!0)}),ie&&Se(Ot)):(wt=F_(_,D),wt&&ut.style.flexBasis!=="auto"&&(ut.style.flexBasis=wt+ar)),ie&&(rt={top:yn.top+(qa?bi-Ye:vs)+ar,left:yn.left+(qa?vs:bi-Ye)+ar,boxSizing:"border-box",position:"fixed"},rt[Ku]=rt["max"+sd]=Math.ceil(yn.width)+ar,rt[Xu]=rt["max"+K1]=Math.ceil(yn.height)+ar,rt[Ns]=rt[Ns+hp]=rt[Ns+up]=rt[Ns+dp]=rt[Ns+cp]="0",rt[Xn]=Qt[Xn],rt[Xn+hp]=Qt[Xn+hp],rt[Xn+up]=Qt[Xn+up],rt[Xn+dp]=Qt[Xn+dp],rt[Xn+cp]=Qt[Xn+cp],It=zW(st,rt,j),wi&&Se(0)),i?(ci=i._initted,MT(1),i.render(i.duration(),!0,!0),Lt=Ke(D.a)-rn+he+Ut,Dn=Math.abs(he-Lt)>1,ie&&Dn&&It.splice(It.length-2,2),i.render(0,!0,!0),ci||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),MT(0)):Lt=he,hi&&(hi.value?hi.style["overflow"+D.a.toUpperCase()]=hi.value:hi.style.removeProperty("overflow-"+D.a));else if(g&&Se()&&!N)for(yn=g.parentNode;yn&&yn!==Bt;)yn._pinOffset&&(Ye-=yn._pinOffset,We-=yn._pinOffset),yn=yn.parentNode;Hs&&Hs.forEach(function(Xi){return Xi.revert(!1,!0)}),z.start=Ye,z.end=We,Ft=Ht=wi?Ot:Se(),!N&&!wi&&(Ft<Ot&&Se(Ot),z.scroll.rec=0),z.revert(!1,!0),xe=Kr(),ln&&(ve=-1,ln.restart(!0)),qr=0,i&&U&&(i._initted||Dt)&&i.progress()!==Dt&&i.progress(Dt||0,!0).render(i.time(),!0,!0),(gn||Pe!==z.progress||N||v||i&&!i._initted)&&(i&&!U&&(i._initted||Pe||i.vars.immediateRender!==!1)&&i.totalProgress(N&&Ye<-.001&&!Pe?Ce.utils.normalize(Ye,We,0):Pe,!0),z.progress=gn||(Ft-Ye)/he===Pe?0:Pe),_&&w&&(ut._pinOffset=Math.round(z.progress*Lt)),Ze&&Ze.invalidate(),isNaN(Ki)||(Ki-=Ce.getProperty(Z,D.p),fr-=Ce.getProperty(mn,D.p),yy(Z,D,Ki),yy(Nt,D,Ki-(Fe||0)),yy(mn,D,fr),yy(xt,D,fr-(Fe||0))),gn&&!wi&&z.update(),d&&!wi&&!On&&(On=!0,d(z),On=!1)}},z.getVelocity=function(){return(Se()-Ht)/(Kr()-Bf)*1e3||0},z.endAnimation=function(){Cf(z.callbackAnimation),i&&(Ze?Ze.progress(1):i.paused()?U||Cf(i,z.direction<0,1):Cf(i,i.reversed()))},z.labelToScroll=function(me){return i&&i.labels&&(Ye||z.refresh()||Ye)+i.labels[me]/i.duration()*he||0},z.getTrailing=function(me){var Oe=ht.indexOf(z),be=z.direction>0?ht.slice(0,Oe).reverse():ht.slice(Oe+1);return(ss(me)?be.filter(function(Fe){return Fe.vars.preventOverlaps===me}):be).filter(function(Fe){return z.direction>0?Fe.end<=Ye:Fe.start>=We})},z.update=function(me,Oe,be){if(!(N&&!be&&!me)){var Fe=wi===!0?Ot:z.scroll(),qt=me?0:(Fe-Ye)/he,He=qt<0?0:qt>1?1:qt||0,Gt=z.progress,gn,jt,Ut,lt,je,De,ct,Xt;if(Oe&&(Ht=Ft,Ft=N?Se():Fe,O&&(rr=br,br=i&&!U?i.totalProgress():He)),x&&_&&!qr&&!cy&&Vs&&(!He&&Ye<Fe+(Fe-Ht)/(Kr()-Bf)*x?He=1e-4:He===1&&We>Fe+(Fe-Ht)/(Kr()-Bf)*x&&(He=.9999)),He!==Gt&&z.enabled){if(gn=z.isActive=!!He&&He<1,jt=!!Gt&&Gt<1,De=gn!==jt,je=De||!!He!=!!Gt,z.direction=He>Gt?1:-1,z.progress=He,je&&!qr&&(Ut=He&&!Gt?0:He===1?1:Gt===1?2:3,U&&(lt=!De&&re[Ut+1]!=="none"&&re[Ut+1]||re[Ut],Xt=i&&(lt==="complete"||lt==="reset"||lt in i))),P&&(De||Xt)&&(Xt||p||!i)&&(ti(P)?P(z):z.getTrailing(P).forEach(function(bi){return bi.endAnimation()})),U||(Ze&&!qr&&!cy?(Ze._dp._time-Ze._start!==Ze._time&&Ze.render(Ze._dp._time-Ze._start),Ze.resetTo?Ze.resetTo("totalProgress",He,i._tTime/i._tDur):(Ze.vars.totalProgress=He,Ze.invalidate().restart())):i&&i.totalProgress(He,!!(qr&&(xe||me)))),_){if(me&&w&&(ut.style[w+D.os2]=qn),!ie)Kt(zf(rn+Lt*He));else if(je){if(ct=!me&&He>Gt&&We+1>Fe&&Fe+1>=Lo(B,D),j)if(!me&&(gn||ct)){var wt=wa(_,!0),Qt=Fe-Ye;RP(_,Bt,wt.top+(D===lr?Qt:0)+ar,wt.left+(D===lr?0:Qt)+ar)}else RP(_,ut);Hh(gn||ct?It:Zt),Dn&&He<1&&gn||Kt(rn+(He===1&&!ct?Lt:0))}}O&&!Me.tween&&!qr&&!cy&&ln.restart(!0),l&&(De||L&&He&&(He<1||!LT))&&Vp(l.targets).forEach(function(bi){return bi.classList[gn||L?"add":"remove"](l.className)}),o&&!U&&!me&&o(z),je&&!qr?(U&&(Xt&&(lt==="complete"?i.pause().totalProgress(1):lt==="reset"?i.restart(!0).pause():lt==="restart"?i.restart(!0):i[lt]()),o&&o(z)),(De||!LT)&&(h&&De&&VT(z,h),fe[Ut]&&VT(z,fe[Ut]),L&&(He===1?z.kill(!1,1):fe[Ut]=0),De||(Ut=He===1?1:3,fe[Ut]&&VT(z,fe[Ut]))),A&&!gn&&Math.abs(z.getVelocity())>(Wf(A)?A:2500)&&(Cf(z.callbackAnimation),Ze?Ze.progress(1):Cf(i,lt==="reverse"?1:!He,1))):U&&o&&!qr&&o(z)}if(Si){var yn=N?Fe/N.duration()*(N._caScrollDist||0):Fe;hr(yn+(Z._isFlipped?1:0)),Si(yn)}Ir&&Ir(-Fe/N.duration()*(N._caScrollDist||0))}},z.enable=function(me,Oe){z.enabled||(z.enabled=!0,vr(B,"resize",Hf),oe||vr(B,"scroll",ph),W&&vr(n,"refreshInit",W),me!==!1&&(z.progress=Pe=0,Ft=Ht=ve=Se()),Oe!==!1&&z.refresh())},z.getTween=function(me){return me&&Me?Me.tween:Ze},z.setPositions=function(me,Oe,be,Fe){if(N){var qt=N.scrollTrigger,He=N.duration(),Gt=qt.end-qt.start;me=qt.start+Gt*me/He,Oe=qt.start+Gt*Oe/He}z.refresh(!1,!1,{start:wP(me,be&&!!z._startClamp),end:wP(Oe,be&&!!z._endClamp)},Fe),z.update()},z.adjustPinSpacing=function(me){if(vt&&me){var Oe=vt.indexOf(D.d)+1;vt[Oe]=parseFloat(vt[Oe])+me+ar,vt[1]=parseFloat(vt[1])+me+ar,Hh(vt)}},z.disable=function(me,Oe){if(z.enabled&&(me!==!1&&z.revert(!0,!0),z.enabled=z.isActive=!1,Oe||Ze&&Ze.pause(),Ot=0,Ve&&(Ve.uncache=1),W&&_r(n,"refreshInit",W),ln&&(ln.pause(),Me.tween&&Me.tween.kill()&&(Me.tween=0)),!oe)){for(var be=ht.length;be--;)if(ht[be].scroller===B&&ht[be]!==z)return;_r(B,"resize",Hf),oe||_r(B,"scroll",ph)}},z.kill=function(me,Oe){z.disable(me,Oe),Ze&&!Oe&&Ze.kill(),c&&delete bx[c];var be=ht.indexOf(z);be>=0&&ht.splice(be,1),be===vi&&Zy>0&&vi--,be=0,ht.forEach(function(Fe){return Fe.scroller===z.scroller&&(be=1)}),be||wi||(z.scroll.rec=0),i&&(i.scrollTrigger=null,me&&i.revert({kill:!1}),Oe||i.kill()),Nt&&[Nt,xt,Z,mn].forEach(function(Fe){return Fe.parentNode&&Fe.parentNode.removeChild(Fe)}),fp===z&&(fp=0),_&&(Ve&&(Ve.uncache=1),be=0,ht.forEach(function(Fe){return Fe.pin===_&&be++}),be||(Ve.spacer=0)),r.onKill&&r.onKill(z)},ht.push(z),z.enable(!1,!1),at&&at(z),i&&i.add&&!he){var Le=z.update;z.update=function(){z.update=Le,mt.cache++,Ye||We||z.refresh()},Ce.delayedCall(.01,z.update),he=.01,Ye=We=0}else z.refresh();_&&UW()},n.register=function(r){return vh||(Ce=r||vL(),_L()&&window.document&&n.enable(),vh=$f),vh},n.defaults=function(r){if(r)for(var i in r)py[i]=r[i];return py},n.disable=function(r,i){$f=0,ht.forEach(function(o){return o[i?"kill":"disable"](r)}),_r(pt,"wheel",ph),_r(an,"scroll",ph),clearInterval(uy),_r(an,"touchcancel",No),_r(Bt,"touchstart",No),dy(_r,an,"pointerdown,touchstart,mousedown",TP),dy(_r,an,"pointerup,touchend,mouseup",EP),j_.kill(),hy(_r);for(var s=0;s<mt.length;s+=3)fy(_r,mt[s],mt[s+1]),fy(_r,mt[s],mt[s+2])},n.enable=function(){if(pt=window,an=document,us=an.documentElement,Bt=an.body,Ce&&(Vp=Ce.utils.toArray,lp=Ce.utils.clamp,xx=Ce.core.context||No,MT=Ce.core.suppressOverwrites||No,H1=pt.history.scrollRestoration||"auto",Cx=pt.pageYOffset||0,Ce.core.globals("ScrollTrigger",n),Bt)){$f=1,Wh=document.createElement("div"),Wh.style.height="100vh",Wh.style.position="absolute",AL(),OW(),Wn.register(Ce),n.isTouch=Wn.isTouch,gl=Wn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Ex=Wn.isTouch===1,vr(pt,"wheel",ph),W1=[pt,an,us,Bt],Ce.matchMedia?(n.matchMedia=function(h){var d=Ce.matchMedia(),p;for(p in h)d.add(p,h[p]);return d},Ce.addEventListener("matchMediaInit",function(){return Q1()}),Ce.addEventListener("matchMediaRevert",function(){return CL()}),Ce.addEventListener("matchMedia",function(){Vu(0,1),ac("matchMedia")}),Ce.matchMedia().add("(orientation: portrait)",function(){return FT(),FT})):console.warn("Requires GSAP 3.11.0 or later"),FT(),vr(an,"scroll",ph);var r=Bt.hasAttribute("style"),i=Bt.style,s=i.borderTopStyle,o=Ce.core.Animation.prototype,l,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",l=wa(Bt),lr.m=Math.round(l.top+lr.sc())||0,Ei.m=Math.round(l.left+Ei.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(Bt.setAttribute("style",""),Bt.removeAttribute("style")),uy=setInterval(bP,250),Ce.delayedCall(.5,function(){return cy=0}),vr(an,"touchcancel",No),vr(Bt,"touchstart",No),dy(vr,an,"pointerdown,touchstart,mousedown",TP),dy(vr,an,"pointerup,touchend,mouseup",EP),Tx=Ce.utils.checkPrefix("transform"),e_.push(Tx),vh=Kr(),j_=Ce.delayedCall(.2,Vu).pause(),wh=[an,"visibilitychange",function(){var h=pt.innerWidth,d=pt.innerHeight;an.hidden?(yP=h,_P=d):(yP!==h||_P!==d)&&Hf()},an,"DOMContentLoaded",Vu,pt,"load",Vu,pt,"resize",Hf],hy(vr),ht.forEach(function(h){return h.enable(0,1)}),c=0;c<mt.length;c+=3)fy(_r,mt[c],mt[c+1]),fy(_r,mt[c],mt[c+2])}},n.config=function(r){"limitCallbacks"in r&&(LT=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(uy)||(uy=i)&&setInterval(bP,i),"ignoreMobileResize"in r&&(Ex=n.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(hy(_r)||hy(vr,r.autoRefreshEvents||"none"),mL=(r.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(r,i){var s=Li(r),o=mt.indexOf(s),l=sc(s);~o&&mt.splice(o,l?6:2),i&&(l?Uo.unshift(pt,i,Bt,i,us,i):Uo.unshift(s,i))},n.clearMatchMedia=function(r){ht.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},n.isInViewport=function(r,i,s){var o=(ss(r)?Li(r):r).getBoundingClientRect(),l=o[s?Ku:Xu]*i||0;return s?o.right-l>0&&o.left+l<pt.innerWidth:o.bottom-l>0&&o.top+l<pt.innerHeight},n.positionInViewport=function(r,i,s){ss(r)&&(r=Li(r));var o=r.getBoundingClientRect(),l=o[s?Ku:Xu],c=i==null?l/2:i in U_?U_[i]*l:~i.indexOf("%")?parseFloat(i)*l/100:parseFloat(i)||0;return s?(o.left+c)/pt.innerWidth:(o.top+c)/pt.innerHeight},n.killAll=function(r){if(ht.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),r!==!0){var i=oc.killAll||[];oc={},i.forEach(function(s){return s()})}},n}();yt.version="3.13.0";yt.saveStyles=function(n){return n?Vp(n).forEach(function(e){if(e&&e.style){var t=is.indexOf(e);t>=0&&is.splice(t,5),is.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ce.core.getCache(e),xx())}}):is};yt.revert=function(n,e){return Q1(!n,e)};yt.create=function(n,e){return new yt(n,e)};yt.refresh=function(n){return n?Hf(!0):(vh||yt.register())&&Vu(!0)};yt.update=function(n){return++mt.cache&&Ca(n===!0?2:0)};yt.clearScrollMemory=IL;yt.maxScroll=function(n,e){return Lo(n,e?Ei:lr)};yt.getScrollFunc=function(n,e){return Fl(Li(n),e?Ei:lr)};yt.getById=function(n){return bx[n]};yt.getAll=function(){return ht.filter(function(n){return n.vars.id!=="ScrollSmoother"})};yt.isScrolling=function(){return!!Vs};yt.snapDirectional=X1;yt.addEventListener=function(n,e){var t=oc[n]||(oc[n]=[]);~t.indexOf(e)||t.push(e)};yt.removeEventListener=function(n,e){var t=oc[n],r=t&&t.indexOf(e);r>=0&&t.splice(r,1)};yt.batch=function(n,e){var t=[],r={},i=e.interval||.016,s=e.batchMax||1e9,o=function(h,d){var p=[],g=[],_=Ce.delayedCall(i,function(){d(p,g),p=[],g=[]}).pause();return function(w){p.length||_.restart(!0),p.push(w.trigger),g.push(w),s<=p.length&&_.progress(1)}},l;for(l in e)r[l]=l.substr(0,2)==="on"&&ti(e[l])&&l!=="onRefreshInit"?o(l,e[l]):e[l];return ti(s)&&(s=s(),vr(yt,"refresh",function(){return s=e.batchMax()})),Vp(n).forEach(function(c){var h={};for(l in r)h[l]=r[l];h.trigger=c,t.push(yt.create(h))}),t};var kP=function(e,t,r,i){return t>i?e(i):t<0&&e(0),r>i?(i-t)/(r-t):r<0?t/(t-r):1},BT=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Wn.isTouch?" pinch-zoom":""):"none",e===us&&n(Bt,t)},_y={auto:1,scroll:1},HW=function(e){var t=e.event,r=e.target,i=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||Ce.core.getCache(s),l=Kr(),c;if(!o._isScrollT||l-o._isScrollT>2e3){for(;s&&s!==Bt&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(_y[(c=Os(s)).overflowY]||_y[c.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==r&&!sc(s)&&(_y[(c=Os(s)).overflowY]||_y[c.overflowX]),o._isScrollT=l}(o._isScroll||i==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},PL=function(e,t,r,i){return Wn.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&HW,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&vr(an,Wn.eventTypes[0],OP,!1,!0)},onDisable:function(){return _r(an,Wn.eventTypes[0],OP,!0)}})},qW=/(input|label|select|textarea)/i,NP,OP=function(e){var t=qW.test(e.target.tagName);(t||NP)&&(e._gsapAllow=!0,NP=t)},GW=function(e){Pu(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,r=t.normalizeScrollX,i=t.momentum,s=t.allowNestedScroll,o=t.onRelease,l,c,h=Li(e.target)||us,d=Ce.core.globals().ScrollSmoother,p=d&&d.get(),g=gl&&(e.content&&Li(e.content)||p&&e.content!==!1&&!p.smooth()&&p.content()),_=Fl(h,lr),w=Fl(h,Ei),v=1,x=(Wn.isTouch&&pt.visualViewport?pt.visualViewport.scale*pt.visualViewport.width:pt.outerWidth)/pt.innerWidth,C=0,k=ti(i)?function(){return i(l)}:function(){return i||2.8},L,O,j=PL(h,e.type,!0,s),$=function(){return O=!1},N=No,A=No,P=function(){c=Lo(h,lr),A=lp(gl?1:0,c),r&&(N=lp(0,Lo(h,Ei))),L=Qu},D=function(){g._gsap.y=zf(parseFloat(g._gsap.y)+_.offset)+"px",g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(g._gsap.y)+", 0, 1)",_.offset=_.cacheID=0},U=function(){if(O){requestAnimationFrame($);var ee=zf(l.deltaY/2),ue=A(_.v-ee);if(g&&ue!==_.v+_.offset){_.offset=ue-_.v;var z=zf((parseFloat(g&&g._gsap.y)||0)-_.offset);g.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+z+", 0, 1)",g._gsap.y=z+"px",_.cacheID=mt.cache,Ca()}return!0}_.offset&&D(),O=!0},B,V,oe,ie,fe=function(){P(),B.isActive()&&B.vars.scrollY>c&&(_()>c?B.progress(1)&&_(c):B.resetTo("scrollY",c))};return g&&Ce.set(g,{y:"+=0"}),e.ignoreCheck=function(re){return gl&&re.type==="touchmove"&&U()||v>1.05&&re.type!=="touchstart"||l.isGesturing||re.touches&&re.touches.length>1},e.onPress=function(){O=!1;var re=v;v=zf((pt.visualViewport&&pt.visualViewport.scale||1)/x),B.pause(),re!==v&&BT(h,v>1.01?!0:r?!1:"x"),V=w(),oe=_(),P(),L=Qu},e.onRelease=e.onGestureStart=function(re,ee){if(_.offset&&D(),!ee)ie.restart(!0);else{mt.cache++;var ue=k(),z,W;r&&(z=w(),W=z+ue*.05*-re.velocityX/.227,ue*=kP(w,z,W,Lo(h,Ei)),B.vars.scrollX=N(W)),z=_(),W=z+ue*.05*-re.velocityY/.227,ue*=kP(_,z,W,Lo(h,lr)),B.vars.scrollY=A(W),B.invalidate().duration(ue).play(.01),(gl&&B.vars.scrollY>=c||z>=c-1)&&Ce.to({},{onUpdate:fe,duration:ue})}o&&o(re)},e.onWheel=function(){B._ts&&B.pause(),Kr()-C>1e3&&(L=0,C=Kr())},e.onChange=function(re,ee,ue,z,W){if(Qu!==L&&P(),ee&&r&&w(N(z[2]===ee?V+(re.startX-re.x):w()+ee-z[1])),ue){_.offset&&D();var Q=W[2]===ue,ye=Q?oe+re.startY-re.y:_()+ue-W[1],ve=A(ye);Q&&ye!==ve&&(oe+=ve-ye),_(ve)}(ue||ee)&&Ca()},e.onEnable=function(){BT(h,r?!1:"x"),yt.addEventListener("refresh",fe),vr(pt,"resize",fe),_.smooth&&(_.target.style.scrollBehavior="auto",_.smooth=w.smooth=!1),j.enable()},e.onDisable=function(){BT(h,!0),_r(pt,"resize",fe),yt.removeEventListener("refresh",fe),j.kill()},e.lockAxis=e.lockAxis!==!1,l=new Wn(e),l.iOS=gl,gl&&!_()&&_(1),gl&&Ce.ticker.add(No),ie=l._dc,B=Ce.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:RL(_,_(),function(){return B.pause()})},onUpdate:Ca,onComplete:ie.vars.onComplete}),l};yt.sort=function(n){if(ti(n))return ht.sort(n);var e=pt.pageYOffset||0;return yt.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+pt.innerHeight}),ht.sort(n||function(t,r){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};yt.observe=function(n){return new Wn(n)};yt.normalizeScroll=function(n){if(typeof n>"u")return _i;if(n===!0&&_i)return _i.enable();if(n===!1){_i&&_i.kill(),_i=n;return}var e=n instanceof Wn?n:GW(n);return _i&&_i.target===e.target&&_i.kill(),sc(e.target)&&(_i=e),e};yt.core={_getVelocityProp:wx,_inputObserver:PL,_scrollers:mt,_proxies:Uo,bridge:{ss:function(){Vs||ac("scrollStart"),Vs=Kr()},ref:function(){return qr}}};vL()&&Ce.registerPlugin(yt);z1.registerPlugin(yt);const YW=()=>E.jsxs("section",{className:"py-12 px-4",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-8 text-black",children:"ON VOUS GARANTIT"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{emoji:"🐶🐱",title:"Une garderie de haute qualité exclusive",desc:"pour les animaux d’un seul propriétaire à la fois"},{emoji:"🏞️",title:"Au minimum 3 longues promenades",desc:"dans de grands espaces verts au pied de notre immeuble"},{emoji:"📷",title:"Photos quotidiennes et communication 7j/7",desc:"Pour suivre leur bonheur jour après jour"}].map((n,e)=>E.jsxs("div",{className:"feature-card bg-white border border-blue-500 p-4 rounded-2xl shadow-lg transform hover:rotate-2 hover:scale-105 transition duration-300",children:[E.jsx("div",{className:"text-4xl md:text-5xl mb-3",children:n.emoji}),E.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 mb-1",children:n.title}),E.jsx("p",{className:"text-gray-600 text-sm",children:n.desc})]},e))})]});function kL({review:n}){const e=new Date(n.date).toLocaleDateString("fr-FR");return E.jsxs("div",{className:"flex flex-col justify-between h-full bg-white rounded-2xl shadow-md p-4 text-left sm:p-6 transition-transform duration-300 ease-in-out hover:scale-[1.02] animate-fade-in",children:[E.jsx("div",{className:"flex-grow",children:E.jsx("p",{className:"text-gray-800 text-base sm:text-lg whitespace-pre-line",children:n.text})}),E.jsxs("div",{className:"mt-4",children:[E.jsx("div",{className:"flex items-center mb-2",children:Array.from({length:5}).map((t,r)=>E.jsx("span",{className:"text-yellow-400 text-lg sm:text-xl",children:"★"},r))}),E.jsxs("div",{className:"text-sm sm:text-md text-gray-500",children:["Par ",E.jsx("span",{className:"font-semibold text-gray-700",children:n.author})," le ",e]})]})]})}const KW=()=>{const[n,e]=R.useState([]),[t,r]=R.useState(!0);return R.useEffect(()=>{fetch("https://api.maisonpourpets.com/reviews").then(i=>i.json()).then(i=>{e(i),r(!1)})},[]),E.jsxs("section",{className:"relative overflow-hidden py-8",children:[E.jsx("div",{className:"absolute inset-0 bg-fixed bg-center bg-cover z-0",style:{backgroundImage:"url('/parallax.jpg')"}}),E.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),E.jsxs("div",{className:"relative z-20 flex flex-col items-center justify-center h-full text-center text-white px-4",children:[E.jsx("h2",{className:"text-2xl md:text-4xl lg:text-5xl font-bold mb-4",children:"Retours d'expérience"}),E.jsxs("p",{className:"text-base md:text-xl lg:text-2xl max-w-xl mx-auto mb-6",children:["Partez l'esprit tranquille et faites-nous confiance: ",E.jsx("br",{}),"votre boule d'amour sera chouchoutée !"]}),E.jsx("div",{className:"w-full max-w-6xl mx-auto mb-6",children:t?E.jsx("p",{children:"Chargement..."}):n.length===0?E.jsx("p",{children:"Aucun avis trouvé."}):E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.slice(0,3).map(i=>E.jsx(kL,{review:i},i._id))})}),E.jsxs("div",{className:"flex sm:flex-col md:flex-row gap-4",children:[" ",E.jsx(ic,{label:"Contactez-nous",alt:"Aller à la page de contact",variant:"primary",to:"/contact"}),E.jsx(ic,{label:"Laissez un commentaire",alt:"Aller à la page de Avis",variant:"primary",to:"/tarifs"})]})]})]})};var $T={exports:{}},zT,DP;function XW(){if(DP)return zT;DP=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zT=n,zT}var WT,MP;function QW(){if(MP)return WT;MP=1;var n=XW();function e(){}function t(){}return t.resetWarningCache=e,WT=function(){function r(o,l,c,h,d,p){if(p!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},WT}var LP;function JW(){return LP||(LP=1,$T.exports=QW()()),$T.exports}var ZW=JW();const Je=_o(ZW);var HT,jP;function e8(){if(jP)return HT;jP=1;function n(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=fm(),t=n(e);function r(l,c,h){return c in l?Object.defineProperty(l,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[c]=h,l}function i(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,c,h){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof h<"u"&&typeof h!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function d(p){return p.displayName||p.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var _=[],w;function v(){w=l(_.map(function(C){return C.props})),x.canUseDOM?c(w):h&&(w=h(w))}var x=function(C){i(k,C);function k(){return C.apply(this,arguments)||this}k.peek=function(){return w},k.rewind=function(){if(k.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var j=w;return w=void 0,_=[],j};var L=k.prototype;return L.UNSAFE_componentWillMount=function(){_.push(this),v()},L.componentDidUpdate=function(){v()},L.componentWillUnmount=function(){var j=_.indexOf(this);_.splice(j,1),v()},L.render=function(){return t.createElement(g,this.props)},k}(e.PureComponent);return r(x,"displayName","SideEffect("+d(g)+")"),r(x,"canUseDOM",s),x}}return HT=o,HT}var t8=e8();const n8=_o(t8);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var qT,VP;function r8(){if(VP)return qT;VP=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var c=Object.getOwnPropertyNames(o).map(function(d){return o[d]});if(c.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(d){h[d]=d}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return qT=i()?Object.assign:function(s,o){for(var l,c=r(s),h,d=1;d<arguments.length;d++){l=Object(arguments[d]);for(var p in l)e.call(l,p)&&(c[p]=l[p]);if(n){h=n(l);for(var g=0;g<h.length;g++)t.call(l,h[g])&&(c[h[g]]=l[h[g]])}}return c},qT}var i8=r8();const s8=_o(i8);var Ju={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},it={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(it).map(function(n){return it[n]});var Tn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},B_={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Up={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},o8=Object.keys(B_).reduce(function(n,e){return n[B_[e]]=e,n},{}),a8=[it.NOSCRIPT,it.SCRIPT,it.STYLE],uo="data-react-helmet",l8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u8=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},c8=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Mi=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},h8=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},FP=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},d8=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},Ax=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},f8=function(e){var t=qh(e,it.TITLE),r=qh(e,Up.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var i=qh(e,Up.DEFAULT_TITLE);return t||i||void 0},p8=function(e){return qh(e,Up.ON_CHANGE_CLIENT_STATE)||function(){}},GT=function(e,t){return t.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return Mi({},r,i)},{})},m8=function(e,t){return t.filter(function(r){return typeof r[it.BASE]<"u"}).map(function(r){return r[it.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var l=s[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},If=function(e,t,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&v8("Helmet: "+e+' should be of type "Array". Instead found type "'+l8(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var l={};o.filter(function(g){for(var _=void 0,w=Object.keys(g),v=0;v<w.length;v++){var x=w[v],C=x.toLowerCase();t.indexOf(C)!==-1&&!(_===Tn.REL&&g[_].toLowerCase()==="canonical")&&!(C===Tn.REL&&g[C].toLowerCase()==="stylesheet")&&(_=C),t.indexOf(x)!==-1&&(x===Tn.INNER_HTML||x===Tn.CSS_TEXT||x===Tn.ITEM_PROP)&&(_=x)}if(!_||!g[_])return!1;var k=g[_].toLowerCase();return i[_]||(i[_]={}),l[_]||(l[_]={}),i[_][k]?!1:(l[_][k]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var c=Object.keys(l),h=0;h<c.length;h++){var d=c[h],p=s8({},i[d],l[d]);i[d]=p}return s},[]).reverse()},qh=function(e,t){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(t))return i[t]}return null},g8=function(e){return{baseTag:m8([Tn.HREF,Tn.TARGET],e),bodyAttributes:GT(Ju.BODY,e),defer:qh(e,Up.DEFER),encode:qh(e,Up.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:GT(Ju.HTML,e),linkTags:If(it.LINK,[Tn.REL,Tn.HREF],e),metaTags:If(it.META,[Tn.NAME,Tn.CHARSET,Tn.HTTPEQUIV,Tn.PROPERTY,Tn.ITEM_PROP],e),noscriptTags:If(it.NOSCRIPT,[Tn.INNER_HTML],e),onChangeClientState:p8(e),scriptTags:If(it.SCRIPT,[Tn.SRC,Tn.INNER_HTML],e),styleTags:If(it.STYLE,[Tn.CSS_TEXT],e),title:f8(e),titleAttributes:GT(Ju.TITLE,e)}},Rx=function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){Rx(e)},0)}}(),UP=function(e){return clearTimeout(e)},y8=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Rx:global.requestAnimationFrame||Rx,_8=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||UP:global.cancelAnimationFrame||UP,v8=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Af=null,w8=function(e){Af&&_8(Af),e.defer?Af=y8(function(){BP(e,function(){Af=null})}):(BP(e),Af=null)},BP=function(e,t){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,h=e.onChangeClientState,d=e.scriptTags,p=e.styleTags,g=e.title,_=e.titleAttributes;Px(it.BODY,i),Px(it.HTML,s),T8(g,_);var w={baseTag:mh(it.BASE,r),linkTags:mh(it.LINK,o),metaTags:mh(it.META,l),noscriptTags:mh(it.NOSCRIPT,c),scriptTags:mh(it.SCRIPT,d),styleTags:mh(it.STYLE,p)},v={},x={};Object.keys(w).forEach(function(C){var k=w[C],L=k.newTags,O=k.oldTags;L.length&&(v[C]=L),O.length&&(x[C]=w[C].oldTags)}),t&&t(),h(e,v,x)},NL=function(e){return Array.isArray(e)?e.join(""):e},T8=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=NL(e)),Px(it.TITLE,t)},Px=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(uo),s=i?i.split(","):[],o=[].concat(s),l=Object.keys(t),c=0;c<l.length;c++){var h=l[c],d=t[h]||"";r.getAttribute(h)!==d&&r.setAttribute(h,d),s.indexOf(h)===-1&&s.push(h);var p=o.indexOf(h);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(uo):r.getAttribute(uo)!==l.join(",")&&r.setAttribute(uo,l.join(","))}},mh=function(e,t){var r=document.head||document.querySelector(it.HEAD),i=r.querySelectorAll(e+"["+uo+"]"),s=Array.prototype.slice.call(i),o=[],l=void 0;return t&&t.length&&t.forEach(function(c){var h=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Tn.INNER_HTML)h.innerHTML=c.innerHTML;else if(d===Tn.CSS_TEXT)h.styleSheet?h.styleSheet.cssText=c.cssText:h.appendChild(document.createTextNode(c.cssText));else{var p=typeof c[d]>"u"?"":c[d];h.setAttribute(d,p)}h.setAttribute(uo,"true"),s.some(function(g,_){return l=_,h.isEqualNode(g)})?s.splice(l,1):o.push(h)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:s,newTags:o}},OL=function(e){return Object.keys(e).reduce(function(t,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return t?t+" "+i:i},"")},E8=function(e,t,r,i){var s=OL(r),o=NL(t);return s?"<"+e+" "+uo+'="true" '+s+">"+Ax(o,i)+"</"+e+">":"<"+e+" "+uo+'="true">'+Ax(o,i)+"</"+e+">"},x8=function(e,t,r){return t.reduce(function(i,s){var o=Object.keys(s).filter(function(h){return!(h===Tn.INNER_HTML||h===Tn.CSS_TEXT)}).reduce(function(h,d){var p=typeof s[d]>"u"?d:d+'="'+Ax(s[d],r)+'"';return h?h+" "+p:p},""),l=s.innerHTML||s.cssText||"",c=a8.indexOf(e)===-1;return i+"<"+e+" "+uo+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},DL=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[B_[i]||i]=e[i],r},t)},S8=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[o8[i]||i]=e[i],r},t)},b8=function(e,t,r){var i,s=(i={key:t},i[uo]=!0,i),o=DL(r,s);return[tt.createElement(it.TITLE,o,t)]},C8=function(e,t){return t.map(function(r,i){var s,o=(s={key:i},s[uo]=!0,s);return Object.keys(r).forEach(function(l){var c=B_[l]||l;if(c===Tn.INNER_HTML||c===Tn.CSS_TEXT){var h=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:h}}else o[c]=r[l]}),tt.createElement(e,o)})},ga=function(e,t,r){switch(e){case it.TITLE:return{toComponent:function(){return b8(e,t.title,t.titleAttributes)},toString:function(){return E8(e,t.title,t.titleAttributes,r)}};case Ju.BODY:case Ju.HTML:return{toComponent:function(){return DL(t)},toString:function(){return OL(t)}};default:return{toComponent:function(){return C8(e,t)},toString:function(){return x8(e,t,r)}}}},ML=function(e){var t=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,h=e.scriptTags,d=e.styleTags,p=e.title,g=p===void 0?"":p,_=e.titleAttributes;return{base:ga(it.BASE,t,i),bodyAttributes:ga(Ju.BODY,r,i),htmlAttributes:ga(Ju.HTML,s,i),link:ga(it.LINK,o,i),meta:ga(it.META,l,i),noscript:ga(it.NOSCRIPT,c,i),script:ga(it.SCRIPT,h,i),style:ga(it.STYLE,d,i),title:ga(it.TITLE,{title:g,titleAttributes:_},i)}},I8=function(e){var t,r;return r=t=function(i){h8(s,i);function s(){return u8(this,s),d8(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!MM(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case it.SCRIPT:case it.NOSCRIPT:return{innerHTML:c};case it.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var c,h=l.child,d=l.arrayTypeChildren,p=l.newChildProps,g=l.nestedChildren;return Mi({},d,(c={},c[h.type]=[].concat(d[h.type]||[],[Mi({},p,this.mapNestedChildrenToProps(h,g))]),c))},s.prototype.mapObjectTypeChildren=function(l){var c,h,d=l.child,p=l.newProps,g=l.newChildProps,_=l.nestedChildren;switch(d.type){case it.TITLE:return Mi({},p,(c={},c[d.type]=_,c.titleAttributes=Mi({},g),c));case it.BODY:return Mi({},p,{bodyAttributes:Mi({},g)});case it.HTML:return Mi({},p,{htmlAttributes:Mi({},g)})}return Mi({},p,(h={},h[d.type]=Mi({},g),h))},s.prototype.mapArrayTypeChildrenToProps=function(l,c){var h=Mi({},c);return Object.keys(l).forEach(function(d){var p;h=Mi({},h,(p={},p[d]=l[d],p))}),h},s.prototype.warnOnInvalidChildren=function(l,c){return!0},s.prototype.mapChildrenToProps=function(l,c){var h=this,d={};return tt.Children.forEach(l,function(p){if(!(!p||!p.props)){var g=p.props,_=g.children,w=FP(g,["children"]),v=S8(w);switch(h.warnOnInvalidChildren(p,_),p.type){case it.LINK:case it.META:case it.NOSCRIPT:case it.SCRIPT:case it.STYLE:d=h.flattenArrayTypeChildren({child:p,arrayTypeChildren:d,newChildProps:v,nestedChildren:_});break;default:c=h.mapObjectTypeChildren({child:p,newProps:c,newChildProps:v,nestedChildren:_});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},s.prototype.render=function(){var l=this.props,c=l.children,h=FP(l,["children"]),d=Mi({},h);return c&&(d=this.mapChildrenToProps(c,d)),tt.createElement(e,d)},c8(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s}(tt.Component),t.propTypes={base:Je.object,bodyAttributes:Je.object,children:Je.oneOfType([Je.arrayOf(Je.node),Je.node]),defaultTitle:Je.string,defer:Je.bool,encodeSpecialCharacters:Je.bool,htmlAttributes:Je.object,link:Je.arrayOf(Je.object),meta:Je.arrayOf(Je.object),noscript:Je.arrayOf(Je.object),onChangeClientState:Je.func,script:Je.arrayOf(Je.object),style:Je.arrayOf(Je.object),title:Je.string,titleAttributes:Je.object,titleTemplate:Je.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var i=e.rewind();return i||(i=ML({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},A8=function(){return null},R8=n8(g8,w8,ML)(A8),lc=I8(R8);lc.renderStatic=lc.rewind;const P8=()=>E.jsxs(E.Fragment,{children:[E.jsxs(lc,{children:[E.jsx("title",{children:"PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:title",content:"PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsx(AW,{}),E.jsx(YW,{}),E.jsx(KW,{})]}),J1=R.createContext({});function Z1(n){const e=R.useRef(null);return e.current===null&&(e.current=n()),e.current}const eb=typeof window<"u",LL=eb?R.useLayoutEffect:R.useEffect,Fv=R.createContext(null);function tb(n,e){n.indexOf(e)===-1&&n.push(e)}function nb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Da=(n,e,t)=>t>e?e:t<n?n:t;let rb=()=>{};const Ma={},jL=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function VL(n){return typeof n=="object"&&n!==null}const FL=n=>/^0[^.\s]+$/u.test(n);function ib(n){let e;return()=>(e===void 0&&(e=n()),e)}const Fs=n=>n,k8=(n,e)=>t=>e(n(t)),_m=(...n)=>n.reduce(k8),Bp=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class sb{constructor(){this.subscriptions=[]}add(e){return tb(this.subscriptions,e),()=>nb(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bo=n=>n*1e3,$o=n=>n/1e3;function UL(n,e){return e?n*(1e3/e):0}const BL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,N8=1e-7,O8=12;function D8(n,e,t,r,i){let s,o,l=0;do o=e+(t-e)/2,s=BL(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>N8&&++l<O8);return o}function vm(n,e,t,r){if(n===e&&t===r)return Fs;const i=s=>D8(s,0,1,n,t);return s=>s===0||s===1?s:BL(i(s),e,r)}const $L=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,zL=n=>e=>1-n(1-e),WL=vm(.33,1.53,.69,.99),ob=zL(WL),HL=$L(ob),qL=n=>(n*=2)<1?.5*ob(n):.5*(2-Math.pow(2,-10*(n-1))),ab=n=>1-Math.sin(Math.acos(n)),GL=zL(ab),YL=$L(ab),M8=vm(.42,0,1,1),L8=vm(0,0,.58,1),KL=vm(.42,0,.58,1),j8=n=>Array.isArray(n)&&typeof n[0]!="number",XL=n=>Array.isArray(n)&&typeof n[0]=="number",V8={linear:Fs,easeIn:M8,easeInOut:KL,easeOut:L8,circIn:ab,circInOut:YL,circOut:GL,backIn:ob,backInOut:HL,backOut:WL,anticipate:qL},F8=n=>typeof n=="string",$P=n=>{if(XL(n)){rb(n.length===4);const[e,t,r,i]=n;return vm(e,t,r,i)}else if(F8(n))return V8[n];return n},vy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],zP={value:null};function U8(n,e){let t=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function h(p){o.has(p)&&(d.schedule(p),n()),c++,p(l)}const d={schedule:(p,g=!1,_=!1)=>{const v=_&&i?t:r;return g&&o.add(p),v.has(p)||v.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(l=p,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(h),e&&zP.value&&zP.value.frameloop[e].push(c),c=0,t.clear(),i=!1,s&&(s=!1,d.process(p))}};return d}const B8=40;function QL(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=vy.reduce((L,O)=>(L[O]=U8(s,e?O:void 0),L),{}),{setup:l,read:c,resolveKeyframes:h,preUpdate:d,update:p,preRender:g,render:_,postRender:w}=o,v=()=>{const L=Ma.useManualTiming?i.timestamp:performance.now();t=!1,Ma.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,B8),1)),i.timestamp=L,i.isProcessing=!0,l.process(i),c.process(i),h.process(i),d.process(i),p.process(i),g.process(i),_.process(i),w.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(v))},x=()=>{t=!0,r=!0,i.isProcessing||n(v)};return{schedule:vy.reduce((L,O)=>{const j=o[O];return L[O]=($,N=!1,A=!1)=>(t||x(),j.schedule($,N,A)),L},{}),cancel:L=>{for(let O=0;O<vy.length;O++)o[vy[O]].cancel(L)},state:i,steps:o}}const{schedule:Pn,cancel:Ul,state:Or,steps:YT}=QL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fs,!0);let n_;function $8(){n_=void 0}const Ui={now:()=>(n_===void 0&&Ui.set(Or.isProcessing||Ma.useManualTiming?Or.timestamp:performance.now()),n_),set:n=>{n_=n,queueMicrotask($8)}},JL=n=>e=>typeof e=="string"&&e.startsWith(n),lb=JL("--"),z8=JL("var(--"),ub=n=>z8(n)?W8.test(n.split("/*")[0].trim()):!1,W8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},$p={...xd,transform:n=>Da(0,1,n)},wy={...xd,default:1},pp=n=>Math.round(n*1e5)/1e5,cb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H8(n){return n==null}const q8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hb=(n,e)=>t=>!!(typeof t=="string"&&q8.test(t)&&t.startsWith(n)||e&&!H8(t)&&Object.prototype.hasOwnProperty.call(t,e)),ZL=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(cb);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},G8=n=>Da(0,255,n),KT={...xd,transform:n=>Math.round(G8(n))},Fu={test:hb("rgb","red"),parse:ZL("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+KT.transform(n)+", "+KT.transform(e)+", "+KT.transform(t)+", "+pp($p.transform(r))+")"};function Y8(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const kx={test:hb("#"),parse:Y8,transform:Fu.transform},wm=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),yl=wm("deg"),zo=wm("%"),Xe=wm("px"),K8=wm("vh"),X8=wm("vw"),WP={...zo,parse:n=>zo.parse(n)/100,transform:n=>zo.transform(n*100)},Ah={test:hb("hsl","hue"),parse:ZL("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+zo.transform(pp(e))+", "+zo.transform(pp(t))+", "+pp($p.transform(r))+")"},Yr={test:n=>Fu.test(n)||kx.test(n)||Ah.test(n),parse:n=>Fu.test(n)?Fu.parse(n):Ah.test(n)?Ah.parse(n):kx.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fu.transform(n):Ah.transform(n)},Q8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function J8(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(cb))==null?void 0:e.length)||0)+(((t=n.match(Q8))==null?void 0:t.length)||0)>0}const ej="number",tj="color",Z8="var",eH="var(",HP="${}",tH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zp(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(tH,c=>(Yr.test(c)?(r.color.push(s),i.push(tj),t.push(Yr.parse(c))):c.startsWith(eH)?(r.var.push(s),i.push(Z8),t.push(c)):(r.number.push(s),i.push(ej),t.push(parseFloat(c))),++s,HP)).split(HP);return{values:t,split:l,indexes:r,types:i}}function nj(n){return zp(n).values}function rj(n){const{split:e,types:t}=zp(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=t[o];l===ej?s+=pp(i[o]):l===tj?s+=Yr.transform(i[o]):s+=i[o]}return s}}const nH=n=>typeof n=="number"?0:n;function rH(n){const e=nj(n);return rj(n)(e.map(nH))}const Bl={test:J8,parse:nj,createTransformer:rj,getAnimatableNone:rH};function XT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function iH({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;i=XT(c,l,n+1/3),s=XT(c,l,n),o=XT(c,l,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function $_(n,e){return t=>t>0?e:n}const An=(n,e,t)=>n+(e-n)*t,QT=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},sH=[kx,Fu,Ah],oH=n=>sH.find(e=>e.test(n));function qP(n){const e=oH(n);if(!e)return!1;let t=e.parse(n);return e===Ah&&(t=iH(t)),t}const GP=(n,e)=>{const t=qP(n),r=qP(e);if(!t||!r)return $_(n,e);const i={...t};return s=>(i.red=QT(t.red,r.red,s),i.green=QT(t.green,r.green,s),i.blue=QT(t.blue,r.blue,s),i.alpha=An(t.alpha,r.alpha,s),Fu.transform(i))},Nx=new Set(["none","hidden"]);function aH(n,e){return Nx.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function lH(n,e){return t=>An(n,e,t)}function db(n){return typeof n=="number"?lH:typeof n=="string"?ub(n)?$_:Yr.test(n)?GP:hH:Array.isArray(n)?ij:typeof n=="object"?Yr.test(n)?GP:uH:$_}function ij(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>db(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function uH(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=db(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function cH(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=n.indexes[s][r[s]],l=n.values[o]??0;t[i]=l,r[s]++}return t}const hH=(n,e)=>{const t=Bl.createTransformer(e),r=zp(n),i=zp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Nx.has(n)&&!i.values.length||Nx.has(e)&&!r.values.length?aH(n,e):_m(ij(cH(r,i),i.values),t):$_(n,e)};function sj(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?An(n,e,t):db(n)(n,e)}const dH=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Pn.update(e,t),stop:()=>Ul(e),now:()=>Or.isProcessing?Or.timestamp:Ui.now()}},oj=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},z_=2e4;function fb(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<z_;)e+=t,r=n.next(e);return e>=z_?1/0:e}function fH(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(fb(r),z_);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:$o(i)}}const pH=5;function aj(n,e,t){const r=Math.max(e-pH,0);return UL(t-n(r),e-r)}const jn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},YP=.001;function mH({duration:n=jn.duration,bounce:e=jn.bounce,velocity:t=jn.velocity,mass:r=jn.mass}){let i,s,o=1-e;o=Da(jn.minDamping,jn.maxDamping,o),n=Da(jn.minDuration,jn.maxDuration,$o(n)),o<1?(i=h=>{const d=h*o,p=d*n,g=d-t,_=Ox(h,o),w=Math.exp(-p);return YP-g/_*w},s=h=>{const p=h*o*n,g=p*t+t,_=Math.pow(o,2)*Math.pow(h,2)*n,w=Math.exp(-p),v=Ox(Math.pow(h,2),o);return(-i(h)+YP>0?-1:1)*((g-_)*w)/v}):(i=h=>{const d=Math.exp(-h*n),p=(h-t)*n+1;return-.001+d*p},s=h=>{const d=Math.exp(-h*n),p=(t-h)*(n*n);return d*p});const l=5/n,c=yH(i,s,l);if(n=Bo(n),isNaN(c))return{stiffness:jn.stiffness,damping:jn.damping,duration:n};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:n}}}const gH=12;function yH(n,e,t){let r=t;for(let i=1;i<gH;i++)r=r-n(r)/e(r);return r}function Ox(n,e){return n*Math.sqrt(1-e*e)}const _H=["duration","bounce"],vH=["stiffness","damping","mass"];function KP(n,e){return e.some(t=>n[t]!==void 0)}function wH(n){let e={velocity:jn.velocity,stiffness:jn.stiffness,damping:jn.damping,mass:jn.mass,isResolvedFromDuration:!1,...n};if(!KP(n,vH)&&KP(n,_H))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Da(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:jn.mass,stiffness:i,damping:s}}else{const t=mH(n);e={...e,...t,mass:jn.mass},e.isResolvedFromDuration=!0}return e}function W_(n=jn.visualDuration,e=jn.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:h,mass:d,duration:p,velocity:g,isResolvedFromDuration:_}=wH({...t,velocity:-$o(t.velocity||0)}),w=g||0,v=h/(2*Math.sqrt(c*d)),x=o-s,C=$o(Math.sqrt(c/d)),k=Math.abs(x)<5;r||(r=k?jn.restSpeed.granular:jn.restSpeed.default),i||(i=k?jn.restDelta.granular:jn.restDelta.default);let L;if(v<1){const j=Ox(C,v);L=$=>{const N=Math.exp(-v*C*$);return o-N*((w+v*C*x)/j*Math.sin(j*$)+x*Math.cos(j*$))}}else if(v===1)L=j=>o-Math.exp(-C*j)*(x+(w+C*x)*j);else{const j=C*Math.sqrt(v*v-1);L=$=>{const N=Math.exp(-v*C*$),A=Math.min(j*$,300);return o-N*((w+v*C*x)*Math.sinh(A)+j*x*Math.cosh(A))/j}}const O={calculatedDuration:_&&p||null,next:j=>{const $=L(j);if(_)l.done=j>=p;else{let N=j===0?w:0;v<1&&(N=j===0?Bo(w):aj(L,j,$));const A=Math.abs(N)<=r,P=Math.abs(o-$)<=i;l.done=A&&P}return l.value=l.done?o:$,l},toString:()=>{const j=Math.min(fb(O),z_),$=oj(N=>O.next(j*N).value,j,30);return j+"ms "+$},toTransition:()=>{}};return O}W_.applyToOptions=n=>{const e=fH(n,100,W_);return n.ease=e.ease,n.duration=Bo(e.duration),n.type="keyframes",n};function Dx({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:h=.5,restSpeed:d}){const p=n[0],g={done:!1,value:p},_=A=>l!==void 0&&A<l||c!==void 0&&A>c,w=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let v=t*e;const x=p+v,C=o===void 0?x:o(x);C!==x&&(v=C-p);const k=A=>-v*Math.exp(-A/r),L=A=>C+k(A),O=A=>{const P=k(A),D=L(A);g.done=Math.abs(P)<=h,g.value=g.done?C:D};let j,$;const N=A=>{_(g.value)&&(j=A,$=W_({keyframes:[g.value,w(g.value)],velocity:aj(L,A,g.value),damping:i,stiffness:s,restDelta:h,restSpeed:d}))};return N(0),{calculatedDuration:null,next:A=>{let P=!1;return!$&&j===void 0&&(P=!0,O(A),N(A)),j!==void 0&&A>=j?$.next(A-j):(!P&&O(A),g)}}}function TH(n,e,t){const r=[],i=t||Ma.mix||sj,s=n.length-1;for(let o=0;o<s;o++){let l=i(n[o],n[o+1]);if(e){const c=Array.isArray(e)?e[o]||Fs:e;l=_m(c,l)}r.push(l)}return r}function EH(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(rb(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=TH(e,r,i),c=l.length,h=d=>{if(o&&d<n[0])return e[0];let p=0;if(c>1)for(;p<n.length-2&&!(d<n[p+1]);p++);const g=Bp(n[p],n[p+1],d);return l[p](g)};return t?d=>h(Da(n[0],n[s-1],d)):h}function xH(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=Bp(0,e,r);n.push(An(t,1,i))}}function SH(n){const e=[0];return xH(e,n.length-1),e}function bH(n,e){return n.map(t=>t*e)}function CH(n,e){return n.map(()=>e||KL).splice(0,n.length-1)}function mp({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=j8(r)?r.map($P):$P(r),s={done:!1,value:e[0]},o=bH(t&&t.length===e.length?t:SH(e),n),l=EH(o,e,{ease:Array.isArray(i)?i:CH(e,i)});return{calculatedDuration:n,next:c=>(s.value=l(c),s.done=c>=n,s)}}const IH=n=>n!==null;function pb(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(IH),l=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const AH={decay:Dx,inertia:Dx,tween:mp,keyframes:mp,spring:W_};function lj(n){typeof n.type=="string"&&(n.type=AH[n.type])}class mb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const RH=n=>n/100;class gb extends mb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(t=!0)=>{var r,i;if(t){const{motionValue:s}=this.options;s&&s.updatedAt!==Ui.now()&&this.tick(Ui.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lj(e);const{type:t=mp,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=t||mp;c!==mp&&typeof l[0]!="number"&&(this.mixKeyframes=_m(RH,sj(l[0],l[1])),l=[0,100]);const h=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=fb(h));const{calculatedDuration:d}=h;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:d,repeat:p,repeatType:g,repeatDelay:_,type:w,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let L=this.currentTime,O=r;if(p){const A=Math.min(this.currentTime,i)/l;let P=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(D=1-D,_&&(D-=_/l)):g==="mirror"&&(O=o)),L=Da(0,1,D)*l}const j=k?{done:!1,value:d[0]}:O.next(L);s&&(j.value=s(j.value));let{done:$}=j;!k&&c!==null&&($=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return N&&w!==Dx&&(j.value=pb(d,this.options,x,this.speed)),v&&v(j.value),N&&this.finish(),j}then(e,t){return this.finished.then(e,t)}get duration(){return $o(this.calculatedDuration)}get time(){return $o(this.currentTime)}set time(e){var t;e=Bo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ui.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=$o(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=dH,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ui.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function PH(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Uu=n=>n*180/Math.PI,Mx=n=>{const e=Uu(Math.atan2(n[1],n[0]));return Lx(e)},kH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Mx,rotateZ:Mx,skewX:n=>Uu(Math.atan(n[1])),skewY:n=>Uu(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Lx=n=>(n=n%360,n<0&&(n+=360),n),XP=Mx,QP=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),JP=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),NH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QP,scaleY:JP,scale:n=>(QP(n)+JP(n))/2,rotateX:n=>Lx(Uu(Math.atan2(n[6],n[5]))),rotateY:n=>Lx(Uu(Math.atan2(-n[2],n[0]))),rotateZ:XP,rotate:XP,skewX:n=>Uu(Math.atan(n[4])),skewY:n=>Uu(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function jx(n){return n.includes("scale")?1:0}function Vx(n,e){if(!n||n==="none")return jx(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=NH,i=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kH,i=l}if(!i)return jx(e);const s=r[e],o=i[1].split(",").map(DH);return typeof s=="function"?s(o):o[s]}const OH=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Vx(t,e)};function DH(n){return parseFloat(n.trim())}const Sd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bd=new Set(Sd),ZP=n=>n===xd||n===Xe,MH=new Set(["x","y","z"]),LH=Sd.filter(n=>!MH.has(n));function jH(n){const e=[];return LH.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Zu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Vx(e,"x"),y:(n,{transform:e})=>Vx(e,"y")};Zu.translateX=Zu.x;Zu.translateY=Zu.y;const ec=new Set;let Fx=!1,Ux=!1,Bx=!1;function uj(){if(Ux){const n=Array.from(ec).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=jH(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ux=!1,Fx=!1,ec.forEach(n=>n.complete(Bx)),ec.clear()}function cj(){ec.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ux=!0)})}function VH(){Bx=!0,cj(),uj(),Bx=!1}class yb{constructor(e,t,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ec.add(this),Fx||(Fx=!0,Pn.read(cj),Pn.resolveKeyframes(uj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const l=r.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}PH(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ec.delete(this)}cancel(){this.state==="scheduled"&&(ec.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const FH=n=>n.startsWith("--");function UH(n,e,t){FH(e)?n.style.setProperty(e,t):n.style[e]=t}const BH=ib(()=>window.ScrollTimeline!==void 0),$H={};function zH(n,e){const t=ib(n);return()=>$H[e]??t()}const hj=zH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qf=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,ek={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qf([0,.65,.55,1]),circOut:qf([.55,0,1,.45]),backIn:qf([.31,.01,.66,-.59]),backOut:qf([.33,1.53,.69,.99])};function dj(n,e){if(n)return typeof n=="function"?hj()?oj(n,e):"ease-out":XL(n)?qf(n):Array.isArray(n)?n.map(t=>dj(t,e)||ek.easeOut):ek[n]}function WH(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},h=void 0){const d={[e]:t};c&&(d.offset=c);const p=dj(l,i);Array.isArray(p)&&(d.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),n.animate(d,g)}function fj(n){return typeof n=="function"&&"applyToOptions"in n}function HH({type:n,...e}){return fj(n)&&hj()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qH extends mb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,rb(typeof e.type!="string");const h=HH(e);this.animation=WH(t,r,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=pb(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):UH(t,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return $o(Number(e))}get time(){return $o(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&BH()?(this.animation.timeline=e,Fs):t(this)}}const pj={anticipate:qL,backInOut:HL,circInOut:YL};function GH(n){return n in pj}function YH(n){typeof n.ease=="string"&&GH(n.ease)&&(n.ease=pj[n.ease])}const tk=10;class KH extends qH{constructor(e){YH(e),lj(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new gb({...o,autoplay:!1}),c=Bo(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-tk).value,l.sample(c).value,tk),l.stop()}}const nk=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Bl.test(n)||n==="0")&&!n.startsWith("url("));function XH(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function QH(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=nk(i,e),l=nk(s,e);return!o||!l?!1:XH(n)||(t==="spring"||fj(t))&&r}function _b(n){return VL(n)&&"offsetHeight"in n}const JH=new Set(["opacity","clipPath","filter","transform"]),ZH=ib(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function eq(n){var h;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:o}=n;if(!_b((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return ZH()&&t&&JH.has(t)&&(t!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const tq=40;class nq extends mb{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:h,element:d,...p}){var w;super(),this.stop=()=>{var v,x;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Ui.now();const g={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:h,element:d,...p},_=(d==null?void 0:d.KeyframeResolver)||yb;this.keyframeResolver=new _(l,(v,x,C)=>this.onKeyframesResolved(v,x,g,!C),c,h,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:h,onUpdate:d}=r;this.resolvedAt=Ui.now(),QH(e,s,o,l)||((Ma.instantAnimations||!c)&&(d==null||d(pb(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>tq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},_=!h&&eq(g)?new KH({...g,element:g.motionValue.owner.current}):new gb(g);_.finished.then(()=>this.notifyFinished()).catch(Fs),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),VH()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const rq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iq(n){const e=rq.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function mj(n,e,t=1){const[r,i]=iq(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return jL(o)?parseFloat(o):o}return ub(i)?mj(i,e,t+1):i}function vb(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const gj=new Set(["width","height","top","left","right","bottom",...Sd]),sq={test:n=>n==="auto",parse:n=>n},yj=n=>e=>e.test(n),_j=[xd,Xe,zo,yl,X8,K8,sq],rk=n=>_j.find(yj(n));function oq(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||FL(n):!0}const aq=new Set(["brightness","contrast","saturate","opacity"]);function lq(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(cb)||[];if(!r)return n;const i=t.replace(r,"");let s=aq.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const uq=/\b([a-z-]*)\(.*?\)/gu,$x={...Bl,getAnimatableNone:n=>{const e=n.match(uq);return e?e.map(lq).join(" "):n}},ik={...xd,transform:Math.round},cq={rotate:yl,rotateX:yl,rotateY:yl,rotateZ:yl,scale:wy,scaleX:wy,scaleY:wy,scaleZ:wy,skew:yl,skewX:yl,skewY:yl,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:$p,originX:WP,originY:WP,originZ:Xe},wb={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe,...cq,zIndex:ik,fillOpacity:$p,strokeOpacity:$p,numOctaves:ik},hq={...wb,color:Yr,backgroundColor:Yr,outlineColor:Yr,fill:Yr,stroke:Yr,borderColor:Yr,borderTopColor:Yr,borderRightColor:Yr,borderBottomColor:Yr,borderLeftColor:Yr,filter:$x,WebkitFilter:$x},vj=n=>hq[n];function wj(n,e){let t=vj(n);return t!==$x&&(t=Bl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const dq=new Set(["auto","none","0"]);function fq(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!dq.has(s)&&zp(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=wj(t,i)}class pq extends yb{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),ub(h))){const d=mj(h,t.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!gj.has(r)||e.length!==2)return;const[i,s]=e,o=rk(i),l=rk(s);if(o!==l)if(ZP(o)&&ZP(l))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else Zu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||oq(e[i]))&&r.push(i);r.length&&fq(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Zu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function mq(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const sk=30,gq=n=>!isNaN(parseFloat(n));class yq{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,l;const s=Ui.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ui.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sb);const r=this.events[e].add(t);return e==="change"?()=>{r(),Pn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ui.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sk)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,sk);return UL(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function od(n,e){return new yq(n,e)}const Tj=(n,e)=>e&&typeof n=="number"?e.transform(n):n,{schedule:Tb}=QL(queueMicrotask,!1),io={x:!1,y:!1};function Ej(){return io.x||io.y}function _q(n){return n==="x"||n==="y"?io[n]?null:(io[n]=!0,()=>{io[n]=!1}):io.x||io.y?null:(io.x=io.y=!0,()=>{io.x=io.y=!1})}function xj(n,e){const t=mq(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function ok(n){return!(n.pointerType==="touch"||Ej())}function vq(n,e,t={}){const[r,i,s]=xj(n,t),o=l=>{if(!ok(l))return;const{target:c}=l,h=e(c,l);if(typeof h!="function"||!c)return;const d=p=>{ok(p)&&(h(p),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const Sj=(n,e)=>e?n===e?!0:Sj(n,e.parentElement):!1,Eb=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,wq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Tq(n){return wq.has(n.tagName)||n.tabIndex!==-1}const r_=new WeakSet;function ak(n){return e=>{e.key==="Enter"&&n(e)}}function JT(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Eq=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=ak(()=>{if(r_.has(t))return;JT(t,"down");const i=ak(()=>{JT(t,"up")}),s=()=>JT(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function lk(n){return Eb(n)&&!Ej()}function xq(n,e,t={}){const[r,i,s]=xj(n,t),o=l=>{const c=l.currentTarget;if(!lk(l))return;r_.add(c);const h=e(c,l),d=(_,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),r_.has(c)&&r_.delete(c),lk(_)&&typeof h=="function"&&h(_,{success:w})},p=_=>{d(_,c===window||c===document||t.useGlobalTarget||Sj(c,_.target))},g=_=>{d(_,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),_b(l)&&(l.addEventListener("focus",h=>Eq(h,i)),!Tq(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function bj(n){return VL(n)&&"ownerSVGElement"in n}function Sq(n){return bj(n)&&n.tagName==="svg"}const ii=n=>!!(n&&n.getVelocity),bq=[..._j,Yr,Bl],Cq=n=>bq.find(yj(n)),xb=R.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Iq extends R.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=_b(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Aq({children:n,isPresent:e,anchorX:t}){const r=R.useId(),i=R.useRef(null),s=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=R.useContext(xb);return R.useInsertionEffect(()=>{const{width:l,height:c,top:h,left:d,right:p}=s.current;if(e||!i.current||!l||!c)return;const g=t==="left"?`left: ${d}`:`right: ${p}`;i.current.dataset.motionPopId=r;const _=document.createElement("style");return o&&(_.nonce=o),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(_)&&document.head.removeChild(_)}},[e]),E.jsx(Iq,{isPresent:e,childRef:i,sizeRef:s,children:R.cloneElement(n,{ref:i})})}const Rq=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l})=>{const c=Z1(Pq),h=R.useId();let d=!0,p=R.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:t,custom:i,onExitComplete:g=>{c.set(g,!0);for(const _ of c.values())if(!_)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[t,c,r]);return s&&d&&(p={...p}),R.useMemo(()=>{c.forEach((g,_)=>c.set(_,!1))},[t]),R.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),o==="popLayout"&&(n=E.jsx(Aq,{isPresent:t,anchorX:l,children:n})),E.jsx(Fv.Provider,{value:p,children:n})};function Pq(){return new Map}function Cj(n=!0){const e=R.useContext(Fv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=R.useId();R.useEffect(()=>{if(n)return i(s)},[n]);const o=R.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,o]:[!0]}const Ty=n=>n.key||"";function uk(n){const e=[];return R.Children.forEach(n,t=>{R.isValidElement(t)&&e.push(t)}),e}const zx=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,h]=Cj(o),d=R.useMemo(()=>uk(n),[n]),p=o&&!c?[]:d.map(Ty),g=R.useRef(!0),_=R.useRef(d),w=Z1(()=>new Map),[v,x]=R.useState(d),[C,k]=R.useState(d);LL(()=>{g.current=!1,_.current=d;for(let j=0;j<C.length;j++){const $=Ty(C[j]);p.includes($)?w.delete($):w.get($)!==!0&&w.set($,!1)}},[C,p.length,p.join("-")]);const L=[];if(d!==v){let j=[...d];for(let $=0;$<C.length;$++){const N=C[$],A=Ty(N);p.includes(A)||(j.splice($,0,N),L.push(N))}return s==="wait"&&L.length&&(j=L),k(uk(j)),x(d),null}const{forceRender:O}=R.useContext(J1);return E.jsx(E.Fragment,{children:C.map(j=>{const $=Ty(j),N=o&&!c?!1:d===C||p.includes($),A=()=>{if(w.has($))w.set($,!0);else return;let P=!0;w.forEach(D=>{D||(P=!1)}),P&&(O==null||O(),k(_.current),o&&(h==null||h()),r&&r())};return E.jsx(Rq,{isPresent:N,initial:!g.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:N?void 0:A,anchorX:l,children:j},$)})})},Ij=R.createContext({strict:!1}),ck={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ad={};for(const n in ck)ad[n]={isEnabled:e=>ck[n].some(t=>!!e[t])};function kq(n){for(const e in n)ad[e]={...ad[e],...n[e]}}const Nq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function H_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Nq.has(n)}let Aj=n=>!H_(n);function Oq(n){n&&(Aj=e=>e.startsWith("on")?!H_(e):n(e))}try{Oq(require("@emotion/is-prop-valid").default)}catch{}function Dq(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(Aj(i)||t===!0&&H_(i)||!e&&!H_(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function Mq(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Uv=R.createContext({});function Bv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Wp(n){return typeof n=="string"||Array.isArray(n)}const Sb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bb=["initial",...Sb];function $v(n){return Bv(n.animate)||bb.some(e=>Wp(n[e]))}function Rj(n){return!!($v(n)||n.variants)}function Lq(n,e){if($v(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Wp(t)?t:void 0,animate:Wp(r)?r:void 0}}return n.inherit!==!1?e:{}}function jq(n){const{initial:e,animate:t}=Lq(n,R.useContext(Uv));return R.useMemo(()=>({initial:e,animate:t}),[hk(e),hk(t)])}function hk(n){return Array.isArray(n)?n.join(" "):n}const Vq=Symbol.for("motionComponentSymbol");function Rh(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Fq(n,e,t){return R.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Rh(t)&&(t.current=r))},[e])}const Cb=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Uq="framerAppearId",Pj="data-"+Cb(Uq),kj=R.createContext({});function Bq(n,e,t,r,i){var v,x;const{visualElement:s}=R.useContext(Uv),o=R.useContext(Ij),l=R.useContext(Fv),c=R.useContext(xb).reducedMotion,h=R.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=h.current,p=R.useContext(kj);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&$q(h.current,t,i,p);const g=R.useRef(!1);R.useInsertionEffect(()=>{d&&g.current&&d.update(t,l)});const _=t[Pj],w=R.useRef(!!_&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,_))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,_)));return LL(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Tb.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),R.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,_)}),w.current=!1))}),d}function $q(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:h,layoutCrossfade:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Nj(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Rh(l),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:h})}function Nj(n){if(n)return n.options.allowProjection!==!1?n.projection:Nj(n.parent)}function zq({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&kq(n);function s(l,c){let h;const d={...R.useContext(xb),...l,layoutId:Wq(l)},{isStatic:p}=d,g=jq(l),_=r(l,p);if(!p&&eb){Hq();const w=qq(d);h=w.MeasureLayout,g.visualElement=Bq(i,_,d,e,w.ProjectionNode)}return E.jsxs(Uv.Provider,{value:g,children:[h&&g.visualElement?E.jsx(h,{visualElement:g.visualElement,...d}):null,t(i,l,Fq(_,g.visualElement,c),_,p,g.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=R.forwardRef(s);return o[Vq]=i,o}function Wq({layoutId:n}){const e=R.useContext(J1).id;return e&&n!==void 0?e+"-"+n:n}function Hq(n,e){R.useContext(Ij).strict}function qq(n){const{drag:e,layout:t}=ad;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Hp={};function Gq(n){for(const e in n)Hp[e]=n[e],lb(e)&&(Hp[e].isCSSVariable=!0)}function Oj(n,{layout:e,layoutId:t}){return bd.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Hp[n]||n==="opacity")}const Yq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kq=Sd.length;function Xq(n,e,t){let r="",i=!0;for(let s=0;s<Kq;s++){const o=Sd[s],l=n[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const h=Tj(l,wb[o]);if(!c){i=!1;const d=Yq[o]||o;r+=`${d}(${h}) `}t&&(e[o]=h)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function Ib(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,l=!1;for(const c in e){const h=e[c];if(bd.has(c)){o=!0;continue}else if(lb(c)){i[c]=h;continue}else{const d=Tj(h,wb[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(e.transform||(o||t?r.transform=Xq(e,n.transform,t):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:h="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${h} ${d}`}}const Ab=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dj(n,e,t){for(const r in e)!ii(e[r])&&!Oj(r,t)&&(n[r]=e[r])}function Qq({transformTemplate:n},e){return R.useMemo(()=>{const t=Ab();return Ib(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Jq(n,e){const t=n.style||{},r={};return Dj(r,t,n),Object.assign(r,Qq(n,e)),r}function Zq(n,e){const t={},r=Jq(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const e7={offset:"stroke-dashoffset",array:"stroke-dasharray"},t7={offset:"strokeDashoffset",array:"strokeDasharray"};function n7(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?e7:t7;n[s.offset]=Xe.transform(-r);const o=Xe.transform(e),l=Xe.transform(t);n[s.array]=`${o} ${l}`}function Mj(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,h,d){if(Ib(n,l,h),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g}=n;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),i!==void 0&&n7(p,i,s,o,!1)}const Lj=()=>({...Ab(),attrs:{}}),jj=n=>typeof n=="string"&&n.toLowerCase()==="svg";function r7(n,e,t,r){const i=R.useMemo(()=>{const s=Lj();return Mj(s,e,jj(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Dj(s,n.style,n),i.style={...s,...i.style}}return i}const i7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rb(n){return typeof n!="string"||n.includes("-")?!1:!!(i7.indexOf(n)>-1||/[A-Z]/u.test(n))}function s7(n=!1){return(t,r,i,{latestValues:s},o)=>{const c=(Rb(t)?r7:Zq)(r,s,o,t),h=Dq(r,typeof t=="string",n),d=t!==R.Fragment?{...h,...c,ref:i}:{},{children:p}=r,g=R.useMemo(()=>ii(p)?p.get():p,[p]);return R.createElement(t,{...d,children:g})}}function dk(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Pb(n,e,t,r){if(typeof e=="function"){const[i,s]=dk(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=dk(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function i_(n){return ii(n)?n.get():n}function o7({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:a7(t,r,i,n),renderState:e()}}const Vj=n=>(e,t)=>{const r=R.useContext(Uv),i=R.useContext(Fv),s=()=>o7(n,e,r,i);return t?s():Z1(s)};function a7(n,e,t,r){const i={},s=r(n,{});for(const g in s)i[g]=i_(s[g]);let{initial:o,animate:l}=n;const c=$v(n),h=Rj(n);e&&h&&!c&&n.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const p=d?l:o;if(p&&typeof p!="boolean"&&!Bv(p)){const g=Array.isArray(p)?p:[p];for(let _=0;_<g.length;_++){const w=Pb(n,g[_]);if(w){const{transitionEnd:v,transition:x,...C}=w;for(const k in C){let L=C[k];if(Array.isArray(L)){const O=d?L.length-1:0;L=L[O]}L!==null&&(i[k]=L)}for(const k in v)i[k]=v[k]}}}return i}function kb(n,e,t){var s;const{style:r}=n,i={};for(const o in r)(ii(r[o])||e.style&&ii(e.style[o])||Oj(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const l7={useVisualState:Vj({scrapeMotionValuesFromProps:kb,createRenderState:Ab})};function Fj(n,e,t){const r=kb(n,e,t);for(const i in n)if(ii(n[i])||ii(e[i])){const s=Sd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const u7={useVisualState:Vj({scrapeMotionValuesFromProps:Fj,createRenderState:Lj})};function c7(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Rb(r)?u7:l7,preloadedFeatures:n,useRender:s7(i),createVisualElement:e,Component:r};return zq(o)}}function qp(n,e,t){const r=n.getProps();return Pb(r,e,t!==void 0?t:r.custom,n)}const Wx=n=>Array.isArray(n);function h7(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,od(t))}function d7(n){return Wx(n)?n[n.length-1]||0:n}function f7(n,e){const t=qp(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const l=d7(s[o]);h7(n,o,l)}}function p7(n){return!!(ii(n)&&n.add)}function Hx(n,e){const t=n.getValue("willChange");if(p7(t))return t.add(e);if(!t&&Ma.WillChange){const r=new Ma.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function Uj(n){return n.props[Pj]}const m7=n=>n!==null;function g7(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(m7),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const y7={type:"spring",stiffness:500,damping:25,restSpeed:10},_7=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),v7={type:"keyframes",duration:.8},w7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T7=(n,{keyframes:e})=>e.length>2?v7:bd.has(n)?n.startsWith("scale")?_7(e[1]):y7:w7;function E7({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:h,...d}){return!!Object.keys(d).length}const Nb=(n,e,t,r={},i,s)=>o=>{const l=vb(r,n)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Bo(c);const d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:s?void 0:i};E7(l)||Object.assign(d,T7(n,d)),d.duration&&(d.duration=Bo(d.duration)),d.repeatDelay&&(d.repeatDelay=Bo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),(Ma.instantAnimations||Ma.skipAnimations)&&(p=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,p&&!s&&e.get()!==void 0){const g=g7(d.keyframes,l);if(g!==void 0){Pn.update(()=>{d.onUpdate(g),d.onComplete()});return}}return l.isSync?new gb(d):new nq(d)};function x7({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Bj(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],h=i&&n.animationState&&n.animationState.getState()[i];for(const d in l){const p=n.getValue(d,n.latestValues[d]??null),g=l[d];if(g===void 0||h&&x7(h,d))continue;const _={delay:t,...vb(s||{},d)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!_.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const C=Uj(n);if(C){const k=window.MotionHandoffAnimation(C,d,Pn);k!==null&&(_.startTime=k,v=!0)}}Hx(n,d),p.start(Nb(d,p,g,n.shouldReduceMotion&&gj.has(d)?{type:!1}:_,n,v));const x=p.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{Pn.update(()=>{o&&f7(n,o)})}),c}function qx(n,e,t={}){var c;const r=qp(n,e,t.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(Bj(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:g}=i;return S7(n,e,d+h,p,g,t)}:()=>Promise.resolve(),{when:l}=i;if(l){const[h,d]=l==="beforeChildren"?[s,o]:[o,s];return h().then(()=>d())}else return Promise.all([s(),o(t.delay)])}function S7(n,e,t=0,r=0,i=1,s){const o=[],l=(n.variantChildren.size-1)*r,c=i===1?(h=0)=>h*r:(h=0)=>l-h*r;return Array.from(n.variantChildren).sort(b7).forEach((h,d)=>{h.notify("AnimationStart",e),o.push(qx(h,e,{...s,delay:t+c(d)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function b7(n,e){return n.sortNodePosition(e)}function C7(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>qx(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=qx(n,e,t);else{const i=typeof e=="function"?qp(n,e,t.custom):e;r=Promise.all(Bj(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function $j(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const I7=bb.length;function zj(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?zj(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<I7;t++){const r=bb[t],i=n.props[r];(Wp(i)||i===!1)&&(e[r]=i)}return e}const A7=[...Sb].reverse(),R7=Sb.length;function P7(n){return e=>Promise.all(e.map(({animation:t,options:r})=>C7(n,t,r)))}function k7(n){let e=P7(n),t=fk(),r=!0;const i=c=>(h,d)=>{var g;const p=qp(n,d,c==="exit"?(g=n.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:_,transitionEnd:w,...v}=p;h={...h,...v,...w}}return h};function s(c){e=c(n)}function o(c){const{props:h}=n,d=zj(n.parent)||{},p=[],g=new Set;let _={},w=1/0;for(let x=0;x<R7;x++){const C=A7[x],k=t[C],L=h[C]!==void 0?h[C]:d[C],O=Wp(L),j=C===c?k.isActive:null;j===!1&&(w=x);let $=L===d[C]&&L!==h[C]&&O;if($&&r&&n.manuallyAnimateOnMount&&($=!1),k.protectedKeys={..._},!k.isActive&&j===null||!L&&!k.prevProp||Bv(L)||typeof L=="boolean")continue;const N=N7(k.prevProp,L);let A=N||C===c&&k.isActive&&!$&&O||x>w&&O,P=!1;const D=Array.isArray(L)?L:[L];let U=D.reduce(i(C),{});j===!1&&(U={});const{prevResolvedValues:B={}}=k,V={...B,...U},oe=re=>{A=!0,g.has(re)&&(P=!0,g.delete(re)),k.needsAnimating[re]=!0;const ee=n.getValue(re);ee&&(ee.liveStyle=!1)};for(const re in V){const ee=U[re],ue=B[re];if(_.hasOwnProperty(re))continue;let z=!1;Wx(ee)&&Wx(ue)?z=!$j(ee,ue):z=ee!==ue,z?ee!=null?oe(re):g.add(re):ee!==void 0&&g.has(re)?oe(re):k.protectedKeys[re]=!0}k.prevProp=L,k.prevResolvedValues=U,k.isActive&&(_={..._,...U}),r&&n.blockInitialAnimation&&(A=!1),A&&(!($&&N)||P)&&p.push(...D.map(re=>({animation:re,options:{type:C}})))}if(g.size){const x={};if(typeof h.initial!="boolean"){const C=qp(n,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(x.transition=C.transition)}g.forEach(C=>{const k=n.getBaseTarget(C),L=n.getValue(C);L&&(L.liveStyle=!0),x[C]=k??null}),p.push({animation:x})}let v=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(p):Promise.resolve()}function l(c,h){var p;if(t[c].isActive===h)return Promise.resolve();(p=n.variantChildren)==null||p.forEach(g=>{var _;return(_=g.animationState)==null?void 0:_.setActive(c,h)}),t[c].isActive=h;const d=o(c);for(const g in t)t[g].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>t,reset:()=>{t=fk(),r=!0}}}function N7(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!$j(e,n):!1}function Cu(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fk(){return{animate:Cu(!0),whileInView:Cu(),whileHover:Cu(),whileTap:Cu(),whileDrag:Cu(),whileFocus:Cu(),exit:Cu()}}class Jl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class O7 extends Jl{constructor(e){super(e),e.animationState||(e.animationState=k7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let D7=0;class M7 extends Jl{constructor(){super(...arguments),this.id=D7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const L7={animation:{Feature:O7},exit:{Feature:M7}};function Gp(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Tm(n){return{point:{x:n.pageX,y:n.pageY}}}const j7=n=>e=>Eb(e)&&n(e,Tm(e));function gp(n,e,t,r){return Gp(n,e,j7(t),r)}function Wj({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function V7({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function F7(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const Hj=1e-4,U7=1-Hj,B7=1+Hj,qj=.01,$7=0-qj,z7=0+qj;function xi(n){return n.max-n.min}function W7(n,e,t){return Math.abs(n-e)<=t}function pk(n,e,t,r=.5){n.origin=r,n.originPoint=An(e.min,e.max,n.origin),n.scale=xi(t)/xi(e),n.translate=An(t.min,t.max,n.origin)-n.originPoint,(n.scale>=U7&&n.scale<=B7||isNaN(n.scale))&&(n.scale=1),(n.translate>=$7&&n.translate<=z7||isNaN(n.translate))&&(n.translate=0)}function yp(n,e,t,r){pk(n.x,e.x,t.x,r?r.originX:void 0),pk(n.y,e.y,t.y,r?r.originY:void 0)}function mk(n,e,t){n.min=t.min+e.min,n.max=n.min+xi(e)}function H7(n,e,t){mk(n.x,e.x,t.x),mk(n.y,e.y,t.y)}function gk(n,e,t){n.min=e.min-t.min,n.max=n.min+xi(e)}function _p(n,e,t){gk(n.x,e.x,t.x),gk(n.y,e.y,t.y)}const yk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ph=()=>({x:yk(),y:yk()}),_k=()=>({min:0,max:0}),Bn=()=>({x:_k(),y:_k()});function Ps(n){return[n("x"),n("y")]}function ZT(n){return n===void 0||n===1}function Gx({scale:n,scaleX:e,scaleY:t}){return!ZT(n)||!ZT(e)||!ZT(t)}function ku(n){return Gx(n)||Gj(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Gj(n){return vk(n.x)||vk(n.y)}function vk(n){return n&&n!=="0%"}function q_(n,e,t){const r=n-t,i=e*r;return t+i}function wk(n,e,t,r,i){return i!==void 0&&(n=q_(n,i,r)),q_(n,t,r)+e}function Yx(n,e=0,t=1,r,i){n.min=wk(n.min,e,t,r,i),n.max=wk(n.max,e,t,r,i)}function Yj(n,{x:e,y:t}){Yx(n.x,e.translate,e.scale,e.originPoint),Yx(n.y,t.translate,t.scale,t.originPoint)}const Tk=.999999999999,Ek=1.0000000000001;function q7(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=t[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Nh(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Yj(n,o)),r&&ku(s.latestValues)&&Nh(n,s.latestValues))}e.x<Ek&&e.x>Tk&&(e.x=1),e.y<Ek&&e.y>Tk&&(e.y=1)}function kh(n,e){n.min=n.min+e,n.max=n.max+e}function xk(n,e,t,r,i=.5){const s=An(n.min,n.max,i);Yx(n,e,t,s,r)}function Nh(n,e){xk(n.x,e.x,e.scaleX,e.scale,e.originX),xk(n.y,e.y,e.scaleY,e.scale,e.originY)}function Kj(n,e){return Wj(F7(n.getBoundingClientRect(),e))}function G7(n,e,t){const r=Kj(n,t),{scroll:i}=e;return i&&(kh(r.x,i.offset.x),kh(r.y,i.offset.y)),r}const Xj=({current:n})=>n?n.ownerDocument.defaultView:null,Sk=(n,e)=>Math.abs(n-e);function Y7(n,e){const t=Sk(n.x,e.x),r=Sk(n.y,e.y);return Math.sqrt(t**2+r**2)}class Qj{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=tE(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,_=Y7(p.offset,{x:0,y:0})>=3;if(!g&&!_)return;const{point:w}=p,{timestamp:v}=Or;this.history.push({...w,timestamp:v});const{onStart:x,onMove:C}=this.handlers;g||(x&&x(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=eE(g,this.transformPagePoint),Pn.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=tE(p.type==="pointercancel"?this.lastMoveEventInfo:eE(g,this.transformPagePoint),this.history);this.startEvent&&_&&_(p,x),w&&w(p,x)},!Eb(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=Tm(e),l=eE(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=Or;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=t;d&&d(e,tE(l,this.history)),this.removeListeners=_m(gp(this.contextWindow,"pointermove",this.handlePointerMove),gp(this.contextWindow,"pointerup",this.handlePointerUp),gp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ul(this.updatePoint)}}function eE(n,e){return e?{point:e(n.point)}:n}function bk(n,e){return{x:n.x-e.x,y:n.y-e.y}}function tE({point:n},e){return{point:n,delta:bk(n,Jj(e)),offset:bk(n,K7(e)),velocity:X7(e,.1)}}function K7(n){return n[0]}function Jj(n){return n[n.length-1]}function X7(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Jj(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Bo(e)));)t--;if(!r)return{x:0,y:0};const s=$o(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Q7(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?An(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?An(t,n,r.max):Math.min(n,t)),n}function Ck(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function J7(n,{top:e,left:t,bottom:r,right:i}){return{x:Ck(n.x,t,i),y:Ck(n.y,e,r)}}function Ik(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Z7(n,e){return{x:Ik(n.x,e.x),y:Ik(n.y,e.y)}}function eG(n,e){let t=.5;const r=xi(n),i=xi(e);return i>r?t=Bp(e.min,e.max-r,n.min):r>i&&(t=Bp(n.min,n.max-i,e.min)),Da(0,1,t)}function tG(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Kx=.35;function nG(n=Kx){return n===!1?n=0:n===!0&&(n=Kx),{x:Ak(n,"left","right"),y:Ak(n,"top","bottom")}}function Ak(n,e,t){return{min:Rk(n,e),max:Rk(n,t)}}function Rk(n,e){return typeof n=="number"?n:n[e]||0}const rG=new WeakMap;class iG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Tm(d).point)},s=(d,p)=>{const{drag:g,dragPropagation:_,onDragStart:w}=this.getProps();if(g&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_q(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ps(x=>{let C=this.getAxisMotionValue(x).get()||0;if(zo.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const L=k.layout.layoutBox[x];L&&(C=xi(L)*(parseFloat(C)/100))}}this.originPoint[x]=C}),w&&Pn.postRender(()=>w(d,p)),Hx(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,p)=>{const{dragPropagation:g,dragDirectionLock:_,onDirectionLock:w,onDrag:v}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=p;if(_&&this.currentDirection===null){this.currentDirection=sG(x),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,x),this.updateAxis("y",p.point,x),this.visualElement.render(),v&&v(d,p)},l=(d,p)=>this.stop(d,p),c=()=>Ps(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Qj(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:Xj(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Pn.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Ey(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Q7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Rh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=J7(r.layoutBox,e):this.constraints=!1,this.elastic=nG(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ps(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=tG(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Rh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=G7(r,i.root,this.visualElement.getTransformPagePoint());let o=Z7(i.layout.layoutBox,s);if(t){const l=t(V7(o));this.hasMutatedConstraints=!!l,l&&(o=Wj(l))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=Ps(d=>{if(!Ey(d,t,this.currentDirection))return;let p=c&&c[d]||{};o&&(p={min:0,max:0});const g=i?200:1e6,_=i?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,w)});return Promise.all(h).then(l)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Hx(this.visualElement,e),r.start(Nb(e,r,0,t,this.visualElement,!1))}stopAnimation(){Ps(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ps(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ps(t=>{const{drag:r}=this.getProps();if(!Ey(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[t];s.set(e[t]-An(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Rh(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ps(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=eG({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ps(o=>{if(!Ey(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:h}=this.constraints[o];l.set(An(c,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;rG.set(this.visualElement,this);const e=this.visualElement.current,t=gp(e,"pointerdown",c=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Rh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pn.read(r);const o=Gp(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ps(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Kx,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Ey(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function sG(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class oG extends Jl{constructor(e){super(e),this.removeGroupControls=Fs,this.removeListeners=Fs,this.controls=new iG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pk=n=>(e,t)=>{n&&Pn.postRender(()=>n(e,t))};class aG extends Jl{constructor(){super(...arguments),this.removePointerDownListener=Fs}onPointerDown(e){this.session=new Qj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Pk(e),onStart:Pk(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Pn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=gp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const s_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kk(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Rf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Xe.test(n))n=parseFloat(n);else return n;const t=kk(n,e.target.x),r=kk(n,e.target.y);return`${t}% ${r}%`}},lG={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Bl.parse(n);if(i.length>5)return r;const s=Bl.createTransformer(n),o=typeof i[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const h=An(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),s(i)}};class uG extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Gq(cG),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),s_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Pn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Zj(n){const[e,t]=Cj(),r=R.useContext(J1);return E.jsx(uG,{...n,layoutGroup:r,switchLayoutGroup:R.useContext(kj),isPresent:e,safeToRemove:t})}const cG={borderRadius:{...Rf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rf,borderTopRightRadius:Rf,borderBottomLeftRadius:Rf,borderBottomRightRadius:Rf,boxShadow:lG};function hG(n,e,t){const r=ii(n)?n:od(n);return r.start(Nb("",r,e,t)),r.animation}const dG=(n,e)=>n.depth-e.depth;class fG{constructor(){this.children=[],this.isDirty=!1}add(e){tb(this.children,e),this.isDirty=!0}remove(e){nb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dG),this.isDirty=!1,this.children.forEach(e)}}function pG(n,e){const t=Ui.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Ul(r),n(s-e))};return Pn.setup(r,!0),()=>Ul(r)}const eV=["TopLeft","TopRight","BottomLeft","BottomRight"],mG=eV.length,Nk=n=>typeof n=="string"?parseFloat(n):n,Ok=n=>typeof n=="number"||Xe.test(n);function gG(n,e,t,r,i,s){i?(n.opacity=An(0,t.opacity??1,yG(r)),n.opacityExit=An(e.opacity??1,0,_G(r))):s&&(n.opacity=An(e.opacity??1,t.opacity??1,r));for(let o=0;o<mG;o++){const l=`border${eV[o]}Radius`;let c=Dk(e,l),h=Dk(t,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||Ok(c)===Ok(h)?(n[l]=Math.max(An(Nk(c),Nk(h),r),0),(zo.test(h)||zo.test(c))&&(n[l]+="%")):n[l]=h}(e.rotate||t.rotate)&&(n.rotate=An(e.rotate||0,t.rotate||0,r))}function Dk(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const yG=tV(0,.5,GL),_G=tV(.5,.95,Fs);function tV(n,e,t){return r=>r<n?0:r>e?1:t(Bp(n,e,r))}function Mk(n,e){n.min=e.min,n.max=e.max}function As(n,e){Mk(n.x,e.x),Mk(n.y,e.y)}function Lk(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function jk(n,e,t,r,i){return n-=e,n=q_(n,1/t,r),i!==void 0&&(n=q_(n,1/i,r)),n}function vG(n,e=0,t=1,r=.5,i,s=n,o=n){if(zo.test(e)&&(e=parseFloat(e),e=An(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=An(s.min,s.max,r);n===s&&(l-=e),n.min=jk(n.min,e,t,l,i),n.max=jk(n.max,e,t,l,i)}function Vk(n,e,[t,r,i],s,o){vG(n,e[t],e[r],e[i],e.scale,s,o)}const wG=["x","scaleX","originX"],TG=["y","scaleY","originY"];function Fk(n,e,t,r){Vk(n.x,e,wG,t?t.x:void 0,r?r.x:void 0),Vk(n.y,e,TG,t?t.y:void 0,r?r.y:void 0)}function Uk(n){return n.translate===0&&n.scale===1}function nV(n){return Uk(n.x)&&Uk(n.y)}function Bk(n,e){return n.min===e.min&&n.max===e.max}function EG(n,e){return Bk(n.x,e.x)&&Bk(n.y,e.y)}function $k(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function rV(n,e){return $k(n.x,e.x)&&$k(n.y,e.y)}function zk(n){return xi(n.x)/xi(n.y)}function Wk(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class xG{constructor(){this.members=[]}add(e){tb(this.members,e),e.scheduleRender()}remove(e){if(nb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SG(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:d,rotateX:p,rotateY:g,skewX:_,skewY:w}=t;h&&(r=`perspective(${h}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),_&&(r+=`skewX(${_}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const nE=["","X","Y","Z"],bG={visibility:"hidden"},CG=1e3;let IG=0;function rE(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function iV(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Uj(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Pn,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&iV(r)}function sV({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=IG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PG),this.nodes.forEach(MG),this.nodes.forEach(LG),this.nodes.forEach(kG)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new fG)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sb),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=bj(o)&&!Sq(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=pG(p,250),s_.hasAnimatedSinceResize&&(s_.hasAnimatedSinceResize=!1,this.nodes.forEach(qk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||BG,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=h.getProps(),C=!this.targetLayout||!rV(this.targetLayout,_),k=!p&&g;if(this.options.layoutRoot||this.resumeFrom||k||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,k);const L={...vb(w,"layout"),onPlay:v,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else p||qk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ul(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hk);return}this.isUpdating||this.nodes.forEach(OG),this.isUpdating=!1,this.nodes.forEach(DG),this.nodes.forEach(AG),this.nodes.forEach(RG),this.clearAllSnapshots();const l=Ui.now();Or.delta=Da(0,1e3/60,l-Or.timestamp),Or.timestamp=l,Or.isProcessing=!0,YT.update.process(Or),YT.preRender.process(Or),YT.render.process(Or),Or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NG),this.sharedNodes.forEach(VG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xi(this.snapshot.measuredBox.x)&&!xi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!nV(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;o&&this.instance&&(l||ku(this.latestValues)||d)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),$G(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return Bn();const l=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(zG))){const{scroll:d}=this.root;d&&(kh(l.x,d.offset.x),kh(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Bn();if(As(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:p,options:g}=d;d!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&As(l,o),kh(l.x,p.offset.x),kh(l.y,p.offset.y))}return l}applyTransform(o,l=!1){const c=Bn();As(c,o);for(let h=0;h<this.path.length;h++){const d=this.path[h];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Nh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ku(d.latestValues)&&Nh(c,d.latestValues)}return ku(this.latestValues)&&Nh(c,this.latestValues),c}removeTransform(o){const l=Bn();As(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!ku(h.latestValues))continue;Gx(h.latestValues)&&h.updateSnapshot();const d=Bn(),p=h.measurePageBox();As(d,p),Fk(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return ku(this.latestValues)&&Fk(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Or.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),_p(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),As(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bn(),this.targetWithTransforms=Bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),Yj(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),_p(this.relativeTargetOrigin,this.target,_.target),As(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gx(this.parent.latestValues)||Gj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Or.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;As(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;q7(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Bn());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Lk(this.prevProjectionDelta.x,this.projectionDelta.x),Lk(this.prevProjectionDelta.y,this.projectionDelta.y)),yp(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!Wk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Wk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ph(),this.projectionDelta=Ph(),this.projectionDeltaWithTransform=Ph()}setAnimationOrigin(o,l=!1){const c=this.snapshot,h=c?c.latestValues:{},d={...this.latestValues},p=Ph();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Bn(),_=c?c.source:void 0,w=this.layout?this.layout.source:void 0,v=_!==w,x=this.getStack(),C=!x||x.members.length<=1,k=!!(v&&!C&&this.options.crossfade===!0&&!this.path.some(UG));this.animationProgress=0;let L;this.mixTargetDelta=O=>{const j=O/1e3;Gk(p.x,o.x,j),Gk(p.y,o.y,j),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_p(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FG(this.relativeTarget,this.relativeTargetOrigin,g,j),L&&EG(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Bn()),As(L,this.relativeTarget)),v&&(this.animationValues=d,gG(d,h,this.latestValues,j,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,h;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(h=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||h.stop(!1),this.pendingAnimation&&(Ul(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pn.update(()=>{s_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=od(0)),this.currentAnimation=hG(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CG),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:d}=o;if(!(!l||!c||!h)){if(this!==o&&this.layout&&h&&oV(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Bn();const p=xi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const g=xi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}As(l,c),Nh(l,d),yp(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xG),this.sharedNodes.get(o).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const h={};c.z&&rE("z",o,h,this.animationValues);for(let d=0;d<nE.length;d++)rE(`rotate${nE[d]}`,o,h,this.animationValues),rE(`skew${nE[d]}`,o,h,this.animationValues);o.render();for(const d in h)o.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return bG;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=i_(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=i_(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ku(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=SG(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:p,y:g}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?l.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in Hp){if(d[_]===void 0)continue;const{correct:w,applyTo:v,isCSSVariable:x}=Hp[_],C=l.transform==="none"?d[_]:w(d[_],h);if(v){const k=v.length;for(let L=0;L<k;L++)l[v[L]]=C}else x?this.options.visualElement.renderState.vars[_]=C:l[_]=C}return this.options.layoutId&&(l.pointerEvents=h===this?i_(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(Hk),this.root.sharedNodes.clear()}}}function AG(n){n.updateLayout()}function RG(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?Ps(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],_=xi(g);g.min=r[p].min,g.max=g.min+_}):oV(s,e.layoutBox,r)&&Ps(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],_=xi(r[p]);g.max=g.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+_)});const l=Ph();yp(l,r,e.layoutBox);const c=Ph();o?yp(c,n.applyTransform(i,!0),e.measuredBox):yp(c,r,e.layoutBox);const h=!nV(l);let d=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:_}=p;if(g&&_){const w=Bn();_p(w,e.layoutBox,g.layoutBox);const v=Bn();_p(v,r,_.layoutBox),rV(w,v)||(d=!0),p.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=w,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function PG(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function kG(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function NG(n){n.clearSnapshot()}function Hk(n){n.clearMeasurements()}function OG(n){n.isLayoutDirty=!1}function DG(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function qk(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function MG(n){n.resolveTargetDelta()}function LG(n){n.calcProjection()}function jG(n){n.resetSkewAndRotation()}function VG(n){n.removeLeadSnapshot()}function Gk(n,e,t){n.translate=An(e.translate,0,t),n.scale=An(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Yk(n,e,t,r){n.min=An(e.min,t.min,r),n.max=An(e.max,t.max,r)}function FG(n,e,t,r){Yk(n.x,e.x,t.x,r),Yk(n.y,e.y,t.y,r)}function UG(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const BG={duration:.45,ease:[.4,0,.1,1]},Kk=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Xk=Kk("applewebkit/")&&!Kk("chrome/")?Math.round:Fs;function Qk(n){n.min=Xk(n.min),n.max=Xk(n.max)}function $G(n){Qk(n.x),Qk(n.y)}function oV(n,e,t){return n==="position"||n==="preserve-aspect"&&!W7(zk(e),zk(t),.2)}function zG(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const WG=sV({attachResizeListener:(n,e)=>Gp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iE={current:void 0},aV=sV({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!iE.current){const n=new WG({});n.mount(window),n.setOptions({layoutScroll:!0}),iE.current=n}return iE.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),HG={pan:{Feature:aG},drag:{Feature:oG,ProjectionNode:aV,MeasureLayout:Zj}};function Jk(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&Pn.postRender(()=>s(e,Tm(e)))}class qG extends Jl{mount(){const{current:e}=this.node;e&&(this.unmount=vq(e,(t,r)=>(Jk(this.node,r,"Start"),i=>Jk(this.node,i,"End"))))}unmount(){}}class GG extends Jl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_m(Gp(this.node.current,"focus",()=>this.onFocus()),Gp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zk(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&Pn.postRender(()=>s(e,Tm(e)))}class YG extends Jl{mount(){const{current:e}=this.node;e&&(this.unmount=xq(e,(t,r)=>(Zk(this.node,r,"Start"),(i,{success:s})=>Zk(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xx=new WeakMap,sE=new WeakMap,KG=n=>{const e=Xx.get(n.target);e&&e(n)},XG=n=>{n.forEach(KG)};function QG({root:n,...e}){const t=n||document;sE.has(t)||sE.set(t,{});const r=sE.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(XG,{root:n,...e})),r[i]}function JG(n,e,t){const r=QG(e);return Xx.set(n,t),r.observe(n),()=>{Xx.delete(n),r.unobserve(n)}}const ZG={some:0,all:1};class eY extends Jl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ZG[i]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=h?d:p;g&&g(c)};return JG(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(tY(e,t))&&this.startObserver()}unmount(){}}function tY({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const nY={inView:{Feature:eY},tap:{Feature:YG},focus:{Feature:GG},hover:{Feature:qG}},rY={layout:{ProjectionNode:aV,MeasureLayout:Zj}},Qx={current:null},lV={current:!1};function iY(){if(lV.current=!0,!!eb)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qx.current=n.matches;n.addListener(e),e()}else Qx.current=!1}const sY=new WeakMap;function oY(n,e,t){for(const r in e){const i=e[r],s=t[r];if(ii(i))n.addValue(r,i);else if(ii(s))n.addValue(r,od(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,od(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const eN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aY{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ui.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Pn.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=$v(t),this.isVariantNode=Rj(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in p){const _=p[g];c[g]!==void 0&&ii(_)&&_.set(c[g],!1)}}mount(e){this.current=e,sY.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),lV.current||iY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ul(this.notifyUpdate),Ul(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=bd.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Pn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ad){const t=ad[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<eN.length;r++){const i=eN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=oY(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=od(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(jL(r)||FL(r))?r=parseFloat(r):!Cq(r)&&Bl.test(t)&&(r=wj(e,t)),this.setBaseTarget(e,ii(r)?r.get():r)),ii(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const o=Pb(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ii(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new sb),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class uV extends aY{constructor(){super(...arguments),this.KeyframeResolver=pq}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ii(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function cV(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}function lY(n){return window.getComputedStyle(n)}class uY extends uV{constructor(){super(...arguments),this.type="html",this.renderInstance=cV}readValueFromInstance(e,t){var r;if(bd.has(t))return(r=this.projection)!=null&&r.isProjecting?jx(t):OH(e,t);{const i=lY(e),s=(lb(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Kj(e,t)}build(e,t,r){Ib(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return kb(e,t,r)}}const hV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cY(n,e,t,r){cV(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(hV.has(i)?i:Cb(i),e.attrs[i])}class hY extends uV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(bd.has(t)){const r=vj(t);return r&&r.default||0}return t=hV.has(t)?t:Cb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Fj(e,t,r)}build(e,t,r){Mj(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){cY(e,t,r,i)}mount(e){this.isSVGTag=jj(e.tagName),super.mount(e)}}const dY=(n,e)=>Rb(n)?new hY(e):new uY(e,{allowProjection:n!==R.Fragment}),fY=c7({...L7,...nY,...HG,...rY},dY),nn=Mq(fY),pY=()=>{};var tN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e=function(n,e){if(!n)throw Cd(e)},Cd=function(n){return new Error("Firebase Database ("+dV.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},mY=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],l=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,l=o?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,_=h&63;c||(_=64,o||(g=64)),r.push(t[d],t[p],t[g],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mY(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new gY;const g=s<<2|l>>4;if(r.push(g),h!==64){const _=l<<4&240|h>>2;if(r.push(_),p!==64){const w=h<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pV=function(n){const e=fV(n);return Ob.encodeByteArray(e,!0)},G_=function(n){return pV(n).replace(/\./g,"")},Y_=function(n){try{return Ob.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(n){return mV(void 0,n)}function mV(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!_Y(t)||(n[t]=mV(n[t],e[t]));return n}function _Y(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=()=>vY().__FIREBASE_DEFAULTS__,TY=()=>{if(typeof process>"u"||typeof tN>"u")return;const n=tN.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EY=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Y_(n[1]);return e&&JSON.parse(e)},zv=()=>{try{return pY()||wY()||TY()||EY()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gV=n=>{var e,t;return(t=(e=zv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Db=n=>{const e=gV(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yV=()=>{var n;return(n=zv())===null||n===void 0?void 0:n.config},_V=n=>{var e;return(e=zv())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(n){return n.endsWith(".cloudworkstations.dev")}async function Wv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[G_(JSON.stringify(t)),G_(JSON.stringify(o)),""].join(".")}const vp={};function xY(){const n={prod:[],emulator:[]};for(const e of Object.keys(vp))vp[e]?n.emulator.push(e):n.prod.push(e);return n}function SY(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nN=!1;function Hv(n,e){if(typeof window>"u"||typeof document>"u"||!Zl(window.location.host)||vp[n]===e||vp[n]||nN)return;vp[n]=e;function t(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=xY().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{nN=!0,o()},g}function d(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=SY(r),_=t("text"),w=document.getElementById(_)||document.createElement("span"),v=t("learnmore"),x=document.getElementById(v)||document.createElement("a"),C=t("preprendIcon"),k=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const L=g.element;l(L),d(x,v);const O=h();c(k,C),L.append(k,w,x,O),document.body.appendChild(L)}s?(w.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ai())}function bY(){var n;const e=(n=zv())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IY(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AY(){const n=ai();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RY(){return dV.NODE_ADMIN===!0}function PY(){return!bY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kY(){try{return typeof indexedDB=="object"}catch{return!1}}function NY(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY="FirebaseError";class ea extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=OY,Object.setPrototypeOf(this,ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Em.prototype.create)}}class Em{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DY(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ea(i,l,r)}}function DY(n,e){return n.replace(MY,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const MY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n){return JSON.parse(n)}function Mr(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Yp(Y_(s[0])||""),t=Yp(Y_(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},LY=function(n){const e=wV(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},jY=function(n){const e=wV(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ld(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Jx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function K_(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function $l(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(rN(s)&&rN(o)){if(!$l(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function rN(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let p=0;p<16;p++)r[p]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let p=16;p<80;p++){const g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],h,d;for(let p=0;p<80;p++){p<40?p<20?(h=l^s&(o^l),d=1518500249):(h=s^o^l,d=1859775393):p<60?(h=s&o|l&(s|o),d=2400959708):(h=s^o^l,d=3395469782);const g=(i<<5|i>>>27)+h+c+d+r[p]&4294967295;c=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function FY(n,e){const t=new UY(n,e);return t.subscribe.bind(t)}class UY{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");BY(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=oE),i.error===void 0&&(i.error=oE),i.complete===void 0&&(i.complete=oE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BY(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function oE(){}function $Y(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,_e(r<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},qv=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n){return n&&n._delegate?n._delegate:n}class La{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WY=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Mb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qY(e))try{this.getOrInitializeService({instanceIdentifier:Nu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nu){return this.instances.has(e)}getOptions(e=Nu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HY(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nu){return this.component?this.component.multipleInstances?e:Nu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HY(n){return n===Nu?void 0:n}function qY(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WY(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(gt||(gt={}));const YY={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},KY=gt.INFO,XY={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},QY=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=XY[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gv{constructor(e){this.name=e,this._logLevel=KY,this._logHandler=QY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const JY=(n,e)=>e.some(t=>n instanceof t);let iN,sN;function ZY(){return iN||(iN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eK(){return sN||(sN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TV=new WeakMap,Zx=new WeakMap,EV=new WeakMap,aE=new WeakMap,Vb=new WeakMap;function tK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(kl(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&TV.set(t,n)}).catch(()=>{}),Vb.set(e,n),e}function nK(n){if(Zx.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Zx.set(n,e)}let eS={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zx.get(n);if(e==="objectStoreNames")return n.objectStoreNames||EV.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return kl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rK(n){eS=n(eS)}function iK(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(lE(this),e,...t);return EV.set(r,e.sort?e.sort():[e]),kl(r)}:eK().includes(n)?function(...e){return n.apply(lE(this),e),kl(TV.get(this))}:function(...e){return kl(n.apply(lE(this),e))}}function sK(n){return typeof n=="function"?iK(n):(n instanceof IDBTransaction&&nK(n),JY(n,ZY())?new Proxy(n,eS):n)}function kl(n){if(n instanceof IDBRequest)return tK(n);if(aE.has(n))return aE.get(n);const e=sK(n);return e!==n&&(aE.set(n,e),Vb.set(e,n)),e}const lE=n=>Vb.get(n);function oK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),l=kl(o);return r&&o.addEventListener("upgradeneeded",c=>{r(kl(o.result),c.oldVersion,c.newVersion,kl(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const aK=["get","getKey","getAll","getAllKeys","count"],lK=["put","add","delete","clear"],uE=new Map;function oN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uE.get(e))return uE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=lK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aK.includes(t)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),i&&c.done]))[0]};return uE.set(e,s),s}rK(n=>({...n,get:(e,t,r)=>oN(e,t)||n.get(e,t,r),has:(e,t)=>!!oN(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cK(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function cK(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tS="@firebase/app",aN="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Gv("@firebase/app"),hK="@firebase/app-compat",dK="@firebase/analytics-compat",fK="@firebase/analytics",pK="@firebase/app-check-compat",mK="@firebase/app-check",gK="@firebase/auth",yK="@firebase/auth-compat",_K="@firebase/database",vK="@firebase/data-connect",wK="@firebase/database-compat",TK="@firebase/functions",EK="@firebase/functions-compat",xK="@firebase/installations",SK="@firebase/installations-compat",bK="@firebase/messaging",CK="@firebase/messaging-compat",IK="@firebase/performance",AK="@firebase/performance-compat",RK="@firebase/remote-config",PK="@firebase/remote-config-compat",kK="@firebase/storage",NK="@firebase/storage-compat",OK="@firebase/firestore",DK="@firebase/ai",MK="@firebase/firestore-compat",LK="firebase",jK="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="[DEFAULT]",VK={[tS]:"fire-core",[hK]:"fire-core-compat",[fK]:"fire-analytics",[dK]:"fire-analytics-compat",[mK]:"fire-app-check",[pK]:"fire-app-check-compat",[gK]:"fire-auth",[yK]:"fire-auth-compat",[_K]:"fire-rtdb",[vK]:"fire-data-connect",[wK]:"fire-rtdb-compat",[TK]:"fire-fn",[EK]:"fire-fn-compat",[xK]:"fire-iid",[SK]:"fire-iid-compat",[bK]:"fire-fcm",[CK]:"fire-fcm-compat",[IK]:"fire-perf",[AK]:"fire-perf-compat",[RK]:"fire-rc",[PK]:"fire-rc-compat",[kK]:"fire-gcs",[NK]:"fire-gcs-compat",[OK]:"fire-fst",[MK]:"fire-fst-compat",[DK]:"fire-vertex","fire-js":"fire-js",[LK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map,FK=new Map,rS=new Map;function lN(n,e){try{n.container.addComponent(e)}catch(t){ja.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zl(n){const e=n.name;if(rS.has(e))return ja.debug(`There were multiple attempts to register component ${e}.`),!1;rS.set(e,n);for(const t of X_.values())lN(t,n);for(const t of FK.values())lN(t,n);return!0}function xm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nl=new Em("app","Firebase",UK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=jK;function xV(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nS,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Nl.create("bad-app-name",{appName:String(i)});if(t||(t=yV()),!t)throw Nl.create("no-options");const s=X_.get(i);if(s){if($l(t,s.options)&&$l(r,s.config))return s;throw Nl.create("duplicate-app",{appName:i})}const o=new GY(i);for(const c of rS.values())o.addComponent(c);const l=new BK(t,r,o);return X_.set(i,l),l}function Yv(n=nS){const e=X_.get(n);if(!e&&n===nS&&yV())return xV();if(!e)throw Nl.create("no-app",{appName:n});return e}function Us(n,e,t){var r;let i=(r=VK[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ja.warn(l.join(" "));return}zl(new La(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K="firebase-heartbeat-database",zK=1,Kp="firebase-heartbeat-store";let cE=null;function SV(){return cE||(cE=oK($K,zK,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Kp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Nl.create("idb-open",{originalErrorMessage:n.message})})),cE}async function WK(n){try{const t=(await SV()).transaction(Kp),r=await t.objectStore(Kp).get(bV(n));return await t.done,r}catch(e){if(e instanceof ea)ja.warn(e.message);else{const t=Nl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ja.warn(t.message)}}}async function uN(n,e){try{const r=(await SV()).transaction(Kp,"readwrite");await r.objectStore(Kp).put(e,bV(n)),await r.done}catch(t){if(t instanceof ea)ja.warn(t.message);else{const r=Nl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ja.warn(r.message)}}}function bV(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HK=1024,qK=30;class GK{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KK(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>qK){const o=XK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ja.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cN(),{heartbeatsToSend:r,unsentEntries:i}=YK(this._heartbeatsCache.heartbeats),s=G_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ja.warn(t),""}}}function cN(){return new Date().toISOString().substring(0,10)}function YK(n,e=HK){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hN(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),hN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class KK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kY()?NY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WK(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return uN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return uN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hN(n){return G_(JSON.stringify({version:2,heartbeats:n})).length}function XK(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(n){zl(new La("platform-logger",e=>new uK(e),"PRIVATE")),zl(new La("heartbeat",e=>new GK(e),"PRIVATE")),Us(tS,aN,n),Us(tS,aN,"esm2017"),Us("fire-js","")}QK("");var JK="firebase",ZK="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(JK,ZK,"app");function Fb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function CV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eX=CV,IV=new Em("auth","Firebase",CV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Gv("@firebase/auth");function tX(n,...e){Q_.logLevel<=gt.WARN&&Q_.warn(`Auth (${eu}): ${n}`,...e)}function o_(n,...e){Q_.logLevel<=gt.ERROR&&Q_.error(`Auth (${eu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n,...e){throw Ub(n,...e)}function Wo(n,...e){return Ub(n,...e)}function AV(n,e,t){const r=Object.assign(Object.assign({},eX()),{[e]:t});return new Em("auth","Firebase",r).create(e,{appName:n.name})}function Ia(n){return AV(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ub(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return IV.create(n,...e)}function qe(n,e,...t){if(!n)throw Ub(e,...t)}function Ea(n){const e="INTERNAL ASSERTION FAILED: "+n;throw o_(e),new Error(e)}function Va(n,e){n||Ea(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nX(){return dN()==="http:"||dN()==="https:"}function dN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nX()||IY()||"connection"in navigator)?navigator.onLine:!0}function iX(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t){this.shortDelay=e,this.longDelay=t,Va(t>e,"Short delay should be less than long delay!"),this.isMobile=jb()||vV()}get(){return rX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(n,e){Va(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aX=new Sm(3e4,6e4);function tu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function nu(n,e,t,r,i={}){return PV(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Id(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},s);return CY()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&Zl(n.emulatorConfig.host)&&(h.credentials="include"),RV.fetch()(await kV(n,n.config.apiHost,t,l),h)})}async function PV(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sX),e);try{const i=new uX(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xy(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xy(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw xy(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw xy(n,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw AV(n,d,h);go(n,d)}}catch(i){if(i instanceof ea)throw i;go(n,"network-request-failed",{message:String(i)})}}async function bm(n,e,t,r,i={}){const s=await nu(n,e,t,r,i);return"mfaPendingCredential"in s&&go(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function kV(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?Bb(n.config,i):`${n.config.apiScheme}://${i}`;return oX.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function lX(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wo(this.auth,"network-request-failed")),aX.get())})}}function xy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Wo(n,e,r);return i.customData._tokenResponse=t,i}function fN(n){return n!==void 0&&n.enterprise!==void 0}class cX{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lX(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hX(n,e){return nu(n,"GET","/v2/recaptchaConfig",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dX(n,e){return nu(n,"POST","/v1/accounts:delete",e)}async function J_(n,e){return nu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fX(n,e=!1){const t=li(n),r=await t.getIdToken(e),i=$b(r);qe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wp(hE(i.auth_time)),issuedAtTime:wp(hE(i.iat)),expirationTime:wp(hE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hE(n){return Number(n)*1e3}function $b(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return o_("JWT malformed, contained fewer than 3 sections"),null;try{const i=Y_(t);return i?JSON.parse(i):(o_("Failed to decode base64 JWT payload"),null)}catch(i){return o_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pN(n){const e=$b(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ea&&pX(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function pX({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wp(this.lastLoginAt),this.creationTime=wp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z_(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Xp(n,J_(t,{idToken:r}));qe(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NV(s.providerUserInfo):[],l=yX(n.providerData,o),c=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new sS(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function gX(n){const e=li(n);await Z_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yX(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NV(n){return n.map(e=>{var{providerId:t}=e,r=Fb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _X(n,e){const t=await PV(n,{},async()=>{const r=Id({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await kV(n,i,"/v1/token",`key=${s}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",RV.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vX(n,e){return nu(n,"POST","/v2/accounts:revokeToken",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=pN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await _X(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Gh;return r&&(qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(qe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gh,this.toJSON())}_performRefresh(){return Ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class co{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Fb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Xp(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fX(this,e)}reload(){return gX(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Z_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fi(this.auth.app))return Promise.reject(Ia(this.auth));const e=await this.getIdToken();return await Xp(this,dX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,l,c,h,d;const p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,_=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(l=t.tenantId)!==null&&l!==void 0?l:void 0,x=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,C=(h=t.createdAt)!==null&&h!==void 0?h:void 0,k=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:L,emailVerified:O,isAnonymous:j,providerData:$,stsTokenManager:N}=t;qe(L&&N,e,"internal-error");const A=Gh.fromJSON(this.name,N);qe(typeof L=="string",e,"internal-error"),ml(p,e.name),ml(g,e.name),qe(typeof O=="boolean",e,"internal-error"),qe(typeof j=="boolean",e,"internal-error"),ml(_,e.name),ml(w,e.name),ml(v,e.name),ml(x,e.name),ml(C,e.name),ml(k,e.name);const P=new co({uid:L,auth:e,email:g,emailVerified:O,displayName:p,isAnonymous:j,photoURL:w,phoneNumber:_,tenantId:v,stsTokenManager:A,createdAt:C,lastLoginAt:k});return $&&Array.isArray($)&&(P.providerData=$.map(D=>Object.assign({},D))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Gh;i.updateFromServerResponse(t);const s=new co({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Z_(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?NV(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Gh;l.updateFromIdToken(r);const c=new co({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Map;function xa(n){Va(n instanceof Function,"Expected a class definition");let e=mN.get(n);return e?(Va(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,mN.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OV.type="NONE";const gN=OV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(n,e,t){return`firebase:${n}:${e}:${t}`}class Yh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=a_(this.userKey,i.apiKey,s),this.fullPersistenceKey=a_("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await J_(this.auth,{idToken:e}).catch(()=>{});return t?co._fromGetAccountInfoResponse(this.auth,t,e):null}return co._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yh(xa(gN),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||xa(gN);const o=a_(r,e.config.apiKey,e.name);let l=null;for(const h of t)try{const d=await h._get(o);if(d){let p;if(typeof d=="string"){const g=await J_(e,{idToken:d}).catch(()=>{});if(!g)break;p=await co._fromGetAccountInfoResponse(e,g,d)}else p=co._fromJSON(e,d);h!==s&&(l=p),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Yh(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Yh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FV(e))return"Blackberry";if(UV(e))return"Webos";if(MV(e))return"Safari";if((e.includes("chrome/")||LV(e))&&!e.includes("edge/"))return"Chrome";if(VV(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DV(n=ai()){return/firefox\//i.test(n)}function MV(n=ai()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LV(n=ai()){return/crios\//i.test(n)}function jV(n=ai()){return/iemobile/i.test(n)}function VV(n=ai()){return/android/i.test(n)}function FV(n=ai()){return/blackberry/i.test(n)}function UV(n=ai()){return/webos/i.test(n)}function zb(n=ai()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wX(n=ai()){var e;return zb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TX(){return AY()&&document.documentMode===10}function BV(n=ai()){return zb(n)||VV(n)||UV(n)||FV(n)||/windows phone/i.test(n)||jV(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(n,e=[]){let t;switch(n){case"Browser":t=yN(ai());break;case"Worker":t=`${yN(ai())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xX(n,e={}){return nu(n,"GET","/v2/passwordPolicy",tu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX=6;class bX{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:SX,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _N(this),this.idTokenSubscription=new _N(this),this.beforeStateQueue=new EX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xa(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Yh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await J_(this,{idToken:e}),r=await co._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Z_(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fi(this.app))return Promise.reject(Ia(this));const t=e?li(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fi(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fi(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xX(this),t=new bX(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Em("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await vX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xa(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Yh.create(this,[xa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$V(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&tX(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Tc(n){return li(n)}class _N{constructor(e){this.auth=e,this.observer=null,this.addObserver=FY(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IX(n){Kv=n}function zV(n){return Kv.loadJS(n)}function AX(){return Kv.recaptchaEnterpriseScript}function RX(){return Kv.gapiScript}function PX(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class kX{constructor(){this.enterprise=new NX}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NX{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const OX="recaptcha-enterprise",WV="NO_RECAPTCHA";class DX{constructor(e){this.type=OX,this.auth=Tc(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{hX(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new cX(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;fN(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(WV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kX().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!t&&fN(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=AX();c.length!==0&&(c+=l),zV(c).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function vN(n,e,t,r=!1,i=!1){const s=new DX(n);let o;if(i)o=WV;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function oS(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await vN(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await vN(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(n,e){const t=xm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if($l(s,e??{}))return i;go(i,"already-initialized")}return t.initialize({options:e})}function LX(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(xa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jX(n,e,t){const r=Tc(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=HV(e),{host:o,port:l}=VX(e),c=l===null?"":`:${l}`,h={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe($l(h,r.config.emulator)&&$l(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Zl(o)?(Wv(`${s}//${o}${c}`),Hv("Auth",!0)):FX()}function HV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VX(n){const e=HV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wN(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wN(o)}}}function wN(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function FX(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ea("not implemented")}_getIdTokenResponse(e){return Ea("not implemented")}_linkToIdToken(e,t){return Ea("not implemented")}_getReauthenticationResolver(e){return Ea("not implemented")}}async function UX(n,e){return nu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BX(n,e){return bm(n,"POST","/v1/accounts:signInWithPassword",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $X(n,e){return bm(n,"POST","/v1/accounts:signInWithEmailLink",tu(n,e))}async function zX(n,e){return bm(n,"POST","/v1/accounts:signInWithEmailLink",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Wb{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Qp(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Qp(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oS(e,t,"signInWithPassword",BX);case"emailLink":return $X(e,{email:this._email,oobCode:this._password});default:go(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oS(e,r,"signUpPassword",UX);case"emailLink":return zX(e,{idToken:t,email:this._email,oobCode:this._password});default:go(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n,e){return bm(n,"POST","/v1/accounts:signInWithIdp",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WX="http://localhost";class uc extends Wb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new uc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):go("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Fb(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new uc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Kh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Kh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kh(e,t)}buildRequest(){const e={requestUri:WX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Id(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qX(n){const e=Gf(Yf(n)).link,t=e?Gf(Yf(e)).deep_link_id:null,r=Gf(Yf(n)).deep_link_id;return(r?Gf(Yf(r)).link:null)||r||t||e||n}class Hb{constructor(e){var t,r,i,s,o,l;const c=Gf(Yf(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=HX((i=c.mode)!==null&&i!==void 0?i:null);qe(h&&d&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=qX(e);try{return new Hb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.providerId=Ad.PROVIDER_ID}static credential(e,t){return Qp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Hb.parseLink(t);return qe(r,"argument-error"),Qp._fromEmailAndCode(e,r.code,r.tenantId)}}Ad.PROVIDER_ID="password";Ad.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ad.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends qV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Cm{constructor(){super("facebook.com")}static credential(e){return uc._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _l.credential(e.oauthAccessToken)}catch{return null}}}_l.FACEBOOK_SIGN_IN_METHOD="facebook.com";_l.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Cm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return uc._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vl.credentialFromTaggedObject(e)}static credentialFromError(e){return vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return vl.credential(t,r)}catch{return null}}}vl.GOOGLE_SIGN_IN_METHOD="google.com";vl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Cm{constructor(){super("github.com")}static credential(e){return uc._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wl.credential(e.oauthAccessToken)}catch{return null}}}wl.GITHUB_SIGN_IN_METHOD="github.com";wl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Cm{constructor(){super("twitter.com")}static credential(e,t){return uc._fromParams({providerId:Tl.PROVIDER_ID,signInMethod:Tl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Tl.credentialFromTaggedObject(e)}static credentialFromError(e){return Tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Tl.credential(t,r)}catch{return null}}}Tl.TWITTER_SIGN_IN_METHOD="twitter.com";Tl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GX(n,e){return bm(n,"POST","/v1/accounts:signUp",tu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await co._fromIdTokenResponse(e,r,i),o=TN(r);return new cc({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=TN(r);return new cc({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function TN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends ea{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ev.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new ev(e,t,r,i)}}function GV(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ev._fromErrorAndOperation(n,s,e,r):s})}async function YX(n,e,t=!1){const r=await Xp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return cc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KX(n,e,t=!1){const{auth:r}=n;if(Fi(r.app))return Promise.reject(Ia(r));const i="reauthenticate";try{const s=await Xp(n,GV(r,i,e,n),t);qe(s.idToken,r,"internal-error");const o=$b(s.idToken);qe(o,r,"internal-error");const{sub:l}=o;return qe(n.uid===l,r,"user-mismatch"),cc._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&go(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(n,e,t=!1){if(Fi(n.app))return Promise.reject(Ia(n));const r="signIn",i=await GV(n,r,e),s=await cc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function XX(n,e){return YV(Tc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(n){const e=Tc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QX(n,e,t){if(Fi(n.app))return Promise.reject(Ia(n));const r=Tc(n),o=await oS(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GX).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&KV(n),c}),l=await cc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function JX(n,e,t){return Fi(n.app)?Promise.reject(Ia(n)):XX(li(n),Ad.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KV(n),r})}function ZX(n,e,t,r){return li(n).onIdTokenChanged(e,t,r)}function eQ(n,e,t){return li(n).beforeAuthStateChanged(e,t)}const tv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tv,"1"),this.storage.removeItem(tv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ=1e3,nQ=10;class QV extends XV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);TX()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nQ):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},tQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QV.type="LOCAL";const rQ=QV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV extends XV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JV.type="SESSION";const ZV=JV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Xv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(t.origin,s)),c=await iQ(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const h=qb("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(){return window}function oQ(n){Ho().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(){return typeof Ho().WorkerGlobalScope<"u"&&typeof Ho().importScripts=="function"}async function aQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lQ(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function uQ(){return eF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="firebaseLocalStorageDb",cQ=1,nv="firebaseLocalStorage",nF="fbase_key";class Im{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qv(n,e){return n.transaction([nv],e?"readwrite":"readonly").objectStore(nv)}function hQ(){const n=indexedDB.deleteDatabase(tF);return new Im(n).toPromise()}function aS(){const n=indexedDB.open(tF,cQ);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(nv,{keyPath:nF})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(nv)?e(r):(r.close(),await hQ(),e(await aS()))})})}async function EN(n,e,t){const r=Qv(n,!0).put({[nF]:e,value:t});return new Im(r).toPromise()}async function dQ(n,e){const t=Qv(n,!1).get(e),r=await new Im(t).toPromise();return r===void 0?null:r.value}function xN(n,e){const t=Qv(n,!0).delete(e);return new Im(t).toPromise()}const fQ=800,pQ=3;class rF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await aS(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>pQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xv._getInstance(uQ()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aQ(),!this.activeServiceWorker)return;this.sender=new sQ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await aS();return await EN(e,tv,"1"),await xN(e,tv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>EN(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>dQ(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xN(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qv(i,!1).getAll();return new Im(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rF.type="LOCAL";const mQ=rF;new Sm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(n,e){return e?xa(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends Wb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yQ(n){return YV(n.auth,new Gb(n),n.bypassAuthState)}function _Q(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),KX(t,new Gb(n),n.bypassAuthState)}async function vQ(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),YX(t,new Gb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yQ;case"linkViaPopup":case"linkViaRedirect":return vQ;case"reauthViaPopup":case"reauthViaRedirect":return _Q;default:go(this.auth,"internal-error")}}resolve(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=new Sm(2e3,1e4);class Oh extends iF{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Oh.currentPopupAction&&Oh.currentPopupAction.cancel(),Oh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Va(this.filter.length===1,"Popup operations only handle one event");const e=qb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wQ.get())};e()}}Oh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ="pendingRedirect",l_=new Map;class EQ extends iF{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=l_.get(this.auth._key());if(!e){try{const r=await xQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}l_.set(this.auth._key(),e)}return this.bypassAuthState||l_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xQ(n,e){const t=CQ(e),r=bQ(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function SQ(n,e){l_.set(n._key(),e)}function bQ(n){return xa(n._redirectPersistence)}function CQ(n){return a_(TQ,n.config.apiKey,n.name)}async function IQ(n,e,t=!1){if(Fi(n.app))return Promise.reject(Ia(n));const r=Tc(n),i=gQ(r,e),o=await new EQ(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ=10*60*1e3;class RQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PQ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!sF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Wo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(SN(e))}saveEventToCache(e){this.cachedEventUids.add(SN(e)),this.lastProcessedEventTime=Date.now()}}function SN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sF({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PQ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sF(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kQ(n,e={}){return nu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OQ=/^https?/;async function DQ(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kQ(n);for(const t of e)try{if(MQ(t))return}catch{}go(n,"unauthorized-domain")}function MQ(n){const e=iS(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!OQ.test(t))return!1;if(NQ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ=new Sm(3e4,6e4);function bN(){const n=Ho().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jQ(n){return new Promise((e,t)=>{var r,i,s;function o(){bN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bN(),t(Wo(n,"network-request-failed"))},timeout:LQ.get()})}if(!((i=(r=Ho().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ho().gapi)===null||s===void 0)&&s.load)o();else{const l=PX("iframefcb");return Ho()[l]=()=>{gapi.load?o():t(Wo(n,"network-request-failed"))},zV(`${RX()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw u_=null,e})}let u_=null;function VQ(n){return u_=u_||jQ(n),u_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=new Sm(5e3,15e3),UQ="__/auth/iframe",BQ="emulator/auth/iframe",$Q={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WQ(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Bb(e,BQ):`https://${n.config.authDomain}/${UQ}`,r={apiKey:e.apiKey,appName:n.name,v:eu},i=zQ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Id(r).slice(1)}`}async function HQ(n){const e=await VQ(n),t=Ho().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:WQ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$Q,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wo(n,"network-request-failed"),l=Ho().setTimeout(()=>{s(o)},FQ.get());function c(){Ho().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GQ=500,YQ=600,KQ="_blank",XQ="http://localhost";class CN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QQ(n,e,t,r=GQ,i=YQ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},qQ),{width:r.toString(),height:i.toString(),top:s,left:o}),h=ai().toLowerCase();t&&(l=LV(h)?KQ:t),DV(h)&&(e=e||XQ,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[_,w])=>`${g}${_}=${w},`,"");if(wX(h)&&l!=="_self")return JQ(e||"",l),new CN(null);const p=window.open(e||"",l,d);qe(p,n,"popup-blocked");try{p.focus()}catch{}return new CN(p)}function JQ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ="__/auth/handler",eJ="emulator/auth/handler",tJ=encodeURIComponent("fac");async function IN(n,e,t,r,i,s){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:eu,eventId:i};if(e instanceof qV){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Jx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Cm){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await n._getAppCheckToken(),h=c?`#${tJ}=${encodeURIComponent(c)}`:"";return`${nJ(n)}?${Id(l).slice(1)}${h}`}function nJ({config:n}){return n.emulator?Bb(n,eJ):`https://${n.authDomain}/${ZQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="webStorageSupport";class rJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZV,this._completeRedirectFn=IQ,this._overrideRedirectResult=SQ}async _openPopup(e,t,r,i){var s;Va((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await IN(e,t,r,iS(),i);return QQ(e,o,qb())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await IN(e,t,r,iS(),i);return oQ(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Va(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await HQ(e),r=new RQ(e);return t.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dE,{type:dE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[dE];o!==void 0&&t(!!o),go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DQ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BV()||MV()||zb()}}const iJ=rJ;var AN="@firebase/auth",RN="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aJ(n){zl(new La("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$V(n)},h=new CX(r,i,s,c);return LX(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zl(new La("auth-internal",e=>{const t=Tc(e.getProvider("auth").getImmediate());return(r=>new sJ(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(AN,RN,oJ(n)),Us(AN,RN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ=5*60,uJ=_V("authIdTokenMaxAge")||lJ;let PN=null;const cJ=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uJ)return;const i=t==null?void 0:t.token;PN!==i&&(PN=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hJ(n=Yv()){const e=xm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=MX(n,{popupRedirectResolver:iJ,persistence:[mQ,rQ,ZV]}),r=_V("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=cJ(s.toString());eQ(t,o,()=>o(t.currentUser)),ZX(t,l=>o(l))}}const i=gV("auth");return i&&jX(t,`http://${i}`),t}function dJ(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}IX({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Wo("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",dJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aJ("Browser");var kN={};const NN="@firebase/database",ON="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oF="";function fJ(n){oF=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Mr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Yp(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Wa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pJ(e)}}catch{}return new mJ},Bu=aF("localStorage"),gJ=aF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Gv("@firebase/database"),yJ=function(){let n=1;return function(){return n++}}(),lF=function(n){const e=zY(n),t=new VY;t.update(e);const r=t.digest();return Ob.encodeByteArray(r)},Am=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Am.apply(null,r):typeof r=="object"?e+=Mr(r):e+=r,e+=" "}return e};let Tp=null,DN=!0;const _J=function(n,e){_e(!0,"Can't turn on custom loggers persistently."),Xh.logLevel=gt.VERBOSE,Tp=Xh.log.bind(Xh)},Qr=function(...n){if(DN===!0&&(DN=!1,Tp===null&&gJ.get("logging_enabled")===!0&&_J()),Tp){const e=Am.apply(null,n);Tp(e)}},Rm=function(n){return function(...e){Qr(n,...e)}},lS=function(...n){const e="FIREBASE INTERNAL ERROR: "+Am(...n);Xh.error(e)},Fa=function(...n){const e=`FIREBASE FATAL ERROR: ${Am(...n)}`;throw Xh.error(e),new Error(e)},ps=function(...n){const e="FIREBASE WARNING: "+Am(...n);Xh.warn(e)},vJ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ps("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uF=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},wJ=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ud="[MIN_NAME]",hc="[MAX_NAME]",Rd=function(n,e){if(n===e)return 0;if(n===ud||e===hc)return-1;if(e===ud||n===hc)return 1;{const t=MN(n),r=MN(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},TJ=function(n,e){return n===e?0:n<e?-1:1},Pf=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Mr(e))},Yb=function(n){if(typeof n!="object"||n===null)return Mr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Mr(e[r]),t+=":",t+=Yb(n[e[r]]);return t+="}",t},cF=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function $s(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const hF=function(n){_e(!uF(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,o,l,c;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=l+r,o=Math.round(n*Math.pow(2,t-l)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));const h=[];for(c=t;c;c-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const d=h.join("");let p="";for(c=0;c<64;c+=8){let g=parseInt(d.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},EJ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xJ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},SJ=new RegExp("^-?(0*)\\d{1,10}$"),bJ=-2147483648,CJ=2147483647,MN=function(n){if(SJ.test(n)){const e=Number(n);if(e>=bJ&&e<=CJ)return e}return null},Pm=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ps("Exception was thrown by user callback.",t),e},Math.floor(0))}},IJ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ep=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Fi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ps(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Qr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ps(e)}}class c_{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}c_.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="5",dF="v",fF="s",pF="r",mF="f",gF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yF="ls",_F="p",uS="ac",vF="websocket",wF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,t,r,i,s=!1,o="",l=!1,c=!1,h=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bu.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function PJ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function EF(n,e,t){_e(typeof e=="string","typeof type must == string"),_e(typeof t=="object","typeof params must == object");let r;if(e===vF)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===wF)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);PJ(n)&&(t.ns=n.namespace);const i=[];return $s(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(){this.counters_={}}incrementCounter(e,t=1){Wa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return yY(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={},pE={};function Xb(n){const e=n.toString();return fE[e]||(fE[e]=new kJ),fE[e]}function NJ(n,e){const t=n.toString();return pE[t]||(pE[t]=e()),pE[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pm(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="start",DJ="close",MJ="pLPCommand",LJ="pRTLPCB",xF="id",SF="pw",bF="ser",jJ="cb",VJ="seg",FJ="ts",UJ="d",BJ="dframe",CF=1870,IF=30,$J=CF-IF,zJ=25e3,WJ=3e4;class Dh{constructor(e,t,r,i,s,o,l){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rm(e),this.stats_=Xb(t),this.urlFn=c=>(this.appCheckToken&&(c[uS]=this.appCheckToken),EF(t,wF,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new OJ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WJ)),wJ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qb((...s)=>{const[o,l,c,h,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===LN)this.id=l,this.password=c;else if(o===DJ)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[LN]="t",r[bF]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[jJ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dF]=Kb,this.transportSessionId&&(r[fF]=this.transportSessionId),this.lastSessionId&&(r[yF]=this.lastSessionId),this.applicationId&&(r[_F]=this.applicationId),this.appCheckToken&&(r[uS]=this.appCheckToken),typeof location<"u"&&location.hostname&&gF.test(location.hostname)&&(r[pF]=mF);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dh.forceAllow_=!0}static forceDisallow(){Dh.forceDisallow_=!0}static isAvailable(){return Dh.forceAllow_?!0:!Dh.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!EJ()&&!xJ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Mr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=pV(t),i=cF(r,$J);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[BJ]="t",r[xF]=e,r[SF]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Mr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Qb{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yJ(),window[MJ+this.uniqueCallbackIdentifier]=e,window[LJ+this.uniqueCallbackIdentifier]=t,this.myIFrame=Qb.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Qr("frame writing exception"),l.stack&&Qr(l.stack),Qr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xF]=this.myID,e[SF]=this.myPW,e[bF]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+IF+r.length<=CF;){const o=this.pendingSegs.shift();r=r+"&"+VJ+i+"="+o.seg+"&"+FJ+i+"="+o.ts+"&"+UJ+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(zJ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Qr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ=16384,qJ=45e3;let rv=null;typeof MozWebSocket<"u"?rv=MozWebSocket:typeof WebSocket<"u"&&(rv=WebSocket);class oo{constructor(e,t,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rm(this.connId),this.stats_=Xb(t),this.connURL=oo.connectionURL_(t,o,l,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,s){const o={};return o[dF]=Kb,typeof location<"u"&&location.hostname&&gF.test(location.hostname)&&(o[pF]=mF),t&&(o[fF]=t),r&&(o[yF]=r),i&&(o[uS]=i),s&&(o[_F]=s),EF(e,vF,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bu.set("previous_websocket_failure",!0);try{let r;RY(),this.mySock=new rv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){oo.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&rv!==null&&!oo.forceDisallow_}static previouslyFailed(){return Bu.isInMemoryStorage||Bu.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=Yp(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(_e(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Mr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=cF(t,HJ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qJ))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}oo.responsesRequiredToBeHealthy=2;oo.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{static get ALL_TRANSPORTS(){return[Dh,oo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=oo&&oo.isAvailable();let r=t&&!oo.previouslyFailed();if(e.webSocketOnly&&(t||ps("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[oo];else{const i=this.transports_=[];for(const s of Jp.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Jp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=6e4,YJ=5e3,KJ=10*1024,XJ=100*1024,mE="t",jN="d",QJ="s",VN="r",JJ="e",FN="o",UN="a",BN="n",$N="p",ZJ="h";class eZ{constructor(e,t,r,i,s,o,l,c,h,d){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rm("c:"+this.id+":"),this.transportManager_=new Jp(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ep(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>KJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(mE in e){const t=e[mE];t===UN?this.upgradeIfSecondaryHealthy_():t===VN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===FN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Pf("t",e),r=Pf("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$N,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:BN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Pf("t",e),r=Pf("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Pf(mE,e);if(jN in e){const r=e[jN];if(t===ZJ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===BN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===QJ?this.onConnectionShutdown_(r):t===VN?this.onReset_(r):t===JJ?lS("Server Error: "+r):t===FN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lS("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Kb!==r&&ps("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ep(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GJ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ep(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$N,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.allowedEvents_=e,this.listeners_={},_e(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){_e(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends RF{static getInstance(){return new iv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!jb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return _e(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=32,WN=768;class pn{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Jt(){return new pn("")}function Pt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Wl(n){return n.pieces_.length-n.pieceNum_}function dn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new pn(n.pieces_,e)}function PF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function tZ(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function kF(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function NF(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new pn(e,0)}function xr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof pn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new pn(t,0)}function bt(n){return n.pieceNum_>=n.pieces_.length}function js(n,e){const t=Pt(n),r=Pt(e);if(t===null)return e;if(t===r)return js(dn(n),dn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function OF(n,e){if(Wl(n)!==Wl(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ho(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Wl(n)>Wl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class nZ{constructor(e,t){this.errorPrefix_=t,this.parts_=kF(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qv(this.parts_[r]);DF(this)}}function rZ(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=qv(e),DF(n)}function iZ(n){const e=n.parts_.pop();n.byteLength_-=qv(e),n.parts_.length>0&&(n.byteLength_-=1)}function DF(n){if(n.byteLength_>WN)throw new Error(n.errorPrefix_+"has a key path longer than "+WN+" bytes ("+n.byteLength_+").");if(n.parts_.length>zN)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zN+") or object contains a cycle "+Ou(n))}function Ou(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends RF{static getInstance(){return new Jb}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return _e(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=1e3,sZ=60*5*1e3,HN=30*1e3,oZ=1.3,aZ=3e4,lZ="server_kill",qN=3;class Aa extends AF{constructor(e,t,r,i,s,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Aa.nextPersistentConnectionId_++,this.log_=Rm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kf,this.maxReconnectDelay_=sZ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&iv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(Mr(s)),_e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new Mb,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?t.resolve(l):t.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_e(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const c=l.d,h=l.s;Aa.warnOnListenWarnings_(c,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Wa(e,"w")){const r=ld(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();ps(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jY(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=HN)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=LY(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const o={p:t,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Mr(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):lS("Unrecognized action received from server: "+Mr(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){_e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=kf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>aZ&&(this.reconnectDelay_=kf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oZ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Aa.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},h=function(p){_e(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:h};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Qr("getToken() completed but was canceled"):(Qr("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,l=new eZ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,_=>{ps(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(lZ)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&ps(p),c())}}}interrupt(e){Qr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Jx(this.interruptReasons_)&&(this.reconnectDelay_=kf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>Yb(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new pn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){Qr("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qN&&(this.reconnectDelay_=HN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Qr("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+oF.replace(/\./g,"-")]=1,jb()?e["framework.cordova"]=1:vV()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=iv.getInstance().currentlyOnline();return Jx(this.interruptReasons_)&&e}}Aa.nextPersistentConnectionId_=0;Aa.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new kt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new kt(ud,e),i=new kt(ud,t);return this.compare(r,i)!==0}minPost(){return kt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sy;class MF extends Jv{static get __EMPTY_NODE(){return Sy}static set __EMPTY_NODE(e){Sy=e}compare(e,t){return Rd(e.name,t.name)}isDefinedOn(e){throw Cd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return kt.MIN}maxPost(){return new kt(hc,Sy)}makePost(e,t){return _e(typeof e=="string","KeyIndex indexValue must always be a string."),new kt(e,Sy)}toString(){return".key"}}const Qh=new MF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by=class{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},os=class Kf{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Kf.RED,this.left=i??jo.EMPTY_NODE,this.right=s??jo.EMPTY_NODE}copy(e,t,r,i,s){return new Kf(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return jo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return jo.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Kf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Kf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};os.RED=!0;os.BLACK=!1;class uZ{copy(e,t,r,i,s){return this}insert(e,t,r){return new os(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let jo=class h_{constructor(e,t=h_.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new h_(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,os.BLACK,null,null))}remove(e){return new h_(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,os.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new by(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new by(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new by(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new by(this.root_,null,this.comparator_,!0,e)}};jo.EMPTY_NODE=new uZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cZ(n,e){return Rd(n.name,e.name)}function Zb(n,e){return Rd(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cS;function hZ(n){cS=n}const LF=function(n){return typeof n=="number"?"number:"+hF(n):"string:"+n},jF=function(n){if(n.isLeafNode()){const e=n.val();_e(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wa(e,".sv"),"Priority must be a string or number.")}else _e(n===cS||n.isEmpty(),"priority of unexpected type.");_e(n===cS||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GN;class wr{static set __childrenNodeConstructor(e){GN=e}static get __childrenNodeConstructor(){return GN}constructor(e,t=wr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,_e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jF(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:wr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bt(e)?this:Pt(e)===".priority"?this.priorityNode_:wr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:wr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=Pt(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(_e(r!==".priority"||Wl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,wr.__childrenNodeConstructor.EMPTY_NODE.updateChild(dn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+LF(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=hF(this.value_):e+=this.value_,this.lazyHash_=lF(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wr.__childrenNodeConstructor?-1:(_e(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=wr.VALUE_TYPE_ORDER.indexOf(t),s=wr.VALUE_TYPE_ORDER.indexOf(r);return _e(i>=0,"Unknown leaf type: "+t),_e(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}wr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VF,FF;function dZ(n){VF=n}function fZ(n){FF=n}class pZ extends Jv{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?Rd(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(hc,new wr("[PRIORITY-POST]",FF))}makePost(e,t){const r=VF(e);return new kt(t,new wr("[PRIORITY-POST]",r))}toString(){return".priority"}}const si=new pZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ=Math.log(2);class gZ{constructor(e){const t=s=>parseInt(Math.log(s)/mZ,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sv=function(n,e,t,r){n.sort(e);const i=function(c,h){const d=h-c;let p,g;if(d===0)return null;if(d===1)return p=n[c],g=t?t(p):p,new os(g,p.node,os.BLACK,null,null);{const _=parseInt(d/2,10)+c,w=i(c,_),v=i(_+1,h);return p=n[_],g=t?t(p):p,new os(g,p.node,os.BLACK,w,v)}},s=function(c){let h=null,d=null,p=n.length;const g=function(w,v){const x=p-w,C=p;p-=w;const k=i(x+1,C),L=n[x],O=t?t(L):L;_(new os(O,L.node,v,null,k))},_=function(w){h?(h.left=w,h=w):(d=w,h=w)};for(let w=0;w<c.count;++w){const v=c.nextBitIsOne(),x=Math.pow(2,c.count-(w+1));v?g(x,os.BLACK):(g(x,os.BLACK),g(x,os.RED))}return d},o=new gZ(n.length),l=s(o);return new jo(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gE;const gh={};class Sa{static get Default(){return _e(gh&&si,"ChildrenNode.ts has not been loaded"),gE=gE||new Sa({".priority":gh},{".priority":si}),gE}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=ld(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof jo?t:null}hasIndex(e){return Wa(this.indexSet_,e.toString())}addIndex(e,t){_e(e!==Qh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(kt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=sv(r,e.getCompare()):l=gh;const c=e.toString(),h=Object.assign({},this.indexSet_);h[c]=e;const d=Object.assign({},this.indexes_);return d[c]=l,new Sa(d,h)}addToIndexes(e,t){const r=K_(this.indexes_,(i,s)=>{const o=ld(this.indexSet_,s);if(_e(o,"Missing index implementation for "+s),i===gh)if(o.isDefinedOn(e.node)){const l=[],c=t.getIterator(kt.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&l.push(h),h=c.getNext();return l.push(e),sv(l,o.getCompare())}else return gh;else{const l=t.get(e.name);let c=i;return l&&(c=c.remove(new kt(e.name,l))),c.insert(e,e.node)}});return new Sa(r,this.indexSet_)}removeFromIndexes(e,t){const r=K_(this.indexes_,i=>{if(i===gh)return i;{const s=t.get(e.name);return s?i.remove(new kt(e.name,s)):i}});return new Sa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf;class zt{static get EMPTY_NODE(){return Nf||(Nf=new zt(new jo(Zb),null,Sa.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jF(this.priorityNode_),this.children_.isEmpty()&&_e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nf}updatePriority(e){return this.children_.isEmpty()?this:new zt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Nf:t}}getChild(e){const t=Pt(e);return t===null?this:this.getImmediateChild(t).getChild(dn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(_e(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new kt(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Nf:this.priorityNode_;return new zt(i,o,s)}}updateChild(e,t){const r=Pt(e);if(r===null)return t;{_e(Pt(e)!==".priority"||Wl(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(dn(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(si,(o,l)=>{t[o]=l.val(e),r++,s&&zt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in t)o[l]=t[l];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+LF(this.getPriority().val())+":"),this.forEachChild(si,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":lF(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new kt(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new kt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new kt(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,kt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,kt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===km?-1:0}withIndex(e){if(e===Qh||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new zt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Qh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(si),i=t.getIterator(si);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Qh?null:this.indexMap_.get(e.toString())}}zt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yZ extends zt{constructor(){super(new jo(Zb),zt.EMPTY_NODE,Sa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return zt.EMPTY_NODE}isEmpty(){return!1}}const km=new yZ;Object.defineProperties(kt,{MIN:{value:new kt(ud,zt.EMPTY_NODE)},MAX:{value:new kt(hc,km)}});MF.__EMPTY_NODE=zt.EMPTY_NODE;wr.__childrenNodeConstructor=zt;hZ(km);fZ(km);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Z=!0;function Jr(n,e=null){if(n===null)return zt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),_e(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new wr(t,Jr(e))}if(!(n instanceof Array)&&_Z){const t=[];let r=!1;if($s(n,(o,l)=>{if(o.substring(0,1)!=="."){const c=Jr(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new kt(o,c)))}}),t.length===0)return zt.EMPTY_NODE;const s=sv(t,cZ,o=>o.name,Zb);if(r){const o=sv(t,si.getCompare());return new zt(s,Jr(e),new Sa({".priority":o},{".priority":si}))}else return new zt(s,Jr(e),Sa.Default)}else{let t=zt.EMPTY_NODE;return $s(n,(r,i)=>{if(Wa(n,r)&&r.substring(0,1)!=="."){const s=Jr(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Jr(e))}}dZ(Jr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vZ extends Jv{constructor(e){super(),this.indexPath_=e,_e(!bt(e)&&Pt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?Rd(e.name,t.name):s}makePost(e,t){const r=Jr(e),i=zt.EMPTY_NODE.updateChild(this.indexPath_,r);return new kt(t,i)}maxPost(){const e=zt.EMPTY_NODE.updateChild(this.indexPath_,km);return new kt(hc,e)}toString(){return kF(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ extends Jv{compare(e,t){const r=e.node.compareTo(t.node);return r===0?Rd(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(e,t){const r=Jr(e);return new kt(t,r)}toString(){return".value"}}const TZ=new wZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EZ(n){return{type:"value",snapshotNode:n}}function xZ(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function SZ(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function YN(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function bZ(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=si}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ud}hasEnd(){return this.endSet_}getIndexEndValue(){return _e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===si}copy(){const e=new eC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KN(n){const e={};if(n.isDefault())return e;let t;if(n.index_===si?t="$priority":n.index_===TZ?t="$value":n.index_===Qh?t="$key":(_e(n.index_ instanceof vZ,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Mr(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Mr(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Mr(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Mr(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Mr(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function XN(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==si&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends AF{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(_e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Rm("p:rest:"),this.listens_={}}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ov.getListenId_(e,r),l={};this.listens_[o]=l;const c=KN(e._queryParams);this.restRequest_(s+".json",c,(h,d)=>{let p=d;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(s,p,!1,r),ld(this.listens_,o)===l){let g;h?h===401?g="permission_denied":g="rest_error:"+h:g="ok",i(g,null)}})}unlisten(e,t){const r=ov.getListenId_(e,t);delete this.listens_[r]}get(e){const t=KN(e._queryParams),r=e._path.toString(),i=new Mb;return this.restRequest_(r+".json",t,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Id(t);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Yp(l.responseText)}catch{ps("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&ps("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(){this.rootNode_=zt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(){return{value:null,children:new Map}}function UF(n,e,t){if(bt(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=Pt(e);n.children.has(r)||n.children.set(r,av());const i=n.children.get(r);e=dn(e),UF(i,e,t)}}function hS(n,e,t){n.value!==null?t(e,n.value):IZ(n,(r,i)=>{const s=new pn(e.toString()+"/"+r);hS(i,s,t)})}function IZ(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AZ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&$s(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=10*1e3,RZ=30*1e3,PZ=5*60*1e3;class kZ{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new AZ(e);const r=QN+(RZ-QN)*Math.random();Ep(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;$s(e,(i,s)=>{s>0&&Wa(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Ep(this.reportStats_.bind(this),Math.floor(Math.random()*2*PZ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vo||(Vo={}));function BF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $F(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Vo.ACK_USER_WRITE,this.source=BF()}operationForChild(e){if(bt(this.path)){if(this.affectedTree.value!=null)return _e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new pn(e));return new lv(Jt(),t,this.revert)}}else return _e(Pt(this.path)===e,"operationForChild called for unrelated child."),new lv(dn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Vo.OVERWRITE}operationForChild(e){return bt(this.path)?new dc(this.source,Jt(),this.snap.getImmediateChild(e)):new dc(this.source,dn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Vo.MERGE}operationForChild(e){if(bt(this.path)){const t=this.children.subtree(new pn(e));return t.isEmpty()?null:t.value?new dc(this.source,Jt(),t.value):new Zp(this.source,Jt(),t)}else return _e(Pt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zp(this.source,dn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Pt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function NZ(n,e,t,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(bZ(o.childName,o.snapshotNode))}),Of(n,i,"child_removed",e,r,t),Of(n,i,"child_added",e,r,t),Of(n,i,"child_moved",s,r,t),Of(n,i,"child_changed",e,r,t),Of(n,i,"value",e,r,t),i}function Of(n,e,t,r,i,s){const o=r.filter(l=>l.type===t);o.sort((l,c)=>DZ(n,l,c)),o.forEach(l=>{const c=OZ(n,l,s);i.forEach(h=>{h.respondsTo(l.type)&&e.push(h.createEvent(c,n.query_))})})}function OZ(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function DZ(n,e,t){if(e.childName==null||t.childName==null)throw Cd("Should only compare child_ events.");const r=new kt(e.childName,e.snapshotNode),i=new kt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(n,e){return{eventCache:n,serverCache:e}}function xp(n,e,t,r){return WF(new tC(e,t,r),n.serverCache)}function HF(n,e,t,r){return WF(n.eventCache,new tC(e,t,r))}function dS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function fc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yE;const MZ=()=>(yE||(yE=new jo(TJ)),yE);class hn{static fromObject(e){let t=new hn(null);return $s(e,(r,i)=>{t=t.set(new pn(r),i)}),t}constructor(e,t=MZ()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Jt(),value:this.value};if(bt(e))return null;{const r=Pt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(dn(e),t);return s!=null?{path:xr(new pn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bt(e))return this;{const t=Pt(e),r=this.children.get(t);return r!==null?r.subtree(dn(e)):new hn(null)}}set(e,t){if(bt(e))return new hn(t,this.children);{const r=Pt(e),s=(this.children.get(r)||new hn(null)).set(dn(e),t),o=this.children.insert(r,s);return new hn(this.value,o)}}remove(e){if(bt(e))return this.children.isEmpty()?new hn(null):new hn(null,this.children);{const t=Pt(e),r=this.children.get(t);if(r){const i=r.remove(dn(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new hn(null):new hn(this.value,s)}else return this}}get(e){if(bt(e))return this.value;{const t=Pt(e),r=this.children.get(t);return r?r.get(dn(e)):null}}setTree(e,t){if(bt(e))return t;{const r=Pt(e),s=(this.children.get(r)||new hn(null)).setTree(dn(e),t);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new hn(this.value,o)}}fold(e){return this.fold_(Jt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(xr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Jt(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(bt(e))return null;{const s=Pt(e),o=this.children.get(s);return o?o.findOnPath_(dn(e),xr(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Jt(),t)}foreachOnPath_(e,t,r){if(bt(e))return this;{this.value&&r(t,this.value);const i=Pt(e),s=this.children.get(i);return s?s.foreachOnPath_(dn(e),xr(t,i),r):new hn(null)}}foreach(e){this.foreach_(Jt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(xr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.writeTree_=e}static empty(){return new mo(new hn(null))}}function Sp(n,e,t){if(bt(e))return new mo(new hn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=js(i,e);return s=s.updateChild(o,t),new mo(n.writeTree_.set(i,s))}else{const i=new hn(t),s=n.writeTree_.setTree(e,i);return new mo(s)}}}function JN(n,e,t){let r=n;return $s(t,(i,s)=>{r=Sp(r,xr(e,i),s)}),r}function ZN(n,e){if(bt(e))return mo.empty();{const t=n.writeTree_.setTree(e,new hn(null));return new mo(t)}}function fS(n,e){return Ec(n,e)!=null}function Ec(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(js(t.path,e)):null}function eO(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(si,(r,i)=>{e.push(new kt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new kt(r,i.value))}),e}function Ol(n,e){if(bt(e))return n;{const t=Ec(n,e);return t!=null?new mo(new hn(t)):new mo(n.writeTree_.subtree(e))}}function pS(n){return n.writeTree_.isEmpty()}function cd(n,e){return qF(Jt(),n.writeTree_,e)}function qF(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(_e(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=qF(xr(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(xr(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(n,e){return JF(e,n)}function LZ(n,e,t,r,i){_e(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Sp(n.visibleWrites,e,t)),n.lastWriteId=r}function jZ(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function VZ(n,e){const t=n.allWrites.findIndex(l=>l.writeId===e);_e(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const l=n.allWrites[o];l.visible&&(o>=t&&FZ(l,r.path)?i=!1:ho(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return UZ(n),!0;if(r.snap)n.visibleWrites=ZN(n.visibleWrites,r.path);else{const l=r.children;$s(l,c=>{n.visibleWrites=ZN(n.visibleWrites,xr(r.path,c))})}return!0}else return!1}function FZ(n,e){if(n.snap)return ho(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ho(xr(n.path,t),e))return!0;return!1}function UZ(n){n.visibleWrites=YF(n.allWrites,BZ,Jt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function BZ(n){return n.visible}function YF(n,e,t){let r=mo.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let l;if(s.snap)ho(t,o)?(l=js(t,o),r=Sp(r,l,s.snap)):ho(o,t)&&(l=js(o,t),r=Sp(r,Jt(),s.snap.getChild(l)));else if(s.children){if(ho(t,o))l=js(t,o),r=JN(r,l,s.children);else if(ho(o,t))if(l=js(o,t),bt(l))r=JN(r,Jt(),s.children);else{const c=ld(s.children,Pt(l));if(c){const h=c.getChild(dn(l));r=Sp(r,Jt(),h)}}}else throw Cd("WriteRecord should have .snap or .children")}}return r}function KF(n,e,t,r,i){if(!r&&!i){const s=Ec(n.visibleWrites,e);if(s!=null)return s;{const o=Ol(n.visibleWrites,e);if(pS(o))return t;if(t==null&&!fS(o,Jt()))return null;{const l=t||zt.EMPTY_NODE;return cd(o,l)}}}else{const s=Ol(n.visibleWrites,e);if(!i&&pS(s))return t;if(!i&&t==null&&!fS(s,Jt()))return null;{const o=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(ho(h.path,e)||ho(e,h.path))},l=YF(n.allWrites,o,e),c=t||zt.EMPTY_NODE;return cd(l,c)}}}function $Z(n,e,t){let r=zt.EMPTY_NODE;const i=Ec(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(si,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Ol(n.visibleWrites,e);return t.forEachChild(si,(o,l)=>{const c=cd(Ol(s,new pn(o)),l);r=r.updateImmediateChild(o,c)}),eO(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ol(n.visibleWrites,e);return eO(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function zZ(n,e,t,r,i){_e(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=xr(e,t);if(fS(n.visibleWrites,s))return null;{const o=Ol(n.visibleWrites,s);return pS(o)?i.getChild(t):cd(o,i.getChild(t))}}function WZ(n,e,t,r){const i=xr(e,t),s=Ec(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const o=Ol(n.visibleWrites,i);return cd(o,r.getNode().getImmediateChild(t))}else return null}function HZ(n,e){return Ec(n.visibleWrites,e)}function qZ(n,e,t,r,i,s,o){let l;const c=Ol(n.visibleWrites,e),h=Ec(c,Jt());if(h!=null)l=h;else if(t!=null)l=cd(c,t);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],p=o.getCompare(),g=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=g.getNext();for(;_&&d.length<i;)p(_,r)!==0&&d.push(_),_=g.getNext();return d}else return[]}function GZ(){return{visibleWrites:mo.empty(),allWrites:[],lastWriteId:-1}}function mS(n,e,t,r){return KF(n.writeTree,n.treePath,e,t,r)}function XF(n,e){return $Z(n.writeTree,n.treePath,e)}function tO(n,e,t,r){return zZ(n.writeTree,n.treePath,e,t,r)}function uv(n,e){return HZ(n.writeTree,xr(n.treePath,e))}function YZ(n,e,t,r,i,s){return qZ(n.writeTree,n.treePath,e,t,r,i,s)}function nC(n,e,t){return WZ(n.writeTree,n.treePath,e,t)}function QF(n,e){return JF(xr(n.treePath,e),n.writeTree)}function JF(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KZ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;_e(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),_e(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,YN(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,SZ(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,xZ(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,YN(r,e.snapshotNode,i.oldSnap));else throw Cd("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const ZF=new XZ;class rC{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new tC(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nC(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fc(this.viewCache_),s=YZ(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}function QZ(n,e){_e(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),_e(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function JZ(n,e,t,r,i){const s=new KZ;let o,l;if(t.type===Vo.OVERWRITE){const h=t;h.source.fromUser?o=gS(n,e,h.path,h.snap,r,i,s):(_e(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered()&&!bt(h.path),o=cv(n,e,h.path,h.snap,r,i,l,s))}else if(t.type===Vo.MERGE){const h=t;h.source.fromUser?o=eee(n,e,h.path,h.children,r,i,s):(_e(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered(),o=yS(n,e,h.path,h.children,r,i,l,s))}else if(t.type===Vo.ACK_USER_WRITE){const h=t;h.revert?o=ree(n,e,h.path,r,i,s):o=tee(n,e,h.path,h.affectedTree,r,i,s)}else if(t.type===Vo.LISTEN_COMPLETE)o=nee(n,e,t.path,r,s);else throw Cd("Unknown operation type: "+t.type);const c=s.getChanges();return ZZ(e,o,c),{viewCache:o,changes:c}}function ZZ(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=dS(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(EZ(dS(e)))}}function e4(n,e,t,r,i,s){const o=e.eventCache;if(uv(r,t)!=null)return e;{let l,c;if(bt(t))if(_e(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=fc(e),d=h instanceof zt?h:zt.EMPTY_NODE,p=XF(r,d);l=n.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const h=mS(r,fc(e));l=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=Pt(t);if(h===".priority"){_e(Wl(t)===1,"Can't have a priority with additional path components");const d=o.getNode();c=e.serverCache.getNode();const p=tO(r,t,d,c);p!=null?l=n.filter.updatePriority(d,p):l=o.getNode()}else{const d=dn(t);let p;if(o.isCompleteForChild(h)){c=e.serverCache.getNode();const g=tO(r,t,o.getNode(),c);g!=null?p=o.getNode().getImmediateChild(h).updateChild(d,g):p=o.getNode().getImmediateChild(h)}else p=nC(r,h,e.serverCache);p!=null?l=n.filter.updateChild(o.getNode(),h,p,d,i,s):l=o.getNode()}}return xp(e,l,o.isFullyInitialized()||bt(t),n.filter.filtersNodes())}}function cv(n,e,t,r,i,s,o,l){const c=e.serverCache;let h;const d=o?n.filter:n.filter.getIndexedFilter();if(bt(t))h=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){const _=c.getNode().updateChild(t,r);h=d.updateFullNode(c.getNode(),_,null)}else{const _=Pt(t);if(!c.isCompleteForPath(t)&&Wl(t)>1)return e;const w=dn(t),x=c.getNode().getImmediateChild(_).updateChild(w,r);_===".priority"?h=d.updatePriority(c.getNode(),x):h=d.updateChild(c.getNode(),_,x,w,ZF,null)}const p=HF(e,h,c.isFullyInitialized()||bt(t),d.filtersNodes()),g=new rC(i,p,s);return e4(n,p,t,i,g,l)}function gS(n,e,t,r,i,s,o){const l=e.eventCache;let c,h;const d=new rC(i,e,s);if(bt(t))h=n.filter.updateFullNode(e.eventCache.getNode(),r,o),c=xp(e,h,!0,n.filter.filtersNodes());else{const p=Pt(t);if(p===".priority")h=n.filter.updatePriority(e.eventCache.getNode(),r),c=xp(e,h,l.isFullyInitialized(),l.isFiltered());else{const g=dn(t),_=l.getNode().getImmediateChild(p);let w;if(bt(g))w=r;else{const v=d.getCompleteChild(p);v!=null?PF(g)===".priority"&&v.getChild(NF(g)).isEmpty()?w=v:w=v.updateChild(g,r):w=zt.EMPTY_NODE}if(_.equals(w))c=e;else{const v=n.filter.updateChild(l.getNode(),p,w,g,d,o);c=xp(e,v,l.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function nO(n,e){return n.eventCache.isCompleteForChild(e)}function eee(n,e,t,r,i,s,o){let l=e;return r.foreach((c,h)=>{const d=xr(t,c);nO(e,Pt(d))&&(l=gS(n,l,d,h,i,s,o))}),r.foreach((c,h)=>{const d=xr(t,c);nO(e,Pt(d))||(l=gS(n,l,d,h,i,s,o))}),l}function rO(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function yS(n,e,t,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,h;bt(t)?h=r:h=new hn(null).setTree(t,r);const d=e.serverCache.getNode();return h.children.inorderTraversal((p,g)=>{if(d.hasChild(p)){const _=e.serverCache.getNode().getImmediateChild(p),w=rO(n,_,g);c=cv(n,c,new pn(p),w,i,s,o,l)}}),h.children.inorderTraversal((p,g)=>{const _=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!d.hasChild(p)&&!_){const w=e.serverCache.getNode().getImmediateChild(p),v=rO(n,w,g);c=cv(n,c,new pn(p),v,i,s,o,l)}}),c}function tee(n,e,t,r,i,s,o){if(uv(i,t)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(bt(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return cv(n,e,t,c.getNode().getChild(t),i,s,l,o);if(bt(t)){let h=new hn(null);return c.getNode().forEachChild(Qh,(d,p)=>{h=h.set(new pn(d),p)}),yS(n,e,t,h,i,s,l,o)}else return e}else{let h=new hn(null);return r.foreach((d,p)=>{const g=xr(t,d);c.isCompleteForPath(g)&&(h=h.set(d,c.getNode().getChild(g)))}),yS(n,e,t,h,i,s,l,o)}}function nee(n,e,t,r,i){const s=e.serverCache,o=HF(e,s.getNode(),s.isFullyInitialized()||bt(t),s.isFiltered());return e4(n,o,t,r,ZF,i)}function ree(n,e,t,r,i,s){let o;if(uv(r,t)!=null)return e;{const l=new rC(r,e,i),c=e.eventCache.getNode();let h;if(bt(t)||Pt(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=mS(r,fc(e));else{const p=e.serverCache.getNode();_e(p instanceof zt,"serverChildren would be complete if leaf node"),d=XF(r,p)}d=d,h=n.filter.updateFullNode(c,d,s)}else{const d=Pt(t);let p=nC(r,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),p!=null?h=n.filter.updateChild(c,d,p,dn(t),l,s):e.eventCache.getNode().hasChild(d)?h=n.filter.updateChild(c,d,zt.EMPTY_NODE,dn(t),l,s):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=mS(r,fc(e)),o.isLeafNode()&&(h=n.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||uv(r,Jt())!=null,xp(e,h,o,n.filter.filtersNodes())}}function iee(n,e){const t=fc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!bt(e)&&!t.getImmediateChild(Pt(e)).isEmpty())?t.getChild(e):null}function iO(n,e,t,r){e.type===Vo.MERGE&&e.source.queryId!==null&&(_e(fc(n.viewCache_),"We should always have a full cache before handling merges"),_e(dS(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=JZ(n.processor_,i,e,t,r);return QZ(n.processor_,s.viewCache),_e(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,see(n,s.changes,s.viewCache.eventCache.getNode())}function see(n,e,t,r){const i=n.eventRegistrations_;return NZ(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sO;function oee(n){_e(!sO,"__referenceConstructor has already been defined"),sO=n}function iC(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return _e(s!=null,"SyncTree gave us an op for an invalid query."),iO(s,e,t,r)}else{let s=[];for(const o of n.views.values())s=s.concat(iO(o,e,t,r));return s}}function sC(n,e){let t=null;for(const r of n.views.values())t=t||iee(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oO;function aee(n){_e(!oO,"__referenceConstructor has already been defined"),oO=n}class aO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hn(null),this.pendingWriteTree_=GZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lee(n,e,t,r,i){return LZ(n.pendingWriteTree_,e,t,r,i),i?e0(n,new dc(BF(),e,t)):[]}function Mh(n,e,t=!1){const r=jZ(n.pendingWriteTree_,e);if(VZ(n.pendingWriteTree_,e)){let s=new hn(null);return r.snap!=null?s=s.set(Jt(),!0):$s(r.children,o=>{s=s.set(new pn(o),!0)}),e0(n,new lv(r.path,s,t))}else return[]}function Zv(n,e,t){return e0(n,new dc($F(),e,t))}function uee(n,e,t){const r=hn.fromObject(t);return e0(n,new Zp($F(),e,r))}function cee(n,e,t,r){const i=i4(n,r);if(i!=null){const s=s4(i),o=s.path,l=s.queryId,c=js(o,e),h=new dc(zF(l),c,t);return o4(n,o,h)}else return[]}function hee(n,e,t,r){const i=i4(n,r);if(i){const s=s4(i),o=s.path,l=s.queryId,c=js(o,e),h=hn.fromObject(t),d=new Zp(zF(l),c,h);return o4(n,o,d)}else return[]}function t4(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,l)=>{const c=js(o,e),h=sC(l,c);if(h)return h});return KF(i,e,s,t,!0)}function e0(n,e){return n4(e,n.syncPointTree_,null,GF(n.pendingWriteTree_,Jt()))}function n4(n,e,t,r){if(bt(n.path))return r4(n,e,t,r);{const i=e.get(Jt());t==null&&i!=null&&(t=sC(i,Jt()));let s=[];const o=Pt(n.path),l=n.operationForChild(o),c=e.children.get(o);if(c&&l){const h=t?t.getImmediateChild(o):null,d=QF(r,o);s=s.concat(n4(l,c,h,d))}return i&&(s=s.concat(iC(i,n,r,t))),s}}function r4(n,e,t,r){const i=e.get(Jt());t==null&&i!=null&&(t=sC(i,Jt()));let s=[];return e.children.inorderTraversal((o,l)=>{const c=t?t.getImmediateChild(o):null,h=QF(r,o),d=n.operationForChild(o);d&&(s=s.concat(r4(d,l,c,h)))}),i&&(s=s.concat(iC(i,n,r,t))),s}function i4(n,e){return n.tagToQueryMap.get(e)}function s4(n){const e=n.indexOf("$");return _e(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new pn(n.substr(0,e))}}function o4(n,e,t){const r=n.syncPointTree_.get(e);_e(r,"Missing sync point for query tag that we're tracking");const i=GF(n.pendingWriteTree_,e);return iC(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new oC(t)}node(){return this.node_}}class aC{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=xr(this.path_,e);return new aC(this.syncTree_,t)}node(){return t4(this.syncTree_,this.path_)}}const dee=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},lO=function(n,e,t){if(!n||typeof n!="object")return n;if(_e(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return fee(n[".sv"],e,t);if(typeof n[".sv"]=="object")return pee(n[".sv"],e);_e(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},fee=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:_e(!1,"Unexpected server value: "+n)}},pee=function(n,e,t){n.hasOwnProperty("increment")||_e(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&_e(!1,"Unexpected increment value: "+r);const i=e.node();if(_e(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},mee=function(n,e,t,r){return lC(e,new aC(t,n),r)},gee=function(n,e,t){return lC(n,new oC(e),t)};function lC(n,e,t){const r=n.getPriority().val(),i=lO(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,l=lO(o.getValue(),e,t);return l!==o.getValue()||i!==o.getPriority().val()?new wr(l,Jr(i)):n}else{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new wr(i))),o.forEachChild(si,(l,c)=>{const h=lC(c,e.getImmediateChild(l),t);h!==c&&(s=s.updateImmediateChild(l,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function cC(n,e){let t=e instanceof pn?e:new pn(e),r=n,i=Pt(t);for(;i!==null;){const s=ld(r.node.children,i)||{children:{},childCount:0};r=new uC(i,r,s),t=dn(t),i=Pt(t)}return r}function Pd(n){return n.node.value}function a4(n,e){n.node.value=e,_S(n)}function l4(n){return n.node.childCount>0}function yee(n){return Pd(n)===void 0&&!l4(n)}function t0(n,e){$s(n.node.children,(t,r)=>{e(new uC(t,n,r))})}function u4(n,e,t,r){t&&e(n),t0(n,i=>{u4(i,e,!0)})}function _ee(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Nm(n){return new pn(n.parent===null?n.name:Nm(n.parent)+"/"+n.name)}function _S(n){n.parent!==null&&vee(n.parent,n.name,n)}function vee(n,e,t){const r=yee(t),i=Wa(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,_S(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,_S(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee=/[\[\].#$\/\u0000-\u001F\u007F]/,Tee=/[\[\].#$\u0000-\u001F\u007F]/,_E=10*1024*1024,c4=function(n){return typeof n=="string"&&n.length!==0&&!wee.test(n)},Eee=function(n){return typeof n=="string"&&n.length!==0&&!Tee.test(n)},xee=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Eee(n)},h4=function(n,e,t){const r=t instanceof pn?new nZ(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Ou(r));if(typeof e=="function")throw new Error(n+"contains a function "+Ou(r)+" with contents = "+e.toString());if(uF(e))throw new Error(n+"contains "+e.toString()+" "+Ou(r));if(typeof e=="string"&&e.length>_E/3&&qv(e)>_E)throw new Error(n+"contains a string greater than "+_E+" utf8 bytes "+Ou(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if($s(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!c4(o)))throw new Error(n+" contains an invalid key ("+o+") "+Ou(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rZ(r,o),h4(n,l,r),iZ(r)}),i&&s)throw new Error(n+' contains ".value" child '+Ou(r)+" in addition to actual children.")}},See=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!c4(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!xee(t))throw new Error($Y(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cee(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!OF(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function xc(n,e,t){Cee(n,t),Iee(n,r=>ho(r,e)||ho(e,r))}function Iee(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(Aee(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Aee(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Tp&&Qr("event: "+t.toString()),Pm(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree="repo_interrupt",Pee=25;class kee{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bee,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=av(),this.transactionQueueTree_=new uC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Nee(n,e,t){if(n.stats_=Xb(n.repoInfo_),n.forceRestClient_||IJ())n.server_=new ov(n.repoInfo_,(r,i,s,o)=>{uO(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>cO(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Mr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Aa(n.repoInfo_,e,(r,i,s,o)=>{uO(n,r,i,s,o)},r=>{cO(n,r)},r=>{Dee(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=NJ(n.repoInfo_,()=>new kZ(n.stats_,n.server_)),n.infoData_=new CZ,n.infoSyncTree_=new aO({startListening:(r,i,s,o)=>{let l=[];const c=n.infoData_.getNode(r._path);return c.isEmpty()||(l=Zv(n.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),hC(n,"connected",!1),n.serverSyncTree_=new aO({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(l,c)=>{const h=o(l,c);xc(n.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function Oee(n){const t=n.infoData_.getNode(new pn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function d4(n){return dee({timestamp:Oee(n)})}function uO(n,e,t,r,i){n.dataUpdateCount++;const s=new pn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const c=K_(t,h=>Jr(h));o=hee(n.serverSyncTree_,s,c,i)}else{const c=Jr(t);o=cee(n.serverSyncTree_,s,c,i)}else if(r){const c=K_(t,h=>Jr(h));o=uee(n.serverSyncTree_,s,c)}else{const c=Jr(t);o=Zv(n.serverSyncTree_,s,c)}let l=s;o.length>0&&(l=fC(n,s)),xc(n.eventQueue_,l,o)}function cO(n,e){hC(n,"connected",e),e===!1&&Lee(n)}function Dee(n,e){$s(e,(t,r)=>{hC(n,t,r)})}function hC(n,e,t){const r=new pn("/.info/"+e),i=Jr(t);n.infoData_.updateSnapshot(r,i);const s=Zv(n.infoSyncTree_,r,i);xc(n.eventQueue_,r,s)}function Mee(n){return n.nextWriteId_++}function Lee(n){f4(n,"onDisconnectEvents");const e=d4(n),t=av();hS(n.onDisconnect_,Jt(),(i,s)=>{const o=mee(i,s,n.serverSyncTree_,e);UF(t,i,o)});let r=[];hS(t,Jt(),(i,s)=>{r=r.concat(Zv(n.serverSyncTree_,i,s));const o=Uee(n,i);fC(n,o)}),n.onDisconnect_=av(),xc(n.eventQueue_,Jt(),r)}function jee(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Ree)}function f4(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Qr(t,...e)}function p4(n,e,t){return t4(n.serverSyncTree_,e,t)||zt.EMPTY_NODE}function dC(n,e=n.transactionQueueTree_){if(e||n0(n,e),Pd(e)){const t=g4(n,e);_e(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&Vee(n,Nm(e),t)}else l4(e)&&t0(e,t=>{dC(n,t)})}function Vee(n,e,t){const r=t.map(h=>h.currentWriteId),i=p4(n,e,r);let s=i;const o=i.hash();for(let h=0;h<t.length;h++){const d=t[h];_e(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const p=js(e,d.path);s=s.updateChild(p,d.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;n.server_.put(c.toString(),l,h=>{f4(n,"transaction put response",{path:c.toString(),status:h});let d=[];if(h==="ok"){const p=[];for(let g=0;g<t.length;g++)t[g].status=2,d=d.concat(Mh(n.serverSyncTree_,t[g].currentWriteId)),t[g].onComplete&&p.push(()=>t[g].onComplete(null,!0,t[g].currentOutputSnapshotResolved)),t[g].unwatcher();n0(n,cC(n.transactionQueueTree_,e)),dC(n,n.transactionQueueTree_),xc(n.eventQueue_,e,d);for(let g=0;g<p.length;g++)Pm(p[g])}else{if(h==="datastale")for(let p=0;p<t.length;p++)t[p].status===3?t[p].status=4:t[p].status=0;else{ps("transaction at "+c.toString()+" failed: "+h);for(let p=0;p<t.length;p++)t[p].status=4,t[p].abortReason=h}fC(n,e)}},o)}function fC(n,e){const t=m4(n,e),r=Nm(t),i=g4(n,t);return Fee(n,i,r),r}function Fee(n,e,t){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],h=js(t,c.path);let d=!1,p;if(_e(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,p=c.abortReason,i=i.concat(Mh(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Pee)d=!0,p="maxretry",i=i.concat(Mh(n.serverSyncTree_,c.currentWriteId,!0));else{const g=p4(n,c.path,o);c.currentInputSnapshot=g;const _=e[l].update(g.val());if(_!==void 0){h4("transaction failed: Data returned ",_,c.path);let w=Jr(_);typeof _=="object"&&_!=null&&Wa(_,".priority")||(w=w.updatePriority(g.getPriority()));const x=c.currentWriteId,C=d4(n),k=gee(w,g,C);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=k,c.currentWriteId=Mee(n),o.splice(o.indexOf(x),1),i=i.concat(lee(n.serverSyncTree_,c.path,k,c.currentWriteId,c.applyLocally)),i=i.concat(Mh(n.serverSyncTree_,x,!0))}else d=!0,p="nodata",i=i.concat(Mh(n.serverSyncTree_,c.currentWriteId,!0))}xc(n.eventQueue_,t,i),i=[],d&&(e[l].status=2,function(g){setTimeout(g,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(p),!1,null))))}n0(n,n.transactionQueueTree_);for(let l=0;l<r.length;l++)Pm(r[l]);dC(n,n.transactionQueueTree_)}function m4(n,e){let t,r=n.transactionQueueTree_;for(t=Pt(e);t!==null&&Pd(r)===void 0;)r=cC(r,t),e=dn(e),t=Pt(e);return r}function g4(n,e){const t=[];return y4(n,e,t),t.sort((r,i)=>r.order-i.order),t}function y4(n,e,t){const r=Pd(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);t0(e,i=>{y4(n,i,t)})}function n0(n,e){const t=Pd(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,a4(e,t.length>0?t:void 0)}t0(e,r=>{n0(n,r)})}function Uee(n,e){const t=Nm(m4(n,e)),r=cC(n.transactionQueueTree_,e);return _ee(r,i=>{vE(n,i)}),vE(n,r),u4(r,i=>{vE(n,i)}),t}function vE(n,e){const t=Pd(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(_e(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(_e(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Mh(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?a4(e,void 0):t.length=s+1,xc(n.eventQueue_,Nm(e),i);for(let o=0;o<r.length;o++)Pm(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bee(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function $ee(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ps(`Invalid query segment '${t}' in query '${n}'`)}return e}const hO=function(n,e){const t=zee(n),r=t.namespace;t.domain==="firebase.com"&&Fa(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Fa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||vJ();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new TF(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new pn(t.pathString)}},zee=function(n){let e="",t="",r="",i="",s="",o=!0,l="https",c=443;if(typeof n=="string"){let h=n.indexOf("//");h>=0&&(l=n.substring(0,h-1),n=n.substring(h+2));let d=n.indexOf("/");d===-1&&(d=n.length);let p=n.indexOf("?");p===-1&&(p=n.length),e=n.substring(0,Math.min(d,p)),d<p&&(i=Bee(n.substring(d,p)));const g=$ee(n.substring(Math.min(n.length,p)));h=e.indexOf(":"),h>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;const _=e.slice(0,h);if(_.toLowerCase()==="localhost")t="localhost";else if(_.split(".").length<=2)t=_;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),t=e.substring(w+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return bt(this._path)?null:PF(this._path)}get ref(){return new kd(this._repo,this._path)}get _queryIdentifier(){const e=XN(this._queryParams),t=Yb(e);return t==="{}"?"default":t}get _queryObject(){return XN(this._queryParams)}isEqual(e){if(e=li(e),!(e instanceof pC))return!1;const t=this._repo===e._repo,r=OF(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+tZ(this._path)}}class kd extends pC{constructor(e,t){super(e,t,new eC,!1)}get parent(){const e=NF(this._path);return e===null?null:new kd(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}oee(kd);aee(kd);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee="FIREBASE_DATABASE_EMULATOR_HOST",vS={};let Hee=!1;function qee(n,e,t,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Zl(s);n.repoInfo_=new TF(e,o,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function Gee(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||Fa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=hO(s,i),l=o.repoInfo,c;typeof process<"u"&&kN&&(c=kN[Wee]),c?(s=`http://${c}?ns=${l.namespace}`,o=hO(s,i),l=o.repoInfo):o.repoInfo.secure;const h=new RJ(n.name,n.options,e);See("Invalid Firebase Database URL",o),bt(o.path)||Fa("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Kee(l,n,h,new AJ(n,t));return new Xee(d,n)}function Yee(n,e){const t=vS[e];(!t||t[n.key]!==n)&&Fa(`Database ${e}(${n.repoInfo_}) has already been deleted.`),jee(n),delete t[n.key]}function Kee(n,e,t,r){let i=vS[e.name];i||(i={},vS[e.name]=i);let s=i[n.toURLString()];return s&&Fa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new kee(n,Hee,t,r),i[n.toURLString()]=s,s}class Xee{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Nee(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new kd(this._repo,Jt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Yee(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fa("Cannot call "+e+" on a deleted database.")}}function Qee(n=Yv(),e){const t=xm(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=Db("database");r&&Jee(t,...r)}return t}function Jee(n,e,t,r={}){n=li(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&$l(r,s.repoInfo_.emulatorOptions))return;Fa("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Fa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new c_(c_.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:Lb(r.mockUserToken,n.app.options.projectId);o=new c_(l)}Zl(e)&&(Wv(e),Hv("Database",!0)),qee(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zee(n){fJ(eu),zl(new La("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Gee(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),Us(NN,ON,n),Us(NN,ON,"esm2017")}Aa.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Aa.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Zee();var dO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dl,_4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function P(){}P.prototype=A.prototype,N.D=A.prototype,N.prototype=new P,N.prototype.constructor=N,N.C=function(D,U,B){for(var V=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)V[oe-2]=arguments[oe];return A.prototype[U].apply(D,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,A,P){P||(P=0);var D=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)D[U]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(U=0;16>U;++U)D[U]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=N.g[0],P=N.g[1],U=N.g[2];var B=N.g[3],V=A+(B^P&(U^B))+D[0]+3614090360&4294967295;A=P+(V<<7&4294967295|V>>>25),V=B+(U^A&(P^U))+D[1]+3905402710&4294967295,B=A+(V<<12&4294967295|V>>>20),V=U+(P^B&(A^P))+D[2]+606105819&4294967295,U=B+(V<<17&4294967295|V>>>15),V=P+(A^U&(B^A))+D[3]+3250441966&4294967295,P=U+(V<<22&4294967295|V>>>10),V=A+(B^P&(U^B))+D[4]+4118548399&4294967295,A=P+(V<<7&4294967295|V>>>25),V=B+(U^A&(P^U))+D[5]+1200080426&4294967295,B=A+(V<<12&4294967295|V>>>20),V=U+(P^B&(A^P))+D[6]+2821735955&4294967295,U=B+(V<<17&4294967295|V>>>15),V=P+(A^U&(B^A))+D[7]+4249261313&4294967295,P=U+(V<<22&4294967295|V>>>10),V=A+(B^P&(U^B))+D[8]+1770035416&4294967295,A=P+(V<<7&4294967295|V>>>25),V=B+(U^A&(P^U))+D[9]+2336552879&4294967295,B=A+(V<<12&4294967295|V>>>20),V=U+(P^B&(A^P))+D[10]+4294925233&4294967295,U=B+(V<<17&4294967295|V>>>15),V=P+(A^U&(B^A))+D[11]+2304563134&4294967295,P=U+(V<<22&4294967295|V>>>10),V=A+(B^P&(U^B))+D[12]+1804603682&4294967295,A=P+(V<<7&4294967295|V>>>25),V=B+(U^A&(P^U))+D[13]+4254626195&4294967295,B=A+(V<<12&4294967295|V>>>20),V=U+(P^B&(A^P))+D[14]+2792965006&4294967295,U=B+(V<<17&4294967295|V>>>15),V=P+(A^U&(B^A))+D[15]+1236535329&4294967295,P=U+(V<<22&4294967295|V>>>10),V=A+(U^B&(P^U))+D[1]+4129170786&4294967295,A=P+(V<<5&4294967295|V>>>27),V=B+(P^U&(A^P))+D[6]+3225465664&4294967295,B=A+(V<<9&4294967295|V>>>23),V=U+(A^P&(B^A))+D[11]+643717713&4294967295,U=B+(V<<14&4294967295|V>>>18),V=P+(B^A&(U^B))+D[0]+3921069994&4294967295,P=U+(V<<20&4294967295|V>>>12),V=A+(U^B&(P^U))+D[5]+3593408605&4294967295,A=P+(V<<5&4294967295|V>>>27),V=B+(P^U&(A^P))+D[10]+38016083&4294967295,B=A+(V<<9&4294967295|V>>>23),V=U+(A^P&(B^A))+D[15]+3634488961&4294967295,U=B+(V<<14&4294967295|V>>>18),V=P+(B^A&(U^B))+D[4]+3889429448&4294967295,P=U+(V<<20&4294967295|V>>>12),V=A+(U^B&(P^U))+D[9]+568446438&4294967295,A=P+(V<<5&4294967295|V>>>27),V=B+(P^U&(A^P))+D[14]+3275163606&4294967295,B=A+(V<<9&4294967295|V>>>23),V=U+(A^P&(B^A))+D[3]+4107603335&4294967295,U=B+(V<<14&4294967295|V>>>18),V=P+(B^A&(U^B))+D[8]+1163531501&4294967295,P=U+(V<<20&4294967295|V>>>12),V=A+(U^B&(P^U))+D[13]+2850285829&4294967295,A=P+(V<<5&4294967295|V>>>27),V=B+(P^U&(A^P))+D[2]+4243563512&4294967295,B=A+(V<<9&4294967295|V>>>23),V=U+(A^P&(B^A))+D[7]+1735328473&4294967295,U=B+(V<<14&4294967295|V>>>18),V=P+(B^A&(U^B))+D[12]+2368359562&4294967295,P=U+(V<<20&4294967295|V>>>12),V=A+(P^U^B)+D[5]+4294588738&4294967295,A=P+(V<<4&4294967295|V>>>28),V=B+(A^P^U)+D[8]+2272392833&4294967295,B=A+(V<<11&4294967295|V>>>21),V=U+(B^A^P)+D[11]+1839030562&4294967295,U=B+(V<<16&4294967295|V>>>16),V=P+(U^B^A)+D[14]+4259657740&4294967295,P=U+(V<<23&4294967295|V>>>9),V=A+(P^U^B)+D[1]+2763975236&4294967295,A=P+(V<<4&4294967295|V>>>28),V=B+(A^P^U)+D[4]+1272893353&4294967295,B=A+(V<<11&4294967295|V>>>21),V=U+(B^A^P)+D[7]+4139469664&4294967295,U=B+(V<<16&4294967295|V>>>16),V=P+(U^B^A)+D[10]+3200236656&4294967295,P=U+(V<<23&4294967295|V>>>9),V=A+(P^U^B)+D[13]+681279174&4294967295,A=P+(V<<4&4294967295|V>>>28),V=B+(A^P^U)+D[0]+3936430074&4294967295,B=A+(V<<11&4294967295|V>>>21),V=U+(B^A^P)+D[3]+3572445317&4294967295,U=B+(V<<16&4294967295|V>>>16),V=P+(U^B^A)+D[6]+76029189&4294967295,P=U+(V<<23&4294967295|V>>>9),V=A+(P^U^B)+D[9]+3654602809&4294967295,A=P+(V<<4&4294967295|V>>>28),V=B+(A^P^U)+D[12]+3873151461&4294967295,B=A+(V<<11&4294967295|V>>>21),V=U+(B^A^P)+D[15]+530742520&4294967295,U=B+(V<<16&4294967295|V>>>16),V=P+(U^B^A)+D[2]+3299628645&4294967295,P=U+(V<<23&4294967295|V>>>9),V=A+(U^(P|~B))+D[0]+4096336452&4294967295,A=P+(V<<6&4294967295|V>>>26),V=B+(P^(A|~U))+D[7]+1126891415&4294967295,B=A+(V<<10&4294967295|V>>>22),V=U+(A^(B|~P))+D[14]+2878612391&4294967295,U=B+(V<<15&4294967295|V>>>17),V=P+(B^(U|~A))+D[5]+4237533241&4294967295,P=U+(V<<21&4294967295|V>>>11),V=A+(U^(P|~B))+D[12]+1700485571&4294967295,A=P+(V<<6&4294967295|V>>>26),V=B+(P^(A|~U))+D[3]+2399980690&4294967295,B=A+(V<<10&4294967295|V>>>22),V=U+(A^(B|~P))+D[10]+4293915773&4294967295,U=B+(V<<15&4294967295|V>>>17),V=P+(B^(U|~A))+D[1]+2240044497&4294967295,P=U+(V<<21&4294967295|V>>>11),V=A+(U^(P|~B))+D[8]+1873313359&4294967295,A=P+(V<<6&4294967295|V>>>26),V=B+(P^(A|~U))+D[15]+4264355552&4294967295,B=A+(V<<10&4294967295|V>>>22),V=U+(A^(B|~P))+D[6]+2734768916&4294967295,U=B+(V<<15&4294967295|V>>>17),V=P+(B^(U|~A))+D[13]+1309151649&4294967295,P=U+(V<<21&4294967295|V>>>11),V=A+(U^(P|~B))+D[4]+4149444226&4294967295,A=P+(V<<6&4294967295|V>>>26),V=B+(P^(A|~U))+D[11]+3174756917&4294967295,B=A+(V<<10&4294967295|V>>>22),V=U+(A^(B|~P))+D[2]+718787259&4294967295,U=B+(V<<15&4294967295|V>>>17),V=P+(B^(U|~A))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var P=A-this.blockSize,D=this.B,U=this.h,B=0;B<A;){if(U==0)for(;B<=P;)i(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<A;)if(D[U++]=N.charCodeAt(B++),U==this.blockSize){i(this,D),U=0;break}}else for(;B<A;)if(D[U++]=N[B++],U==this.blockSize){i(this,D),U=0;break}}this.h=U,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var P=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=P&255,P/=256;for(this.u(N),N=Array(16),A=P=0;4>A;++A)for(var D=0;32>D;D+=8)N[P++]=this.g[A]>>>D&255;return N};function s(N,A){var P=l;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=A(N)}function o(N,A){this.h=A;for(var P=[],D=!0,U=N.length-1;0<=U;U--){var B=N[U]|0;D&&B==A||(P[U]=B,D=!1)}this.g=P}var l={};function c(N){return-128<=N&&128>N?s(N,function(A){return new o([A|0],0>A?-1:0)}):new o([N|0],0>N?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return p;if(0>N)return x(h(-N));for(var A=[],P=1,D=0;N>=P;D++)A[D]=N/P|0,P*=4294967296;return new o(A,0)}function d(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return x(d(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=h(Math.pow(A,8)),D=p,U=0;U<N.length;U+=8){var B=Math.min(8,N.length-U),V=parseInt(N.substring(U,U+B),A);8>B?(B=h(Math.pow(A,B)),D=D.j(B).add(h(V))):(D=D.j(P),D=D.add(h(V)))}return D}var p=c(0),g=c(1),_=c(16777216);n=o.prototype,n.m=function(){if(v(this))return-x(this).m();for(var N=0,A=1,P=0;P<this.g.length;P++){var D=this.i(P);N+=(0<=D?D:4294967296+D)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(w(this))return"0";if(v(this))return"-"+x(this).toString(N);for(var A=h(Math.pow(N,6)),P=this,D="";;){var U=O(P,A).g;P=C(P,U.j(A));var B=((0<P.g.length?P.g[0]:P.h)>>>0).toString(N);if(P=U,w(P))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function w(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function v(N){return N.h==-1}n.l=function(N){return N=C(this,N),v(N)?-1:w(N)?0:1};function x(N){for(var A=N.g.length,P=[],D=0;D<A;D++)P[D]=~N.g[D];return new o(P,~N.h).add(g)}n.abs=function(){return v(this)?x(this):this},n.add=function(N){for(var A=Math.max(this.g.length,N.g.length),P=[],D=0,U=0;U<=A;U++){var B=D+(this.i(U)&65535)+(N.i(U)&65535),V=(B>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);D=V>>>16,B&=65535,V&=65535,P[U]=V<<16|B}return new o(P,P[P.length-1]&-2147483648?-1:0)};function C(N,A){return N.add(x(A))}n.j=function(N){if(w(this)||w(N))return p;if(v(this))return v(N)?x(this).j(x(N)):x(x(this).j(N));if(v(N))return x(this.j(x(N)));if(0>this.l(_)&&0>N.l(_))return h(this.m()*N.m());for(var A=this.g.length+N.g.length,P=[],D=0;D<2*A;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var U=0;U<N.g.length;U++){var B=this.i(D)>>>16,V=this.i(D)&65535,oe=N.i(U)>>>16,ie=N.i(U)&65535;P[2*D+2*U]+=V*ie,k(P,2*D+2*U),P[2*D+2*U+1]+=B*ie,k(P,2*D+2*U+1),P[2*D+2*U+1]+=V*oe,k(P,2*D+2*U+1),P[2*D+2*U+2]+=B*oe,k(P,2*D+2*U+2)}for(D=0;D<A;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=A;D<2*A;D++)P[D]=0;return new o(P,0)};function k(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function L(N,A){this.g=N,this.h=A}function O(N,A){if(w(A))throw Error("division by zero");if(w(N))return new L(p,p);if(v(N))return A=O(x(N),A),new L(x(A.g),x(A.h));if(v(A))return A=O(N,x(A)),new L(x(A.g),A.h);if(30<N.g.length){if(v(N)||v(A))throw Error("slowDivide_ only works with positive integers.");for(var P=g,D=A;0>=D.l(N);)P=j(P),D=j(D);var U=$(P,1),B=$(D,1);for(D=$(D,2),P=$(P,2);!w(D);){var V=B.add(D);0>=V.l(N)&&(U=U.add(P),B=V),D=$(D,1),P=$(P,1)}return A=C(N,U.j(A)),new L(U,A)}for(U=p;0<=N.l(A);){for(P=Math.max(1,Math.floor(N.m()/A.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=h(P),V=B.j(A);v(V)||0<V.l(N);)P-=D,B=h(P),V=B.j(A);w(B)&&(B=g),U=U.add(B),N=C(N,V)}return new L(U,N)}n.A=function(N){return O(this,N).h},n.and=function(N){for(var A=Math.max(this.g.length,N.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)&N.i(D);return new o(P,this.h&N.h)},n.or=function(N){for(var A=Math.max(this.g.length,N.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)|N.i(D);return new o(P,this.h|N.h)},n.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)^N.i(D);return new o(P,this.h^N.h)};function j(N){for(var A=N.g.length+1,P=[],D=0;D<A;D++)P[D]=N.i(D)<<1|N.i(D-1)>>>31;return new o(P,N.h)}function $(N,A){var P=A>>5;A%=32;for(var D=N.g.length-P,U=[],B=0;B<D;B++)U[B]=0<A?N.i(B+P)>>>A|N.i(B+P+1)<<32-A:N.i(B+P);return new o(U,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Dl=o}).apply(typeof dO<"u"?dO:typeof self<"u"?self:typeof window<"u"?window:{});var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v4,Xf,w4,d_,wS,T4,E4,x4;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,I){return m==Array.prototype||m==Object.prototype||(m[S]=I.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cy=="object"&&Cy];for(var S=0;S<m.length;++S){var I=m[S];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(m,S){if(S)e:{var I=r;m=m.split(".");for(var F=0;F<m.length-1;F++){var Y=m[F];if(!(Y in I))break e;I=I[Y]}m=m[m.length-1],F=I[m],S=S(F),S!=F&&S!=null&&e(I,m,{configurable:!0,writable:!0,value:S})}}function s(m,S){m instanceof String&&(m+="");var I=0,F=!1,Y={next:function(){if(!F&&I<m.length){var te=I++;return{value:S(te,m[te]),done:!1}}return F=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(m){return m||function(){return s(this,function(S,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function h(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function d(m,S,I){return m.call.apply(m.bind,arguments)}function p(m,S,I){if(!m)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,F),m.apply(S,Y)}}return function(){return m.apply(S,arguments)}}function g(m,S,I){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function _(m,S){var I=Array.prototype.slice.call(arguments,1);return function(){var F=I.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function w(m,S){function I(){}I.prototype=S.prototype,m.aa=S.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(F,Y,te){for(var ge=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)ge[Yt-2]=arguments[Yt];return S.prototype[Y].apply(F,ge)}}function v(m){const S=m.length;if(0<S){const I=Array(S);for(let F=0;F<S;F++)I[F]=m[F];return I}return[]}function x(m,S){for(let I=1;I<arguments.length;I++){const F=arguments[I];if(c(F)){const Y=m.length||0,te=F.length||0;m.length=Y+te;for(let ge=0;ge<te;ge++)m[Y+ge]=F[ge]}else m.push(F)}}class C{constructor(S,I){this.i=S,this.j=I,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function k(m){return/^[\s\xa0]*$/.test(m)}function L(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function O(m){return O[" "](m),m}O[" "]=function(){};var j=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function $(m,S,I){for(const F in m)S.call(I,m[F],F,m)}function N(m,S){for(const I in m)S.call(void 0,m[I],I,m)}function A(m){const S={};for(const I in m)S[I]=m[I];return S}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(m,S){let I,F;for(let Y=1;Y<arguments.length;Y++){F=arguments[Y];for(I in F)m[I]=F[I];for(let te=0;te<P.length;te++)I=P[te],Object.prototype.hasOwnProperty.call(F,I)&&(m[I]=F[I])}}function U(m){var S=1;m=m.split(":");const I=[];for(;0<S&&m.length;)I.push(m.shift()),S--;return m.length&&I.push(m.join(":")),I}function B(m){l.setTimeout(()=>{throw m},0)}function V(){var m=ue;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class oe{constructor(){this.h=this.g=null}add(S,I){const F=ie.get();F.set(S,I),this.h?this.h.next=F:this.g=F,this.h=F}}var ie=new C(()=>new fe,m=>m.reset());class fe{constructor(){this.next=this.g=this.h=null}set(S,I){this.h=S,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ee=!1,ue=new oe,z=()=>{const m=l.Promise.resolve(void 0);re=()=>{m.then(W)}};var W=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(I){B(I)}var S=ie;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}ee=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};l.addEventListener("test",I,S),l.removeEventListener("test",I,S)}catch{}return m}();function xe(m,S){if(ye.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(j){e:{try{O(S.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(S=null)}}else I=="mouseover"?S=m.fromElement:I=="mouseout"&&(S=m.toElement);this.relatedTarget=S,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Pe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&xe.aa.h.call(this)}}w(xe,ye);var Pe={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Ve(m,S,I,F,Y){this.listener=m,this.proxy=null,this.src=S,this.type=I,this.capture=!!F,this.ha=Y,this.key=++Me,this.da=this.fa=!1}function Et(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ft(m){this.src=m,this.g={},this.h=0}Ft.prototype.add=function(m,S,I,F,Y){var te=m.toString();m=this.g[te],m||(m=this.g[te]=[],this.h++);var ge=Ye(m,S,F,Y);return-1<ge?(S=m[ge],I||(S.fa=!1)):(S=new Ve(S,this.src,te,!!F,Y),S.fa=I,m.push(S)),S};function Ht(m,S){var I=S.type;if(I in m.g){var F=m.g[I],Y=Array.prototype.indexOf.call(F,S,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(F,Y,1),te&&(Et(S),m.g[I].length==0&&(delete m.g[I],m.h--))}}function Ye(m,S,I,F){for(var Y=0;Y<m.length;++Y){var te=m[Y];if(!te.da&&te.listener==S&&te.capture==!!I&&te.ha==F)return Y}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Nt={};function xt(m,S,I,F,Y){if(Array.isArray(S)){for(var te=0;te<S.length;te++)xt(m,S[te],I,F,Y);return null}return I=ut(I),m&&m[Se]?m.K(S,I,h(F)?!!F.capture:!1,Y):Z(m,S,I,!1,F,Y)}function Z(m,S,I,F,Y,te){if(!S)throw Error("Invalid event type");var ge=h(Y)?!!Y.capture:!!Y,Yt=It(m);if(Yt||(m[We]=Yt=new Ft(m)),I=Yt.add(S,I,F,ge,te),I.proxy)return I;if(F=mn(),I.proxy=F,F.src=m,F.listener=I,m.addEventListener)ve||(Y=ge),Y===void 0&&(Y=!1),m.addEventListener(S.toString(),F,Y);else if(m.attachEvent)m.attachEvent(he(S.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return I}function mn(){function m(I){return S.call(m.src,m.listener,I)}const S=st;return m}function Nn(m,S,I,F,Y){if(Array.isArray(S))for(var te=0;te<S.length;te++)Nn(m,S[te],I,F,Y);else F=h(F)?!!F.capture:!!F,I=ut(I),m&&m[Se]?(m=m.i,S=String(S).toString(),S in m.g&&(te=m.g[S],I=Ye(te,I,F,Y),-1<I&&(Et(te[I]),Array.prototype.splice.call(te,I,1),te.length==0&&(delete m.g[S],m.h--)))):m&&(m=It(m))&&(S=m.g[S.toString()],m=-1,S&&(m=Ye(S,I,F,Y)),(I=-1<m?S[m]:null)&&On(I))}function On(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Se])Ht(S.i,m);else{var I=m.type,F=m.proxy;S.removeEventListener?S.removeEventListener(I,F,m.capture):S.detachEvent?S.detachEvent(he(I),F):S.addListener&&S.removeListener&&S.removeListener(F),(I=It(S))?(Ht(I,m),I.h==0&&(I.src=null,S[We]=null)):Et(m)}}}function he(m){return m in Nt?Nt[m]:Nt[m]="on"+m}function st(m,S){if(m.da)m=!0;else{S=new xe(S,this);var I=m.listener,F=m.ha||m.src;m.fa&&On(m),m=I.call(F,S)}return m}function It(m){return m=m[We],m instanceof Ft?m:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(m){return typeof m=="function"?m:(m[Zt]||(m[Zt]=function(S){return m.handleEvent(S)}),m[Zt])}function _t(){Q.call(this),this.i=new Ft(this),this.M=this,this.F=null}w(_t,Q),_t.prototype[Se]=!0,_t.prototype.removeEventListener=function(m,S,I,F){Nn(this,m,S,I,F)};function Ke(m,S){var I,F=m.F;if(F)for(I=[];F;F=F.F)I.push(F);if(m=m.M,F=S.type||S,typeof S=="string")S=new ye(S,m);else if(S instanceof ye)S.target=S.target||m;else{var Y=S;S=new ye(F,m),D(S,Y)}if(Y=!0,I)for(var te=I.length-1;0<=te;te--){var ge=S.g=I[te];Y=Kt(ge,F,!0,S)&&Y}if(ge=S.g=m,Y=Kt(ge,F,!0,S)&&Y,Y=Kt(ge,F,!1,S)&&Y,I)for(te=0;te<I.length;te++)ge=S.g=I[te],Y=Kt(ge,F,!1,S)&&Y}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var I=m.g[S],F=0;F<I.length;F++)Et(I[F]);delete m.g[S],m.h--}}this.F=null},_t.prototype.K=function(m,S,I,F){return this.i.add(String(m),S,!1,I,F)},_t.prototype.L=function(m,S,I,F){return this.i.add(String(m),S,!0,I,F)};function Kt(m,S,I,F){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var Y=!0,te=0;te<S.length;++te){var ge=S[te];if(ge&&!ge.da&&ge.capture==I){var Yt=ge.listener,ir=ge.ha||ge.src;ge.fa&&Ht(m.i,ge),Y=Yt.call(ir,F)!==!1&&Y}}return Y&&!F.defaultPrevented}function rn(m,S,I){if(typeof m=="function")I&&(m=g(m,I));else if(m&&typeof m.handleEvent=="function")m=g(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(m,S||0)}function Lt(m){m.g=rn(()=>{m.g=null,m.i&&(m.i=!1,Lt(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class qn extends Q{constructor(S,I){super(),this.m=S,this.l=I,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(m){Q.call(this),this.h=m,this.g={}}w(vt,Q);var hr=[];function Dn(m){$(m.g,function(S,I){this.g.hasOwnProperty(I)&&On(S)},m),m.g={}}vt.prototype.N=function(){vt.aa.N.call(this),Dn(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Si=l.JSON.stringify,ui=l.JSON.parse,br=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function rr(){}rr.prototype.h=null;function Ze(m){return m.h||(m.h=m.i())}function Cr(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ln(){ye.call(this,"d")}w(ln,ye);function Ot(){ye.call(this,"c")}w(Ot,ye);var Dt={},Ir=null;function at(){return Ir=Ir||new _t}Dt.La="serverreachability";function Mn(m){ye.call(this,Dt.La,m)}w(Mn,ye);function Ue(m){const S=at();Ke(S,new Mn(S))}Dt.STAT_EVENT="statevent";function Ne(m,S){ye.call(this,Dt.STAT_EVENT,m),this.stat=S}w(Ne,ye);function Le(m){const S=at();Ke(S,new Ne(S,m))}Dt.Ma="timingevent";function me(m,S){ye.call(this,Dt.Ma,m),this.size=S}w(me,ye);function Oe(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},S)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function Fe(m,S,I,F,Y,te){m.info(function(){if(m.g)if(te)for(var ge="",Yt=te.split("&"),ir=0;ir<Yt.length;ir++){var At=Yt[ir].split("=");if(1<At.length){var pr=At[0];At=At[1];var Gn=pr.split("_");ge=2<=Gn.length&&Gn[1]=="type"?ge+(pr+"="+At+"&"):ge+(pr+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+F+") [attempt "+Y+"]: "+S+`
`+I+`
`+ge})}function qt(m,S,I,F,Y,te,ge){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+Y+"]: "+S+`
`+I+`
`+te+" "+ge})}function He(m,S,I,F){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+gn(m,I)+(F?" "+F:"")})}function Gt(m,S){m.info(function(){return"TIMEOUT: "+S})}be.prototype.info=function(){};function gn(m,S){if(!m.g)return S;if(!S)return null;try{var I=JSON.parse(S);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var F=I[m];if(!(2>F.length)){var Y=F[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Si(I)}catch{return S}}var jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ut={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lt;function je(){}w(je,rr),je.prototype.g=function(){return new XMLHttpRequest},je.prototype.i=function(){return{}},lt=new je;function De(m,S,I,F){this.j=m,this.i=S,this.l=I,this.R=F||1,this.U=new vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var Xt={},wt={};function Qt(m,S,I){m.L=1,m.v=Xa(Qi(S)),m.m=I,m.P=!0,yn(m,null)}function yn(m,S){m.F=Date.now(),rt(m),m.A=Qi(m.v);var I=m.A,F=m.R;Array.isArray(F)||(F=[String(F)]),Ja(I.i,"t",F),m.C=0,I=m.j.J,m.h=new ct,m.g=lg(m.j,I?S:null,!m.m),0<m.O&&(m.M=new qn(g(m.Y,m,m.g),m.O)),S=m.U,I=m.g,F=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(hr[0]=Y.toString()),Y=hr);for(var te=0;te<Y.length;te++){var ge=xt(I,Y[te],F||S.handleEvent,!1,S.h||S);if(!ge)break;S.g[ge.key]=ge}S=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),Ue(),Fe(m.i,m.u,m.A,m.l,m.R,m.m)}De.prototype.ca=function(m){m=m.target;const S=this.M;S&&Ii(m)==3?S.j():this.Y(m)},De.prototype.Y=function(m){try{if(m==this.g)e:{const Gn=Ii(this.g);var S=this.g.Ba();const Ts=this.g.Z();if(!(3>Gn)&&(Gn!=3||this.g&&(this.h.h||this.g.oa()||Hd(this.g)))){this.J||Gn!=4||S==7||(S==8||0>=Ts?Ue(3):Ue(2)),dr(this);var I=this.g.Z();this.X=I;t:if(bi(this)){var F=Hd(this.g);m="";var Y=F.length,te=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),vs(this);var ge="";break t}this.h.i=new l.TextDecoder}for(S=0;S<Y;S++)this.h.h=!0,m+=this.h.i.decode(F[S],{stream:!(te&&S==Y-1)});F.length=0,this.h.g+=m,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,qt(this.i,this.u,this.A,this.l,this.R,Gn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,ir=this.g;if((Yt=ir.g?ir.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Yt)){var At=Yt;break t}}At=null}if(I=At)He(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hs(this,I);else{this.o=!1,this.s=3,Le(12),ci(this),vs(this);break e}}if(this.P){I=!0;let Zi;for(;!this.J&&this.C<ge.length;)if(Zi=qa(this,ge),Zi==wt){Gn==4&&(this.s=4,Le(14),I=!1),He(this.i,this.l,null,"[Incomplete Response]");break}else if(Zi==Xt){this.s=4,Le(15),He(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else He(this.i,this.l,Zi,null),Hs(this,Zi);if(bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gn!=4||ge.length!=0||this.h.h||(this.s=1,Le(16),I=!1),this.o=this.o&&I,!I)He(this.i,this.l,ge,"[Invalid Chunked Response]"),ci(this),vs(this);else if(0<ge.length&&!this.W){this.W=!0;var pr=this.j;pr.g==this&&pr.ba&&!pr.M&&(pr.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Gd(pr),pr.M=!0,Le(11))}}else He(this.i,this.l,ge,null),Hs(this,ge);Gn==4&&ci(this),this.o&&!this.J&&(Gn==4?$c(this.j,this):(this.o=!1,rt(this)))}else jc(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),ci(this),vs(this)}}}catch{}finally{}};function bi(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function qa(m,S){var I=m.C,F=S.indexOf(`
`,I);return F==-1?wt:(I=Number(S.substring(I,F)),isNaN(I)?Xt:(F+=1,F+I>S.length?wt:(S=S.slice(F,F+I),m.C=F+I,S)))}De.prototype.cancel=function(){this.J=!0,ci(this)};function rt(m){m.S=Date.now()+m.I,_n(m,m.I)}function _n(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Oe(g(m.ba,m),S)}function dr(m){m.B&&(l.clearTimeout(m.B),m.B=null)}De.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Gt(this.i,this.A),this.L!=2&&(Ue(),Le(17)),ci(this),this.s=2,vs(this)):_n(this,this.S-m)};function vs(m){m.j.G==0||m.J||$c(m.j,m)}function ci(m){dr(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,Dn(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function Hs(m,S){try{var I=m.j;if(I.G!=0&&(I.g==m||di(I.h,m))){if(!m.K&&di(I.h,m)&&I.G==3){try{var F=I.Da.g.parse(S)}catch{F=null}if(Array.isArray(F)&&F.length==3){var Y=F;if(Y[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)Bc(I),Xs(I);else break e;Uc(I),Le(18)}}else I.za=Y[1],0<I.za-I.T&&37500>Y[2]&&I.F&&I.v==0&&!I.C&&(I.C=Oe(g(I.Za,I),6e3));if(1>=Xi(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else oa(I,11)}else if((m.K||I.g==m)&&Bc(I),!k(S))for(Y=I.Da.g.parse(S),S=0;S<Y.length;S++){let At=Y[S];if(I.T=At[0],At=At[1],I.G==2)if(At[0]=="c"){I.K=At[1],I.ia=At[2];const pr=At[3];pr!=null&&(I.la=pr,I.j.info("VER="+I.la));const Gn=At[4];Gn!=null&&(I.Aa=Gn,I.j.info("SVER="+I.Aa));const Ts=At[5];Ts!=null&&typeof Ts=="number"&&0<Ts&&(F=1.5*Ts,I.L=F,I.j.info("backChannelRequestTimeoutMs_="+F)),F=I;const Zi=m.g;if(Zi){const hu=Zi.g?Zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var te=F.h;te.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Bd(te,te.h),te.h=null))}if(F.D){const Wc=Zi.g?Zi.g.getResponseHeader("X-HTTP-Session-Id"):null;Wc&&(F.ya=Wc,en(F.I,F.D,Wc))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),F=I;var ge=m;if(F.qa=ag(F,F.J?F.ia:null,F.W),ge.K){Km(F.h,ge);var Yt=ge,ir=F.L;ir&&(Yt.I=ir),Yt.B&&(dr(Yt),rt(Yt)),F.g=ge}else cu(F);0<I.i.length&&xo(I)}else At[0]!="stop"&&At[0]!="close"||oa(I,7);else I.G==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?oa(I,7):Rr(I):At[0]!="noop"&&I.l&&I.l.ta(At),I.v=0)}}Ue(4)}catch{}}var hi=class{constructor(m,S){this.g=m,this.map=S}};function Ki(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Xi(m){return m.h?1:m.g?m.g.size:0}function di(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Bd(m,S){m.g?m.g.add(S):m.h=S}function Km(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}Ki.prototype.cancel=function(){if(this.i=Xm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Xm(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const I of m.g.values())S=S.concat(I.D);return S}return v(m.i)}function Nc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var S=[],I=m.length,F=0;F<I;F++)S.push(m[F]);return S}S=[],I=0;for(F in m)S[I++]=m[F];return S}function Oc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var S=[];m=m.length;for(var I=0;I<m;I++)S.push(I);return S}S=[],I=0;for(const F in m)S[I++]=F;return S}}}function Ga(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var I=Oc(m),F=Nc(m),Y=F.length,te=0;te<Y;te++)S.call(void 0,F[te],I&&I[te],m)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W0(m,S){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var F=m[I].indexOf("="),Y=null;if(0<=F){var te=m[I].substring(0,F);Y=m[I].substring(F+1)}else te=m[I];S(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function na(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof na){this.h=m.h,au(this,m.j),this.o=m.o,this.g=m.g,Ya(this,m.s),this.l=m.l;var S=m.i,I=new wo;I.i=S.i,S.g&&(I.g=new Map(S.g),I.h=S.h),Ka(this,I),this.m=m.m}else m&&(S=String(m).match(ou))?(this.h=!1,au(this,S[1]||"",!0),this.o=St(S[2]||""),this.g=St(S[3]||"",!0),Ya(this,S[4]),this.l=St(S[5]||"",!0),Ka(this,S[6]||"",!0),this.m=St(S[7]||"")):(this.h=!1,this.i=new wo(null,this.h))}na.prototype.toString=function(){var m=[],S=this.j;S&&m.push(Qa(S,Dc,!0),":");var I=this.g;return(I||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Qa(S,Dc,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Qa(I,I.charAt(0)=="/"?Zm:Jm,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Qa(I,$d)),m.join("")};function Qi(m){return new na(m)}function au(m,S,I){m.j=I?St(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function Ya(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function Ka(m,S,I){S instanceof wo?(m.i=S,To(m.i,m.h)):(I||(S=Qa(S,eg)),m.i=new wo(S,m.h))}function en(m,S,I){m.i.set(S,I)}function Xa(m){return en(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function St(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Qa(m,S,I){return typeof m=="string"?(m=encodeURI(m).replace(S,Qm),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Qm(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Dc=/[#\/\?@]/g,Jm=/[#\?:]/g,Zm=/[#\?]/g,eg=/[#\?@]/g,$d=/#/g;function wo(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Ar(m){m.g||(m.g=new Map,m.h=0,m.i&&W0(m.i,function(S,I){m.add(decodeURIComponent(S.replace(/\+/g," ")),I)}))}n=wo.prototype,n.add=function(m,S){Ar(this),this.i=null,m=ws(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(S),this.h+=1,this};function qs(m,S){Ar(m),S=ws(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function Gs(m,S){return Ar(m),S=ws(m,S),m.g.has(S)}n.forEach=function(m,S){Ar(this),this.g.forEach(function(I,F){I.forEach(function(Y){m.call(S,Y,F,this)},this)},this)},n.na=function(){Ar(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),I=[];for(let F=0;F<S.length;F++){const Y=m[F];for(let te=0;te<Y.length;te++)I.push(S[F])}return I},n.V=function(m){Ar(this);let S=[];if(typeof m=="string")Gs(this,m)&&(S=S.concat(this.g.get(ws(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)S=S.concat(m[I])}return S},n.set=function(m,S){return Ar(this),this.i=null,m=ws(this,m),Gs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},n.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function Ja(m,S,I){qs(m,S),0<I.length&&(m.i=null,m.g.set(ws(m,S),v(I)),m.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var I=0;I<S.length;I++){var F=S[I];const te=encodeURIComponent(String(F)),ge=this.V(F);for(F=0;F<ge.length;F++){var Y=te;ge[F]!==""&&(Y+="="+encodeURIComponent(String(ge[F]))),m.push(Y)}}return this.i=m.join("&")};function ws(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function To(m,S){S&&!m.j&&(Ar(m),m.i=null,m.g.forEach(function(I,F){var Y=F.toLowerCase();F!=Y&&(qs(this,F),Ja(this,Y,I))},m)),m.j=S}function H0(m,S){const I=new be;if(l.Image){const F=new Image;F.onload=_(Ci,I,"TestLoadImage: loaded",!0,S,F),F.onerror=_(Ci,I,"TestLoadImage: error",!1,S,F),F.onabort=_(Ci,I,"TestLoadImage: abort",!1,S,F),F.ontimeout=_(Ci,I,"TestLoadImage: timeout",!1,S,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else S(!1)}function tg(m,S){const I=new be,F=new AbortController,Y=setTimeout(()=>{F.abort(),Ci(I,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:F.signal}).then(te=>{clearTimeout(Y),te.ok?Ci(I,"TestPingServer: ok",!0,S):Ci(I,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Y),Ci(I,"TestPingServer: error",!1,S)})}function Ci(m,S,I,F,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),F(I)}catch{}}function q0(){this.g=new br}function ng(m,S,I){const F=I||"";try{Ga(m,function(Y,te){let ge=Y;h(Y)&&(ge=Si(Y)),S.push(F+te+"="+encodeURIComponent(ge))})}catch(Y){throw S.push(F+"type="+encodeURIComponent("_badmap")),Y}}function ra(m){this.l=m.Ub||null,this.j=m.eb||!1}w(ra,rr),ra.prototype.g=function(){return new lu(this.l,this.j)},ra.prototype.i=function(m){return function(){return m}}({});function lu(m,S){_t.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(lu,_t),n=lu.prototype,n.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,Ks(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ks(this)),this.g&&(this.readyState=3,Ks(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rg(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function rg(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?Ys(this):Ks(this),this.readyState==3&&rg(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ys(this))},n.Qa=function(m){this.g&&(this.response=m,Ys(this))},n.ga=function(){this.g&&Ys(this)};function Ys(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ks(m)}n.setRequestHeader=function(m,S){this.u.append(m,S)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var I=S.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=S.next();return m.join(`\r
`)};function Ks(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ia(m){let S="";return $(m,function(I,F){S+=F,S+=":",S+=I,S+=`\r
`}),S}function Za(m,S,I){e:{for(F in I){var F=!1;break e}F=!0}F||(I=ia(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):en(m,S,I))}function vn(m){_t.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(vn,_t);var G0=/^https?$/i,zd=["POST","PUT"];n=vn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,S,I,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lt.g(),this.v=this.o?Ze(this.o):Ze(lt),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(te){uu(this,te);return}if(m=I||"",I=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var Y in F)I.set(Y,F[Y]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const te of F.keys())I.set(te,F.get(te));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(I.keys()).find(te=>te.toLowerCase()=="content-type"),Y=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(zd,S,void 0))||F||Y||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of I)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lc(this),this.u=!0,this.g.send(m),this.u=!1}catch(te){uu(this,te)}};function uu(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,Mc(m),Ji(m)}function Mc(m){m.A||(m.A=!0,Ke(m,"complete"),Ke(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ke(this,"complete"),Ke(this,"abort"),Ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),vn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Wd(this):this.bb())},n.bb=function(){Wd(this)};function Wd(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ii(m)!=4||m.Z()!=2)){if(m.u&&Ii(m)==4)rn(m.Ea,0,m);else if(Ke(m,"readystatechange"),Ii(m)==4){m.h=!1;try{const ge=m.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var I;if(!(I=S)){var F;if(F=ge===0){var Y=String(m.D).match(ou)[1]||null;!Y&&l.self&&l.self.location&&(Y=l.self.location.protocol.slice(0,-1)),F=!G0.test(Y?Y.toLowerCase():"")}I=F}if(I)Ke(m,"complete"),Ke(m,"success");else{m.m=6;try{var te=2<Ii(m)?m.g.statusText:""}catch{te=""}m.l=te+" ["+m.Z()+"]",Mc(m)}}finally{Ji(m)}}}}function Ji(m,S){if(m.g){Lc(m);const I=m.g,F=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||Ke(m,"ready");try{I.onreadystatechange=F}catch{}}}function Lc(m){m.I&&(l.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ii(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),ui(S)}};function Hd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function jc(m){const S={};m=(m.g&&2<=Ii(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if(k(m[F]))continue;var I=U(m[F]);const Y=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const te=S[Y]||[];S[Y]=te,te.push(I)}N(S,function(F){return F.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eo(m,S,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||S}function qd(m){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eo("baseRetryDelayMs",5e3,m),this.cb=Eo("retryDelaySeedMs",1e4,m),this.Wa=Eo("forwardChannelMaxRetries",2,m),this.wa=Eo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(m&&m.concurrentRequestLimit),this.Da=new q0,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qd.prototype,n.la=8,n.G=1,n.connect=function(m,S,I,F){Le(0),this.W=m,this.H=S||{},I&&F!==void 0&&(this.H.OSID=I,this.H.OAID=F),this.F=this.X,this.I=ag(this,null,this.W),xo(this)};function Rr(m){if(Vc(m),m.G==3){var S=m.U++,I=Qi(m.I);if(en(I,"SID",m.K),en(I,"RID",S),en(I,"TYPE","terminate"),sa(m,I),S=new De(m,m.j,S),S.L=2,S.v=Xa(Qi(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!I&&l.Image&&(new Image().src=S.v,I=!0),I||(S.g=lg(S.j,null),S.g.ea(S.v)),S.F=Date.now(),rt(S)}og(m)}function Xs(m){m.g&&(Gd(m),m.g.cancel(),m.g=null)}function Vc(m){Xs(m),m.u&&(l.clearTimeout(m.u),m.u=null),Bc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function xo(m){if(!fr(m.h)&&!m.s){m.s=!0;var S=m.Ga;re||z(),ee||(re(),ee=!0),ue.add(S,m),m.B=0}}function Y0(m,S){return Xi(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Oe(g(m.Ga,m,S),sg(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new De(this,this.j,m);let te=this.o;if(this.S&&(te?(te=A(te),D(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var S=0,I=0;I<this.i.length;I++){t:{var F=this.i[I];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(S+=F,4096<S){S=I;break e}if(S===4096||I===this.i.length-1){S=I+1;break e}}S=1e3}else S=1e3;S=el(this,Y,S),I=Qi(this.I),en(I,"RID",m),en(I,"CVER",22),this.D&&en(I,"X-HTTP-Session-Id",this.D),sa(this,I),te&&(this.O?S="headers="+encodeURIComponent(String(ia(te)))+"&"+S:this.m&&Za(I,this.m,te)),Bd(this.h,Y),this.Ua&&en(I,"TYPE","init"),this.P?(en(I,"$req",S),en(I,"SID","null"),Y.T=!0,Qt(Y,I,null)):Qt(Y,I,S),this.G=2}}else this.G==3&&(m?Fc(this,m):this.i.length==0||fr(this.h)||Fc(this))};function Fc(m,S){var I;S?I=S.l:I=m.U++;const F=Qi(m.I);en(F,"SID",m.K),en(F,"RID",I),en(F,"AID",m.T),sa(m,F),m.m&&m.o&&Za(F,m.m,m.o),I=new De(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),S&&(m.i=S.D.concat(m.i)),S=el(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Bd(m.h,I),Qt(I,F,S)}function sa(m,S){m.H&&$(m.H,function(I,F){en(S,F,I)}),m.l&&Ga({},function(I,F){en(S,F,I)})}function el(m,S,I){I=Math.min(m.i.length,I);var F=m.l?g(m.l.Na,m.l,m):null;e:{var Y=m.i;let te=-1;for(;;){const ge=["count="+I];te==-1?0<I?(te=Y[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let Yt=!0;for(let ir=0;ir<I;ir++){let At=Y[ir].g;const pr=Y[ir].map;if(At-=te,0>At)te=Math.max(0,Y[ir].g-100),Yt=!1;else try{ng(pr,ge,"req"+At+"_")}catch{F&&F(pr)}}if(Yt){F=ge.join("&");break e}}}return m=m.i.splice(0,I),S.D=m,F}function cu(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;re||z(),ee||(re(),ee=!0),ue.add(S,m),m.v=0}}function Uc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Oe(g(m.Fa,m),sg(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,ig(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Oe(g(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),Xs(this),ig(this))};function Gd(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function ig(m){m.g=new De(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=Qi(m.qa);en(S,"RID","rpc"),en(S,"SID",m.K),en(S,"AID",m.T),en(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&en(S,"TO",m.ja),en(S,"TYPE","xmlhttp"),sa(m,S),m.m&&m.o&&Za(S,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=Xa(Qi(S)),I.m=null,I.P=!0,yn(I,m)}n.Za=function(){this.C!=null&&(this.C=null,Xs(this),Uc(this),Le(19))};function Bc(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function $c(m,S){var I=null;if(m.g==S){Bc(m),Gd(m),m.g=null;var F=2}else if(di(m.h,S))I=S.D,Km(m.h,S),F=1;else return;if(m.G!=0){if(S.o)if(F==1){I=S.m?S.m.length:0,S=Date.now()-S.F;var Y=m.B;F=at(),Ke(F,new me(F,I)),xo(m)}else cu(m);else if(Y=S.s,Y==3||Y==0&&0<S.X||!(F==1&&Y0(m,S)||F==2&&Uc(m)))switch(I&&0<I.length&&(S=m.h,S.i=S.i.concat(I)),Y){case 1:oa(m,5);break;case 4:oa(m,10);break;case 3:oa(m,6);break;default:oa(m,2)}}}function sg(m,S){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*S}function oa(m,S){if(m.j.info("Error code "+S),S==2){var I=g(m.fb,m),F=m.Xa;const Y=!F;F=new na(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||au(F,"https"),Xa(F),Y?H0(F.toString(),I):tg(F.toString(),I)}else Le(2);m.G=0,m.l&&m.l.sa(S),og(m),Vc(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function og(m){if(m.G=0,m.ka=[],m.l){const S=Xm(m.h);(S.length!=0||m.i.length!=0)&&(x(m.ka,S),x(m.ka,m.i),m.h.i.length=0,v(m.i),m.i.length=0),m.l.ra()}}function ag(m,S,I){var F=I instanceof na?Qi(I):new na(I);if(F.g!="")S&&(F.g=S+"."+F.g),Ya(F,F.s);else{var Y=l.location;F=Y.protocol,S=S?S+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new na(null);F&&au(te,F),S&&(te.g=S),Y&&Ya(te,Y),I&&(te.l=I),F=te}return I=m.D,S=m.ya,I&&S&&en(F,I,S),en(F,"VER",m.la),sa(m,F),F}function lg(m,S,I){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new vn(new ra({eb:I})):new vn(m.pa),S.Ha(m.J),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yd(){}n=Yd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zc(){}zc.prototype.g=function(m,S){return new fi(m,S)};function fi(m,S){_t.call(this),this.g=new qd(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!k(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!k(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new So(this)}w(fi,_t),fi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fi.prototype.close=function(){Rr(this.g)},fi.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=Si(m),m=I);S.i.push(new hi(S.Ya++,m)),S.G==3&&xo(S)},fi.prototype.N=function(){this.g.l=null,delete this.j,Rr(this.g),delete this.g,fi.aa.N.call(this)};function ug(m){ln.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const I in S){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}w(ug,ln);function cg(){Ot.call(this),this.status=1}w(cg,Ot);function So(m){this.g=m}w(So,Yd),So.prototype.ua=function(){Ke(this.g,"a")},So.prototype.ta=function(m){Ke(this.g,new ug(m))},So.prototype.sa=function(m){Ke(this.g,new cg)},So.prototype.ra=function(){Ke(this.g,"b")},zc.prototype.createWebChannel=zc.prototype.g,fi.prototype.send=fi.prototype.o,fi.prototype.open=fi.prototype.m,fi.prototype.close=fi.prototype.close,x4=function(){return new zc},E4=function(){return at()},T4=Dt,wS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,d_=jt,Ut.COMPLETE="complete",w4=Ut,Cr.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Xf=Cr,vn.prototype.listenOnce=vn.prototype.L,vn.prototype.getLastError=vn.prototype.Ka,vn.prototype.getLastErrorCode=vn.prototype.Ba,vn.prototype.getStatus=vn.prototype.Z,vn.prototype.getResponseJson=vn.prototype.Oa,vn.prototype.getResponseText=vn.prototype.oa,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Ha,v4=vn}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});const fO="@firebase/firestore",pO="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xr.UNAUTHENTICATED=new Xr(null),Xr.GOOGLE_CREDENTIALS=new Xr("google-credentials-uid"),Xr.FIRST_PARTY=new Xr("first-party-uid"),Xr.MOCK_USER=new Xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Gv("@firebase/firestore");function Th(){return pc.logLevel}function Te(n,...e){if(pc.logLevel<=gt.DEBUG){const t=e.map(mC);pc.debug(`Firestore (${Nd}): ${n}`,...t)}}function Ua(n,...e){if(pc.logLevel<=gt.ERROR){const t=e.map(mC);pc.error(`Firestore (${Nd}): ${n}`,...t)}}function hd(n,...e){if(pc.logLevel<=gt.WARN){const t=e.map(mC);pc.warn(`Firestore (${Nd}): ${n}`,...t)}}function mC(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,S4(n,r,t)}function S4(n,e,t){let r=`FIRESTORE (${Nd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ua(r),new Error(r)}function Wt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||S4(e,i,r)}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ea{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ete{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xr.UNAUTHENTICATED))}shutdown(){}}class tte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nte{constructor(e){this.t=e,this.currentUser=Xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Wt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new Ml;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ml,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ml)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new b4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new Xr(e)}}class rte{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Xr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ite{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new rte(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ste{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Wt(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Wt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ote(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ote(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function dt(n,e){return n<e?-1:n>e?1:0}function TS(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return dt(r,i);{const s=C4(),o=ate(s.encode(gO(n,t)),s.encode(gO(e,t)));return o!==0?o:dt(r,i)}}t+=r>65535?2:1}return dt(n.length,e.length)}function gO(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ate(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return dt(n[t],e[t]);return dt(n.length,e.length)}function dd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=-62135596800,_O=1e6;class ur{static now(){return ur.fromMillis(Date.now())}static fromDate(e){return ur.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*_O);return new ur(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yO)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_O}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new ur(0,0))}static max(){return new et(new ur(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="__name__";class Oo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Oo.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return dt(e.length,t.length)}static compareSegments(e,t){const r=Oo.isNumericId(e),i=Oo.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Oo.extractNumericId(e).compare(Oo.extractNumericId(t)):TS(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dl.fromString(e.substring(4,e.length-2))}}class fn extends Oo{construct(e,t,r){return new fn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const lte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends Oo{construct(e,t,r){return new Lr(e,t,r)}static isValidIdentifier(e){return lte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vO}static keyField(){return new Lr([vO])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ae(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ae(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Ae(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(t)}static emptyPath(){return new Lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(fn.fromString(e))}static fromName(e){return new Be(fn.fromString(e).popFirst(5))}static empty(){return new Be(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new fn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=-1;function ute(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new ur(t+1,0):new ur(t,r));return new Hl(i,Be.empty(),e)}function cte(n){return new Hl(n.readTime,n.key,em)}class Hl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hl(et.min(),Be.empty(),em)}static max(){return new Hl(et.max(),Be.empty(),em)}}function hte(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:dt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==dte)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;t(e[h]).next(d=>{o[h]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new se((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function pte(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}r0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=-1;function i0(n){return n==null}function hv(n){return n===0&&1/n==-1/0}function mte(n){return typeof n=="number"&&Number.isInteger(n)&&!hv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="";function gte(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wO(e)),e=yte(n.get(t),e);return wO(e)}function yte(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case A4:t+="";break;default:t+=s}}return t}function wO(n){return n+A4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function R4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,t){this.comparator=e,this.root=t||Dr.EMPTY}insert(e,t){return new kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iy(this.root,e,this.comparator,!0)}}class Iy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Dr.RED,this.left=i??Dr.EMPTY,this.right=s??Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Dr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1;Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Dr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EO(this.data.getIterator())}getIteratorFrom(e){return new EO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cr(this.comparator);return t.data=e,t}}class EO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new fo([])}unionWith(e){let t=new cr(Lr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new P4("Invalid base64 string: "+s):s}}(e);return new Ur(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const _te=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ql(n){if(Wt(!!n,39018),typeof n=="string"){let e=0;const t=_te.exec(n);if(Wt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(n.seconds),nanos:zn(n.nanos)}}function zn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gl(n){return typeof n=="string"?Ur.fromBase64String(n):Ur.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="server_timestamp",N4="__type__",O4="__previous_value__",D4="__local_write_time__";function yC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[N4])===null||t===void 0?void 0:t.stringValue)===k4}function s0(n){const e=n.mapValue.fields[O4];return yC(e)?s0(e):e}function tm(n){const e=ql(n.mapValue.fields[D4].timestampValue);return new ur(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e,t,r,i,s,o,l,c,h,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d}}const dv="(default)";class nm{constructor(e,t){this.projectId=e,this.database=t||dv}static empty(){return new nm("","")}get isDefaultDatabase(){return this.database===dv}isEqual(e){return e instanceof nm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="__type__",wte="__max__",Ay={mapValue:{}},L4="__vector__",fv="value";function Yl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yC(n)?4:Ete(n)?9007199254740991:Tte(n)?10:11:Ge(28295,{value:n})}function Qo(n,e){if(n===e)return!0;const t=Yl(n);if(t!==Yl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tm(n).isEqual(tm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ql(i.timestampValue),l=ql(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Gl(i.bytesValue).isEqual(Gl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return zn(i.geoPointValue.latitude)===zn(s.geoPointValue.latitude)&&zn(i.geoPointValue.longitude)===zn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return zn(i.integerValue)===zn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=zn(i.doubleValue),l=zn(s.doubleValue);return o===l?hv(o)===hv(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return dd(n.arrayValue.values||[],e.arrayValue.values||[],Qo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(TO(o)!==TO(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Qo(o[c],l[c])))return!1;return!0}(n,e);default:return Ge(52216,{left:n})}}function rm(n,e){return(n.values||[]).find(t=>Qo(t,e))!==void 0}function fd(n,e){if(n===e)return 0;const t=Yl(n),r=Yl(e);if(t!==r)return dt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return dt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const l=zn(s.integerValue||s.doubleValue),c=zn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,e);case 3:return xO(n.timestampValue,e.timestampValue);case 4:return xO(tm(n),tm(e));case 5:return TS(n.stringValue,e.stringValue);case 6:return function(s,o){const l=Gl(s),c=Gl(o);return l.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=dt(l[h],c[h]);if(d!==0)return d}return dt(l.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const l=dt(zn(s.latitude),zn(o.latitude));return l!==0?l:dt(zn(s.longitude),zn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return SO(n.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,h,d;const p=s.fields||{},g=o.fields||{},_=(l=p[fv])===null||l===void 0?void 0:l.arrayValue,w=(c=g[fv])===null||c===void 0?void 0:c.arrayValue,v=dt(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:SO(_,w)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ay.mapValue&&o===Ay.mapValue)return 0;if(s===Ay.mapValue)return 1;if(o===Ay.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const g=TS(c[p],d[p]);if(g!==0)return g;const _=fd(l[c[p]],h[d[p]]);if(_!==0)return _}return dt(c.length,d.length)}(n.mapValue,e.mapValue);default:throw Ge(23264,{Pe:t})}}function xO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return dt(n,e);const t=ql(n),r=ql(e),i=dt(t.seconds,r.seconds);return i!==0?i:dt(t.nanos,r.nanos)}function SO(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=fd(t[i],r[i]);if(s)return s}return dt(t.length,r.length)}function pd(n){return ES(n)}function ES(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ql(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=ES(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ES(t.fields[o])}`;return i+"}"}(n.mapValue):Ge(61005,{value:n})}function f_(n){switch(Yl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=s0(n);return e?16+f_(e):16;case 5:return 2*n.stringValue.length;case 6:return Gl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+f_(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Sc(r.fields,(s,o)=>{i+=s.length+f_(o)}),i}(n.mapValue);default:throw Ge(13486,{value:n})}}function bO(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xS(n){return!!n&&"integerValue"in n}function _C(n){return!!n&&"arrayValue"in n}function CO(n){return!!n&&"nullValue"in n}function IO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function p_(n){return!!n&&"mapValue"in n}function Tte(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[M4])===null||t===void 0?void 0:t.stringValue)===L4}function bp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ete(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.value=e}static empty(){return new Ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!p_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bp(t)}setAll(e){let t=Lr.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=l.popLast()}o?r[l.lastSegment()]=bp(o):i.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());p_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];p_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ds(bp(this.value))}}function j4(n){const e=[];return Sc(n.fields,(t,r)=>{const i=new Lr([t]);if(p_(r)){const s=j4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,r,i,s,o,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Zr(e,0,et.min(),et.min(),et.min(),Ds.empty(),0)}static newFoundDocument(e,t,r,i){return new Zr(e,1,t,et.min(),r,i,0)}static newNoDocument(e,t){return new Zr(e,2,t,et.min(),et.min(),Ds.empty(),0)}static newUnknownDocument(e,t){return new Zr(e,3,t,et.min(),et.min(),Ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t){this.position=e,this.inclusive=t}}function AO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),t.key):r=fd(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RO(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t="asc"){this.field=e,this.dir=t}}function xte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{}class er extends V4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new bte(e,t,r):t==="array-contains"?new Ate(e,r):t==="in"?new Rte(e,r):t==="not-in"?new Pte(e,r):t==="array-contains-any"?new kte(e,r):new er(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Cte(e,r):new Ite(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fd(t,this.value)):t!==null&&Yl(this.value)===Yl(t)&&this.matchesComparison(fd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yo extends V4{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new yo(e,t)}matches(e){return F4(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function F4(n){return n.op==="and"}function U4(n){return Ste(n)&&F4(n)}function Ste(n){for(const e of n.filters)if(e instanceof yo)return!1;return!0}function SS(n){if(n instanceof er)return n.field.canonicalString()+n.op.toString()+pd(n.value);if(U4(n))return n.filters.map(e=>SS(e)).join(",");{const e=n.filters.map(t=>SS(t)).join(",");return`${n.op}(${e})`}}function B4(n,e){return n instanceof er?function(r,i){return i instanceof er&&r.op===i.op&&r.field.isEqual(i.field)&&Qo(r.value,i.value)}(n,e):n instanceof yo?function(r,i){return i instanceof yo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&B4(o,i.filters[l]),!0):!1}(n,e):void Ge(19439)}function $4(n){return n instanceof er?function(t){return`${t.field.canonicalString()} ${t.op} ${pd(t.value)}`}(n):n instanceof yo?function(t){return t.op.toString()+" {"+t.getFilters().map($4).join(" ,")+"}"}(n):"Filter"}class bte extends er{constructor(e,t,r){super(e,t,r),this.key=Be.fromName(r.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cte extends er{constructor(e,t){super(e,"in",t),this.keys=z4("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ite extends er{constructor(e,t){super(e,"not-in",t),this.keys=z4("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function z4(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Be.fromName(r.referenceValue))}class Ate extends er{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _C(t)&&rm(t.arrayValue,this.value)}}class Rte extends er{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rm(this.value.arrayValue,t)}}class Pte extends er{constructor(e,t){super(e,"not-in",t)}matches(e){if(rm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rm(this.value.arrayValue,t)}}class kte extends er{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_C(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(e,t=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Ie=null}}function PO(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Nte(n,e,t,r,i,s,o)}function vC(n){const e=nt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>SS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),i0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pd(r)).join(",")),e.Ie=t}return e.Ie}function wC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xte(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!B4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RO(n.startAt,e.startAt)&&RO(n.endAt,e.endAt)}function bS(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ote(n,e,t,r,i,s,o,l){return new Om(n,e,t,r,i,s,o,l)}function W4(n){return new Om(n)}function kO(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function H4(n){return n.collectionGroup!==null}function Cp(n){const e=nt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new cr(Lr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new mv(s,r))}),t.has(Lr.keyField().canonicalString())||e.Ee.push(new mv(Lr.keyField(),r))}return e.Ee}function qo(n){const e=nt(n);return e.de||(e.de=Dte(e,Cp(n))),e.de}function Dte(n,e){if(n.limitType==="F")return PO(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new mv(i.field,s)});const t=n.endAt?new pv(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pv(n.startAt.position,n.startAt.inclusive):null;return PO(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function CS(n,e){const t=n.filters.concat([e]);return new Om(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function IS(n,e,t){return new Om(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function o0(n,e){return wC(qo(n),qo(e))&&n.limitType===e.limitType}function q4(n){return`${vC(qo(n))}|lt:${n.limitType}`}function Eh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>$4(i)).join(", ")}]`),i0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>pd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>pd(i)).join(",")),`Target(${r})`}(qo(n))}; limitType=${n.limitType})`}function a0(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Be.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Cp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=AO(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Cp(r),i)||r.endAt&&!function(o,l,c){const h=AO(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Cp(r),i))}(n,e)}function Mte(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function G4(n){return(e,t)=>{let r=!1;for(const i of Cp(n)){const s=Lte(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Lte(n,e,t){const r=n.field.isKeyField()?Be.comparator(e.key,t.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?fd(c,h):Ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return R4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jte=new kn(Be.comparator);function Ba(){return jte}const Y4=new kn(Be.comparator);function Qf(...n){let e=Y4;for(const t of n)e=e.insert(t.key,t);return e}function K4(n){let e=Y4;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $u(){return Ip()}function X4(){return Ip()}function Ip(){return new bc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Vte=new kn(Be.comparator),Fte=new cr(Be.comparator);function Tt(...n){let e=Fte;for(const t of n)e=e.add(t);return e}const Ute=new cr(dt);function Bte(){return Ute}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hv(e)?"-0":e}}function Q4(n){return{integerValue:""+n}}function $te(n,e){return mte(e)?Q4(e):TC(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this._=void 0}}function zte(n,e,t){return n instanceof im?function(i,s){const o={fields:{[N4]:{stringValue:k4},[D4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yC(s)&&(s=s0(s)),s&&(o.fields[O4]=s),{mapValue:o}}(t,e):n instanceof sm?Z4(n,e):n instanceof om?eU(n,e):function(i,s){const o=J4(i,s),l=NO(o)+NO(i.Re);return xS(o)&&xS(i.Re)?Q4(l):TC(i.serializer,l)}(n,e)}function Wte(n,e,t){return n instanceof sm?Z4(n,e):n instanceof om?eU(n,e):t}function J4(n,e){return n instanceof gv?function(r){return xS(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class im extends l0{}class sm extends l0{constructor(e){super(),this.elements=e}}function Z4(n,e){const t=tU(e);for(const r of n.elements)t.some(i=>Qo(i,r))||t.push(r);return{arrayValue:{values:t}}}class om extends l0{constructor(e){super(),this.elements=e}}function eU(n,e){let t=tU(e);for(const r of n.elements)t=t.filter(i=>!Qo(i,r));return{arrayValue:{values:t}}}class gv extends l0{constructor(e,t){super(),this.serializer=e,this.Re=t}}function NO(n){return zn(n.integerValue||n.doubleValue)}function tU(n){return _C(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(e,t){this.field=e,this.transform=t}}function qte(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof sm&&i instanceof sm||r instanceof om&&i instanceof om?dd(r.elements,i.elements,Qo):r instanceof gv&&i instanceof gv?Qo(r.Re,i.Re):r instanceof im&&i instanceof im}(n.transform,e.transform)}class Gte{constructor(e,t){this.version=e,this.transformResults=t}}class Go{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Go}static exists(e){return new Go(void 0,e)}static updateTime(e){return new Go(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function m_(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class u0{}function nU(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new EC(n.key,Go.none()):new Dm(n.key,n.data,Go.none());{const t=n.data,r=Ds.empty();let i=new cr(Lr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cc(n.key,r,new fo(i.toArray()),Go.none())}}function Yte(n,e,t){n instanceof Dm?function(i,s,o){const l=i.value.clone(),c=DO(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Cc?function(i,s,o){if(!m_(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=DO(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(rU(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Ap(n,e,t,r){return n instanceof Dm?function(s,o,l,c){if(!m_(s.precondition,o))return l;const h=s.value.clone(),d=MO(s.fieldTransforms,c,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cc?function(s,o,l,c){if(!m_(s.precondition,o))return l;const h=MO(s.fieldTransforms,c,o),d=o.data;return d.setAll(rU(s)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,l){return m_(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(n,e,t)}function Kte(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=J4(r.transform,i||null);s!=null&&(t===null&&(t=Ds.empty()),t.set(r.field,s))}return t||null}function OO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dd(r,i,(s,o)=>qte(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dm extends u0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cc extends u0{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function DO(n,e,t){const r=new Map;Wt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Wte(o,l,t[i]))}return r}function MO(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,zte(s,o,e))}return r}class EC extends u0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xte extends u0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yte(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ap(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ap(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=X4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(i.key)?null:l;const c=nU(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tt())}isEqual(e){return this.batchId===e.batchId&&dd(this.mutations,e.mutations,(t,r)=>OO(t,r))&&dd(this.baseMutations,e.baseMutations,(t,r)=>OO(t,r))}}class xC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Wt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Vte}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new xC(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn,Rt;function ene(n){switch(n){case ae.OK:return Ge(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function iU(n){if(n===void 0)return Ua("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Kn.OK:return ae.OK;case Kn.CANCELLED:return ae.CANCELLED;case Kn.UNKNOWN:return ae.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return ae.INTERNAL;case Kn.UNAVAILABLE:return ae.UNAVAILABLE;case Kn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Kn.NOT_FOUND:return ae.NOT_FOUND;case Kn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Kn.ABORTED:return ae.ABORTED;case Kn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Kn.DATA_LOSS:return ae.DATA_LOSS;default:return Ge(39323,{code:n})}}(Rt=Kn||(Kn={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tne=new Dl([4294967295,4294967295],0);function LO(n){const e=C4().encode(n),t=new _4;return t.update(e),new Uint8Array(t.digest())}function jO(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Dl([t,r],0),new Dl([i,s],0)]}class SC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jf(`Invalid padding: ${t}`);if(r<0)throw new Jf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Jf(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Dl.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Dl.fromNumber(r)));return i.compare(tne)===1&&(i=new Dl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=LO(e),[r,i]=jO(t);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new SC(s,i,t);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const t=LO(e),[r,i]=jO(t);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Jf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Mm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new c0(et.min(),i,new kn(dt),Ba(),Tt())}}class Mm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Mm(r,t,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class sU{constructor(e,t){this.targetId=e,this.Ce=t}}class oU{constructor(e,t,r=Ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class VO{constructor(){this.Fe=0,this.Me=FO(),this.xe=Ur.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Tt(),t=Tt(),r=Tt();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:s})}}),new Mm(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=FO()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Wt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nne{constructor(e){this.ze=e,this.je=new Map,this.He=Ba(),this.Je=Ry(),this.Ye=Ry(),this.Ze=new kn(dt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(bS(s))if(r===0){const o=new Be(s.path);this.tt(t,o,Zr.newNoDocument(o,et.min()))}else Wt(r===1,20013,{expectedCount:r});else{const o=this.ut(t);if(o!==r){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,l;try{o=Gl(r).toUint8Array()}catch(c){if(c instanceof P4)return hd("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new SC(o,i,s)}catch(c){return hd(c instanceof Jf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,o)=>{const l=this._t(o);if(l){if(s.current&&bS(l.target)){const c=new Be(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Zr.newNoDocument(c,e))}s.Le&&(t.set(o,s.qe()),s.Qe())}});let r=Tt();this.Ye.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new c0(e,t,this.Ze,this.He,r);return this.He=Ba(),this.Je=Ry(),this.Ye=Ry(),this.Ze=new kn(dt),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new VO,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new cr(dt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new cr(dt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new VO),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ry(){return new kn(Be.comparator)}function FO(){return new kn(Be.comparator)}const rne={asc:"ASCENDING",desc:"DESCENDING"},ine={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sne={and:"AND",or:"OR"};class one{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function AS(n,e){return n.useProto3Json||i0(e)?e:{value:e}}function yv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ane(n,e){return yv(n,e.toTimestamp())}function Yo(n){return Wt(!!n,49232),et.fromTimestamp(function(t){const r=ql(t);return new ur(r.seconds,r.nanos)}(n))}function bC(n,e){return RS(n,e).canonicalString()}function RS(n,e){const t=function(i){return new fn(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lU(n){const e=fn.fromString(n);return Wt(fU(e),10190,{key:e.toString()}),e}function PS(n,e){return bC(n.databaseId,e.path)}function wE(n,e){const t=lU(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(cU(t))}function uU(n,e){return bC(n.databaseId,e)}function lne(n){const e=lU(n);return e.length===4?fn.emptyPath():cU(e)}function kS(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cU(n){return Wt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function UO(n,e,t){return{name:PS(n,e),fields:t.value.mapValue.fields}}function une(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ge(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(Wt(d===void 0||typeof d=="string",58123),Ur.fromBase64String(d||"")):(Wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ur.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const d=h.code===void 0?ae.UNKNOWN:iU(h.code);return new Ae(d,h.message||"")}(o);t=new oU(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wE(n,r.document.name),s=Yo(r.document.updateTime),o=r.document.createTime?Yo(r.document.createTime):et.min(),l=new Ds({mapValue:{fields:r.document.fields}}),c=Zr.newFoundDocument(i,s,o,l),h=r.targetIds||[],d=r.removedTargetIds||[];t=new g_(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wE(n,r.document),s=r.readTime?Yo(r.readTime):et.min(),o=Zr.newNoDocument(i,s),l=r.removedTargetIds||[];t=new g_([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wE(n,r.document),s=r.removedTargetIds||[];t=new g_([],s,i,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Zte(i,s),l=r.targetId;t=new sU(l,o)}}return t}function cne(n,e){let t;if(e instanceof Dm)t={update:UO(n,e.key,e.value)};else if(e instanceof EC)t={delete:PS(n,e.key)};else if(e instanceof Cc)t={update:UO(n,e.key,e.data),updateMask:vne(e.fieldMask)};else{if(!(e instanceof Xte))return Ge(16599,{ft:e.type});t={verify:PS(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof im)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof om)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gv)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Ge(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ane(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ge(27497)}(n,e.precondition)),t}function hne(n,e){return n&&n.length>0?(Wt(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?Yo(i.updateTime):Yo(s);return o.isEqual(et.min())&&(o=Yo(s)),new Gte(o,i.transformResults||[])}(t,e))):[]}function dne(n,e){return{documents:[uU(n,e.path)]}}function fne(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uU(n,i);const s=function(h){if(h.length!==0)return dU(yo.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:xh(g.field),direction:gne(g.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=AS(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function pne(n){let e=lne(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Wt(r===1,65062);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(p){const g=hU(p);return g instanceof yo&&U4(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(g=>function(w){return new mv(Sh(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let l=null;t.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,i0(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(p){const g=!!p.before,_=p.values||[];return new pv(_,g)}(t.startAt));let h=null;return t.endAt&&(h=function(p){const g=!p.before,_=p.values||[];return new pv(_,g)}(t.endAt)),Ote(e,i,o,s,l,"F",c,h)}function mne(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hU(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sh(t.unaryFilter.field);return er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sh(t.unaryFilter.field);return er.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Sh(t.unaryFilter.field);return er.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sh(t.unaryFilter.field);return er.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return er.create(Sh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yo.create(t.compositeFilter.filters.map(r=>hU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(t.compositeFilter.op))}(n):Ge(30097,{filter:n})}function gne(n){return rne[n]}function yne(n){return ine[n]}function _ne(n){return sne[n]}function xh(n){return{fieldPath:n.canonicalString()}}function Sh(n){return Lr.fromServerFormat(n.fieldPath)}function dU(n){return n instanceof er?function(t){if(t.op==="=="){if(IO(t.value))return{unaryFilter:{field:xh(t.field),op:"IS_NAN"}};if(CO(t.value))return{unaryFilter:{field:xh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(IO(t.value))return{unaryFilter:{field:xh(t.field),op:"IS_NOT_NAN"}};if(CO(t.value))return{unaryFilter:{field:xh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xh(t.field),op:yne(t.op),value:t.value}}}(n):n instanceof yo?function(t){const r=t.getFilters().map(i=>dU(i));return r.length===1?r[0]:{compositeFilter:{op:_ne(t.op),filters:r}}}(n):Ge(54877,{filter:n})}function vne(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fU(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t,r,i,s=et.min(),o=et.min(),l=Ur.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e){this.wt=e}}function Tne(n){const e=pne({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?IS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{constructor(){this.Cn=new xne}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Hl.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Hl.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class xne{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new cr(fn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cr(fn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pU=41943040;class ji{static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(pU,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new md(0)}static lr(){return new md(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="LruGarbageCollector",Sne=1048576;function zO([n,e],[t,r]){const i=dt(n,t);return i===0?dt(e,r):i}class bne{constructor(e){this.Er=e,this.buffer=new cr(zO),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zO(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cne{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te($O,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dd(t)?Te($O,"Ignoring IndexedDB error during garbage collection: ",t):await Od(t)}await this.mr(3e5)})}}class Ine{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve(r0.le);const r=new bne(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(BO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BO):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,s,o,l,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,t))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),Th()<=gt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function Ane(n,e){return new Ine(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(){this.changes=new bc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ap(r.mutation,i,fo.empty(),ur.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Tt()){const i=$u();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Qf();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=$u();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,r,i){let s=Ba();const o=Ip(),l=function(){return Ip()}();return t.forEach((c,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Cc)?s=s.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Ap(d.mutation,h,d.mutation.getFieldMask(),ur.now())):o.set(h.key,fo.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,d)=>o.set(h,d)),t.forEach((h,d)=>{var p;return l.set(h,new Pne(d,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,t){const r=Ip();let i=new kn((o,l)=>o-l),s=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let d=r.get(c)||fo.empty();d=l.applyToLocalView(h,d),r.set(c,d);const p=(i.get(l.batchId)||Tt()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,p=X4();d.forEach(g=>{if(!s.has(g)){const _=nU(t.get(g),r.get(g));_!==null&&p.set(g,_),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):H4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):se.resolve($u());let l=em,c=s;return o.next(h=>se.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?se.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,Tt())).next(d=>({batchId:l,changes:K4(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next(r=>{let i=Qf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Qf();return this.indexManager.getCollectionParents(e,s).next(l=>se.forEach(l,c=>{const h=function(p,g){return new Om(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(d=>{d.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,Zr.newInvalidDocument(d)))});let l=Qf();return o.forEach((c,h)=>{const d=s.get(c);d!==void 0&&Ap(d.mutation,h,fo.empty(),ur.now()),a0(t,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return se.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Yo(i.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:Tne(i.bundledQuery),readTime:Yo(i.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(){this.overlays=new kn(Be.comparator),this.Qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$u();return se.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.bt(e,t,s)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=$u(),s=t.length+1,o=new Be(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new kn((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let d=s.get(h.largestBatchId);d===null&&(d=$u(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=$u(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=i)););return se.resolve(l)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Jte(t,r));let s=this.Qr.get(t);s===void 0&&(s=Tt(),this.Qr.set(t,s)),this.Qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(){this.sessionToken=Ur.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.$r=new cr(Er.Ur),this.Kr=new cr(Er.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Er(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Er(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Be(new fn([])),r=new Er(t,e),i=new Er(t,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Be(new fn([])),r=new Er(t,e),i=new Er(t,e+1);let s=Tt();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Er(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Er{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Be.comparator(e.key,t.key)||dt(e.Zr,t.Zr)}static Wr(e,t){return dt(e.Zr,t.Zr)||Be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new cr(Er.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Qte(s,t,r,i);this.mutationQueue.push(o);for(const l of i)this.Xr=this.Xr.add(new Er(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,t){return se.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?gC:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Er(t,0),i=new Er(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const l=this.ei(o.Zr);s.push(l)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(dt);return t.forEach(i=>{const s=new Er(i,0),o=new Er(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],l=>{r=r.add(l.Zr)})}),se.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Be.isDocumentKey(s)||(s=s.child(""));const o=new Er(new Be(s),0);let l=new cr(dt);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.Zr)),!0)},o),se.resolve(this.ni(l))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Wt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return se.forEach(t.mutations,i=>{const s=new Er(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Er(t,0),i=this.Xr.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(e){this.ii=e,this.docs=function(){return new kn(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():Zr.newInvalidDocument(t))}getEntries(e,t){let r=Ba();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zr.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ba();const o=t.path,l=new Be(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||hte(cte(d),r)<=0||(i.has(d.key)||a0(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ge(9500)}si(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jne(this)}getSize(e){return se.resolve(this.size)}}class jne extends Rne{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e){this.persistence=e,this.oi=new bc(t=>vC(t),wC),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this._i=0,this.ai=new CC,this.targetCount=0,this.ui=md.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),se.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new md(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Tr(t),se.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,t){this.ci={},this.overlays={},this.li=new r0(0),this.hi=!1,this.hi=!0,this.Pi=new Dne,this.referenceDelegate=e(this),this.Ti=new Vne(this),this.indexManager=new Ene,this.remoteDocumentCache=function(i){return new Lne(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new wne(t),this.Ei=new Nne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new One,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new Mne(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const i=new Fne(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,t){return se.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class Fne extends fte{constructor(e){super(),this.currentSequenceNumber=e}}class IC{constructor(e){this.persistence=e,this.Vi=new CC,this.mi=null}static fi(e){return new IC(e)}get gi(){if(this.mi)return this.mi;throw Ge(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,r=>{const i=Be.fromPath(r);return this.pi(e,i).next(s=>{s||t.removeEntry(i,et.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return se.or([()=>se.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class _v{constructor(e,t){this.persistence=e,this.yi=new bc(r=>gte(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Ane(this,t)}static fi(e,t){return new _v(e,t)}di(){}Ai(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return se.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?se.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,t).next(l=>{l||(r++,s.removeEntry(o,et.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=f_(e.data.value)),t}Dr(e,t,r){return se.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Tt(),i=Tt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new AC(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return PY()?8:pte(ai())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ws(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Une;return this.bs(e,t,o).next(l=>{if(s.result=l,this.fs)return this.Ds(e,t,o,l.size)})}).next(()=>s.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Th()<=gt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Eh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(Th()<=gt.DEBUG&&Te("QueryEngine","Query:",Eh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Th()<=gt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Eh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qo(t))):se.resolve())}ws(e,t){if(kO(t))return se.resolve(null);let r=qo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=IS(t,null,"F"),r=qo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Tt(...s);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.vs(t,l);return this.Cs(t,h,o,c.readTime)?this.ws(e,IS(t,null,"F")):this.Fs(e,h,t,c)}))})))}Ss(e,t,r,i){return kO(t)||i.isEqual(et.min())?se.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(t,s);return this.Cs(t,o,r,i)?se.resolve(null):(Th()<=gt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eh(t)),this.Fs(e,o,t,ute(i,em)).next(l=>l))})}vs(e,t){let r=new cr(G4(e));return t.forEach((i,s)=>{a0(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,t,r){return Th()<=gt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Eh(t)),this.ys.getDocumentsMatchingQuery(e,t,Hl.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="LocalStore",$ne=3e8;class zne{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new kn(dt),this.Os=new bc(s=>vC(s),wC),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kne(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Wne(n,e,t,r){return new zne(n,e,t,r)}async function gU(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Tt();for(const h of i){o.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(h=>({ks:h,removedBatchIds:o,addedBatchIds:l}))})})}function Hne(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,d){const p=h.batch,g=p.keys();let _=se.resolve();return g.forEach(w=>{_=_.next(()=>d.getEntry(c,w)).next(v=>{const x=h.docVersions.get(w);Wt(x!==null,48541),v.version.compareTo(x)<0&&(p.applyToRemoteDocument(v,h),v.isValidDocument()&&(v.setReadTime(h.commitVersion),d.addEntry(v)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Tt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function yU(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function qne(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const l=[];e.targetChanges.forEach((d,p)=>{const g=i.get(p);if(!g)return;l.push(t.Ti.removeMatchingKeys(s,d.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(s,d.addedDocuments,p)));let _=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Ur.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(p,_),function(v,x,C){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=$ne?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,_,d)&&l.push(t.Ti.updateTargetData(s,_))});let c=Ba(),h=Tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(Gne(s,o,e.documentUpdates).next(d=>{c=d.qs,h=d.Qs})),!r.isEqual(et.min())){const d=t.Ti.getLastRemoteSnapshotVersion(s).next(p=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return se.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(t.xs=i,s))}function Gne(n,e,t){let r=Tt(),i=Tt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ba();return t.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(et.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Te(RC,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function Yne(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gC),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kne(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):t.Ti.allocateTargetId(r).next(o=>(i=new Il(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function NS(n,e,t){const r=nt(n),i=r.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Dd(o))throw o;Te(RC,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function WO(n,e,t){const r=nt(n);let i=et.min(),s=Tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,d){const p=nt(c),g=p.Os.get(d);return g!==void 0?se.resolve(p.xs.get(g)):p.Ti.getTargetData(h,d)}(r,o,qo(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,t?i:et.min(),t?s:Tt())).next(l=>(Xne(r,Mte(e),l),{documents:l,$s:s})))}function Xne(n,e,t){let r=n.Ns.get(e)||et.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ns.set(e,r)}class HO{constructor(){this.activeTargetIds=Bte()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qne{constructor(){this.xo=new HO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new HO,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="ConnectivityMonitor";class GO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(qO,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(qO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py=null;function OS(){return Py===null?Py=function(){return 268435456+Math.round(2147483648*Math.random())}():Py++,"0x"+Py.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="RestConnection",Zne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ere{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===dv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,s){const o=OS(),l=this.jo(e,t.toUriEncodedString());Te(TE,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:h}=new URL(l),d=Zl(h);return this.Jo(e,l,c,r,d).then(p=>(Te(TE,`Received RPC '${e}' ${o}: `,p),p),p=>{throw hd(TE,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}Yo(e,t,r,i,s,o){return this.zo(e,t,r,i,s)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,t){const r=Zne[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tre{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="WebChannelConnection";class nre extends ere{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const o=OS();return new Promise((l,c)=>{const h=new v4;h.setWithCredentials(!0),h.listenOnce(w4.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case d_.NO_ERROR:const p=h.getResponseJson();Te(Hr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case d_.TIMEOUT:Te(Hr,`RPC '${e}' ${o} timed out`),c(new Ae(ae.DEADLINE_EXCEEDED,"Request time out"));break;case d_.HTTP_ERROR:const g=h.getStatus();if(Te(Hr,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const v=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(k)>=0?k:ae.UNKNOWN}(w.status);c(new Ae(v,w.message))}else c(new Ae(ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ae(ae.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Te(Hr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Te(Hr,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",d,r,15)})}T_(e,t,r){const i=OS(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=x4(),l=E4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=s.join("");Te(Hr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=o.createWebChannel(d,c);let g=!1,_=!1;const w=new tre({Zo:x=>{_?Te(Hr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(Te(Hr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Te(Hr,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Xo:()=>p.close()}),v=(x,C,k)=>{x.listen(C,L=>{try{k(L)}catch(O){setTimeout(()=>{throw O},0)}})};return v(p,Xf.EventType.OPEN,()=>{_||(Te(Hr,`RPC '${e}' stream ${i} transport opened.`),w.__())}),v(p,Xf.EventType.CLOSE,()=>{_||(_=!0,Te(Hr,`RPC '${e}' stream ${i} transport closed`),w.u_())}),v(p,Xf.EventType.ERROR,x=>{_||(_=!0,hd(Hr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),w.u_(new Ae(ae.UNAVAILABLE,"The operation could not be completed")))}),v(p,Xf.EventType.MESSAGE,x=>{var C;if(!_){const k=x.data[0];Wt(!!k,16349);const L=k,O=(L==null?void 0:L.error)||((C=L[0])===null||C===void 0?void 0:C.error);if(O){Te(Hr,`RPC '${e}' stream ${i} received error:`,O);const j=O.status;let $=function(P){const D=Kn[P];if(D!==void 0)return iU(D)}(j),N=O.message;$===void 0&&($=ae.INTERNAL,N="Unknown error status: "+j+" with message "+O.message),_=!0,w.u_(new Ae($,N)),p.close()}else Te(Hr,`RPC '${e}' stream ${i} received:`,k),w.c_(k)}}),v(l,T4.STAT_EVENT,x=>{x.stat===wS.PROXY?Te(Hr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===wS.NOPROXY&&Te(Hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function EE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(n){return new one(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,t,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="PersistentStream";class vU{constructor(e,t,r,i,s,o,l,c){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new _U(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Ua(t.toString()),Ua("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new Ae(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Te(YO,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Te(YO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rre extends vU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=une(this.serializer,e),r=function(s){if(!("targetChange"in s))return et.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?et.min():o.readTime?Yo(o.readTime):et.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=kS(this.serializer),t.addTarget=function(s,o){let l;const c=o.target;if(l=bS(c)?{documents:dne(s,c)}:{query:fne(s,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=aU(s,o.resumeToken);const h=AS(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(et.min())>0){l.readTime=yv(s,o.snapshotVersion.toTimestamp());const h=AS(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=mne(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=kS(this.serializer),t.removeTarget=e,this.L_(t)}}class ire extends vU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=hne(e.writeResults,e.commitTime),r=Yo(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=kS(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>cne(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{}class ore extends sre{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,RS(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ae.UNKNOWN,s.toString())})}Yo(e,t,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,RS(t,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(ae.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class are{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ua(t),this.oa=!1):Te("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="RemoteStore";class lre{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Ic(this)&&(Te(mc,"Restarting streams for network reachability change."),await async function(c){const h=nt(c);h.Ta.add(4),await Lm(h),h.da.set("Unknown"),h.Ta.delete(4),await d0(h)}(this))})}),this.da=new are(r,i)}}async function d0(n){if(Ic(n))for(const e of n.Ia)await e(!0)}async function Lm(n){for(const e of n.Ia)await e(!1)}function wU(n,e){const t=nt(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),OC(t)?NC(t):Md(t).M_()&&kC(t,e))}function PC(n,e){const t=nt(n),r=Md(t);t.Pa.delete(e),r.M_()&&TU(t,e),t.Pa.size===0&&(r.M_()?r.N_():Ic(t)&&t.da.set("Unknown"))}function kC(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Md(n).H_(e)}function TU(n,e){n.Aa.Ke(e),Md(n).J_(e)}function NC(n){n.Aa=new nne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Md(n).start(),n.da._a()}function OC(n){return Ic(n)&&!Md(n).F_()&&n.Pa.size>0}function Ic(n){return nt(n).Ta.size===0}function EU(n){n.Aa=void 0}async function ure(n){n.da.set("Online")}async function cre(n){n.Pa.forEach((e,t)=>{kC(n,e)})}async function hre(n,e){EU(n),OC(n)?(n.da.ca(e),NC(n)):n.da.set("Unknown")}async function dre(n,e,t){if(n.da.set("Online"),e instanceof oU&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Pa.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Pa.delete(l),i.Aa.removeTarget(l))}(n,e)}catch(r){Te(mc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vv(n,r)}else if(e instanceof g_?n.Aa.Xe(e):e instanceof sU?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(et.min()))try{const r=await yU(n.localStore);t.compareTo(r)>=0&&await function(s,o){const l=s.Aa.It(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Pa.get(h);d&&s.Pa.set(h,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const d=s.Pa.get(c);if(!d)return;s.Pa.set(c,d.withResumeToken(Ur.EMPTY_BYTE_STRING,d.snapshotVersion)),TU(s,c);const p=new Il(d.target,c,h,d.sequenceNumber);kC(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){Te(mc,"Failed to raise snapshot:",r),await vv(n,r)}}async function vv(n,e,t){if(!Dd(e))throw e;n.Ta.add(1),await Lm(n),n.da.set("Offline"),t||(t=()=>yU(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Te(mc,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await d0(n)})}function xU(n,e){return e().catch(t=>vv(n,t,e))}async function f0(n){const e=nt(n),t=Kl(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:gC;for(;fre(e);)try{const i=await Yne(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,pre(e,i)}catch(i){await vv(e,i)}SU(e)&&bU(e)}function fre(n){return Ic(n)&&n.ha.length<10}function pre(n,e){n.ha.push(e);const t=Kl(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function SU(n){return Ic(n)&&!Kl(n).F_()&&n.ha.length>0}function bU(n){Kl(n).start()}async function mre(n){Kl(n).ta()}async function gre(n){const e=Kl(n);for(const t of n.ha)e.Z_(t.mutations)}async function yre(n,e,t){const r=n.ha.shift(),i=xC.from(r,e,t);await xU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await f0(n)}async function _re(n,e){e&&Kl(n).Y_&&await async function(r,i){if(function(o){return ene(o)&&o!==ae.ABORTED}(i.code)){const s=r.ha.shift();Kl(r).O_(),await xU(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await f0(r)}}(n,e),SU(n)&&bU(n)}async function KO(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Te(mc,"RemoteStore received new credentials");const r=Ic(t);t.Ta.add(3),await Lm(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await d0(t)}async function vre(n,e){const t=nt(n);e?(t.Ta.delete(2),await d0(t)):e||(t.Ta.add(2),await Lm(t),t.da.set("Unknown"))}function Md(n){return n.Ra||(n.Ra=function(t,r,i){const s=nt(t);return s.ra(),new rre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:ure.bind(null,n),n_:cre.bind(null,n),i_:hre.bind(null,n),j_:dre.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),OC(n)?NC(n):n.da.set("Unknown")):(await n.Ra.stop(),EU(n))})),n.Ra}function Kl(n){return n.Va||(n.Va=function(t,r,i){const s=nt(t);return s.ra(),new ire(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:mre.bind(null,n),i_:_re.bind(null,n),X_:gre.bind(null,n),ea:yre.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await f0(n)):(await n.Va.stop(),n.ha.length>0&&(Te(mc,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,l=new DC(e,t,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MC(n,e){if(Ua("AsyncQueue",`${e}: ${n}`),Dd(n))return new Ae(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{static emptySet(e){return new Jh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Be.comparator(t.key,r.key):(t,r)=>Be.comparator(t.key,r.key),this.keyedMap=Qf(),this.sortedSet=new kn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Jh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.ma=new kn(Be.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class gd{constructor(e,t,r,i,s,o,l,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new gd(e,t,Jh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&o0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class Tre{constructor(){this.queries=QO(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=nt(t),s=i.queries;i.queries=QO(),s.forEach((o,l)=>{for(const c of l.ya)c.onError(r)})})(this,new Ae(ae.ABORTED,"Firestore shutting down"))}}function QO(){return new bc(n=>q4(n),o0)}async function Ere(n,e){const t=nt(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new wre,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await t.onListen(i,!0);break;case 1:s.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const l=MC(o,`Initialization of query '${Eh(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.ya.push(e),e.Da(t.onlineState),s.pa&&e.va(s.pa)&&LC(t)}async function xre(n,e){const t=nt(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Sre(n,e){const t=nt(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const l of o.ya)l.va(i)&&(r=!0);o.pa=i}}r&&LC(t)}function bre(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(t);r.queries.delete(e)}function LC(n){n.ba.forEach(e=>{e.next()})}var DS,JO;(JO=DS||(DS={})).Ca="default",JO.Cache="cache";class Cre{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==DS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.key=e}}class IU{constructor(e){this.key=e}}class Ire{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Tt(),this.mutatedKeys=Tt(),this.Ha=G4(e),this.Ja=new Jh(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new XO,i=t?t.Ja:this.Ja;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const g=i.get(d),_=a0(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),v=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let x=!1;g&&_?g.data.isEqual(_.data)?w!==v&&(r.track({type:3,doc:_}),x=!0):this.eu(g,_)||(r.track({type:2,doc:_}),x=!0,(c&&this.Ha(_,c)>0||h&&this.Ha(_,h)<0)&&(l=!0)):!g&&_?(r.track({type:0,doc:_}),x=!0):g&&!_&&(r.track({type:1,doc:g}),x=!0,(c||h)&&(l=!0)),x&&(_?(o=o.add(_),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:l,mutatedKeys:s}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,p)=>function(_,w){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:x})}};return v(_)-v(w)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(r),i=i!=null&&i;const l=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,h=c!==this.za;return this.za=c,o.length!==0||h?{snapshot:new gd(this.query,e.Ja,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:l}:{ru:l}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new XO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Tt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new IU(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new CU(r))}),t}su(e){this.Ga=e.$s,this.ja=Tt();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return gd.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const jC="SyncEngine";class Are{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Rre{constructor(e){this.key=e,this._u=!1}}class Pre{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new bc(l=>q4(l),o0),this.cu=new Map,this.lu=new Set,this.hu=new kn(Be.comparator),this.Pu=new Map,this.Tu=new CC,this.Iu={},this.Eu=new Map,this.du=md.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function kre(n,e,t=!0){const r=OU(n);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await AU(r,e,t,!0),i}async function Nre(n,e){const t=OU(n);await AU(t,e,!0,!1)}async function AU(n,e,t,r){const i=await Kne(n.localStore,qo(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let l;return r&&(l=await Ore(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&wU(n.remoteStore,i),l}async function Ore(n,e,t,r,i){n.Ru=(p,g,_)=>async function(v,x,C,k){let L=x.view.Za(C);L.Cs&&(L=await WO(v.localStore,x.query,!1).then(({documents:N})=>x.view.Za(N,L)));const O=k&&k.targetChanges.get(x.targetId),j=k&&k.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(L,v.isPrimaryClient,O,j);return eD(v,x.targetId,$.ru),$.snapshot}(n,p,g,_);const s=await WO(n.localStore,e,!0),o=new Ire(e,s.$s),l=o.Za(s.documents),c=Mm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=o.applyChanges(l,n.isPrimaryClient,c);eD(n,t,h.ru);const d=new Are(e,t,o);return n.uu.set(e,d),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function Dre(n,e,t){const r=nt(n),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!o0(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await NS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&PC(r.remoteStore,i.targetId),MS(r,i.targetId)}).catch(Od)):(MS(r,i.targetId),await NS(r.localStore,i.targetId,!0))}async function Mre(n,e){const t=nt(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),PC(t.remoteStore,r.targetId))}async function Lre(n,e,t){const r=zre(n);try{const i=await function(o,l){const c=nt(o),h=ur.now(),d=l.reduce((_,w)=>_.add(w.key),Tt());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let w=Ba(),v=Tt();return c.Bs.getEntries(_,d).next(x=>{w=x,w.forEach((C,k)=>{k.isValidDocument()||(v=v.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,w)).next(x=>{p=x;const C=[];for(const k of l){const L=Kte(k,p.get(k.key).overlayedDocument);L!=null&&C.push(new Cc(k.key,L,j4(L.value.mapValue),Go.exists(!0)))}return c.mutationQueue.addMutationBatch(_,h,C,l)}).next(x=>{g=x;const C=x.applyToLocalDocumentSet(p,v);return c.documentOverlayCache.saveOverlays(_,x.batchId,C)})}).then(()=>({batchId:g.batchId,changes:K4(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Iu[o.currentUser.toKey()];h||(h=new kn(dt)),h=h.insert(l,c),o.Iu[o.currentUser.toKey()]=h}(r,i.batchId,t),await jm(r,i.changes),await f0(r.remoteStore)}catch(i){const s=MC(i,"Failed to persist write");t.reject(s)}}async function RU(n,e){const t=nt(n);try{const r=await qne(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Pu.get(s);o&&(Wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?Wt(o._u,14607):i.removedDocuments.size>0&&(Wt(o._u,42227),o._u=!1))}),await jm(t,r,e)}catch(r){await Od(r)}}function ZO(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((s,o)=>{const l=o.view.Da(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=nt(o);c.onlineState=l;let h=!1;c.queries.forEach((d,p)=>{for(const g of p.ya)g.Da(l)&&(h=!0)}),h&&LC(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jre(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new kn(Be.comparator);o=o.insert(s,Zr.newNoDocument(s,et.min()));const l=Tt().add(s),c=new c0(et.min(),new Map,new kn(dt),o,l);await RU(r,c),r.hu=r.hu.remove(s),r.Pu.delete(e),VC(r)}else await NS(r.localStore,e,!1).then(()=>MS(r,e,t)).catch(Od)}async function Vre(n,e){const t=nt(n),r=e.batch.batchId;try{const i=await Hne(t.localStore,e);kU(t,r,null),PU(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await jm(t,i)}catch(i){await Od(i)}}async function Fre(n,e,t){const r=nt(n);try{const i=await function(o,l){const c=nt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,l).next(p=>(Wt(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(r.localStore,e);kU(r,e,t),PU(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await jm(r,i)}catch(i){await Od(i)}}function PU(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function kU(n,e,t){const r=nt(n);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function MS(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||NU(n,r)})}function NU(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(PC(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),VC(n))}function eD(n,e,t){for(const r of t)r instanceof CU?(n.Tu.addReference(r.key,e),Ure(n,r)):r instanceof IU?(Te(jC,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||NU(n,r.key)):Ge(19791,{mu:r})}function Ure(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Te(jC,"New document in limbo: "+t),n.lu.add(r),VC(n))}function VC(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Be(fn.fromString(e)),r=n.du.next();n.Pu.set(r,new Rre(t)),n.hu=n.hu.insert(t,r),wU(n.remoteStore,new Il(qo(W4(t.path)),r,"TargetPurposeLimboResolution",r0.le))}}async function jm(n,e,t){const r=nt(n),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((l,c)=>{o.push(r.Ru(c,e,t).then(h=>{var d;if((h||t)&&r.isPrimaryClient){const p=h?!h.fromCache:(d=t==null?void 0:t.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(h){i.push(h);const p=AC.Rs(c.targetId,h);s.push(p)}}))}),await Promise.all(o),r.au.j_(i),await async function(c,h){const d=nt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>se.forEach(h,g=>se.forEach(g.ds,_=>d.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>se.forEach(g.As,_=>d.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!Dd(p))throw p;Te(RC,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const _=d.xs.get(g),w=_.snapshotVersion,v=_.withLastLimboFreeSnapshotVersion(w);d.xs=d.xs.insert(g,v)}}}(r.localStore,s))}async function Bre(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Te(jC,"User change. New user:",e.toKey());const r=await gU(t.localStore,e);t.currentUser=e,function(s,o){s.Eu.forEach(l=>{l.forEach(c=>{c.reject(new Ae(ae.CANCELLED,o))})}),s.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jm(t,r.ks)}}function $re(n,e){const t=nt(n),r=t.Pu.get(e);if(r&&r._u)return Tt().add(r.key);{let i=Tt();const s=t.cu.get(e);if(!s)return i;for(const o of s){const l=t.uu.get(o);i=i.unionWith(l.view.Ya)}return i}}function OU(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$re.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jre.bind(null,e),e.au.j_=Sre.bind(null,e.eventManager),e.au.Vu=bre.bind(null,e.eventManager),e}function zre(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fre.bind(null,e),e}class wv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=h0(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return Wne(this.persistence,new Bne,e.initialUser,this.serializer)}yu(e){return new mU(IC.fi,this.serializer)}pu(e){return new Qne}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wv.provider={build:()=>new wv};class Wre extends wv{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Wt(this.persistence.referenceDelegate instanceof _v,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Cne(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new mU(r=>_v.fi(r,t),this.serializer)}}class LS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bre.bind(null,this.syncEngine),await vre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tre}()}createDatastore(e){const t=h0(e.databaseInfo.databaseId),r=function(s){return new nre(s)}(e.databaseInfo);return function(s,o,l,c){return new ore(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,l){return new lre(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>ZO(this.syncEngine,t,0),function(){return GO.C()?new GO:new Jne}())}createSyncEngine(e,t){return function(i,s,o,l,c,h,d){const p=new Pre(i,s,o,l,c,h);return d&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=nt(i);Te(mc,"RemoteStore shutting down."),s.Ta.add(5),await Lm(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}LS.provider={build:()=>new LS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ua("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="FirestoreClient";class qre{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xr.UNAUTHENTICATED,this.clientId=I4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Te(Xl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Te(Xl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ml;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=MC(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xE(n,e){n.asyncQueue.verifyOperationInProgress(),Te(Xl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function tD(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Gre(n);Te(Xl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>KO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>KO(e.remoteStore,i)),n._onlineComponents=e}async function Gre(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(Xl,"Using user provided OfflineComponentProvider");try{await xE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;hd("Error using user provided cache. Falling back to memory cache: "+t),await xE(n,new wv)}}else Te(Xl,"Using default OfflineComponentProvider"),await xE(n,new Wre(void 0));return n._offlineComponents}async function DU(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(Xl,"Using user provided OnlineComponentProvider"),await tD(n,n._uninitializedComponentsProvider._online)):(Te(Xl,"Using default OnlineComponentProvider"),await tD(n,new LS))),n._onlineComponents}function Yre(n){return DU(n).then(e=>e.syncEngine)}async function Kre(n){const e=await DU(n),t=e.eventManager;return t.onListen=kre.bind(null,e.syncEngine),t.onUnlisten=Dre.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Nre.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mre.bind(null,e.syncEngine),t}function Xre(n,e,t={}){const r=new Ml;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const d=new Hre({next:g=>{d.Cu(),o.enqueueAndForget(()=>xre(s,p)),g.fromCache&&c.source==="server"?h.reject(new Ae(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new Cre(l,d,{includeMetadataChanges:!0,La:!0});return Ere(s,p)}(await Kre(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(n,e,t){if(!t)throw new Ae(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Qre(n,e,t,r){if(e===!0&&r===!0)throw new Ae(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rD(n){if(!Be.isDocumentKey(n))throw new Ae(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iD(n){if(Be.isDocumentKey(n))throw new Ae(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function p0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function am(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=p0(n);throw new Ae(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="firestore.googleapis.com",sD=!0;class oD{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jU,this.ssl=sD}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:sD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sne)throw new Ae(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MU((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ete;switch(r.type){case"firstParty":return new ite(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=nD.get(t);r&&(Te("ComponentProvider","Removing Datastore"),nD.delete(t),r.terminate())}(this),Promise.resolve()}}function Jre(n,e,t,r={}){var i;n=am(n,m0);const s=Zl(e),o=n._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(Wv(`https://${c}`),Hv("Firestore",!0)),o.host!==jU&&o.host!==c&&hd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!$l(h,l)&&(n._setSettings(h),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Xr.MOCK_USER;else{d=Lb(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ae(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xr(g)}n._authCredentials=new tte(new b4(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ld(this.firestore,e,this._query)}}class Bs{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bs(this.firestore,e,this._key)}}class Ll extends Ld{constructor(e,t,r){super(e,t,W4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bs(this.firestore,null,new Be(e))}withConverter(e){return new Ll(this.firestore,e,this._path)}}function zs(n,e,...t){if(n=li(n),LU("collection","path",e),n instanceof m0){const r=fn.fromString(e,...t);return iD(r),new Ll(n,null,r)}{if(!(n instanceof Bs||n instanceof Ll))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return iD(r),new Ll(n.firestore,null,r)}}function FC(n,e,...t){if(n=li(n),arguments.length===1&&(e=I4.newId()),LU("doc","path",e),n instanceof m0){const r=fn.fromString(e,...t);return rD(r),new Bs(n,null,new Be(r))}{if(!(n instanceof Bs||n instanceof Ll))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return rD(r),new Bs(n.firestore,n instanceof Ll?n.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="AsyncQueue";class lD{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new _U(this,"async_queue_retry"),this.ec=()=>{const r=EE();r&&Te(aD,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=EE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=EE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Ml;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Dd(e))throw e;Te(aD,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Ua("INTERNAL UNHANDLED ERROR: ",uD(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=DC.createAndSchedule(this,e,t,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&Ge(47125,{_c:uD(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function uD(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class g0 extends m0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new lD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lD(e),this._firestoreClient=void 0,await e}}}function Zre(n,e){const t=typeof n=="object"?n:Yv(),r=typeof n=="string"?n:dv,i=xm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Db("firestore");s&&Jre(i,...s)}return i}function VU(n){if(n._terminated)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eie(n),n._firestoreClient}function eie(n){var e,t,r;const i=n._freezeSettings(),s=function(l,c,h,d){return new vte(l,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,MU(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new qre(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yd(Ur.fromBase64String(e))}catch(t){throw new Ae(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yd(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie=/^__.*__$/;class nie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Cc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dm(e,this.data,t,this.fieldTransforms)}}function FU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{hc:n})}}class WC{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new WC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Tv(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(FU(this.hc)&&tie.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class rie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||h0(e)}gc(e,t,r,i=!1){return new WC({hc:e,methodName:t,fc:r,path:Lr.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UU(n){const e=n._freezeSettings(),t=h0(n._databaseId);return new rie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iie(n,e,t,r,i,s={}){const o=n.gc(s.merge||s.mergeFields?2:0,e,t,i);zU("Data must be an object, but it was:",o,r);const l=BU(r,o);let c,h;if(s.merge)c=new fo(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=oie(e,p,t);if(!o.contains(g))throw new Ae(ae.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);lie(d,g)||d.push(g)}c=new fo(d),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new nie(new Ds(l),c,h)}class HC extends BC{_toFieldTransform(e){return new Hte(e.path,new im)}isEqual(e){return e instanceof HC}}function sie(n,e,t,r=!1){return qC(t,n.gc(r?4:3,e))}function qC(n,e){if($U(n=li(n)))return zU("Unsupported field value:",e,n),BU(n,e);if(n instanceof BC)return function(r,i){if(!FU(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=qC(l,i.Rc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=li(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $te(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ur.fromDate(r);return{timestampValue:yv(i.serializer,s)}}if(r instanceof ur){const s=new ur(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yv(i.serializer,s)}}if(r instanceof $C)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yd)return{bytesValue:aU(i.serializer,r._byteString)};if(r instanceof Bs){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:bC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zC)return function(o,l){return{mapValue:{fields:{[M4]:{stringValue:L4},[fv]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Vc("VectorValues must only contain numeric values.");return TC(l.serializer,h)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${p0(r)}`)}(n,e)}function BU(n,e){const t={};return R4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(n,(r,i)=>{const s=qC(i,e.Ic(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function $U(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ur||n instanceof $C||n instanceof yd||n instanceof Bs||n instanceof BC||n instanceof zC)}function zU(n,e,t){if(!$U(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=p0(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function oie(n,e,t){if((e=li(e))instanceof UC)return e._internalPath;if(typeof e=="string")return WU(n,e);throw Tv("Field path arguments must be of type string or ",n,!1,void 0,t)}const aie=new RegExp("[~\\*/\\[\\]]");function WU(n,e,t){if(e.search(aie)>=0)throw Tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new UC(...e.split("."))._internalPath}catch{throw Tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Tv(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Ae(ae.INVALID_ARGUMENT,l+n+c)}function lie(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uie extends HU{data(){return super.data()}}function GC(n,e){return typeof e=="string"?WU(n,e):e instanceof UC?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ae(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YC{}class hie extends YC{}function die(n,e,...t){let r=[];e instanceof YC&&r.push(e),r=r.concat(t),function(s){const o=s.filter(c=>c instanceof KC).length,l=s.filter(c=>c instanceof y0).length;if(o>1||o>0&&l>0)throw new Ae(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class y0 extends hie{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new y0(e,t,r)}_apply(e){const t=this._parse(e);return qU(e._query,t),new Ld(e.firestore,e.converter,CS(e._query,t))}_parse(e){const t=UU(e.firestore);return function(s,o,l,c,h,d,p){let g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){hD(p,d);const w=[];for(const v of p)w.push(cD(c,s,v));g={arrayValue:{values:w}}}else g=cD(c,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||hD(p,d),g=sie(l,o,p,d==="in"||d==="not-in");return er.create(h,d,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fie(n,e,t){const r=e,i=GC("where",n);return y0._create(i,r,t)}class KC extends YC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new KC(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:yo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)qU(o,c),o=CS(o,c)}(e._query,t),new Ld(e.firestore,e.converter,CS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cD(n,e,t){if(typeof(t=li(t))=="string"){if(t==="")throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H4(e)&&t.indexOf("/")!==-1)throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(fn.fromString(t));if(!Be.isDocumentKey(r))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bO(n,new Be(r))}if(t instanceof Bs)return bO(n,t._key);throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p0(t)}.`)}function hD(n,e){if(!Array.isArray(n)||n.length===0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qU(n,e){const t=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ae(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pie{convertValue(e,t="none"){switch(Yl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Sc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[fv].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>zn(o.doubleValue));return new zC(s)}convertGeoPoint(e){return new $C(zn(e.latitude),zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=s0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tm(e));default:return null}}convertTimestamp(e){const t=ql(e);return new ur(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=fn.fromString(e);Wt(fU(r),9688,{name:e});const i=new nm(r.get(1),r.get(3)),s=new Be(r.popFirst(5));return i.isEqual(t)||Ua(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mie(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gie extends HU{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new y_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(GC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class y_ extends gie{data(e={}){return super.data(e)}}class yie{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ky(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new y_(this._firestore,this._userDataWriter,r.key,r,new ky(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new y_(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ky(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new y_(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ky(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:_ie(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _ie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}class vie extends pie{constructor(e){super(),this.firestore=e}convertBytes(e){return new yd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,t)}}function ru(n){n=am(n,Ld);const e=am(n.firestore,g0),t=VU(e),r=new vie(e);return cie(n._query),Xre(t,n._query).then(i=>new yie(e,r,n,i))}function GU(n){return YU(am(n.firestore,g0),[new EC(n._key,Go.none())])}function _0(n,e){const t=am(n.firestore,g0),r=FC(n),i=mie(n.converter,e);return YU(t,[iie(UU(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Go.exists(!1))]).then(()=>r)}function YU(n,e){return function(r,i){const s=new Ml;return r.asyncQueue.enqueueAndForget(async()=>Lre(await Yre(r),i,s)),s.promise}(VU(n),e)}function wie(){return new HC("serverTimestamp")}(function(e,t=!0){(function(i){Nd=i})(eu),zl(new La("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new g0(new nte(r.getProvider("auth-internal")),new ste(o,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ae(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nm(h.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Us(fO,pO,e),Us(fO,pO,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="firebasestorage.googleapis.com",Tie="storageBucket",Eie=2*60*1e3,xie=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends ea{constructor(e,t,r=0){super(SE(e),`Firebase Storage: ${t} (${SE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ta.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return SE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jo;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jo||(Jo={}));function SE(n){return"storage/"+n}function Sie(){const n="An unknown error occurred, please check the error payload for server response.";return new ta(Jo.UNKNOWN,n)}function bie(){return new ta(Jo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cie(){return new ta(Jo.CANCELED,"User canceled the upload/download.")}function Iie(n){return new ta(Jo.INVALID_URL,"Invalid URL '"+n+"'.")}function Aie(n){return new ta(Jo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function dD(n){return new ta(Jo.INVALID_ARGUMENT,n)}function XU(){return new ta(Jo.APP_DELETED,"The Firebase app was deleted.")}function Rie(n){return new ta(Jo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=po.makeFromUrl(e,t)}catch{return new po(e,"")}if(r.path==="")return r;throw Aie(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const d="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${d}/b/${i}/o${g}`,"i"),w={bucket:1,path:3},v=t===KU?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",C=new RegExp(`^https?://${v}/${i}/${x}`,"i"),L=[{regex:l,indices:c,postModify:s},{regex:_,indices:w,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<L.length;O++){const j=L[O],$=j.regex.exec(e);if($){const N=$[j.indices.bucket];let A=$[j.indices.path];A||(A=""),r=new po(N,A),j.postModify(r);break}}if(r==null)throw Iie(e);return r}}class Pie{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(n,e,t){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let h=!1;function d(...x){h||(h=!0,e.apply(null,x))}function p(x){i=setTimeout(()=>{i=null,n(_,c())},x)}function g(){s&&clearTimeout(s)}function _(x,...C){if(h){g();return}if(x){g(),d.call(null,x,...C);return}if(c()||o){g(),d.call(null,x,...C);return}r<64&&(r*=2);let L;l===1?(l=2,L=0):L=(r+Math.random())*1e3,p(L)}let w=!1;function v(x){w||(w=!0,g(),!h&&(i!==null?(x||(l=2),clearTimeout(i),p(0)):x||(l=1)))}return p(0),s=setTimeout(()=>{o=!0,v(!0)},t),v}function Nie(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oie(n){return n!==void 0}function fD(n,e,t,r){if(r<e)throw dD(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw dD(`Invalid value for '${n}'. Expected ${t} or less.`)}function Die(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Ev;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ev||(Ev={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mie(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lie{constructor(e,t,r,i,s,o,l,c,h,d,p,g=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,v)=>{this.resolve_=w,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ny(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Ev.NO_ERROR,c=s.getStatus();if(!l||Mie(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Ev.ABORT;r(!1,new Ny(!1,null,d));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new Ny(h,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Oie(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=Sie();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?XU():Cie();o(c)}else{const c=bie();o(c)}};this.canceled_?t(!1,new Ny(!1,null,!0)):this.backoffId_=kie(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Nie(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ny{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function jie(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Vie(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fie(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Uie(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Bie(n,e,t,r,i,s,o=!0,l=!1){const c=Die(n.urlParams),h=n.url+c,d=Object.assign({},n.headers);return Fie(d,e),jie(d,t),Vie(d,s),Uie(d,r),new Lie(h,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ie(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function zie(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t){this._service=e,t instanceof po?this._location=t:this._location=po.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xv(e,t)}get root(){const e=new po(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zie(this._location.path)}get storage(){return this._service}get parent(){const e=$ie(this._location.path);if(e===null)return null;const t=new po(this._location.bucket,e);return new xv(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Rie(e)}}function pD(n,e){const t=e==null?void 0:e[Tie];return t==null?null:po.makeFromBucketSpec(t,n)}function Wie(n,e,t,r={}){n.host=`${e}:${t}`;const i=Zl(e);i&&(Wv(`https://${n.host}`),Hv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:Lb(s,n.app.options.projectId))}class Hie{constructor(e,t,r,i,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=KU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Eie,this._maxUploadRetryTime=xie,this._requests=new Set,i!=null?this._bucket=po.makeFromBucketSpec(i,this._host):this._bucket=pD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=po.makeFromBucketSpec(this._url,e):this._bucket=pD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xv(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Pie(XU());{const o=Bie(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const mD="@firebase/storage",gD="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="storage";function qie(n=Yv(),e){n=li(n);const r=xm(n,QU).getImmediate({identifier:e}),i=Db("storage");return i&&Gie(r,...i),r}function Gie(n,e,t,r={}){Wie(n,e,t,r)}function Yie(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Hie(t,r,i,e,eu)}function Kie(){zl(new La(QU,Yie,"PUBLIC").setMultipleInstances(!0)),Us(mD,gD,""),Us(mD,gD,"esm2017")}Kie();const Xie={apiKey:"AIzaSyC6euZm9Yp3ip0n1wyRjBi4Mkhi3vktBTs",authDomain:"pethome-db.firebaseapp.com",projectId:"pethome-db",storageBucket:"pethome-db.firebasestorage.app",messagingSenderId:"840399386049",appId:"1:840399386049:web:080a93aba15aa074e62b40"},v0=xV(Xie),Hi=Zre(v0),Rp=hJ(v0);qie(v0);Qee(v0);function Qie(){const[n,e]=R.useState([]),[t,r]=R.useState(!0);return R.useEffect(()=>{async function i(){r(!0);let s=[];try{const c=await fetch("https://api.maisonpourpets.com/reviews");c.ok?s=await c.json():console.warn("API externa respondió con error:",c.status)}catch(c){console.error("Error cargando reviews API externa:",c)}let o=[];try{o=(await ru(zs(Hi,"reviews"))).docs.map(h=>{const d=h.data();return{_id:h.id,author:d.author,dogName:d.dogName,text:d.text,starRating:d.starRating,sourceUrl:d.sourceUrl??"",date:d.createdAt&&typeof d.createdAt.toDate=="function"?d.createdAt.toDate().toISOString():new Date().toISOString()}})}catch(c){console.error("Error cargando reviews de Firestore:",c)}const l=[...s,...o].sort((c,h)=>new Date(h.date).getTime()-new Date(c.date).getTime());console.log("Reviews combinados:",l),e(l),r(!1)}i()},[]),t?E.jsx("p",{children:"Chargement..."}):n.length===0?E.jsx("p",{children:"Aucun avis trouvé."}):E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-10",children:n.map((i,s)=>E.jsx(kL,{review:i},i._id??i.date??s))})}function JU(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=JU(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function w0(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=JU(n))&&(r&&(r+=" "),r+=e);return r}var bE,yD;function Jie(){if(yD)return bE;yD=1;const n=(c,h,d,p)=>{if(d==="length"||d==="prototype"||d==="arguments"||d==="caller")return;const g=Object.getOwnPropertyDescriptor(c,d),_=Object.getOwnPropertyDescriptor(h,d);!e(g,_)&&p||Object.defineProperty(c,d,_)},e=function(c,h){return c===void 0||c.configurable||c.writable===h.writable&&c.enumerable===h.enumerable&&c.configurable===h.configurable&&(c.writable||c.value===h.value)},t=(c,h)=>{const d=Object.getPrototypeOf(h);d!==Object.getPrototypeOf(c)&&Object.setPrototypeOf(c,d)},r=(c,h)=>`/* Wrapped ${c}*/
${h}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),s=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),o=(c,h,d)=>{const p=d===""?"":`with ${d.trim()}() `,g=r.bind(null,p,h.toString());Object.defineProperty(g,"name",s),Object.defineProperty(c,"toString",{...i,value:g})};return bE=(c,h,{ignoreNonConfigurable:d=!1}={})=>{const{name:p}=c;for(const g of Reflect.ownKeys(h))n(c,h,g,d);return t(c,h),o(c,h,p),c},bE}var Zf={exports:{}},CE,_D;function Zie(){return _D||(_D=1,CE=()=>{const n={};return n.promise=new Promise((e,t)=>{n.resolve=e,n.reject=t}),n}),CE}var Oy=Zf.exports,vD;function ese(){return vD||(vD=1,function(n,e){var t=Oy&&Oy.__awaiter||function(o,l,c,h){return new(c||(c=Promise))(function(d,p){function g(v){try{w(h.next(v))}catch(x){p(x)}}function _(v){try{w(h.throw(v))}catch(x){p(x)}}function w(v){v.done?d(v.value):new c(function(x){x(v.value)}).then(g,_)}w((h=h.apply(o,l||[])).next())})},r=Oy&&Oy.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(Zie());function s(o,l="maxAge"){let c,h,d;const p=()=>t(this,void 0,void 0,function*(){if(c!==void 0)return;const w=v=>t(this,void 0,void 0,function*(){d=i.default();const x=v[1][l]-Date.now();if(x<=0){o.delete(v[0]),d.resolve();return}return c=v[0],h=setTimeout(()=>{o.delete(v[0]),d&&d.resolve()},x),typeof h.unref=="function"&&h.unref(),d.promise});try{for(const v of o)yield w(v)}catch{}c=void 0}),g=()=>{c=void 0,h!==void 0&&(clearTimeout(h),h=void 0),d!==void 0&&(d.reject(void 0),d=void 0)},_=o.set.bind(o);return o.set=(w,v)=>{o.has(w)&&o.delete(w);const x=_(w,v);return c&&c===w&&g(),p(),x},p(),o}e.default=s,n.exports=s,n.exports.default=s}(Zf,Zf.exports)),Zf.exports}var IE,wD;function tse(){if(wD)return IE;wD=1;const n=Jie(),e=ese(),t=new WeakMap,r=new WeakMap,i=(s,{cacheKey:o,cache:l=new Map,maxAge:c}={})=>{typeof c=="number"&&e(l);const h=function(...d){const p=o?o(d):d[0],g=l.get(p);if(g)return g.data;const _=s.apply(this,d);return l.set(p,{data:_,maxAge:c?Date.now()+c:Number.POSITIVE_INFINITY}),_};return n(h,s,{ignoreNonConfigurable:!0}),r.set(h,l),h};return i.decorator=(s={})=>(o,l,c)=>{const h=o[l];if(typeof h!="function")throw new TypeError("The decorated value must be a function");delete c.value,delete c.writable,c.get=function(){if(!t.has(this)){const d=i(h,s);return t.set(this,d),d}return t.get(this)}},i.clear=s=>{const o=r.get(s);if(!o)throw new TypeError("Can't clear a function that was not memoized!");if(typeof o.clear!="function")throw new TypeError("The cache Map can't be cleared!");o.clear()},IE=i,IE}var nse=tse();const ZU=_o(nse);function rse(n){return typeof n=="string"}function ise(n,e,t){return t.indexOf(n)===e}function sse(n){return n.toLowerCase()===n}function TD(n){return n.indexOf(",")===-1?n:n.split(",")}function jS(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return jS(t)}if(n.indexOf("@")!==-1){var r=n.split("@")[0],t=r===void 0?"":r;return jS(t)}if(n.indexOf("-")===-1||!sse(n))return n;var i=n.split("-"),s=i[0],o=i[1],l=o===void 0?"":o;return"".concat(s,"-").concat(l.toUpperCase())}function ose(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,r=t===void 0?!0:t,i=e.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],c=[],h=0,d=l;h<d.length;h++){var p=d[h];c=c.concat(TD(p))}var g=navigator.language,_=g&&TD(g);o=o.concat(c,_)}return r&&o.push(s),o.filter(rse).map(jS).filter(ise)}var ase=ZU(ose,{cacheKey:JSON.stringify});function lse(n){return ase(n)[0]||null}var e3=ZU(lse,{cacheKey:JSON.stringify});function Ha(n,e,t){return function(i,s){s===void 0&&(s=t);var o=n(i)+s;return e(o)}}function Vm(n){return function(t){return new Date(n(t).getTime()-1)}}function Fm(n,e){return function(r){return[n(r),e(r)]}}function xn(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;var e=parseInt(n,10);if(typeof n=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(n,"."))}function iu(n){if(n instanceof Date)return n.getMonth();throw new Error("Failed to get month from date: ".concat(n,"."))}function T0(n){if(n instanceof Date)return n.getDate();throw new Error("Failed to get year from date: ".concat(n,"."))}function jd(n){var e=xn(n),t=e+(-e+1)%100,r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var use=Ha(xn,jd,-100),t3=Ha(xn,jd,100),XC=Vm(t3),cse=Ha(xn,XC,-100),n3=Fm(jd,XC);function su(n){var e=xn(n),t=e+(-e+1)%10,r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var r3=Ha(xn,su,-10),QC=Ha(xn,su,10),E0=Vm(QC),i3=Ha(xn,E0,-10),s3=Fm(su,E0);function Vd(n){var e=xn(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}var o3=Ha(xn,Vd,-1),JC=Ha(xn,Vd,1),x0=Vm(JC),a3=Ha(xn,x0,-1),hse=Fm(Vd,x0);function ZC(n,e){return function(r,i){i===void 0&&(i=e);var s=xn(r),o=iu(r)+i,l=new Date;return l.setFullYear(s,o,1),l.setHours(0,0,0,0),n(l)}}function Ac(n){var e=xn(n),t=iu(n),r=new Date;return r.setFullYear(e,t,1),r.setHours(0,0,0,0),r}var l3=ZC(Ac,-1),eI=ZC(Ac,1),Um=Vm(eI),u3=ZC(Um,-1),dse=Fm(Ac,Um);function fse(n,e){return function(r,i){i===void 0&&(i=e);var s=xn(r),o=iu(r),l=T0(r)+i,c=new Date;return c.setFullYear(s,o,l),c.setHours(0,0,0,0),n(c)}}function Bm(n){var e=xn(n),t=iu(n),r=T0(n),i=new Date;return i.setFullYear(e,t,r),i.setHours(0,0,0,0),i}var pse=fse(Bm,1),tI=Vm(pse),mse=Fm(Bm,tI);function c3(n){return T0(Um(n))}var jr={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},gse={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},nI=[0,1,2,3,4,5,6],AE=new Map;function yse(n){return function(t,r){var i=t||e3();AE.has(i)||AE.set(i,new Map);var s=AE.get(i);return s.has(n)||s.set(n,new Intl.DateTimeFormat(i||void 0,n).format),s.get(n)(r)}}function _se(n){var e=new Date(n);return new Date(e.setHours(12))}function Rc(n){return function(e,t){return yse(n)(e,_se(t))}}var vse={day:"numeric"},wse={day:"numeric",month:"long",year:"numeric"},Tse={month:"long"},Ese={month:"long",year:"numeric"},xse={weekday:"short"},Sse={weekday:"long"},bse={year:"numeric"},Cse=Rc(vse),Ise=Rc(wse),Ase=Rc(Tse),h3=Rc(Ese),Rse=Rc(xse),Pse=Rc(Sse),S0=Rc(bse),kse=nI[0],Nse=nI[5],ED=nI[6];function lm(n,e){e===void 0&&(e=jr.ISO_8601);var t=n.getDay();switch(e){case jr.ISO_8601:return(t+6)%7;case jr.ISLAMIC:return(t+1)%7;case jr.HEBREW:case jr.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function Ose(n){var e=jd(n);return xn(e)}function Dse(n){var e=su(n);return xn(e)}function VS(n,e){e===void 0&&(e=jr.ISO_8601);var t=xn(n),r=iu(n),i=n.getDate()-lm(n,e);return new Date(t,r,i)}function Mse(n,e){e===void 0&&(e=jr.ISO_8601);var t=e===jr.GREGORY?jr.GREGORY:jr.ISO_8601,r=VS(n,e),i=xn(n)+1,s,o;do s=new Date(i,0,t===jr.ISO_8601?4:1),o=VS(s,e),i-=1;while(n<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function tc(n,e){switch(n){case"century":return jd(e);case"decade":return su(e);case"year":return Vd(e);case"month":return Ac(e);case"day":return Bm(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function Lse(n,e){switch(n){case"century":return use(e);case"decade":return r3(e);case"year":return o3(e);case"month":return l3(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function d3(n,e){switch(n){case"century":return t3(e);case"decade":return QC(e);case"year":return JC(e);case"month":return eI(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function jse(n,e){switch(n){case"decade":return r3(e,-100);case"year":return o3(e,-10);case"month":return l3(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function Vse(n,e){switch(n){case"decade":return QC(e,100);case"year":return JC(e,10);case"month":return eI(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function f3(n,e){switch(n){case"century":return XC(e);case"decade":return E0(e);case"year":return x0(e);case"month":return Um(e);case"day":return tI(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function Fse(n,e){switch(n){case"century":return cse(e);case"decade":return i3(e);case"year":return a3(e);case"month":return u3(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function Use(n,e){switch(n){case"decade":return i3(e,-100);case"year":return a3(e,-10);case"month":return u3(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function xD(n,e){switch(n){case"century":return n3(e);case"decade":return s3(e);case"year":return hse(e);case"month":return dse(e);case"day":return mse(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function Bse(n,e,t){var r=[e,t].sort(function(i,s){return i.getTime()-s.getTime()});return[tc(n,r[0]),f3(n,r[1])]}function p3(n,e,t){return t.map(function(r){return(e||S0)(n,r)}).join(" – ")}function $se(n,e,t){return p3(n,e,n3(t))}function m3(n,e,t){return p3(n,e,s3(t))}function zse(n){return n.getDay()===new Date().getDay()}function g3(n,e){e===void 0&&(e=jr.ISO_8601);var t=n.getDay();switch(e){case jr.ISLAMIC:case jr.HEBREW:return t===Nse||t===ED;case jr.ISO_8601:case jr.GREGORY:return t===ED||t===kse;default:throw new Error("Unsupported calendar type.")}}var Ro="react-calendar__navigation";function Wse(n){var e=n.activeStartDate,t=n.drillUp,r=n.formatMonthYear,i=r===void 0?h3:r,s=n.formatYear,o=s===void 0?S0:s,l=n.locale,c=n.maxDate,h=n.minDate,d=n.navigationAriaLabel,p=d===void 0?"":d,g=n.navigationAriaLive,_=n.navigationLabel,w=n.next2AriaLabel,v=w===void 0?"":w,x=n.next2Label,C=x===void 0?"»":x,k=n.nextAriaLabel,L=k===void 0?"":k,O=n.nextLabel,j=O===void 0?"›":O,$=n.prev2AriaLabel,N=$===void 0?"":$,A=n.prev2Label,P=A===void 0?"«":A,D=n.prevAriaLabel,U=D===void 0?"":D,B=n.prevLabel,V=B===void 0?"‹":B,oe=n.setActiveStartDate,ie=n.showDoubleView,fe=n.view,re=n.views,ee=re.indexOf(fe)>0,ue=fe!=="century",z=Lse(fe,e),W=ue?jse(fe,e):void 0,Q=d3(fe,e),ye=ue?Vse(fe,e):void 0,ve=function(){if(z.getFullYear()<0)return!0;var We=Fse(fe,e);return h&&h>=We}(),xe=ue&&function(){if(W.getFullYear()<0)return!0;var We=Use(fe,e);return h&&h>=We}(),Pe=c&&c<Q,Se=ue&&c&&c<ye;function Me(){oe(z,"prev")}function Ve(){oe(W,"prev2")}function Et(){oe(Q,"next")}function Ft(){oe(ye,"next2")}function Ht(We){var Nt=function(){switch(fe){case"century":return $se(l,o,We);case"decade":return m3(l,o,We);case"year":return o(l,We);case"month":return i(l,We);default:throw new Error("Invalid view: ".concat(fe,"."))}}();return _?_({date:We,label:Nt,locale:l||e3()||void 0,view:fe}):Nt}function Ye(){var We="".concat(Ro,"__label");return E.jsxs("button",{"aria-label":p,"aria-live":g,className:We,disabled:!ee,onClick:t,style:{flexGrow:1},type:"button",children:[E.jsx("span",{className:"".concat(We,"__labelText ").concat(We,"__labelText--from"),children:Ht(e)}),ie?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"".concat(We,"__divider"),children:" – "}),E.jsx("span",{className:"".concat(We,"__labelText ").concat(We,"__labelText--to"),children:Ht(Q)})]}):null]})}return E.jsxs("div",{className:Ro,children:[P!==null&&ue?E.jsx("button",{"aria-label":N,className:"".concat(Ro,"__arrow ").concat(Ro,"__prev2-button"),disabled:xe,onClick:Ve,type:"button",children:P}):null,V!==null&&E.jsx("button",{"aria-label":U,className:"".concat(Ro,"__arrow ").concat(Ro,"__prev-button"),disabled:ve,onClick:Me,type:"button",children:V}),Ye(),j!==null&&E.jsx("button",{"aria-label":L,className:"".concat(Ro,"__arrow ").concat(Ro,"__next-button"),disabled:Pe,onClick:Et,type:"button",children:j}),C!==null&&ue?E.jsx("button",{"aria-label":v,className:"".concat(Ro,"__arrow ").concat(Ro,"__next2-button"),disabled:Se,onClick:Ft,type:"button",children:C}):null]})}var Lh=function(){return Lh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Lh.apply(this,arguments)},Hse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function SD(n){return"".concat(n,"%")}function rI(n){var e=n.children,t=n.className,r=n.count,i=n.direction,s=n.offset,o=n.style,l=n.wrap,c=Hse(n,["children","className","count","direction","offset","style","wrap"]);return E.jsx("div",Lh({className:t,style:Lh({display:"flex",flexDirection:i,flexWrap:l?"wrap":"nowrap"},o)},c,{children:R.Children.map(e,function(h,d){var p=s&&d===0?SD(100*s/r):null;return R.cloneElement(h,Lh(Lh({},h.props),{style:{flexBasis:SD(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:p,marginInlineStart:p,marginInlineEnd:0}}))})}))}function qse(n,e,t){return e&&e>n?e:t&&t<n?t:n}function um(n,e){return e[0]<=n&&e[1]>=n}function Gse(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function y3(n,e){return um(n[0],e)||um(n[1],e)}function bD(n,e,t){var r=y3(e,n),i=[];if(r){i.push(t);var s=um(n[0],e),o=um(n[1],e);s&&i.push("".concat(t,"Start")),o&&i.push("".concat(t,"End")),s&&o&&i.push("".concat(t,"BothEnds"))}return i}function Yse(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function Kse(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,r=n.hover,i="react-calendar__tile",s=[i];if(!t)return s;var o=new Date,l=function(){if(Array.isArray(t))return t;var _=n.dateType;if(!_)throw new Error("dateType is required when date is not an array of two dates");return xD(_,t)}();if(um(o,l)&&s.push("".concat(i,"--now")),!e||!Yse(e))return s;var c=function(){if(Array.isArray(e))return e;var _=n.valueType;if(!_)throw new Error("valueType is required when value is not an array of two dates");return xD(_,e)}();Gse(c,l)?s.push("".concat(i,"--active")):y3(c,l)&&s.push("".concat(i,"--hasActive"));var h=bD(c,l,"".concat(i,"--range"));s.push.apply(s,h);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var p=r>c[0]?[c[0],r]:[r,c[0]],g=bD(p,l,"".concat(i,"--hover"));s.push.apply(s,g)}return s}function b0(n){for(var e=n.className,t=n.count,r=t===void 0?3:t,i=n.dateTransform,s=n.dateType,o=n.end,l=n.hover,c=n.offset,h=n.renderTile,d=n.start,p=n.step,g=p===void 0?1:p,_=n.value,w=n.valueType,v=[],x=d;x<=o;x+=g){var C=i(x);v.push(h({classes:Kse({date:C,dateType:s,hover:l,value:_,valueType:w}),date:C}))}return E.jsx(rI,{className:e,count:r,offset:c,wrap:!0,children:v})}function C0(n){var e=n.activeStartDate,t=n.children,r=n.classes,i=n.date,s=n.formatAbbr,o=n.locale,l=n.maxDate,c=n.maxDateTransform,h=n.minDate,d=n.minDateTransform,p=n.onClick,g=n.onMouseOver,_=n.style,w=n.tileClassName,v=n.tileContent,x=n.tileDisabled,C=n.view,k=R.useMemo(function(){var O={activeStartDate:e,date:i,view:C};return typeof w=="function"?w(O):w},[e,i,w,C]),L=R.useMemo(function(){var O={activeStartDate:e,date:i,view:C};return typeof v=="function"?v(O):v},[e,i,v,C]);return E.jsxs("button",{className:w0(r,k),disabled:h&&d(h)>i||l&&c(l)<i||(x==null?void 0:x({activeStartDate:e,date:i,view:C})),onClick:p?function(O){return p(i,O)}:void 0,onFocus:g?function(){return g(i)}:void 0,onMouseOver:g?function(){return g(i)}:void 0,style:_,type:"button",children:[s?E.jsx("abbr",{"aria-label":s(o,i),children:t}):t,L]})}var FS=function(){return FS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},FS.apply(this,arguments)},Xse=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},CD="react-calendar__century-view__decades__decade";function Qse(n){var e=n.classes,t=e===void 0?[]:e,r=n.currentCentury,i=n.formatYear,s=i===void 0?S0:i,o=Xse(n,["classes","currentCentury","formatYear"]),l=o.date,c=o.locale,h=[];return t&&h.push.apply(h,t),h.push(CD),jd(l).getFullYear()!==r&&h.push("".concat(CD,"--neighboringCentury")),E.jsx(C0,FS({},o,{classes:h,maxDateTransform:E0,minDateTransform:su,view:"century",children:m3(c,s,l)}))}var US=function(){return US=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},US.apply(this,arguments)},ID=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Jse(n){var e=n.activeStartDate,t=n.hover,r=n.showNeighboringCentury,i=n.value,s=n.valueType,o=ID(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=Ose(e),c=l+(r?119:99);return E.jsx(b0,{className:"react-calendar__century-view__decades",dateTransform:su,dateType:"decade",end:c,hover:t,renderTile:function(h){var d=h.date,p=ID(h,["date"]);return E.jsx(Qse,US({},o,p,{activeStartDate:e,currentCentury:l,date:d}),d.getTime())},start:l,step:10,value:i,valueType:s})}var BS=function(){return BS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},BS.apply(this,arguments)};function Zse(n){function e(){return E.jsx(Jse,BS({},n))}return E.jsx("div",{className:"react-calendar__century-view",children:e()})}var $S=function(){return $S=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$S.apply(this,arguments)},eoe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},AD="react-calendar__decade-view__years__year";function toe(n){var e=n.classes,t=e===void 0?[]:e,r=n.currentDecade,i=n.formatYear,s=i===void 0?S0:i,o=eoe(n,["classes","currentDecade","formatYear"]),l=o.date,c=o.locale,h=[];return t&&h.push.apply(h,t),h.push(AD),su(l).getFullYear()!==r&&h.push("".concat(AD,"--neighboringDecade")),E.jsx(C0,$S({},o,{classes:h,maxDateTransform:x0,minDateTransform:Vd,view:"decade",children:s(c,l)}))}var zS=function(){return zS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},zS.apply(this,arguments)},RD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function noe(n){var e=n.activeStartDate,t=n.hover,r=n.showNeighboringDecade,i=n.value,s=n.valueType,o=RD(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=Dse(e),c=l+(r?11:9);return E.jsx(b0,{className:"react-calendar__decade-view__years",dateTransform:Vd,dateType:"year",end:c,hover:t,renderTile:function(h){var d=h.date,p=RD(h,["date"]);return E.jsx(toe,zS({},o,p,{activeStartDate:e,currentDecade:l,date:d}),d.getTime())},start:l,value:i,valueType:s})}var WS=function(){return WS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},WS.apply(this,arguments)};function roe(n){function e(){return E.jsx(noe,WS({},n))}return E.jsx("div",{className:"react-calendar__decade-view",children:e()})}var HS=function(){return HS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},HS.apply(this,arguments)},ioe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},PD=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},soe="react-calendar__year-view__months__month";function ooe(n){var e=n.classes,t=e===void 0?[]:e,r=n.formatMonth,i=r===void 0?Ase:r,s=n.formatMonthYear,o=s===void 0?h3:s,l=ioe(n,["classes","formatMonth","formatMonthYear"]),c=l.date,h=l.locale;return E.jsx(C0,HS({},l,{classes:PD(PD([],t,!0),[soe],!1),formatAbbr:o,maxDateTransform:Um,minDateTransform:Ac,view:"year",children:i(h,c)}))}var qS=function(){return qS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},qS.apply(this,arguments)},kD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function aoe(n){var e=n.activeStartDate,t=n.hover,r=n.value,i=n.valueType,s=kD(n,["activeStartDate","hover","value","valueType"]),o=0,l=11,c=xn(e);return E.jsx(b0,{className:"react-calendar__year-view__months",dateTransform:function(h){var d=new Date;return d.setFullYear(c,h,1),Ac(d)},dateType:"month",end:l,hover:t,renderTile:function(h){var d=h.date,p=kD(h,["date"]);return E.jsx(ooe,qS({},s,p,{activeStartDate:e,date:d}),d.getTime())},start:o,value:r,valueType:i})}var GS=function(){return GS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},GS.apply(this,arguments)};function loe(n){function e(){return E.jsx(aoe,GS({},n))}return E.jsx("div",{className:"react-calendar__year-view",children:e()})}var YS=function(){return YS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},YS.apply(this,arguments)},uoe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},RE="react-calendar__month-view__days__day";function coe(n){var e=n.calendarType,t=n.classes,r=t===void 0?[]:t,i=n.currentMonthIndex,s=n.formatDay,o=s===void 0?Cse:s,l=n.formatLongDate,c=l===void 0?Ise:l,h=uoe(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=h.date,p=h.locale,g=[];return r&&g.push.apply(g,r),g.push(RE),g3(d,e)&&g.push("".concat(RE,"--weekend")),d.getMonth()!==i&&g.push("".concat(RE,"--neighboringMonth")),E.jsx(C0,YS({},h,{classes:g,formatAbbr:c,maxDateTransform:tI,minDateTransform:Bm,view:"month",children:o(p,d)}))}var KS=function(){return KS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},KS.apply(this,arguments)},ND=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function hoe(n){var e=n.activeStartDate,t=n.calendarType,r=n.hover,i=n.showFixedNumberOfWeeks,s=n.showNeighboringMonth,o=n.value,l=n.valueType,c=ND(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),h=xn(e),d=iu(e),p=i||s,g=lm(e,t),_=p?0:g,w=(p?-g:0)+1,v=function(){if(i)return w+6*7-1;var x=c3(e);if(s){var C=new Date;C.setFullYear(h,d,x),C.setHours(0,0,0,0);var k=7-lm(C,t)-1;return x+k}return x}();return E.jsx(b0,{className:"react-calendar__month-view__days",count:7,dateTransform:function(x){var C=new Date;return C.setFullYear(h,d,x),Bm(C)},dateType:"day",hover:r,end:v,renderTile:function(x){var C=x.date,k=ND(x,["date"]);return E.jsx(coe,KS({},c,k,{activeStartDate:e,calendarType:t,currentMonthIndex:d,date:C}),C.getTime())},offset:_,start:w,value:o,valueType:l})}var _3="react-calendar__month-view__weekdays",PE="".concat(_3,"__weekday");function doe(n){for(var e=n.calendarType,t=n.formatShortWeekday,r=t===void 0?Rse:t,i=n.formatWeekday,s=i===void 0?Pse:i,o=n.locale,l=n.onMouseLeave,c=new Date,h=Ac(c),d=xn(h),p=iu(h),g=[],_=1;_<=7;_+=1){var w=new Date(d,p,_-lm(h,e)),v=s(o,w);g.push(E.jsx("div",{className:w0(PE,zse(w)&&"".concat(PE,"--current"),g3(w,e)&&"".concat(PE,"--weekend")),children:E.jsx("abbr",{"aria-label":v,title:v,children:r(o,w).replace(".","")})},_))}return E.jsx(rI,{className:_3,count:7,onFocus:l,onMouseOver:l,children:g})}var Sv=function(){return Sv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Sv.apply(this,arguments)},OD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},DD="react-calendar__tile";function foe(n){var e=n.onClickWeekNumber,t=n.weekNumber,r=E.jsx("span",{children:t});if(e){var i=n.date,s=n.onClickWeekNumber,o=n.weekNumber,l=OD(n,["date","onClickWeekNumber","weekNumber"]);return E.jsx("button",Sv({},l,{className:DD,onClick:function(c){return s(o,i,c)},type:"button",children:r}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var l=OD(n,["date","onClickWeekNumber","weekNumber"]);return E.jsx("div",Sv({},l,{className:DD,children:r}))}}function poe(n){var e=n.activeStartDate,t=n.calendarType,r=n.onClickWeekNumber,i=n.onMouseLeave,s=n.showFixedNumberOfWeeks,o=function(){if(s)return 6;var h=c3(e),d=lm(e,t),p=h-(7-d);return 1+Math.ceil(p/7)}(),l=function(){for(var h=xn(e),d=iu(e),p=T0(e),g=[],_=0;_<o;_+=1)g.push(VS(new Date(h,d,p+_*7),t));return g}(),c=l.map(function(h){return Mse(h,t)});return E.jsx(rI,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map(function(h,d){var p=l[d];if(!p)throw new Error("date is not defined");return E.jsx(foe,{date:p,onClickWeekNumber:r,weekNumber:h},h)})})}var XS=function(){return XS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},XS.apply(this,arguments)},moe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function goe(n){if(n)for(var e=0,t=Object.entries(gse);e<t.length;e++){var r=t[e],i=r[0],s=r[1];if(s.includes(n))return i}return jr.ISO_8601}function yoe(n){var e=n.activeStartDate,t=n.locale,r=n.onMouseLeave,i=n.showFixedNumberOfWeeks,s=n.calendarType,o=s===void 0?goe(t):s,l=n.formatShortWeekday,c=n.formatWeekday,h=n.onClickWeekNumber,d=n.showWeekNumbers,p=moe(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function g(){return E.jsx(doe,{calendarType:o,formatShortWeekday:l,formatWeekday:c,locale:t,onMouseLeave:r})}function _(){return d?E.jsx(poe,{activeStartDate:e,calendarType:o,onClickWeekNumber:h,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function w(){return E.jsx(hoe,XS({calendarType:o},p))}var v="react-calendar__month-view";return E.jsx("div",{className:w0(v,d?"".concat(v,"--weekNumbers"):""),children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[_(),E.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[g(),w()]})]})})}var jh=function(){return jh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},jh.apply(this,arguments)},Dy="react-calendar",__=["century","decade","year","month"],_oe=["decade","year","month","day"],iI=new Date;iI.setFullYear(1,0,1);iI.setHours(0,0,0,0);var voe=new Date(864e13);function ep(n){return n instanceof Date?n:new Date(n)}function v3(n,e){return __.slice(__.indexOf(n),__.indexOf(e)+1)}function woe(n,e,t){var r=v3(e,t);return r.indexOf(n)!==-1}function sI(n,e,t){return n&&woe(n,e,t)?n:t}function w3(n){var e=__.indexOf(n);return _oe[e]}function Toe(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var r=ep(t);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(n));return r}function T3(n,e){var t=n.value,r=n.minDate,i=n.maxDate,s=n.maxDetail,o=Toe(t,e);if(!o)return null;var l=w3(s),c=function(){switch(e){case 0:return tc(l,o);case 1:return f3(l,o);default:throw new Error("Invalid index value: ".concat(e))}}();return qse(c,r,i)}var oI=function(n){return T3(n,0)},E3=function(n){return T3(n,1)},Eoe=function(n){return[oI,E3].map(function(e){return e(n)})};function x3(n){var e=n.maxDate,t=n.maxDetail,r=n.minDate,i=n.minDetail,s=n.value,o=n.view,l=sI(o,i,t),c=oI({value:s,minDate:r,maxDate:e,maxDetail:t})||new Date;return tc(l,c)}function xoe(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,r=n.defaultValue,i=n.defaultView,s=n.maxDate,o=n.maxDetail,l=n.minDate,c=n.minDetail,h=n.value,d=n.view,p=sI(d,c,o),g=e||t;return g?tc(p,g):x3({maxDate:s,maxDetail:o,minDate:l,minDetail:c,value:h||r,view:d||i})}function kE(n){return n&&(!Array.isArray(n)||n.length===1)}function My(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var S3=R.forwardRef(function(e,t){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,o=e.className,l=e.defaultActiveStartDate,c=e.defaultValue,h=e.defaultView,d=e.formatDay,p=e.formatLongDate,g=e.formatMonth,_=e.formatMonthYear,w=e.formatShortWeekday,v=e.formatWeekday,x=e.formatYear,C=e.goToRangeStartOnSelect,k=C===void 0?!0:C,L=e.inputRef,O=e.locale,j=e.maxDate,$=j===void 0?voe:j,N=e.maxDetail,A=N===void 0?"month":N,P=e.minDate,D=P===void 0?iI:P,U=e.minDetail,B=U===void 0?"century":U,V=e.navigationAriaLabel,oe=e.navigationAriaLive,ie=e.navigationLabel,fe=e.next2AriaLabel,re=e.next2Label,ee=e.nextAriaLabel,ue=e.nextLabel,z=e.onActiveStartDateChange,W=e.onChange,Q=e.onClickDay,ye=e.onClickDecade,ve=e.onClickMonth,xe=e.onClickWeekNumber,Pe=e.onClickYear,Se=e.onDrillDown,Me=e.onDrillUp,Ve=e.onViewChange,Et=e.prev2AriaLabel,Ft=e.prev2Label,Ht=e.prevAriaLabel,Ye=e.prevLabel,We=e.returnValue,Nt=We===void 0?"start":We,xt=e.selectRange,Z=e.showDoubleView,mn=e.showFixedNumberOfWeeks,Nn=e.showNavigation,On=Nn===void 0?!0:Nn,he=e.showNeighboringCentury,st=e.showNeighboringDecade,It=e.showNeighboringMonth,Zt=It===void 0?!0:It,ut=e.showWeekNumbers,_t=e.tileClassName,Ke=e.tileContent,Kt=e.tileDisabled,rn=e.value,Lt=e.view,qn=R.useState(l),vt=qn[0],hr=qn[1],Dn=R.useState(null),Si=Dn[0],ui=Dn[1],br=R.useState(Array.isArray(c)?c.map(function(je){return je!==null?ep(je):null}):c!=null?ep(c):null),rr=br[0],Ze=br[1],Cr=R.useState(h),sn=Cr[0],ln=Cr[1],Ot=r||vt||xoe({activeStartDate:r,defaultActiveStartDate:l,defaultValue:c,defaultView:h,maxDate:$,maxDetail:A,minDate:D,minDetail:B,value:rn,view:Lt}),Dt=function(){var je=function(){return xt&&kE(rr)?rr:rn!==void 0?rn:rr}();return je?Array.isArray(je)?je.map(function(De){return De!==null?ep(De):null}):je!==null?ep(je):null:null}(),Ir=w3(A),at=sI(Lt||sn,B,A),Mn=v3(B,A),Ue=xt?Si:null,Ne=Mn.indexOf(at)<Mn.length-1,Le=Mn.indexOf(at)>0,me=R.useCallback(function(je){var De=function(){switch(Nt){case"start":return oI;case"end":return E3;case"range":return Eoe;default:throw new Error("Invalid returnValue.")}}();return De({maxDate:$,maxDetail:A,minDate:D,value:je})},[$,A,D,Nt]),Oe=R.useCallback(function(je,De){hr(je);var ct={action:De,activeStartDate:je,value:Dt,view:at};z&&!My(Ot,je)&&z(ct)},[Ot,z,Dt,at]),be=R.useCallback(function(je,De){var ct=function(){switch(at){case"century":return ye;case"decade":return Pe;case"year":return ve;case"month":return Q;default:throw new Error("Invalid view: ".concat(at,"."))}}();ct&&ct(je,De)},[Q,ye,ve,Pe,at]),Fe=R.useCallback(function(je,De){if(Ne){be(je,De);var ct=Mn[Mn.indexOf(at)+1];if(!ct)throw new Error("Attempted to drill down from the lowest view.");hr(je),ln(ct);var Xt={action:"drillDown",activeStartDate:je,value:Dt,view:ct};z&&!My(Ot,je)&&z(Xt),Ve&&at!==ct&&Ve(Xt),Se&&Se(Xt)}},[Ot,Ne,z,be,Se,Ve,Dt,at,Mn]),qt=R.useCallback(function(){if(Le){var je=Mn[Mn.indexOf(at)-1];if(!je)throw new Error("Attempted to drill up from the highest view.");var De=tc(je,Ot);hr(De),ln(je);var ct={action:"drillUp",activeStartDate:De,value:Dt,view:je};z&&!My(Ot,De)&&z(ct),Ve&&at!==je&&Ve(ct),Me&&Me(ct)}},[Ot,Le,z,Me,Ve,Dt,at,Mn]),He=R.useCallback(function(je,De){var ct=Dt;be(je,De);var Xt=xt&&!kE(ct),wt;if(xt)if(Xt)wt=tc(Ir,je);else{if(!ct)throw new Error("previousValue is required");if(Array.isArray(ct))throw new Error("previousValue must not be an array");wt=Bse(Ir,ct,je)}else wt=me(je);var Qt=!xt||Xt||k?x3({maxDate:$,maxDetail:A,minDate:D,minDetail:B,value:wt,view:at}):null;De.persist(),hr(Qt),Ze(wt);var yn={action:"onChange",activeStartDate:Qt,value:wt,view:at};if(z&&!My(Ot,Qt)&&z(yn),W)if(xt){var bi=kE(wt);if(!bi)W(wt||null,De);else if(i){if(Array.isArray(wt))throw new Error("value must not be an array");W([wt||null,null],De)}}else W(wt||null,De)},[Ot,i,me,k,$,A,D,B,z,W,be,xt,Dt,Ir,at]);function Gt(je){ui(je)}function gn(){ui(null)}R.useImperativeHandle(t,function(){return{activeStartDate:Ot,drillDown:Fe,drillUp:qt,onChange:He,setActiveStartDate:Oe,value:Dt,view:at}},[Ot,Fe,qt,He,Oe,Dt,at]);function jt(je){var De=je?d3(at,Ot):tc(at,Ot),ct=Ne?Fe:He,Xt={activeStartDate:De,hover:Ue,locale:O,maxDate:$,minDate:D,onClick:ct,onMouseOver:xt?Gt:void 0,tileClassName:_t,tileContent:Ke,tileDisabled:Kt,value:Dt,valueType:Ir};switch(at){case"century":return E.jsx(Zse,jh({formatYear:x,showNeighboringCentury:he},Xt));case"decade":return E.jsx(roe,jh({formatYear:x,showNeighboringDecade:st},Xt));case"year":return E.jsx(loe,jh({formatMonth:g,formatMonthYear:_},Xt));case"month":return E.jsx(yoe,jh({calendarType:s,formatDay:d,formatLongDate:p,formatShortWeekday:w,formatWeekday:v,onClickWeekNumber:xe,onMouseLeave:xt?gn:void 0,showFixedNumberOfWeeks:typeof mn<"u"?mn:Z,showNeighboringMonth:Zt,showWeekNumbers:ut},Xt));default:throw new Error("Invalid view: ".concat(at,"."))}}function Ut(){return On?E.jsx(Wse,{activeStartDate:Ot,drillUp:qt,formatMonthYear:_,formatYear:x,locale:O,maxDate:$,minDate:D,navigationAriaLabel:V,navigationAriaLive:oe,navigationLabel:ie,next2AriaLabel:fe,next2Label:re,nextAriaLabel:ee,nextLabel:ue,prev2AriaLabel:Et,prev2Label:Ft,prevAriaLabel:Ht,prevLabel:Ye,setActiveStartDate:Oe,showDoubleView:Z,view:at,views:Mn}):null}var lt=Array.isArray(Dt)?Dt:[Dt];return E.jsxs("div",{className:w0(Dy,xt&&lt.length===1&&"".concat(Dy,"--selectRange"),Z&&"".concat(Dy,"--doubleView"),o),ref:L,children:[Ut(),E.jsxs("div",{className:"".concat(Dy,"__viewContainer"),onBlur:xt?gn:void 0,onMouseLeave:xt?gn:void 0,children:[jt(),Z?jt(!0):null]})]})});const Soe="/images/dog_small.gif",boe="/images/dog_large.gif",Coe="/images/cat.gif";function Ioe(){const[n,e]=R.useState(""),[t,r]=R.useState(""),[i,s]=R.useState(""),[o,l]=R.useState(0),[c,h]=R.useState(""),[d,p]=R.useState(!1),[g,_]=R.useState(null),[w,v]=R.useState(!1),[x,C]=R.useState(!1),k=()=>n.trim()&&t.trim()&&i.trim()&&o>=1&&c.trim(),L=async O=>{if(O.preventDefault(),!k()){_("Veuillez remplir tous les champs et donner une note entre 1 et 5."),C(!0),setTimeout(()=>C(!1),500);return}_(null),p(!0);try{const j=zs(Hi,"reviews"),$={author:n,dogName:t,email:i,text:c,starRating:o,sourceUrl:"",createdAt:wie()};await _0(j,$),v(!0),e(""),r(""),s(""),l(0),h("")}catch{_("Une erreur est survenue lors de l'envoi, veuillez réessayer.")}finally{p(!1)}};return E.jsxs(nn.form,{onSubmit:L,className:"max-w-lg p-6 bg-white rounded-2xl space-y-4",animate:x?{x:[0,-10,10,-10,10,0]}:{},transition:{duration:.5},children:[E.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Laisser un avis"}),g&&E.jsx("p",{className:"text-red-600",children:g}),w&&E.jsx("p",{className:"text-green-600",children:"Merci pour votre avis !"}),E.jsxs(nn.div,{animate:g&&!n.trim()?{x:[0,-5,5,-5,5,0]}:{},transition:{duration:.4},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom complet"}),E.jsx("input",{type:"text",value:n,onChange:O=>e(O.target.value),required:!0,className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${g&&!n.trim()?"border-red-500":""}`})]}),E.jsxs(nn.div,{animate:g&&!t.trim()?{x:[0,-5,5,-5,5,0]}:{},transition:{duration:.4},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom du chien"}),E.jsx("input",{type:"text",value:t,onChange:O=>r(O.target.value),required:!0,className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${g&&!t.trim()?"border-red-500":""}`})]}),E.jsxs(nn.div,{animate:g&&!i.trim()?{x:[0,-5,5,-5,5,0]}:{},transition:{duration:.4},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),E.jsx("input",{type:"email",value:i,onChange:O=>s(O.target.value),required:!0,className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${g&&!i.trim()?"border-red-500":""}`})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Note"}),E.jsx("div",{className:"flex space-x-1 mt-1",children:Array.from({length:5},(O,j)=>j+1).map(O=>E.jsx("button",{type:"button",onClick:()=>l(O),className:`text-2xl ${O<=o?"text-yellow-400":"text-gray-300"}`,"aria-label":`${O} étoiles`,children:"★"},O))})]}),E.jsxs(nn.div,{animate:g&&!c.trim()?{x:[0,-5,5,-5,5,0]}:{},transition:{duration:.4},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Commentaire"}),E.jsx("textarea",{value:c,onChange:O=>h(O.target.value),required:!0,rows:4,className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${g&&!c.trim()?"border-red-500":""}`})]}),E.jsx(ic,{label:d?"Envoi...":"Envoyer mon avis",alt:"Envoyer mon avis",variant:"primary",type:"submit"})]})}const Aoe=()=>E.jsxs(nn.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:100,damping:12},className:"relative mx-auto mb-12 w-fit max-w-full rounded-[20px] border-2 border-dashed border-yellow-500 bg-gradient-to-br from-yellow-100 to-yellow-200 px-6 py-4 shadow-lg flex items-center gap-4",children:[E.jsx(nn.div,{animate:{rotate:[0,-10,10,-10,0]},transition:{repeat:1/0,duration:4},className:"text-yellow-700",children:E.jsx(s9,{className:"w-10 h-10"})}),E.jsxs("div",{className:"text-center text-yellow-900",children:[E.jsx("p",{className:"font-bold text-lg sm:text-xl",children:"Offre spéciale"}),E.jsxs("p",{className:"text-sm sm:text-base",children:["🎉 10% sur ta 1",E.jsx("sup",{children:"ère"})," réservation ",E.jsx("br",{}),"🐾 10% sur ta 5",E.jsx("sup",{children:"ème"})," réservation"]})]})]}),b3=[{id:1,title:"FORMULE FLASH",subtitle:"Journée",description:"Parfait pour des escapades courtes",rates:["19€/jour (jusqu’à 40kg max)","2 chiens: -10% sur le 2ème chien"],icon:E.jsx(Vz,{className:"h-10 w-10 text-yellow-500"}),type:"dog"},{id:2,title:"FORMULE SÉJOUR",subtitle:"1 nuit et plus",description:"Idéal pour les vacances",rates:["23€/nuit (jusqu’à 40kg max)","2 chiens: -15% sur le 2ème chien"],icon:E.jsx(t9,{className:"h-10 w-10 text-pink-500"}),type:"dog"},{id:3,title:"FORMULE FÉLIN",subtitle:"Journée ou nuit",description:"Confort et câlins garantis",rates:["19€/nuit","2 chats: -10% sur le 2ème chat"],icon:E.jsx(Az,{className:"h-10 w-10 text-purple-500"}),type:"cat"}],Roe={idle:{y:[0,-8,0],transition:{duration:1.5,repeat:1/0}}};function MD(){const[n,e]=R.useState(null),t=R.useRef(null);return R.useEffect(()=>{document.body.style.overflow=n?"hidden":""},[n]),E.jsxs("section",{className:"bg-gradient-to-br from-green-50 to-white py-12 px-4 mt-16",children:[E.jsxs(lc,{children:[E.jsx("title",{children:"Nos services - PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez nos services de garde d'animaux, nos tarifs et notre engagement envers le bien-être de vos compagnons."}),E.jsx("meta",{property:"og:title",content:"Nos services - PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez nos services de garde d'animaux, nos tarifs et notre engagement envers le bien-être de vos compagnons."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-center text-blue-500 mb-12",children:"SERVICES ET TARIFS"}),E.jsx(Aoe,{}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:b3.map(r=>E.jsxs(nn.article,{whileHover:{scale:1.04},className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition p-6 flex flex-col justify-between",role:"region","aria-labelledby":`service-${r.id}`,children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("div",{className:"flex justify-center mb-4",children:r.icon}),E.jsx("h3",{id:`service-${r.id}`,className:"text-xl font-bold uppercase text-gray-800 text-center mb-2",children:r.title}),E.jsx("p",{className:"text-sm uppercase font-semibold text-gray-500 text-center mb-4",children:r.subtitle}),E.jsx("p",{className:"text-base text-gray-600 mb-4 text-center",children:r.description}),E.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:r.rates.map((i,s)=>E.jsx("li",{children:i},s))})]}),E.jsx(ic,{label:"Réservez",alt:"Réserver ce service",variant:"primary",onClick:()=>e(r)})]},r.id))}),E.jsx(zx,{children:n&&E.jsx(Poe,{service:n,onClose:()=>e(null),overlayRef:t})}),E.jsxs("div",{className:"mt-16",children:[E.jsx("h3",{className:"text-2xl font-semibold text-center text-gray-800 mb-8",children:"Ils nous ont fait confiance"}),E.jsx(Qie,{}),E.jsx("div",{className:"mt-12",id:"avis",children:E.jsx(Ioe,{})})]})]})]})}function Poe({service:n,onClose:e,overlayRef:t}){const r=vc(),[i,s]=R.useState(1),[o,l]=R.useState(null),[c,h]=R.useState([]),[d,p]=R.useState(!0),[g,_]=R.useState(1),[w,v]=R.useState(["Petit & moyen chien"]),[x,C]=R.useState([{name:"",breed:"",age:""}]),[k,L]=R.useState([!1]);R.useEffect(()=>{async function D(){p(!0);const U=die(zs(Hi,"bookings"),fie("serviceId","==",n.id)),B=await ru(U);h(B.docs.map(V=>V.data().date)),p(!1)}D()},[n.id]),R.useEffect(()=>{const D=(U,B)=>{const V=[...U];return g>V.length?V.push(B):V.splice(g),V};v(U=>D(U,"Petit & moyen chien")),C(U=>D(U,{name:"",breed:"",age:""})),L(U=>D(U,!1))},[g]);const O=x.map((D,U)=>({name:!D.name.trim()&&k[U],breed:!D.breed.trim()&&k[U],age:!(Number(D.age)>0)&&k[U]})),j=w.filter(D=>D==="Gros chien").length,$=D=>n.type==="cat"?Coe:D==="Gros chien"?boe:Soe,{icon:N,...A}=n,P=async D=>{if(D.preventDefault(),x.some(B=>!B.name.trim()||!B.breed.trim()||!(Number(B.age)>0))||!o||j>1){L(Array(g).fill(!0));return}r("/checkout",{state:{service:A,selectedRange:o,quantity:g,sizes:w,details:x}}),e()};return E.jsx(nn.div,{ref:t,className:"fixed inset-0 bg-blue-200 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:E.jsxs(nn.div,{className:"bg-white w-full max-w-lg mx-4 sm:mx-0 rounded-2xl p-8 shadow-xl max-h-[90vh] overflow-y-auto relative",role:"dialog","aria-modal":"true",initial:{scale:.8},animate:{scale:1},exit:{scale:.8},children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400","aria-label":"Fermer",children:E.jsx(a2,{className:"w-6 h-6 text-gray-700"})}),E.jsxs("h4",{className:"text-2xl font-bold mb-4 text-blue-500 text-center",children:["Réservation - ",n.title]}),i===1?E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"mb-4",children:"Sélectionnez un intervalle :"}),d?E.jsx("p",{children:"Chargement..."}):E.jsx(S3,{selectRange:!0,onChange:D=>Array.isArray(D)&&l(D),tileDisabled:({date:D})=>c.includes(D.toISOString().split("T")[0]),value:o||new Date}),E.jsx("button",{onClick:()=>s(2),disabled:!o,className:"mt-4 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-2 px-4 rounded",children:"Suivant"})]}):E.jsxs("form",{onSubmit:P,noValidate:!0,children:[E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:w.map((D,U)=>E.jsx(nn.img,{src:$(D),alt:D,className:D==="Gros chien"?"h-40 w-40":"h-28 w-28",variants:Roe,initial:"idle",animate:"idle"},U))}),n.type==="dog"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium",children:"Nombre de chiens"}),E.jsxs("select",{value:g,onChange:D=>_(Number(D.target.value)),className:"mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[E.jsx("option",{value:1,children:"1"}),E.jsx("option",{value:2,children:"2"})]})]}),w.map((D,U)=>E.jsxs("div",{className:"mb-4",children:[E.jsxs("label",{className:"block text-sm font-medium",children:["Taille chien ",U+1]}),E.jsxs("select",{value:D,onChange:B=>v(V=>V.map((oe,ie)=>ie===U?B.target.value:oe)),className:"mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[E.jsx("option",{children:"Petit & moyen chien"}),E.jsx("option",{children:"Gros chien"})]}),U===1&&j>1&&E.jsx("p",{className:"text-red-600 text-xs",children:"Un seul gros autorisé"})]},U))]}):E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium",children:"Nombre de chats"}),E.jsxs("select",{value:g,onChange:D=>_(Number(D.target.value)),className:"mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[E.jsx("option",{value:1,children:"1"}),E.jsx("option",{value:2,children:"2"})]})]}),x.map((D,U)=>E.jsxs("div",{className:"mb-4 space-y-2",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Nom complet"}),E.jsx("input",{type:"text",value:D.name,onChange:B=>C(V=>V.map((oe,ie)=>ie===U?{...oe,name:B.target.value}:oe)),onBlur:()=>L(B=>B.map((V,oe)=>oe===U?!0:V)),className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500 ${O[U].name&&k[U]?"border-red-500":""}`}),O[U].name&&k[U]&&E.jsx("p",{className:"text-red-600 text-xs",children:"Nom requis"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Race"}),E.jsx("input",{type:"text",value:D.breed,onChange:B=>C(V=>V.map((oe,ie)=>ie===U?{...oe,breed:B.target.value}:oe)),onBlur:()=>L(B=>B.map((V,oe)=>oe===U?!0:V)),className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500 ${O[U].breed&&k[U]?"border-red-500":""}`}),O[U].breed&&k[U]&&E.jsx("p",{className:"text-red-600 text-xs",children:"Race requise"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Âge"}),E.jsx("input",{type:"number",value:D.age,onChange:B=>C(V=>V.map((oe,ie)=>ie===U?{...oe,age:B.target.value}:oe)),onBlur:()=>L(B=>B.map((V,oe)=>oe===U?!0:V)),className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500 ${O[U].age&&k[U]?"border-red-500":""}`}),O[U].age&&k[U]&&E.jsx("p",{className:"text-red-600 text-xs",children:"Âge valide requis"})]})]},U)),E.jsx("button",{type:"submit",className:"w-full py-3 rounded bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white",children:"Confirmer"})]})]})})}const Ly=({alt:n,src:e,className:t,...r})=>{const[i,s]=R.useState(!1);return E.jsx("img",{src:e,alt:n,loading:"lazy",className:`transition-opacity duration-700 ease-in-out ${i?"opacity-100":"opacity-0"} ${t}`,onLoad:()=>s(!0),...r})},koe=()=>E.jsxs("main",{children:[E.jsxs(lc,{children:[E.jsx("title",{children:"Qui sommes-nous ? - PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:title",content:"Qui sommes-nous ? - PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsxs("section",{className:"container mx-auto px-2 mt-12 lg:px-50 py-12","aria-labelledby":"about-heading",children:[E.jsxs("header",{className:"text-center mb-12",children:[E.jsx("h1",{id:"about-heading",className:"text-4xl font-extrabold text-black",children:"Qui sommes-nous ?"}),E.jsx("p",{className:"mt-4 text-lg text-gray-700 text-start",children:"PetHome n’est pas une pension ni un refuge où sa mascotte partagera son lieu de vie avec des dizaines d’autres chiens/chats. PetHome est une vraie maison d’accueil où votre mascotte se sent en vacances avec sa seconde famille."})]}),E.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-16 items-start",children:[E.jsxs("div",{className:"order-1 md:order-1 space-y-4 text-gray-800 leading-relaxed",children:[E.jsxs("p",{children:["Nous sommes un couple passionné avec de très longues années d’expérience dans la garde et le bien-être des animaux. ",E.jsx("br",{})," Mon mari, Andrew, a grandi dans une ferme au Costa Rica entouré de 7 chiens, 8 chats, des chevaux, des vaches, des poules… et a été assistant vétérinaire pendant son adolescence. Il a un vrai don pour comprendre et éduquer les animaux mais est aussi attentionné, doux et joueur.",E.jsx("br",{})," ",E.jsx("br",{}),"Quant à moi, je m’appelle Justine. J’ai grandi en région parisienne, toujours entourée de chiens et de chats. Je suis très câline, joueuse et attentive à leurs besoins. ",E.jsx("br",{})," ",E.jsx("br",{}),"Nous travaillons en télétravail ce qui nous permet d’être disponibles 24h/24 et 7j/7 pour les animaux que nous gardons."]}),E.jsx("p",{children:"Nous habitons dans un appartement de 60m² à Antony, Hauts-de-Seine, juste en face d’un grand parc traversé par la coulée verte. Ces espaces verts sont parfaits pour faire de belles et longues balades avec les chiens au minimum 3 fois par jour et 4 pour ceux avec beaucoup d'énergie."}),E.jsxs("p",{children:["Nous accueillons jusqu'à deux chiens/chats d'un SEUL propriétaire à la fois pour offrir toute notre attention et assurer un séjour exclusif de haute qualité. ",E.jsx("br",{})," ",E.jsx("br",{}),"N’hésitez pas à nous contacter si vous avez une question, nous serons ravis de vous répondre! On a hâte de rencontrer votre petite boule d’amour et de lui faire passer de merveilleuses vacances chez nous :)"]})]}),E.jsxs("div",{className:"order-2 md:order-2 grid grid-cols-2 grid-rows-2 gap-4",children:[E.jsx(Ly,{src:"/carousel/1.jpg",alt:"Photo équipe 1",className:"w-full h-48 md:h-64 object-cover rounded-xl"}),E.jsx(Ly,{src:"/carousel/2.jpg",alt:"Photo équipe 2",className:"w-full h-48 md:h-64 object-cover rounded-xl"}),E.jsx(Ly,{src:"/carousel/3.jpg",alt:"Photo équipe 3",className:"w-full h-48 md:h-64 object-cover rounded-xl"}),E.jsx(Ly,{src:"/carousel/4.jpg",alt:"Photo équipe 4",className:"w-full h-48 md:h-64 object-cover rounded-xl"})]})]}),E.jsxs("section",{className:"mb-16","aria-labelledby":"values-heading",children:[E.jsx("h2",{id:"values-heading",className:"text-2xl font-semibold text-center text-gray-800 mb-6",children:"Nos valeurs"}),E.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:Wz,label:"Amour et respect",color:"text-red-500"},{icon:Uz,label:"Transparence",color:"text-yellow-500"},{icon:$z,label:"Confiance",color:"text-green-500"},{icon:r9,label:"Expérience",color:"text-indigo-500"}].map(({icon:n,label:e,color:t})=>E.jsxs("li",{className:"flex items-center p-4 border rounded-xl shadow-sm",children:[E.jsx(n,{className:`w-6 h-6 ${t}`}),E.jsx("span",{className:"ml-3 text-gray-700",children:e})]},e))})]}),E.jsxs("section",{className:"text-center mb-12",children:[E.jsx("h3",{className:"text-2xl font-medium text-gray-800 mb-8",children:"Une question ?"}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[E.jsx(ic,{label:"FAQ",alt:"Aller à la page FAQ",variant:"primary",to:"/FAQ",className:"text-sm px-4 py-2"}),E.jsx(ic,{label:"Contactez-nous",alt:"Aller à la page de contact",variant:"primary",to:"/contact",className:"text-sm px-4 py-2"})]})]})]})]}),Noe=({count:n=8})=>E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:n}).map((e,t)=>E.jsx("div",{className:"animate-pulse bg-gray-200 h-48 rounded-lg"},t))}),C3="carousel",I3="controller",Ooe="navigation",Doe="no-scroll",aI="portal",Moe="root",A3="toolbar",NE="loading",OE="error",DE="complete",Loe="placeholder",joe=n=>`active-slide-${n}`,R3="flex_center",Voe="no_scroll",P3="no_scroll_padding",lI="slide",Foe="slide_wrapper",Mu="prev",Lu="next",LD="swipe",_d="close",k3="onPointerDown",N3="onPointerMove",O3="onPointerUp",D3="onPointerLeave",M3="onPointerCancel",L3="onKeyDown",Uoe="onKeyUp",j3="onWheel",Boe="Escape",$oe="ArrowLeft",zoe="ArrowRight",Woe="button",QS="icon",V3="contain",jD="cover",Hoe="Unknown action type",F3="yarl__";function Ra(...n){return[...n].filter(Boolean).join(" ")}function $t(n){return`${F3}${n}`}function Vi(n){return`--${F3}${n}`}function $m(n,e){return`${n}${e?`_${e}`:""}`}function uI(n){return e=>$m(n,e)}function qoe(n,e){var t;return(t=n==null?void 0:n[e])!==null&&t!==void 0?t:e}function U3(...n){return()=>{n.forEach(e=>{e()})}}function Pc(n,e,t){return()=>{const r=R.useContext(t);if(!r)throw new Error(`${n} must be used within a ${e}.Provider`);return r}}function B3(){return typeof window<"u"}function Goe(n,e=0){const t=10**e;return Math.round((n+Number.EPSILON)*t)/t}function $3(n){return n.type===void 0||n.type==="image"}function Yoe(n,e){return n.imageFit===jD||n.imageFit!==V3&&e===jD}function I0(n){return typeof n=="string"?Number.parseInt(n,10):n}function bv(n){if(typeof n=="number")return{pixel:n};if(typeof n=="string"){const e=I0(n);return n.endsWith("%")?{percent:e}:{pixel:e}}return{pixel:0}}function Koe(n,e){const t=bv(e),r=t.percent!==void 0?n.width/100*t.percent:t.pixel;return{width:Math.max(n.width-2*r,0),height:Math.max(n.height-2*r,0)}}function z3(n,e){return e>0?(n%e+e)%e:0}function W3(n){return n.length>0}function H3(n,e){return n[z3(e,n.length)]}function JS(n,e){return W3(n)?H3(n,e):void 0}function Xoe(n){return $3(n)?n.src:void 0}function Qoe(n,e,t=0){return Math.min(n.preload,Math.max(n.finite?e.length-1:Math.floor(e.length/2),t))}const Joe=Number(R.version.split(".")[0])>=19;function Zoe(n){return{inert:Joe?n:n?"":void 0}}function eae(n){n.scrollTop}const ZS={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[_d]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:V3,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function kc(n,e){return{name:n,component:e}}function Tr(n,e){return{module:n,children:e}}function q3(n,e,t){return n.module.name===e?t(n):n.children?[Tr(n.module,n.children.flatMap(r=>{var i;return(i=q3(r,e,t))!==null&&i!==void 0?i:[]}))]:[n]}function yh(n,e,t){return n.flatMap(r=>{var i;return(i=q3(r,e,t))!==null&&i!==void 0?i:[]})}function tae(n,e=[],t=[]){let r=n;const i=_=>{const w=[...r];for(;w.length>0;){const v=w.pop();if((v==null?void 0:v.module.name)===_)return!0;v!=null&&v.children&&w.push(...v.children)}return!1},s=(_,w)=>{if(_===""){r=[Tr(w,r)];return}r=yh(r,_,v=>[Tr(w,[v])])},o=(_,w)=>{r=yh(r,_,v=>[Tr(v.module,[Tr(w,v.children)])])},l=(_,w,v)=>{r=yh(r,_,x=>{var C;return[Tr(x.module,[...v?[Tr(w)]:[],...(C=x.children)!==null&&C!==void 0?C:[],...v?[]:[Tr(w)]])]})},c=(_,w,v)=>{r=yh(r,_,x=>[...v?[Tr(w)]:[],x,...v?[]:[Tr(w)]])},h=_=>{o(I3,_)},d=(_,w)=>{r=yh(r,_,v=>[Tr(w,v.children)])},p=_=>{r=yh(r,_,w=>w.children)},g=_=>{t.push(_)};return e.forEach(_=>{_({contains:i,addParent:s,append:o,addChild:l,addSibling:c,addModule:h,replace:d,remove:p,augment:g})}),{config:r,augmentation:_=>t.reduce((w,v)=>v(w),_)}}const G3=R.createContext(null),cI=Pc("useDocument","DocumentContext",G3);function nae({nodeRef:n,children:e}){const t=R.useMemo(()=>{const r=s=>{var o;return((o=s||n.current)===null||o===void 0?void 0:o.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:s=>{var o;return((o=r(s))===null||o===void 0?void 0:o.defaultView)||window}}},[n]);return R.createElement(G3.Provider,{value:t},e)}const Y3=R.createContext(null),A0=Pc("useEvents","EventsContext",Y3);function rae({children:n}){const[e]=R.useState({});R.useEffect(()=>()=>{Object.keys(e).forEach(r=>delete e[r])},[e]);const t=R.useMemo(()=>{const r=(o,l)=>{var c;(c=e[o])===null||c===void 0||c.splice(0,e[o].length,...e[o].filter(h=>h!==l))};return{publish:(...[o,l])=>{var c;(c=e[o])===null||c===void 0||c.forEach(h=>h(l))},subscribe:(o,l)=>(e[o]||(e[o]=[]),e[o].push(l),()=>r(o,l)),unsubscribe:r}},[e]);return R.createElement(Y3.Provider,{value:t},n)}const K3=R.createContext(null),zm=Pc("useLightboxProps","LightboxPropsContext",K3);function iae({children:n,...e}){return R.createElement(K3.Provider,{value:e},n)}const X3=R.createContext(null),R0=Pc("useLightboxState","LightboxStateContext",X3),Q3=R.createContext(null),sae=Pc("useLightboxDispatch","LightboxDispatchContext",Q3);function oae(n,e){switch(e.type){case"swipe":{const{slides:t}=n,r=(e==null?void 0:e.increment)||0,i=n.globalIndex+r,s=z3(i,t.length),o=JS(t,s),l=r||e.duration!==void 0?{increment:r,duration:e.duration,easing:e.easing}:void 0;return{slides:t,currentIndex:s,globalIndex:i,currentSlide:o,animation:l}}case"update":return e.slides!==n.slides||e.index!==n.currentIndex?{slides:e.slides,currentIndex:e.index,globalIndex:e.index,currentSlide:JS(e.slides,e.index)}:n;default:throw new Error(Hoe)}}function aae({slides:n,index:e,children:t}){const[r,i]=R.useReducer(oae,{slides:n,currentIndex:e,globalIndex:e,currentSlide:JS(n,e)});R.useEffect(()=>{i({type:"update",slides:n,index:e})},[n,e]);const s=R.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return R.createElement(Q3.Provider,{value:i},R.createElement(X3.Provider,{value:s},t))}const J3=R.createContext(null),P0=Pc("useTimeouts","TimeoutsContext",J3);function lae({children:n}){const[e]=R.useState([]);R.useEffect(()=>()=>{e.forEach(r=>window.clearTimeout(r)),e.splice(0,e.length)},[e]);const t=R.useMemo(()=>{const r=o=>{e.splice(0,e.length,...e.filter(l=>l!==o))};return{setTimeout:(o,l)=>{const c=window.setTimeout(()=>{r(c),o()},l);return e.push(c),c},clearTimeout:o=>{o!==void 0&&(r(o),window.clearTimeout(o))}}},[e]);return R.createElement(J3.Provider,{value:t},n)}const Z3=R.forwardRef(function({label:e,className:t,icon:r,renderIcon:i,onClick:s,style:o,...l},c){const{styles:h,labels:d}=zm(),p=qoe(d,e);return R.createElement("button",{ref:c,type:"button",title:p,"aria-label":p,className:Ra($t(Woe),t),onClick:s,style:{...o,...h.button},...l},i?i():R.createElement(r,{className:$t(QS),style:h.icon}))});function uae(n,e){const t=r=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},e);return t.displayName=n,t}function Wm(n,e){return uae(n,R.createElement("g",{fill:"currentColor"},R.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),e))}const cae=Wm("Close",R.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),hae=Wm("Previous",R.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),dae=Wm("Next",R.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),fae=Wm("Loading",R.createElement(R.Fragment,null,Array.from({length:8}).map((n,e,t)=>R.createElement("line",{key:e,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/t.length*(e+1),transform:`rotate(${360/t.length*e}, 12, 12)`})))),pae=Wm("Error",R.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Hm=B3()?R.useLayoutEffect:R.useEffect;function e5(){const[n,e]=R.useState(!1);return R.useEffect(()=>{var t,r;const i=(t=window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-reduced-motion: reduce)");e(i==null?void 0:i.matches);const s=o=>e(o.matches);return(r=i==null?void 0:i.addEventListener)===null||r===void 0||r.call(i,"change",s),()=>{var o;return(o=i==null?void 0:i.removeEventListener)===null||o===void 0?void 0:o.call(i,"change",s)}},[]),n}function mae(n){let e=0,t=0,r=0;const s=window.getComputedStyle(n).transform.match(/matrix.*\((.+)\)/);if(s){const o=s[1].split(",").map(I0);o.length===6?(e=o[4],t=o[5]):o.length===16&&(e=o[12],t=o[13],r=o[14])}return{x:e,y:t,z:r}}function VD(n,e){const t=R.useRef(void 0),r=R.useRef(void 0),i=e5();return Hm(()=>{var s,o,l;if(n.current&&t.current!==void 0&&!i){const{keyframes:c,duration:h,easing:d,onfinish:p}=e(t.current,n.current.getBoundingClientRect(),mae(n.current))||{};if(c&&h){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(l=(o=n.current).animate)===null||l===void 0?void 0:l.call(o,c,{duration:h,easing:d})}catch(g){console.error(g)}r.current&&(r.current.onfinish=()=>{r.current=void 0,p==null||p()})}}t.current=void 0}),{prepareAnimation:s=>{t.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function t5(){const n=R.useRef(null),e=R.useRef(void 0),[t,r]=R.useState();return{setContainerRef:R.useCallback(s=>{n.current=s,e.current&&(e.current.disconnect(),e.current=void 0);const o=()=>{if(s){const l=window.getComputedStyle(s),c=h=>parseFloat(h)||0;r({width:Math.round(s.clientWidth-c(l.paddingLeft)-c(l.paddingRight)),height:Math.round(s.clientHeight-c(l.paddingTop)-c(l.paddingBottom))})}else r(void 0)};o(),s&&typeof ResizeObserver<"u"&&(e.current=new ResizeObserver(o),e.current.observe(s))},[]),containerRef:n,containerRect:t}}function v_(){const n=R.useRef(void 0),{setTimeout:e,clearTimeout:t}=P0();return R.useCallback((r,i)=>{t(n.current),n.current=e(r,i>0?i:0)},[e,t])}function Zn(n){const e=R.useRef(n);return Hm(()=>{e.current=n}),R.useCallback((...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function FD(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function e1(n,e){return R.useMemo(()=>n==null&&e==null?null:t=>{FD(n,t),FD(e,t)},[n,e])}function gae(n,e=!1){const t=R.useRef(!1);Hm(()=>{e&&t.current&&(t.current=!1,n())},[e,n]);const r=R.useCallback(()=>{t.current=!0},[]),i=R.useCallback(()=>{t.current=!1},[]);return{onFocus:r,onBlur:i}}function hI(){const[n,e]=R.useState(!1);return Hm(()=>{e(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),n}function yae(){const[n]=R.useState({}),e=R.useCallback((i,s)=>{var o;(o=n[i])===null||o===void 0||o.forEach(l=>{s.isPropagationStopped()||l(s)})},[n]),t=R.useMemo(()=>({onPointerDown:i=>e(k3,i),onPointerMove:i=>e(N3,i),onPointerUp:i=>e(O3,i),onPointerLeave:i=>e(D3,i),onPointerCancel:i=>e(M3,i),onKeyDown:i=>e(L3,i),onKeyUp:i=>e(Uoe,i),onWheel:i=>e(j3,i)}),[e]),r=R.useCallback((i,s)=>(n[i]||(n[i]=[]),n[i].unshift(s),()=>{const o=n[i];o&&o.splice(0,o.length,...o.filter(l=>l!==s))}),[n]);return{registerSensors:t,subscribeSensors:r}}function UD(n,e){const t=R.useRef(0),r=v_(),i=Zn((...s)=>{t.current=Date.now(),n(s)});return R.useCallback((...s)=>{r(()=>{i(s)},e-(Date.now()-t.current))},[e,i,r])}const ME=uI("slide"),LE=uI("slide_image");function _ae({slide:n,offset:e,render:t,rect:r,imageFit:i,imageProps:s,onClick:o,onLoad:l,onError:c,style:h}){var d,p,g,_,w,v,x;const[C,k]=R.useState(NE),{publish:L}=A0(),{setTimeout:O}=P0(),j=R.useRef(null);R.useEffect(()=>{e===0&&L(joe(C))},[e,C,L]);const $=Zn(W=>{("decode"in W?W.decode():Promise.resolve()).catch(()=>{}).then(()=>{W.parentNode&&(k(DE),O(()=>{l==null||l(W)},0))})}),N=R.useCallback(W=>{j.current=W,W!=null&&W.complete&&$(W)},[$]),A=R.useCallback(W=>{$(W.currentTarget)},[$]),P=Zn(()=>{k(OE),c==null||c()}),D=Yoe(n,i),U=(W,Q)=>Number.isFinite(W)?W:Q,B=U(Math.max(...((p=(d=n.srcSet)===null||d===void 0?void 0:d.map(W=>W.width))!==null&&p!==void 0?p:[]).concat(n.width?[n.width]:[]).filter(Boolean)),((g=j.current)===null||g===void 0?void 0:g.naturalWidth)||0),V=U(Math.max(...((w=(_=n.srcSet)===null||_===void 0?void 0:_.map(W=>W.height))!==null&&w!==void 0?w:[]).concat(n.height?[n.height]:[]).filter(Boolean)),((v=j.current)===null||v===void 0?void 0:v.naturalHeight)||0),oe=B&&V?{maxWidth:`min(${B}px, 100%)`,maxHeight:`min(${V}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},ie=(x=n.srcSet)===null||x===void 0?void 0:x.sort((W,Q)=>W.width-Q.width).map(W=>`${W.src} ${W.width}w`).join(", "),fe=()=>r&&!D&&n.width&&n.height?r.height/n.height*n.width:Number.MAX_VALUE,re=ie&&r&&B3()?`${Math.round(Math.min(fe(),r.width))}px`:void 0,{style:ee,className:ue,...z}=s||{};return R.createElement(R.Fragment,null,R.createElement("img",{ref:N,onLoad:A,onError:P,onClick:o,draggable:!1,className:Ra($t(LE()),D&&$t(LE("cover")),C!==DE&&$t(LE("loading")),ue),style:{...oe,...h,...ee},...z,alt:n.alt,sizes:re,srcSet:ie,src:n.src}),C!==DE&&R.createElement("div",{className:$t(ME(Loe))},C===NE&&(t!=null&&t.iconLoading?t.iconLoading():R.createElement(fae,{className:Ra($t(QS),$t(ME(NE)))})),C===OE&&(t!=null&&t.iconError?t.iconError():R.createElement(pae,{className:Ra($t(QS),$t(ME(OE)))}))))}const vae=R.forwardRef(function({className:e,children:t,...r},i){const s=R.useRef(null);return R.createElement(nae,{nodeRef:s},R.createElement("div",{ref:e1(i,s),className:Ra($t("root"),e),...r},t))});var Gr;(function(n){n[n.NONE=0]="NONE",n[n.SWIPE=1]="SWIPE",n[n.PULL=2]="PULL",n[n.ANIMATION=3]="ANIMATION"})(Gr||(Gr={}));function wae(n,e,t,r,i){R.useEffect(()=>U3(n(k3,e),n(N3,t),n(O3,r),n(D3,r),n(M3,r)),[n,e,t,r,i])}var so;(function(n){n[n.NONE=0]="NONE",n[n.SWIPE=1]="SWIPE",n[n.PULL=2]="PULL"})(so||(so={}));const jE=30;function Tae({disableSwipeNavigation:n,closeOnBackdropClick:e},t,r,i,s,o,l,c,h,d,p,g,_,w,v,x){const C=R.useRef(0),k=R.useRef([]),L=R.useRef(void 0),O=R.useRef(0),j=R.useRef(so.NONE),$=R.useCallback(V=>{L.current===V.pointerId&&(L.current=void 0,j.current=so.NONE);const oe=k.current;oe.splice(0,oe.length,...oe.filter(ie=>ie.pointerId!==V.pointerId))},[]),N=R.useCallback(V=>{$(V),V.persist(),k.current.push(V)},[$]),A=R.useCallback(V=>k.current.find(({pointerId:oe})=>V.pointerId===oe),[]),P=Zn(V=>{N(V)}),D=(V,oe)=>p&&V>oe||d&&V<-oe,U=Zn(V=>{const oe=A(V);if(oe)if(L.current===V.pointerId){const ie=Date.now()-O.current,fe=C.current;j.current===so.SWIPE?Math.abs(fe)>.3*i||Math.abs(fe)>5&&ie<s?c(fe,ie):h(fe):j.current===so.PULL&&(D(fe,2*jE)?w(fe,ie):v(fe)),C.current=0,j.current=so.NONE}else{const{target:ie}=V;e&&ie instanceof HTMLElement&&ie===oe.target&&(ie.classList.contains($t(lI))||ie.classList.contains($t(Foe)))&&x()}$(V)}),B=Zn(V=>{const oe=A(V);if(oe){const ie=L.current===V.pointerId;if(V.buttons===0){ie&&C.current!==0?U(V):$(oe);return}const fe=V.clientX-oe.clientX,re=V.clientY-oe.clientY;if(L.current===void 0){const ee=ue=>{N(V),L.current=V.pointerId,O.current=Date.now(),j.current=ue};Math.abs(fe)>Math.abs(re)&&Math.abs(fe)>jE&&r(fe)?n||(ee(so.SWIPE),o()):Math.abs(re)>Math.abs(fe)&&D(re,jE)&&(ee(so.PULL),g())}else ie&&(j.current===so.SWIPE?(C.current=fe,l(fe)):j.current===so.PULL&&(C.current=re,_(re)))}});wae(t,P,B,U)}function Eae({preventDefaultWheelX:n,preventDefaultWheelY:e}){const t=R.useRef(null),r=Zn(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&n||!s&&e||i.ctrlKey)&&i.preventDefault()});return R.useCallback(i=>{var s;i?i.addEventListener("wheel",r,{passive:!1}):(s=t.current)===null||s===void 0||s.removeEventListener("wheel",r),t.current=i},[r])}function xae(n,e,t,r,i,s,o,l,c){const h=R.useRef(0),d=R.useRef(0),p=R.useRef(void 0),g=R.useRef(void 0),_=R.useRef(0),w=R.useRef(void 0),v=R.useRef(0),{setTimeout:x,clearTimeout:C}=P0(),k=R.useCallback(()=>{p.current&&(C(p.current),p.current=void 0)},[C]),L=R.useCallback(()=>{g.current&&(C(g.current),g.current=void 0)},[C]),O=Zn(()=>{n!==Gr.SWIPE&&(h.current=0,v.current=0,k(),L())});R.useEffect(O,[n,O]);const j=Zn(N=>{g.current=void 0,h.current===N&&c(h.current)}),$=Zn(N=>{if(N.ctrlKey||Math.abs(N.deltaY)>Math.abs(N.deltaX))return;const A=P=>{_.current=P,C(w.current),w.current=P>0?x(()=>{_.current=0,w.current=void 0},300):void 0};if(n===Gr.NONE){if(Math.abs(N.deltaX)<=1.2*Math.abs(_.current)){A(N.deltaX);return}if(!t(-N.deltaX))return;if(d.current+=N.deltaX,k(),Math.abs(d.current)>30)d.current=0,A(0),v.current=Date.now(),s();else{const P=d.current;p.current=x(()=>{p.current=void 0,P===d.current&&(d.current=0)},i)}}else if(n===Gr.SWIPE){let P=h.current-N.deltaX;if(P=Math.min(Math.abs(P),r)*Math.sign(P),h.current=P,o(P),L(),Math.abs(P)>.2*r){A(N.deltaX),l(P,Date.now()-v.current);return}g.current=x(()=>j(P),2*i)}else A(N.deltaX)});R.useEffect(()=>e(j3,$),[e,$])}const BD=uI("container"),n5=R.createContext(null),qm=Pc("useController","ControllerContext",n5);function Sae({children:n,...e}){var t;const{carousel:r,animation:i,controller:s,on:o,styles:l,render:c}=e,{closeOnPullUp:h,closeOnPullDown:d,preventDefaultWheelX:p,preventDefaultWheelY:g}=s,[_,w]=R.useState(),v=R0(),x=sae(),[C,k]=R.useState(Gr.NONE),L=R.useRef(0),O=R.useRef(0),j=R.useRef(1),{registerSensors:$,subscribeSensors:N}=yae(),{subscribe:A,publish:P}=A0(),D=v_(),U=v_(),B=v_(),{containerRef:V,setContainerRef:oe,containerRect:ie}=t5(),fe=e1(Eae({preventDefaultWheelX:p,preventDefaultWheelY:g}),oe),re=R.useRef(null),ee=e1(re,void 0),{getOwnerDocument:ue}=cI(),z=hI(),W=he=>(z?-1:1)*(typeof he=="number"?he:1),Q=Zn(()=>{var he;return(he=V.current)===null||he===void 0?void 0:he.focus()}),ye=Zn(()=>e),ve=Zn(()=>v),xe=R.useCallback(he=>P(Mu,he),[P]),Pe=R.useCallback(he=>P(Lu,he),[P]),Se=R.useCallback(()=>P(_d),[P]),Me=he=>!(r.finite&&(W(he)>0&&v.currentIndex===0||W(he)<0&&v.currentIndex===v.slides.length-1)),Ve=he=>{var st;L.current=he,(st=V.current)===null||st===void 0||st.style.setProperty(Vi("swipe_offset"),`${Math.round(he)}px`)},Et=he=>{var st,It;O.current=he,j.current=(()=>{const _t=d&&he>0?he:h&&he<0?-he:0;return Math.min(Math.max(Goe(1-_t/60*(1-.5),2),.5),1)})(),(st=V.current)===null||st===void 0||st.style.setProperty(Vi("pull_offset"),`${Math.round(he)}px`),(It=V.current)===null||It===void 0||It.style.setProperty(Vi("pull_opacity"),`${j.current}`)},{prepareAnimation:Ft}=VD(re,(he,st,It)=>{if(re.current&&ie)return{keyframes:[{transform:`translate(0, ${he.rect.y-st.y+It.y}px)`,opacity:he.opacity},{transform:"translate(0, 0)",opacity:1}],duration:he.duration,easing:i.easing.fade}}),Ht=(he,st)=>{if(h||d){Et(he);let It=0;re.current&&(It=i.fade*(st?2:1),Ft({rect:re.current.getBoundingClientRect(),opacity:j.current,duration:It})),B(()=>{Et(0),k(Gr.NONE)},It),k(Gr.ANIMATION),st||Se()}},{prepareAnimation:Ye,isAnimationPlaying:We}=VD(re,(he,st,It)=>{var Zt;if(re.current&&ie&&(!((Zt=v.animation)===null||Zt===void 0)&&Zt.duration)){const ut=bv(r.spacing),_t=(ut.percent?ut.percent*ie.width/100:ut.pixel)||0;return{keyframes:[{transform:`translate(${W(v.globalIndex-he.index)*(ie.width+_t)+he.rect.x-st.x+It.x}px, 0)`},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}}),Nt=Zn(he=>{var st,It;const Zt=he.offset||0,ut=Zt?i.swipe:(st=i.navigation)!==null&&st!==void 0?st:i.swipe,_t=!Zt&&!We()?i.easing.navigation:i.easing.swipe;let{direction:Ke}=he;const Kt=(It=he.count)!==null&&It!==void 0?It:1;let rn=Gr.ANIMATION,Lt=ut*Kt;if(!Ke){const vt=ie==null?void 0:ie.width,hr=he.duration||0,Dn=vt?ut/vt*Math.abs(Zt):ut;Kt!==0?(hr<Dn?Lt=Lt/Dn*Math.max(hr,Dn/5):vt&&(Lt=ut/vt*(vt-Math.abs(Zt))),Ke=W(Zt)>0?Mu:Lu):Lt=ut/2}let qn=0;Ke===Mu?Me(W(1))?qn=-Kt:(rn=Gr.NONE,Lt=ut):Ke===Lu&&(Me(W(-1))?qn=Kt:(rn=Gr.NONE,Lt=ut)),Lt=Math.round(Lt),U(()=>{Ve(0),k(Gr.NONE)},Lt),re.current&&Ye({rect:re.current.getBoundingClientRect(),index:v.globalIndex}),k(rn),P(LD,{type:"swipe",increment:qn,duration:Lt,easing:_t})});R.useEffect(()=>{var he,st;!((he=v.animation)===null||he===void 0)&&he.increment&&(!((st=v.animation)===null||st===void 0)&&st.duration)&&D(()=>x({type:"swipe",increment:0}),v.animation.duration)},[v.animation,x,D]);const xt=[N,Me,(ie==null?void 0:ie.width)||0,i.swipe,()=>k(Gr.SWIPE),he=>Ve(he),(he,st)=>Nt({offset:he,duration:st,count:1}),he=>Nt({offset:he,count:0})],Z=[()=>{d&&k(Gr.PULL)},he=>Et(he),he=>Ht(he),he=>Ht(he,!0)];Tae(s,...xt,h,d,...Z,Se),xae(C,...xt);const mn=Zn(()=>{s.focus&&ue().querySelector(`.${$t(aI)} .${$t(BD())}`)&&Q()});R.useEffect(mn,[mn]);const Nn=Zn(()=>{var he;(he=o.view)===null||he===void 0||he.call(o,{index:v.currentIndex})});R.useEffect(Nn,[v.globalIndex,Nn]),R.useEffect(()=>U3(A(Mu,he=>Nt({direction:Mu,...he})),A(Lu,he=>Nt({direction:Lu,...he})),A(LD,he=>x(he))),[A,Nt,x]);const On=R.useMemo(()=>({prev:xe,next:Pe,close:Se,focus:Q,slideRect:ie?Koe(ie,r.padding):{width:0,height:0},containerRect:ie||{width:0,height:0},subscribeSensors:N,containerRef:V,setCarouselRef:ee,toolbarWidth:_,setToolbarWidth:w}),[xe,Pe,Se,Q,N,ie,V,ee,_,w,r.padding]);return R.useImperativeHandle(s.ref,()=>({prev:xe,next:Pe,close:Se,focus:Q,getLightboxProps:ye,getLightboxState:ve}),[xe,Pe,Se,Q,ye,ve]),R.createElement("div",{ref:fe,className:Ra($t(BD()),$t(R3)),style:{...C===Gr.SWIPE?{[Vi("swipe_offset")]:`${Math.round(L.current)}px`}:null,...C===Gr.PULL?{[Vi("pull_offset")]:`${Math.round(O.current)}px`,[Vi("pull_opacity")]:`${j.current}`}:null,...s.touchAction!=="none"?{[Vi("controller_touch_action")]:s.touchAction}:null,...l.container},...s.aria?{role:"region","aria-live":"polite","aria-roledescription":"carousel"}:null,tabIndex:-1,...$},ie&&R.createElement(n5.Provider,{value:On},n,(t=c.controls)===null||t===void 0?void 0:t.call(c)))}const bae=kc(I3,Sae);function Iu(n){return $m(C3,n)}function $D(n){return $m(lI,n)}function Cae({slide:n,offset:e}){const t=R.useRef(null),{currentIndex:r}=R0(),{slideRect:i,focus:s}=qm(),{render:o,carousel:{imageFit:l,imageProps:c},on:{click:h},styles:{slide:d}}=zm(),{getOwnerDocument:p}=cI(),g=e!==0;R.useEffect(()=>{var w;g&&(!((w=t.current)===null||w===void 0)&&w.contains(p().activeElement))&&s()},[g,s,p]);const _=()=>{var w,v,x,C;let k=(w=o.slide)===null||w===void 0?void 0:w.call(o,{slide:n,offset:e,rect:i});return!k&&$3(n)&&(k=R.createElement(_ae,{slide:n,offset:e,render:o,rect:i,imageFit:l,imageProps:c,onClick:g?void 0:()=>h==null?void 0:h({index:r})})),k?R.createElement(R.Fragment,null,(v=o.slideHeader)===null||v===void 0?void 0:v.call(o,{slide:n}),((x=o.slideContainer)!==null&&x!==void 0?x:({children:L})=>L)({slide:n,children:k}),(C=o.slideFooter)===null||C===void 0?void 0:C.call(o,{slide:n})):null};return R.createElement("div",{ref:t,className:Ra($t($D()),!g&&$t($D("current")),$t(R3)),...Zoe(g),style:d,role:"region","aria-roledescription":"slide"},_())}function Iae(){const n=zm().styles.slide;return R.createElement("div",{className:$t(lI),style:n})}function Aae({carousel:n}){const{slides:e,currentIndex:t,globalIndex:r}=R0(),{setCarouselRef:i}=qm(),s=bv(n.spacing),o=bv(n.padding),l=Qoe(n,e,1),c=[];if(W3(e))for(let h=t-l;h<=t+l;h+=1){const d=H3(e,h),p=r-t+h,g=n.finite&&(h<0||h>e.length-1);c.push(g?{key:p}:{key:[`${p}`,Xoe(d)].filter(Boolean).join("|"),offset:h-t,slide:d})}return R.createElement("div",{ref:i,className:Ra($t(Iu()),c.length>0&&$t(Iu("with_slides"))),style:{[`${Vi(Iu("slides_count"))}`]:c.length,[`${Vi(Iu("spacing_px"))}`]:s.pixel||0,[`${Vi(Iu("spacing_percent"))}`]:s.percent||0,[`${Vi(Iu("padding_px"))}`]:o.pixel||0,[`${Vi(Iu("padding_percent"))}`]:o.percent||0}},c.map(({key:h,slide:d,offset:p})=>d?R.createElement(Cae,{key:h,slide:d,offset:p}):R.createElement(Iae,{key:h})))}const Rae=kc(C3,Aae);function r5(){const{carousel:n}=zm(),{slides:e,currentIndex:t}=R0(),r=e.length===0||n.finite&&t===0,i=e.length===0||n.finite&&t===e.length-1;return{prevDisabled:r,nextDisabled:i}}function Pae(n){var e;const t=hI(),{publish:r}=A0(),{animation:i}=zm(),{prevDisabled:s,nextDisabled:o}=r5(),l=((e=i.navigation)!==null&&e!==void 0?e:i.swipe)/2,c=UD(()=>r(Mu),l),h=UD(()=>r(Lu),l),d=Zn(p=>{switch(p.key){case Boe:r(_d);break;case $oe:(t?o:s)||(t?h:c)();break;case zoe:(t?s:o)||(t?c:h)();break}});R.useEffect(()=>n(L3,d),[n,d])}function zD({label:n,icon:e,renderIcon:t,action:r,onClick:i,disabled:s,style:o}){return R.createElement(Z3,{label:n,icon:e,renderIcon:t,className:$t(`navigation_${r}`),disabled:s,onClick:i,style:o,...gae(qm().focus,s)})}function kae({render:{buttonPrev:n,buttonNext:e,iconPrev:t,iconNext:r},styles:i}){const{prev:s,next:o,subscribeSensors:l}=qm(),{prevDisabled:c,nextDisabled:h}=r5();return Pae(l),R.createElement(R.Fragment,null,n?n():R.createElement(zD,{label:"Previous",action:Mu,icon:hae,renderIcon:t,style:i.navigationPrev,disabled:c,onClick:s}),e?e():R.createElement(zD,{label:"Next",action:Lu,icon:dae,renderIcon:r,style:i.navigationNext,disabled:h,onClick:o}))}const Nae=kc(Ooe,kae),WD=$t(Voe),Oae=$t(P3);function Dae(n){return"style"in n}function HD(n,e,t){const r=window.getComputedStyle(n),i=t?"padding-left":"padding-right",s=t?r.paddingLeft:r.paddingRight,o=n.style.getPropertyValue(i);return n.style.setProperty(i,`${(I0(s)||0)+e}px`),()=>{o?n.style.setProperty(i,o):n.style.removeProperty(i)}}function Mae({noScroll:{disabled:n},children:e}){const t=hI(),{getOwnerDocument:r,getOwnerWindow:i}=cI();return R.useEffect(()=>{if(n)return()=>{};const s=[],o=i(),{body:l,documentElement:c}=r(),h=Math.round(o.innerWidth-c.clientWidth);if(h>0){s.push(HD(l,h,t));const d=l.getElementsByTagName("*");for(let p=0;p<d.length;p+=1){const g=d[p];Dae(g)&&o.getComputedStyle(g).getPropertyValue("position")==="fixed"&&!g.classList.contains(Oae)&&s.push(HD(g,h,t))}}return l.classList.add(WD),()=>{l.classList.remove(WD),s.forEach(d=>d())}},[t,n,r,i]),R.createElement(R.Fragment,null,e)}const Lae=kc(Doe,Mae);function qD(n){return $m(aI,n)}function GD(n,e,t){const r=n.getAttribute(e);return n.setAttribute(e,t),()=>{r?n.setAttribute(e,r):n.removeAttribute(e)}}function jae({children:n,animation:e,styles:t,className:r,on:i,portal:s,close:o}){const[l,c]=R.useState(!1),[h,d]=R.useState(!1),p=R.useRef([]),g=R.useRef(null),{setTimeout:_}=P0(),{subscribe:w}=A0(),x=e5()?0:e.fade;R.useEffect(()=>(c(!0),()=>{c(!1),d(!1)}),[]);const C=Zn(()=>{p.current.forEach(j=>j()),p.current=[]}),k=Zn(()=>{var j;d(!1),C(),(j=i.exiting)===null||j===void 0||j.call(i),_(()=>{var $;($=i.exited)===null||$===void 0||$.call(i),o()},x)});R.useEffect(()=>w(_d,k),[w,k]);const L=Zn(j=>{var $,N,A;eae(j),d(!0),($=i.entering)===null||$===void 0||$.call(i);const P=(A=(N=j.parentNode)===null||N===void 0?void 0:N.children)!==null&&A!==void 0?A:[];for(let D=0;D<P.length;D+=1){const U=P[D];["TEMPLATE","SCRIPT","STYLE"].indexOf(U.tagName)===-1&&U!==j&&(p.current.push(GD(U,"inert","")),p.current.push(GD(U,"aria-hidden","true")))}p.current.push(()=>{var D,U;(U=(D=g.current)===null||D===void 0?void 0:D.focus)===null||U===void 0||U.call(D)}),_(()=>{var D;(D=i.entered)===null||D===void 0||D.call(i)},x)}),O=R.useCallback(j=>{j?L(j):C()},[L,C]);return l?yz.createPortal(R.createElement(vae,{ref:O,className:Ra(r,$t(qD()),$t(P3),h&&$t(qD("open"))),"aria-modal":!0,role:"dialog","aria-live":"polite","aria-roledescription":"lightbox",style:{...e.fade!==ZS.animation.fade?{[Vi("fade_animation_duration")]:`${x}ms`}:null,...e.easing.fade!==ZS.animation.easing.fade?{[Vi("fade_animation_timing_function")]:e.easing.fade}:null,...t.root},onFocus:j=>{g.current||(g.current=j.relatedTarget)}},n),s.root||document.body):null}const Vae=kc(aI,jae);function Fae({children:n}){return R.createElement(R.Fragment,null,n)}const Uae=kc(Moe,Fae);function Bae(n){return $m(A3,n)}function $ae({toolbar:{buttons:n},render:{buttonClose:e,iconClose:t},styles:r}){const{close:i,setToolbarWidth:s}=qm(),{setContainerRef:o,containerRect:l}=t5();Hm(()=>{s(l==null?void 0:l.width)},[s,l==null?void 0:l.width]);const c=()=>e?e():R.createElement(Z3,{key:_d,label:"Close",icon:cae,renderIcon:t,onClick:i});return R.createElement("div",{ref:o,style:r.toolbar,className:$t(Bae())},n==null?void 0:n.map(h=>h===_d?c():h))}const zae=kc(A3,$ae);function i5(n,e){var t;return R.createElement(n.module.component,{key:n.module.name,...e},(t=n.children)===null||t===void 0?void 0:t.map(r=>i5(r,e)))}function Wae(n,e={}){const{easing:t,...r}=n,{easing:i,...s}=e;return{easing:{...t,...i},...r,...s}}function Hae({carousel:n,animation:e,render:t,toolbar:r,controller:i,noScroll:s,on:o,plugins:l,slides:c,index:h,...d}){const{animation:p,carousel:g,render:_,toolbar:w,controller:v,noScroll:x,on:C,slides:k,index:L,plugins:O,...j}=ZS,{config:$,augmentation:N}=tae([Tr(Vae,[Tr(Lae,[Tr(bae,[Tr(Rae),Tr(zae),Tr(Nae)])])])],l||O),A=N({animation:Wae(p,e),carousel:{...g,...n},render:{..._,...t},toolbar:{...w,...r},controller:{...v,...i},noScroll:{...x,...s},on:{...C,...o},...j,...d});return A.open?R.createElement(iae,{...A},R.createElement(aae,{slides:c||k,index:I0(h||L)},R.createElement(lae,null,R.createElement(rae,null,i5(Tr(Uae,$),A))))):null}const qae=({src:n,alt:e,className:t="",onClick:r})=>{const[i,s]=R.useState(!1);return E.jsxs("div",{className:`relative overflow-hidden bg-gray-200 rounded-lg ${t}`,children:[!i&&E.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-300"}),E.jsx(nn.img,{src:n,alt:e,initial:{opacity:0,scale:.95},animate:i?{opacity:1,scale:1}:{},transition:{opacity:{duration:.6,ease:[.43,.13,.23,.96]},scale:{type:"spring",stiffness:90,damping:20}},onLoad:()=>s(!0),onClick:r,loading:"lazy",className:`relative w-full h-auto object-cover cursor-pointer ${i?"":"invisible"}`})]})},Gae=({images:n})=>{const[e,t]=R.useState(!1),[r,i]=R.useState(0),s=o=>{i(o),t(!0)};return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"columns-1 mt-12 sm:columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4 p-4",children:n.map((o,l)=>E.jsx("div",{className:"break-inside-avoid",children:E.jsx(qae,{src:o,alt:`Gallery image ${l+1}`,className:"mb-4",onClick:()=>s(l)})},l))}),E.jsx(Hae,{open:e,close:()=>t(!1),index:r,slides:n.map(o=>({src:o}))})]})},Yae=()=>{const[n,e]=R.useState([]);return R.useEffect(()=>{(async()=>{const i=(await ru(zs(Hi,"gallery"))).docs.map(s=>s.data().url);e(i)})()},[]),E.jsxs("section",{className:"p-8 mt-8",children:[E.jsxs(lc,{children:[E.jsx("title",{children:"Galerie - PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:title",content:"Galerie - PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsx(R.Suspense,{fallback:E.jsx(Noe,{count:16}),children:E.jsx(Gae,{images:n})})]})},Kae=[{id:1,question:"🐾 Quels types d’animaux acceptez-vous ?",answer:E.jsxs(E.Fragment,{children:["Nous accueillons principalement les chiens et les chats, mais nous pouvons également prendre soin de petits animaux (lapins, rongeurs, oiseaux, etc.). Dans ce cas, nous vous invitons à nous ",E.jsx("a",{href:"/contact",className:"text-blue-600 underline",children:"contacter via le formulaire de contact"}),"."]})},{id:2,question:"📍 Où se trouve la garderie ?",answer:"La garderie se trouve dans notre appartement de 60 m² à Antony (Île-de-France), en face d'un parc et de la coulée verte qui s’étend sur de nombreux kilomètres jusqu’à Paris."},{id:3,question:"🕒 Quels sont les horaires de dépôt et de récupération ?",answer:"Les horaires varient selon les propriétaires, mais en général, les dépôts et récupérations se font entre 8 h et 21 h. Une flexibilité peut être proposée sur demande."},{id:4,question:"📅 Comment réserver une garde ?",answer:"Vous pouvez réserver directement via notre site en choisissant les dates souhaitées, le type et le nombre d’animaux."},{id:5,question:"📑 Que dois-je fournir pour la garde ?",answer:E.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[E.jsx("li",{children:"La nourriture de votre animal"}),E.jsx("li",{children:"Ses accessoires (jouets, panier, laisse, gamelles, etc.)"}),E.jsxs("li",{children:["Une note contenant toutes les informations relatives à l’animal :",E.jsxs("ul",{className:"list-circle list-inside ml-4 space-y-1",children:[E.jsx("li",{children:"Heure et quantité des repas"}),E.jsx("li",{children:"Allergies et antécédents médicaux"}),E.jsx("li",{children:"Caractère (sociable, éducatif, propreté, etc.)"}),E.jsx("li",{children:"Toute autre spécificité"})]})]})]})},{id:6,question:"💉 Mon animal doit-il être vacciné ?",answer:"Oui, pour la sécurité de tous les animaux, les vaccins doivent être à jour. Nous demandons également un traitement antiparasitaire récent."},{id:7,question:"🐕 Mon chien sera-t-il en contact avec d’autres animaux ?",answer:"Non. Nous accueillons les animaux d’un seul propriétaire à la fois."},{id:8,question:"📸 Aurai-je des nouvelles pendant la garde ?",answer:"Oui. Nous envoyons des photos quotidiennes, une à deux fois par jour selon votre choix."},{id:9,question:"🛑 Puis-je annuler ma réservation ?",answer:E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Oui, selon nos Conditions Générales de Vente :"}),E.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"≥ 7 jours"})," avant le début : remboursement total."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"7 jours à 48 h"})," avant : remboursement à 50 %."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"48 h"})," avant : aucun remboursement."]})]})]})},{id:10,question:"💬 Et si j’ai une urgence ou une question pendant la garde ?",answer:"Vous pouvez nous contacter directement 7 j/7 pour toute question ou urgence."}],Xae=()=>{const[n,e]=R.useState(null),t=r=>e(n===r?null:r);return E.jsxs("section",{className:"max-w-4xl mx-auto py-12 px-4 mt-20",children:[E.jsx("h2",{className:"text-3xl font-extrabold text-center text-gray-800 mb-8",children:"FAQ – Garderie pour animaux de compagnie"}),E.jsx("div",{className:"space-y-4",children:Kae.map(({id:r,question:i,answer:s})=>E.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[E.jsxs("button",{onClick:()=>t(r),className:"w-full flex justify-between items-center py-4 px-6 focus:outline-none",children:[E.jsx("span",{className:"text-left text-lg font-medium text-gray-700",children:i}),n===r?E.jsx(Nz,{}):E.jsx(Pz,{})]}),n===r&&E.jsx("div",{className:"px-6 pb-4 text-gray-600",children:s})]},r))})]})};function k0(...n){return n.filter(Boolean).join(" ")}const Qae=R.forwardRef(function({className:e,...t},r){return E.jsx("div",{ref:r,className:k0("bg-white rounded-2xl shadow-md overflow-hidden",e),...t})}),Jae=R.forwardRef(function({className:e,...t},r){return E.jsx("div",{ref:r,className:k0("px-6 py-4 border-b border-gray-100",e),...t})}),Zae=R.forwardRef(function({className:e,children:t,...r},i){return E.jsx("h3",{ref:i,className:k0("text-xl font-semibold",e),...r,children:t})}),ele=R.forwardRef(function({className:e,...t},r){return E.jsx("div",{ref:r,className:k0("p-6",e),...t})});function tle(...n){return n.filter(Boolean).join(" ")}const _h=R.forwardRef(function({className:e,...t},r){return E.jsx("input",{ref:r,className:tle("w-full px-3 py-2 rounded-lg border border-gray-300 shadow-sm placeholder-gray-400focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors",e),...t})});function nle(...n){return n.filter(Boolean).join(" ")}const rle=R.forwardRef(function({className:e,...t},r){return E.jsx("textarea",{ref:r,className:nle(`w-full px-3 py-2 rounded-lg border border-gray-300 shadow-sm placeholder-gray-400
         focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,e),...t})}),VE=["Garderie Journalière","Pension de Nuit","Promenade Individuelle"],Df={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},ile=()=>{const[n,e]=tt.useState({name:"",email:"",phone:"",petType:"",companionName:"",companionBreed:"",companionAge:"",service:VE[0],message:"",newsletter:!1}),[t,r]=tt.useState(!1),[i,s]=tt.useState(null),[o,l]=tt.useState(!1),c=d=>p=>{const g=p.currentTarget.type==="checkbox"?p.currentTarget.checked:p.currentTarget.value;e(_=>({..._,[d]:g}))},h=async d=>{d.preventDefault(),r(!0),s(null),l(!1);try{await _0(zs(Hi,"contacts"),{...n,timestamp:new Date}),l(!0),e({name:"",email:"",phone:"",petType:"",companionName:"",companionBreed:"",companionAge:"",service:VE[0],message:"",newsletter:!1})}catch(p){console.error(p),s("Error al enviar, inténtalo de nuevo.")}finally{r(!1)}};return E.jsxs(E.Fragment,{children:[E.jsxs(lc,{children:[E.jsx("title",{children:"Contact - PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:title",content:"Contact - PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsx("div",{className:"container mx-auto px-4 py-12 mt-20",children:E.jsxs(nn.section,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[E.jsxs(Qae,{className:"shadow-lg rounded-2xl",children:[E.jsx(Jae,{children:E.jsx(Zae,{className:"text-2xl",children:"Contactez-nous"})}),E.jsxs(ele,{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx(Qz,{}),E.jsx("p",{children:"Antony, Île-de-France"})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Kz,{}),E.jsx("p",{children:"maisonpourpets@hotmail.com"})]})]})]}),E.jsxs(nn.form,{onSubmit:h,initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-6",children:[E.jsx("h2",{className:"text-2xl font-semibold",children:"Parlez-nous de votre compagnon"}),E.jsxs(nn.div,{variants:Df,initial:"initial",animate:"animate",className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsx(_h,{placeholder:"Votre nom",value:n.name,onChange:c("name"),required:!0}),E.jsx(_h,{type:"email",placeholder:"Votre e-mail",value:n.email,onChange:c("email"),required:!0}),E.jsx(_h,{type:"tel",placeholder:"Votre téléphone",value:n.phone,onChange:c("phone"),required:!0})]}),E.jsx(zx,{children:!n.petType&&E.jsx(nn.div,{variants:Df,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4},className:"w-full",children:E.jsxs("select",{className:"w-full p-2 rounded-lg border",value:n.petType,onChange:c("petType"),required:!0,children:[E.jsx("option",{value:"",disabled:!0,children:"¿Chien o Chat?"}),E.jsx("option",{value:"dog",children:"Chien"}),E.jsx("option",{value:"cat",children:"Chat"})]})},"petType")}),E.jsx(zx,{children:n.petType&&E.jsxs(nn.div,{variants:Df,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4},className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsx(_h,{placeholder:n.petType==="dog"?"Nom du chien":"Nom du chat",value:n.companionName,onChange:c("companionName"),required:!0}),n.petType==="dog"&&E.jsx(_h,{placeholder:"Race du chien",value:n.companionBreed,onChange:c("companionBreed"),required:!0}),E.jsx(_h,{placeholder:n.petType==="dog"?"Âge du chien":"Âge du chat",type:"number",value:n.companionAge,onChange:c("companionAge"),required:!0})]},"companionFields")}),E.jsxs(nn.div,{variants:Df,initial:"initial",animate:"animate",className:"space-y-4",children:[E.jsx("select",{className:"w-full p-2 rounded-lg border",value:n.service,onChange:c("service"),required:!0,children:VE.map(d=>E.jsx("option",{value:d,children:d},d))}),E.jsx(rle,{placeholder:"Votre message / besoins spécifiques",value:n.message,onChange:c("message"),rows:4,required:!0}),E.jsxs("label",{className:"inline-flex items-center space-x-2",children:[E.jsx("input",{type:"checkbox",checked:n.newsletter,onChange:c("newsletter")}),E.jsx("span",{children:"S'inscrire à notre newsletter & offres exclusives"})]})]}),i&&E.jsx("p",{className:"text-red-500",children:i}),o&&E.jsx("p",{className:"text-green-600",children:"¡Solicitud enviada correctamente!"}),E.jsx(nn.button,{type:"submit",disabled:t,variants:Df,initial:"initial",animate:"animate",className:`w-full py-2 rounded-lg text-white transition
              ${t?"bg-blue-300":"bg-blue-500 hover:bg-blue-600"}`,children:t?"Enviando...":"Envoyer la demande"})]})]})})]})};var s5="basil",sle=function(e){return e===3?"v3":e},o5="https://js.stripe.com",ole="".concat(o5,"/").concat(s5,"/stripe.js"),ale=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,lle=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var ule=function(e){return ale.test(e)||lle.test(e)},cle=function(){for(var e=document.querySelectorAll('script[src^="'.concat(o5,'"]')),t=0;t<e.length;t++){var r=e[t];if(ule(r.src))return r}return null},YD=function(e){var t="",r=document.createElement("script");r.src="".concat(ole).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},hle=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})},Mf=null,jy=null,Vy=null,dle=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},fle=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},ple=function(e){return Mf!==null?Mf:(Mf=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=cle();if(!(i&&e)){if(!i)i=YD(e);else if(i&&Vy!==null&&jy!==null){var s;i.removeEventListener("load",Vy),i.removeEventListener("error",jy),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=YD(e)}}Vy=fle(t,r),jy=dle(r),i.addEventListener("load",Vy),i.addEventListener("error",jy)}catch(o){r(o);return}}),Mf.catch(function(t){return Mf=null,Promise.reject(t)}))},mle=function(e,t,r){if(e===null)return null;var i=t[0],s=i.match(/^pk_test/),o=sle(e.version),l=s5;s&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,t);return hle(c,r),c},Lf,a5=!1,l5=function(){return Lf||(Lf=ple(null).catch(function(e){return Lf=null,Promise.reject(e)}),Lf)};Promise.resolve().then(function(){return l5()}).catch(function(n){a5||console.warn(n)});var gle=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a5=!0;var i=Date.now();return l5().then(function(s){return mle(s,t,i)})};function KD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function XD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(t),!0).forEach(function(r){u5(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function w_(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w_=function(e){return typeof e}:w_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w_(n)}function u5(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yle(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function _le(n,e){if(n==null)return{};var t=yle(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function c5(n,e){return vle(n)||wle(n,e)||Tle(n,e)||Ele()}function vle(n){if(Array.isArray(n))return n}function wle(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,o,l;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw l}}return r}}function Tle(n,e){if(n){if(typeof n=="string")return QD(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return QD(n,e)}}function QD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ele(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rs=function(e,t,r){var i=!!r,s=tt.useRef(r);tt.useEffect(function(){s.current=r},[r]),tt.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,o),function(){e.off(t,o)}},[i,t,e,s])},t1=function(e){var t=tt.useRef(e);return tt.useEffect(function(){t.current=e},[e]),t.current},vd=function(e){return e!==null&&w_(e)==="object"},xle=function(e){return vd(e)&&typeof e.then=="function"},Sle=function(e){return vd(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},JD="[object Object]",ble=function n(e,t){if(!vd(e)||!vd(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===JD,o=Object.prototype.toString.call(t)===JD;if(s!==o)return!1;if(!s&&!r)return e===t;var l=Object.keys(e),c=Object.keys(t);if(l.length!==c.length)return!1;for(var h={},d=0;d<l.length;d+=1)h[l[d]]=!0;for(var p=0;p<c.length;p+=1)h[c[p]]=!0;var g=Object.keys(h);if(g.length!==l.length)return!1;var _=e,w=t,v=function(C){return n(_[C],w[C])};return g.every(v)},h5=function(e,t,r){return vd(e)?Object.keys(e).reduce(function(i,s){var o=!vd(t)||!ble(e[s],t[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?XD(XD({},i||{}),{},u5({},s,e[s])):i},null):null},d5="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ZD=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d5;if(e===null||Sle(e))return e;throw new Error(t)},Cle=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d5;if(xle(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return ZD(i,t)})};var r=ZD(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Ile=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},N0=tt.createContext(null);N0.displayName="ElementsContext";var f5=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},p5=function(e){var t=e.stripe,r=e.options,i=e.children,s=tt.useMemo(function(){return Cle(t)},[t]),o=tt.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),l=c5(o,2),c=l[0],h=l[1];tt.useEffect(function(){var g=!0,_=function(v){h(function(x){return x.stripe?x:{stripe:v,elements:v.elements(r)}})};return s.tag==="async"&&!c.stripe?s.stripePromise.then(function(w){w&&g&&_(w)}):s.tag==="sync"&&!c.stripe&&_(s.stripe),function(){g=!1}},[s,c,r]);var d=t1(t);tt.useEffect(function(){d!==null&&d!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,t]);var p=t1(r);return tt.useEffect(function(){if(c.elements){var g=h5(r,p,["clientSecret","fonts"]);g&&c.elements.update(g)}},[r,p,c.elements]),tt.useEffect(function(){Ile(c.stripe)},[c.stripe]),tt.createElement(N0.Provider,{value:c},i)};p5.propTypes={stripe:Je.any,options:Je.object};var Ale=function(e){var t=tt.useContext(N0);return f5(t,e)},Rle=function(){var e=Ale("calls useElements()"),t=e.elements;return t};Je.func.isRequired;var m5=tt.createContext(null);m5.displayName="CheckoutSdkContext";var Ple=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},kle=tt.createContext(null);kle.displayName="CheckoutContext";Je.any,Je.shape({fetchClientSecret:Je.func.isRequired,elementsOptions:Je.object}).isRequired;var n1=function(e){var t=tt.useContext(m5),r=tt.useContext(N0);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?Ple(t,e):f5(r,e)},Nle=["mode"],Ole=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},tr=function(e,t){var r="".concat(Ole(e),"Element"),i=function(c){var h=c.id,d=c.className,p=c.options,g=p===void 0?{}:p,_=c.onBlur,w=c.onFocus,v=c.onReady,x=c.onChange,C=c.onEscape,k=c.onClick,L=c.onLoadError,O=c.onLoaderStart,j=c.onNetworksChange,$=c.onConfirm,N=c.onCancel,A=c.onShippingAddressChange,P=c.onShippingRateChange,D=n1("mounts <".concat(r,">")),U="elements"in D?D.elements:null,B="checkoutSdk"in D?D.checkoutSdk:null,V=tt.useState(null),oe=c5(V,2),ie=oe[0],fe=oe[1],re=tt.useRef(null),ee=tt.useRef(null);rs(ie,"blur",_),rs(ie,"focus",w),rs(ie,"escape",C),rs(ie,"click",k),rs(ie,"loaderror",L),rs(ie,"loaderstart",O),rs(ie,"networkschange",j),rs(ie,"confirm",$),rs(ie,"cancel",N),rs(ie,"shippingaddresschange",A),rs(ie,"shippingratechange",P),rs(ie,"change",x);var ue;v&&(e==="expressCheckout"?ue=v:ue=function(){v(ie)}),rs(ie,"ready",ue),tt.useLayoutEffect(function(){if(re.current===null&&ee.current!==null&&(U||B)){var W=null;if(B)switch(e){case"payment":W=B.createPaymentElement(g);break;case"address":if("mode"in g){var Q=g.mode,ye=_le(g,Nle);if(Q==="shipping")W=B.createShippingAddressElement(ye);else if(Q==="billing")W=B.createBillingAddressElement(ye);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":W=B.createExpressCheckoutElement(g);break;case"currencySelector":W=B.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else U&&(W=U.create(e,g));re.current=W,fe(W),W&&W.mount(ee.current)}},[U,B,g]);var z=t1(g);return tt.useEffect(function(){if(re.current){var W=h5(g,z,["paymentRequest"]);W&&"update"in re.current&&re.current.update(W)}},[g,z]),tt.useLayoutEffect(function(){return function(){if(re.current&&typeof re.current.destroy=="function")try{re.current.destroy(),re.current=null}catch{}}},[]),tt.createElement("div",{id:h,className:d,ref:ee})},s=function(c){n1("mounts <".concat(r,">"));var h=c.id,d=c.className;return tt.createElement("div",{id:h,className:d})},o=t?s:i;return o.propTypes={id:Je.string,className:Je.string,onChange:Je.func,onBlur:Je.func,onFocus:Je.func,onReady:Je.func,onEscape:Je.func,onClick:Je.func,onLoadError:Je.func,onLoaderStart:Je.func,onNetworksChange:Je.func,onConfirm:Je.func,onCancel:Je.func,onShippingAddressChange:Je.func,onShippingRateChange:Je.func,options:Je.object},o.displayName=r,o.__elementType=e,o},nr=typeof window>"u",Dle=tt.createContext(null);Dle.displayName="EmbeddedCheckoutProviderContext";var Mle=function(){var e=n1("calls useStripe()"),t=e.stripe;return t};tr("auBankAccount",nr);var eM=tr("card",nr);tr("cardNumber",nr);tr("cardExpiry",nr);tr("cardCvc",nr);tr("fpxBank",nr);tr("iban",nr);tr("idealBank",nr);tr("p24Bank",nr);tr("epsBank",nr);tr("payment",nr);tr("expressCheckout",nr);tr("currencySelector",nr);tr("paymentRequestButton",nr);tr("linkAuthentication",nr);tr("address",nr);tr("shippingAddress",nr);tr("paymentMethodMessaging",nr);tr("affirmMessage",nr);tr("afterpayClearpayMessage",nr);function g5(n,e){return function(){return n.apply(e,arguments)}}const{toString:Lle}=Object.prototype,{getPrototypeOf:dI}=Object,{iterator:O0,toStringTag:y5}=Symbol,D0=(n=>e=>{const t=Lle.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),vo=n=>(n=n.toLowerCase(),e=>D0(e)===n),M0=n=>e=>typeof e===n,{isArray:Fd}=Array,cm=M0("undefined");function jle(n){return n!==null&&!cm(n)&&n.constructor!==null&&!cm(n.constructor)&&qi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const _5=vo("ArrayBuffer");function Vle(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&_5(n.buffer),e}const Fle=M0("string"),qi=M0("function"),v5=M0("number"),L0=n=>n!==null&&typeof n=="object",Ule=n=>n===!0||n===!1,T_=n=>{if(D0(n)!=="object")return!1;const e=dI(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(y5 in n)&&!(O0 in n)},Ble=vo("Date"),$le=vo("File"),zle=vo("Blob"),Wle=vo("FileList"),Hle=n=>L0(n)&&qi(n.pipe),qle=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||qi(n.append)&&((e=D0(n))==="formdata"||e==="object"&&qi(n.toString)&&n.toString()==="[object FormData]"))},Gle=vo("URLSearchParams"),[Yle,Kle,Xle,Qle]=["ReadableStream","Request","Response","Headers"].map(vo),Jle=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gm(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Fd(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,n[l],l,n)}}function w5(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const zu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,T5=n=>!cm(n)&&n!==zu;function r1(){const{caseless:n}=T5(this)&&this||{},e={},t=(r,i)=>{const s=n&&w5(e,i)||i;T_(e[s])&&T_(r)?e[s]=r1(e[s],r):T_(r)?e[s]=r1({},r):Fd(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Gm(arguments[r],t);return e}const Zle=(n,e,t,{allOwnKeys:r}={})=>(Gm(e,(i,s)=>{t&&qi(i)?n[s]=g5(i,t):n[s]=i},{allOwnKeys:r}),n),eue=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),tue=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},nue=(n,e,t,r)=>{let i,s,o;const l={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!l[o]&&(e[o]=n[o],l[o]=!0);n=t!==!1&&dI(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},rue=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},iue=n=>{if(!n)return null;if(Fd(n))return n;let e=n.length;if(!v5(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},sue=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&dI(Uint8Array)),oue=(n,e)=>{const r=(n&&n[O0]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},aue=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},lue=vo("HTMLFormElement"),uue=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),tM=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),cue=vo("RegExp"),E5=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Gm(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},hue=n=>{E5(n,(e,t)=>{if(qi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(qi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},due=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Fd(n)?r(n):r(String(n).split(e)),t},fue=()=>{},pue=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function mue(n){return!!(n&&qi(n.append)&&n[y5]==="FormData"&&n[O0])}const gue=n=>{const e=new Array(10),t=(r,i)=>{if(L0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Fd(r)?[]:{};return Gm(r,(o,l)=>{const c=t(o,i+1);!cm(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return t(n,0)},yue=vo("AsyncFunction"),_ue=n=>n&&(L0(n)||qi(n))&&qi(n.then)&&qi(n.catch),x5=((n,e)=>n?setImmediate:e?((t,r)=>(zu.addEventListener("message",({source:i,data:s})=>{i===zu&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),zu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",qi(zu.postMessage)),vue=typeof queueMicrotask<"u"?queueMicrotask.bind(zu):typeof process<"u"&&process.nextTick||x5,wue=n=>n!=null&&qi(n[O0]),ne={isArray:Fd,isArrayBuffer:_5,isBuffer:jle,isFormData:qle,isArrayBufferView:Vle,isString:Fle,isNumber:v5,isBoolean:Ule,isObject:L0,isPlainObject:T_,isReadableStream:Yle,isRequest:Kle,isResponse:Xle,isHeaders:Qle,isUndefined:cm,isDate:Ble,isFile:$le,isBlob:zle,isRegExp:cue,isFunction:qi,isStream:Hle,isURLSearchParams:Gle,isTypedArray:sue,isFileList:Wle,forEach:Gm,merge:r1,extend:Zle,trim:Jle,stripBOM:eue,inherits:tue,toFlatObject:nue,kindOf:D0,kindOfTest:vo,endsWith:rue,toArray:iue,forEachEntry:oue,matchAll:aue,isHTMLForm:lue,hasOwnProperty:tM,hasOwnProp:tM,reduceDescriptors:E5,freezeMethods:hue,toObjectSet:due,toCamelCase:uue,noop:fue,toFiniteNumber:pue,findKey:w5,global:zu,isContextDefined:T5,isSpecCompliantForm:mue,toJSONObject:gue,isAsyncFn:yue,isThenable:_ue,setImmediate:x5,asap:vue,isIterable:wue};function ot(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ne.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const S5=ot.prototype,b5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{b5[n]={value:n}});Object.defineProperties(ot,b5);Object.defineProperty(S5,"isAxiosError",{value:!0});ot.from=(n,e,t,r,i,s)=>{const o=Object.create(S5);return ne.toFlatObject(n,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ot.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const Tue=null;function i1(n){return ne.isPlainObject(n)||ne.isArray(n)}function C5(n){return ne.endsWith(n,"[]")?n.slice(0,-2):n}function nM(n,e,t){return n?n.concat(e).map(function(i,s){return i=C5(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function Eue(n){return ne.isArray(n)&&!n.some(i1)}const xue=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function j0(n,e,t){if(!ne.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ne.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!ne.isUndefined(x[v])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(ne.isDate(w))return w.toISOString();if(ne.isBoolean(w))return w.toString();if(!c&&ne.isBlob(w))throw new ot("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(w)||ne.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,v,x){let C=w;if(w&&!x&&typeof w=="object"){if(ne.endsWith(v,"{}"))v=r?v:v.slice(0,-2),w=JSON.stringify(w);else if(ne.isArray(w)&&Eue(w)||(ne.isFileList(w)||ne.endsWith(v,"[]"))&&(C=ne.toArray(w)))return v=C5(v),C.forEach(function(L,O){!(ne.isUndefined(L)||L===null)&&e.append(o===!0?nM([v],O,s):o===null?v:v+"[]",h(L))}),!1}return i1(w)?!0:(e.append(nM(x,v,s),h(w)),!1)}const p=[],g=Object.assign(xue,{defaultVisitor:d,convertValue:h,isVisitable:i1});function _(w,v){if(!ne.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(w),ne.forEach(w,function(C,k){(!(ne.isUndefined(C)||C===null)&&i.call(e,C,ne.isString(k)?k.trim():k,v,g))===!0&&_(C,v?v.concat(k):[k])}),p.pop()}}if(!ne.isObject(n))throw new TypeError("data must be an object");return _(n),e}function rM(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function fI(n,e){this._pairs=[],n&&j0(n,this,e)}const I5=fI.prototype;I5.append=function(e,t){this._pairs.push([e,t])};I5.toString=function(e){const t=e?function(r){return e.call(this,r,rM)}:rM;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Sue(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function A5(n,e,t){if(!e)return n;const r=t&&t.encode||Sue;ne.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=ne.isURLSearchParams(e)?e.toString():new fI(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class iM{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const R5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bue=typeof URLSearchParams<"u"?URLSearchParams:fI,Cue=typeof FormData<"u"?FormData:null,Iue=typeof Blob<"u"?Blob:null,Aue={isBrowser:!0,classes:{URLSearchParams:bue,FormData:Cue,Blob:Iue},protocols:["http","https","file","blob","url","data"]},pI=typeof window<"u"&&typeof document<"u",s1=typeof navigator=="object"&&navigator||void 0,Rue=pI&&(!s1||["ReactNative","NativeScript","NS"].indexOf(s1.product)<0),Pue=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kue=pI&&window.location.href||"http://localhost",Nue=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pI,hasStandardBrowserEnv:Rue,hasStandardBrowserWebWorkerEnv:Pue,navigator:s1,origin:kue},Symbol.toStringTag,{value:"Module"})),ni={...Nue,...Aue};function Oue(n,e){return j0(n,new ni.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return ni.isNode&&ne.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Due(n){return ne.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Mue(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function P5(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=t.length;return o=!o&&ne.isArray(i)?i.length:o,c?(ne.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!ne.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&ne.isArray(i[o])&&(i[o]=Mue(i[o])),!l)}if(ne.isFormData(n)&&ne.isFunction(n.entries)){const t={};return ne.forEachEntry(n,(r,i)=>{e(Due(r),i,t,0)}),t}return null}function Lue(n,e,t){if(ne.isString(n))try{return(e||JSON.parse)(n),ne.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ym={transitional:R5,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=ne.isObject(e);if(s&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return i?JSON.stringify(P5(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e)||ne.isReadableStream(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Oue(e,this.formSerializer).toString();if((l=ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return j0(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),Lue(e)):e}],transformResponse:[function(e){const t=this.transitional||Ym.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ne.isResponse(e)||ne.isReadableStream(e))return e;if(e&&ne.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?ot.from(l,ot.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ni.classes.FormData,Blob:ni.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],n=>{Ym.headers[n]={}});const jue=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vue=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&jue[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},sM=Symbol("internals");function jf(n){return n&&String(n).trim().toLowerCase()}function E_(n){return n===!1||n==null?n:ne.isArray(n)?n.map(E_):String(n)}function Fue(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Uue=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function FE(n,e,t,r,i){if(ne.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ne.isString(e)){if(ne.isString(r))return e.indexOf(r)!==-1;if(ne.isRegExp(r))return r.test(e)}}function Bue(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function $ue(n,e){const t=ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Gi=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(l,c,h){const d=jf(c);if(!d)throw new Error("header name must be a non-empty string");const p=ne.findKey(i,d);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||c]=E_(l))}const o=(l,c)=>ne.forEach(l,(h,d)=>s(h,d,c));if(ne.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ne.isString(e)&&(e=e.trim())&&!Uue(e))o(Vue(e),t);else if(ne.isObject(e)&&ne.isIterable(e)){let l={},c,h;for(const d of e){if(!ne.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[h=d[0]]=(c=l[h])?ne.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=jf(e),e){const r=ne.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Fue(i);if(ne.isFunction(t))return t.call(this,i,r);if(ne.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=jf(e),e){const r=ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||FE(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=jf(o),o){const l=ne.findKey(r,o);l&&(!t||FE(r,r[l],l,t))&&(delete r[l],i=!0)}}return ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||FE(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return ne.forEach(this,(i,s)=>{const o=ne.findKey(r,s);if(o){t[o]=E_(i),delete t[s];return}const l=e?Bue(s):String(s).trim();l!==s&&delete t[s],t[l]=E_(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ne.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ne.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[sM]=this[sM]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=jf(o);r[l]||($ue(i,o),r[l]=!0)}return ne.isArray(e)?e.forEach(s):s(e),this}};Gi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Gi.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ne.freezeMethods(Gi);function UE(n,e){const t=this||Ym,r=e||t,i=Gi.from(r.headers);let s=r.data;return ne.forEach(n,function(l){s=l.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function k5(n){return!!(n&&n.__CANCEL__)}function Ud(n,e,t){ot.call(this,n??"canceled",ot.ERR_CANCELED,e,t),this.name="CanceledError"}ne.inherits(Ud,ot,{__CANCEL__:!0});function N5(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ot("Request failed with status code "+t.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function zue(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Wue(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),d=r[s];o||(o=h),t[i]=c,r[i]=h;let p=s,g=0;for(;p!==i;)g+=t[p++],p=p%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),h-o<e)return;const _=d&&h-d;return _?Math.round(g*1e3/_):void 0}}function Hue(n,e){let t=0,r=1e3/e,i,s;const o=(h,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n.apply(null,h)};return[(...h)=>{const d=Date.now(),p=d-t;p>=r?o(h,d):(i=h,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const Cv=(n,e,t=3)=>{let r=0;const i=Wue(50,250);return Hue(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,h=i(c),d=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&d?(l-o)/h:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(p)},t)},oM=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},aM=n=>(...e)=>ne.asap(()=>n(...e)),que=ni.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ni.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ni.origin),ni.navigator&&/(msie|trident)/i.test(ni.navigator.userAgent)):()=>!0,Gue=ni.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];ne.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),ne.isString(r)&&o.push("path="+r),ne.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yue(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Kue(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function O5(n,e,t){let r=!Yue(e);return n&&(r||t==!1)?Kue(n,e):e}const lM=n=>n instanceof Gi?{...n}:n;function gc(n,e){e=e||{};const t={};function r(h,d,p,g){return ne.isPlainObject(h)&&ne.isPlainObject(d)?ne.merge.call({caseless:g},h,d):ne.isPlainObject(d)?ne.merge({},d):ne.isArray(d)?d.slice():d}function i(h,d,p,g){if(ne.isUndefined(d)){if(!ne.isUndefined(h))return r(void 0,h,p,g)}else return r(h,d,p,g)}function s(h,d){if(!ne.isUndefined(d))return r(void 0,d)}function o(h,d){if(ne.isUndefined(d)){if(!ne.isUndefined(h))return r(void 0,h)}else return r(void 0,d)}function l(h,d,p){if(p in e)return r(h,d);if(p in n)return r(void 0,h)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,d,p)=>i(lM(h),lM(d),p,!0)};return ne.forEach(Object.keys(Object.assign({},n,e)),function(d){const p=c[d]||i,g=p(n[d],e[d],d);ne.isUndefined(g)&&p!==l||(t[d]=g)}),t}const D5=n=>{const e=gc({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Gi.from(o),e.url=A5(O5(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ne.isFormData(t)){if(ni.hasStandardBrowserEnv||ni.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[h,...d]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...d].join("; "))}}if(ni.hasStandardBrowserEnv&&(r&&ne.isFunction(r)&&(r=r(e)),r||r!==!1&&que(e.url))){const h=i&&s&&Gue.read(s);h&&o.set(i,h)}return e},Xue=typeof XMLHttpRequest<"u",Que=Xue&&function(n){return new Promise(function(t,r){const i=D5(n);let s=i.data;const o=Gi.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=i,d,p,g,_,w;function v(){_&&_(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function C(){if(!x)return;const L=Gi.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:L,config:n,request:x};N5(function(N){t(N),v()},function(N){r(N),v()},j),x=null}"onloadend"in x?x.onloadend=C:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(C)},x.onabort=function(){x&&(r(new ot("Request aborted",ot.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new ot("Network Error",ot.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let O=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||R5;i.timeoutErrorMessage&&(O=i.timeoutErrorMessage),r(new ot(O,j.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,n,x)),x=null},s===void 0&&o.setContentType(null),"setRequestHeader"in x&&ne.forEach(o.toJSON(),function(O,j){x.setRequestHeader(j,O)}),ne.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),l&&l!=="json"&&(x.responseType=i.responseType),h&&([g,w]=Cv(h,!0),x.addEventListener("progress",g)),c&&x.upload&&([p,_]=Cv(c),x.upload.addEventListener("progress",p),x.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(d=L=>{x&&(r(!L||L.type?new Ud(null,n,x):L),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const k=zue(i.url);if(k&&ni.protocols.indexOf(k)===-1){r(new ot("Unsupported protocol "+k+":",ot.ERR_BAD_REQUEST,n));return}x.send(s||null)})},Jue=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(h){if(!i){i=!0,l();const d=h instanceof Error?h:this.reason;r.abort(d instanceof ot?d:new Ud(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new ot(`timeout ${e} of ms exceeded`,ot.ETIMEDOUT))},e);const l=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),n=null)};n.forEach(h=>h.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>ne.asap(l),c}},Zue=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},ece=async function*(n,e){for await(const t of tce(n))yield*Zue(t,e)},tce=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},uM=(n,e,t,r)=>{const i=ece(n,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await i.next();if(h){l(),c.close();return}let p=d.byteLength;if(t){let g=s+=p;t(g)}c.enqueue(new Uint8Array(d))}catch(h){throw l(h),h}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},V0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",M5=V0&&typeof ReadableStream=="function",nce=V0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),L5=(n,...e)=>{try{return!!n(...e)}catch{return!1}},rce=M5&&L5(()=>{let n=!1;const e=new Request(ni.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),cM=64*1024,o1=M5&&L5(()=>ne.isReadableStream(new Response("").body)),Iv={stream:o1&&(n=>n.body)};V0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Iv[e]&&(Iv[e]=ne.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ot(`Response type '${e}' is not supported`,ot.ERR_NOT_SUPPORT,r)})})})(new Response);const ice=async n=>{if(n==null)return 0;if(ne.isBlob(n))return n.size;if(ne.isSpecCompliantForm(n))return(await new Request(ni.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(n)||ne.isArrayBuffer(n))return n.byteLength;if(ne.isURLSearchParams(n)&&(n=n+""),ne.isString(n))return(await nce(n)).byteLength},sce=async(n,e)=>{const t=ne.toFiniteNumber(n.getContentLength());return t??ice(e)},oce=V0&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:h,headers:d,withCredentials:p="same-origin",fetchOptions:g}=D5(n);h=h?(h+"").toLowerCase():"text";let _=Jue([i,s&&s.toAbortSignal()],o),w;const v=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let x;try{if(c&&rce&&t!=="get"&&t!=="head"&&(x=await sce(d,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(ne.isFormData(r)&&($=j.headers.get("content-type"))&&d.setContentType($),j.body){const[N,A]=oM(x,Cv(aM(c)));r=uM(j.body,cM,N,A)}}ne.isString(p)||(p=p?"include":"omit");const C="credentials"in Request.prototype;w=new Request(e,{...g,signal:_,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:C?p:void 0});let k=await fetch(w,g);const L=o1&&(h==="stream"||h==="response");if(o1&&(l||L&&v)){const j={};["status","statusText","headers"].forEach(P=>{j[P]=k[P]});const $=ne.toFiniteNumber(k.headers.get("content-length")),[N,A]=l&&oM($,Cv(aM(l),!0))||[];k=new Response(uM(k.body,cM,N,()=>{A&&A(),v&&v()}),j)}h=h||"text";let O=await Iv[ne.findKey(Iv,h)||"text"](k,n);return!L&&v&&v(),await new Promise((j,$)=>{N5(j,$,{data:O,headers:Gi.from(k.headers),status:k.status,statusText:k.statusText,config:n,request:w})})}catch(C){throw v&&v(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,n,w),{cause:C.cause||C}):ot.from(C,C&&C.code,n,w)}}),a1={http:Tue,xhr:Que,fetch:oce};ne.forEach(a1,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const hM=n=>`- ${n}`,ace=n=>ne.isFunction(n)||n===null||n===!1,j5={getAdapter:n=>{n=ne.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!ace(t)&&(r=a1[(o=String(t)).toLowerCase()],r===void 0))throw new ot(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(hM).join(`
`):" "+hM(s[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:a1};function BE(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ud(null,n)}function dM(n){return BE(n),n.headers=Gi.from(n.headers),n.data=UE.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),j5.getAdapter(n.adapter||Ym.adapter)(n).then(function(r){return BE(n),r.data=UE.call(n,n.transformResponse,r),r.headers=Gi.from(r.headers),r},function(r){return k5(r)||(BE(n),r&&r.response&&(r.response.data=UE.call(n,n.transformResponse,r.response),r.response.headers=Gi.from(r.response.headers))),Promise.reject(r)})}const V5="1.10.0",F0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{F0[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const fM={};F0.transitional=function(e,t,r){function i(s,o){return"[Axios v"+V5+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new ot(i(o," has been removed"+(t?" in "+t:"")),ot.ERR_DEPRECATED);return t&&!fM[o]&&(fM[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,l):!0}};F0.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function lce(n,e,t){if(typeof n!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=n[s],c=l===void 0||o(l,s,n);if(c!==!0)throw new ot("option "+s+" must be "+c,ot.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ot("Unknown option "+s,ot.ERR_BAD_OPTION)}}const x_={assertOptions:lce,validators:F0},Po=x_.validators;let nc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new iM,response:new iM}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=gc(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&x_.assertOptions(r,{silentJSONParsing:Po.transitional(Po.boolean),forcedJSONParsing:Po.transitional(Po.boolean),clarifyTimeoutError:Po.transitional(Po.boolean)},!1),i!=null&&(ne.isFunction(i)?t.paramsSerializer={serialize:i}:x_.assertOptions(i,{encode:Po.function,serialize:Po.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),x_.assertOptions(t,{baseUrl:Po.spelling("baseURL"),withXsrfToken:Po.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&ne.merge(s.common,s[t.method]);s&&ne.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),t.headers=Gi.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let d,p=0,g;if(!c){const w=[dM.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,h),g=w.length,d=Promise.resolve(t);p<g;)d=d.then(w[p++],w[p++]);return d}g=l.length;let _=t;for(p=0;p<g;){const w=l[p++],v=l[p++];try{_=w(_)}catch(x){v.call(this,x);break}}try{d=dM.call(this,_)}catch(w){return Promise.reject(w)}for(p=0,g=h.length;p<g;)d=d.then(h[p++],h[p++]);return d}getUri(e){e=gc(this.defaults,e);const t=O5(e.baseURL,e.url,e.allowAbsoluteUrls);return A5(t,e.params,e.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(e){nc.prototype[e]=function(t,r){return this.request(gc(r||{},{method:e,url:t,data:(r||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,l){return this.request(gc(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}nc.prototype[e]=t(),nc.prototype[e+"Form"]=t(!0)});let uce=class F5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Ud(s,o,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new F5(function(i){e=i}),cancel:e}}};function cce(n){return function(t){return n.apply(null,t)}}function hce(n){return ne.isObject(n)&&n.isAxiosError===!0}const l1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(l1).forEach(([n,e])=>{l1[e]=n});function U5(n){const e=new nc(n),t=g5(nc.prototype.request,e);return ne.extend(t,nc.prototype,e,{allOwnKeys:!0}),ne.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return U5(gc(n,i))},t}const Hn=U5(Ym);Hn.Axios=nc;Hn.CanceledError=Ud;Hn.CancelToken=uce;Hn.isCancel=k5;Hn.VERSION=V5;Hn.toFormData=j0;Hn.AxiosError=ot;Hn.Cancel=Hn.CanceledError;Hn.all=function(e){return Promise.all(e)};Hn.spread=cce;Hn.isAxiosError=hce;Hn.mergeConfig=gc;Hn.AxiosHeaders=Gi;Hn.formToJSON=n=>P5(ne.isHTMLForm(n)?new FormData(n):n);Hn.getAdapter=j5.getAdapter;Hn.HttpStatusCode=l1;Hn.default=Hn;const{Axios:_de,AxiosError:vde,CanceledError:wde,isCancel:Tde,CancelToken:Ede,VERSION:xde,all:Sde,Cancel:bde,isAxiosError:Cde,spread:Ide,toFormData:Ade,AxiosHeaders:Rde,HttpStatusCode:Pde,formToJSON:kde,getAdapter:Nde,mergeConfig:Ode}=Hn,dce=gle("pk_test_51QMFD7G19ZvbkADbkNpTJeUY7ZcznK76g6L2F6zpXFcUzNlOZ8oEI1tJzJPCcZ1Gyt0pCdrl7MYgMPco3mE2gmkd003QMnHuBM");function fce({total:n,start:e,end:t,days:r,service:i,quantity:s,sizes:o,details:l,contact:c}){const h=Mle(),d=Rle(),p=vc(),[g,_]=R.useState(!1),[w,v]=R.useState(null),x=async C=>{if(C.preventDefault(),!(!h||!d)){_(!0),v(null);try{const{data:k}=await Hn.post("http://localhost:4000/payments/create-payment-intent",{amount:n}),L=d.getElement(eM);if(!L){v("Erreur avec le champ carte.");return}const O=await h.confirmCardPayment(k.clientSecret,{payment_method:{card:L,billing_details:{name:c.name,email:c.email}}});if(O.error){v(O.error.message??"Erreur de paiement."),_(!1);return}if(O.paymentIntent.status==="succeeded"){let j=new Date(e);for(;j<=t;)await _0(zs(Hi,"bookings"),{serviceId:i.id,date:j.toISOString().split("T")[0],quantity:s,sizes:o,details:l,contact:c,paymentId:O.paymentIntent.id,createdAt:new Date().toISOString()}),j.setDate(j.getDate()+1);p("/success",{state:{order:O.paymentIntent,contact:c,serviceId:i.id,dates:[e,t],bookingCount:r}})}}catch(k){v("Erreur lors du traitement du paiement."),console.error(k),_(!1)}}};return E.jsxs("form",{onSubmit:x,className:"space-y-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Détails de la carte"}),E.jsx("div",{className:"border border-gray-300 rounded-md p-4 bg-white shadow-sm",children:E.jsx(eM,{options:{style:{base:{fontSize:"16px",color:"#1f2937","::placeholder":{color:"#9ca3af"}},invalid:{color:"#dc2626"}}}})}),w&&E.jsx("div",{className:"text-red-600 text-sm font-medium",children:w}),E.jsx("button",{type:"submit",disabled:!h||g,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-md transition disabled:opacity-50",children:g?"Traitement...":`Payer ${n.toFixed(2)} €`})]})}function pce(){const n=Ws(),{service:e,selectedRange:t,quantity:r,sizes:i,details:s}=n.state||{},[o,l]=R.useState({name:"",email:""}),[c,h]=R.useState({}),[d,p]=R.useState(t||[new Date,new Date]);if(!e||!t)return E.jsx("p",{className:"text-red-500 text-center mt-20",children:"Informations manquantes."});const g=b3.find(L=>L.id===e.id),[_,w]=d,v=Math.ceil((w.getTime()-_.getTime())/(1e3*60*60*24))+1,x=g.type==="cat"?15:i.includes("Gros chien")?30:25,C=v*x*r,k=()=>{const L={};return o.name.trim()||(L.name="Nom requis"),/^\S+@\S+\.\S+$/.test(o.email)||(L.email="Email invalide"),h(L),Object.keys(L).length===0};return R.useEffect(()=>window.scrollTo(0,0),[]),E.jsx(nn.div,{className:"bg-gray-50 min-h-screen py-10 px-4 sm:px-6 lg:px-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:E.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 mt-15",children:[E.jsx("div",{className:"flex justify-center space-x-4",children:["Dates","Info","Paiement"].map((L,O)=>E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-500 text-white font-bold",children:O+1}),E.jsx("span",{className:"ml-2 text-gray-700 uppercase text-sm",children:L}),O<2&&E.jsx("div",{className:"w-8 h-1 bg-gray-300 mx-2"})]},O))}),E.jsxs(nn.section,{className:"bg-white rounded-xl shadow p-6 flex flex-col items-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:[E.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[E.jsx(Cz,{className:"mr-2 text-blue-500"})," Sélection des dates"]}),E.jsx(S3,{selectRange:!0,onChange:L=>Array.isArray(L)&&L[0]instanceof Date&&L[1]instanceof Date&&p([L[0],L[1]]),value:d,className:"rounded"}),E.jsxs("p",{className:"mt-2 text-center text-gray-600",children:[_.toLocaleDateString("fr-FR")," → ",w.toLocaleDateString("fr-FR")]}),E.jsxs("p",{className:"mt-2 text-center text-gray-600",children:["(",v," jours)"]})]}),E.jsxs(nn.section,{className:"bg-white rounded-xl shadow p-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[E.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[E.jsx(S1,{className:"mr-2 text-blue-500"})," Vos coordonnées"]}),E.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Nom complet"}),E.jsx("input",{type:"text",value:o.name,onChange:L=>l({...o,name:L.target.value}),onBlur:k,className:"mt-1 w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Jean Dupont"}),c.name&&E.jsx("p",{className:"text-red-600 text-xs mt-1",children:c.name})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Email"}),E.jsx("input",{type:"email",value:o.email,onChange:L=>l({...o,email:L.target.value}),onBlur:k,className:"mt-1 w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"jean@exemple.com"}),c.email&&E.jsx("p",{className:"text-red-600 text-xs mt-1",children:c.email})]})]})]}),E.jsxs(nn.section,{className:"bg-white rounded-xl shadow p-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[E.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[E.jsx(o2,{className:"mr-2 text-blue-500"})," Récapitulatif & Paiement"]}),E.jsxs("div",{className:"space-y-2 mb-4",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Service:"})," ",E.jsx("span",{className:"text-blue-600",children:g.title})]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Quantité:"})," ",r]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Tailles:"})," ",i.join(", ")]}),E.jsxs("p",{className:"text-lg font-bold mt-2",children:["Total : ",E.jsxs("span",{className:"text-green-600",children:[C.toFixed(2)," €"]})]})]}),E.jsx(p5,{stripe:dce,children:E.jsx(fce,{total:C,start:_,end:w,days:v,service:g,quantity:r,sizes:i,details:s,contact:o})})]})]})})}function Fy(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $E={exports:{}},pM;function mce(){return pM||(pM=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function o(h,d){if(!i[h]){if(!r[h]){var p=typeof Fy=="function"&&Fy;if(!d&&p)return p(h,!0);if(l)return l(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var _=i[h]={exports:{}};r[h][0].call(_.exports,function(w){var v=r[h][1][w];return o(v||w)},_,_.exports,t,r,i,s)}return i[h].exports}for(var l=typeof Fy=="function"&&Fy,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(t,r,i){var s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function c(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}function h(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var p={},g=0;g<10;g++)p["_"+String.fromCharCode(g)]=g;var _=Object.getOwnPropertyNames(p).map(function(v){return p[v]});if(_.join("")!=="0123456789")return!1;var w={};return"abcdefghijklmnopqrst".split("").forEach(function(v){w[v]=v}),Object.keys(Object.assign({},w)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}r.exports=h()?Object.assign:function(d,p){for(var g,_=c(d),w,v=1;v<arguments.length;v++){g=Object(arguments[v]);for(var x in g)o.call(g,x)&&(_[x]=g[x]);if(s){w=s(g);for(var C=0;C<w.length;C++)l.call(g,w[C])&&(_[w[C]]=g[w[C]])}}return _}},{}],2:[function(t,r,i){(function(s){(function(){var o,l,c,h,d,p;typeof performance<"u"&&performance!==null&&performance.now?r.exports=function(){return performance.now()}:typeof s<"u"&&s!==null&&s.hrtime?(r.exports=function(){return(o()-d)/1e6},l=s.hrtime,o=function(){var g;return g=l(),g[0]*1e9+g[1]},h=o(),p=s.uptime()*1e9,d=h-p):Date.now?(r.exports=function(){return Date.now()-c},c=Date.now()):(r.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}).call(this,t("_process"))},{_process:3}],3:[function(t,r,i){var s=r.exports={},o,l;function c(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=c}catch{o=c}try{typeof clearTimeout=="function"?l=clearTimeout:l=h}catch{l=h}})();function d(O){if(o===setTimeout)return setTimeout(O,0);if((o===c||!o)&&setTimeout)return o=setTimeout,setTimeout(O,0);try{return o(O,0)}catch{try{return o.call(null,O,0)}catch{return o.call(this,O,0)}}}function p(O){if(l===clearTimeout)return clearTimeout(O);if((l===h||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(O);try{return l(O)}catch{try{return l.call(null,O)}catch{return l.call(this,O)}}}var g=[],_=!1,w,v=-1;function x(){!_||!w||(_=!1,w.length?g=w.concat(g):v=-1,g.length&&C())}function C(){if(!_){var O=d(x);_=!0;for(var j=g.length;j;){for(w=g,g=[];++v<j;)w&&w[v].run();v=-1,j=g.length}w=null,_=!1,p(O)}}s.nextTick=function(O){var j=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)j[$-1]=arguments[$];g.push(new k(O,j)),g.length===1&&!_&&d(C)};function k(O,j){this.fun=O,this.array=j}k.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function L(){}s.on=L,s.addListener=L,s.once=L,s.off=L,s.removeListener=L,s.removeAllListeners=L,s.emit=L,s.prependListener=L,s.prependOnceListener=L,s.listeners=function(O){return[]},s.binding=function(O){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(O){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],4:[function(t,r,i){(function(s){for(var o=t("performance-now"),l=typeof window>"u"?s:window,c=["moz","webkit"],h="AnimationFrame",d=l["request"+h],p=l["cancel"+h]||l["cancelRequest"+h],g=0;!d&&g<c.length;g++)d=l[c[g]+"Request"+h],p=l[c[g]+"Cancel"+h]||l[c[g]+"CancelRequest"+h];if(!d||!p){var _=0,w=0,v=[],x=1e3/60;d=function(C){if(v.length===0){var k=o(),L=Math.max(0,x-(k-_));_=L+k,setTimeout(function(){var O=v.slice(0);v.length=0;for(var j=0;j<O.length;j++)if(!O[j].cancelled)try{O[j].callback(_)}catch($){setTimeout(function(){throw $},0)}},Math.round(L))}return v.push({handle:++w,callback:C,cancelled:!1}),w},p=function(C){for(var k=0;k<v.length;k++)v[k].handle===C&&(v[k].cancelled=!0)}}r.exports=function(C){return d.call(l,C)},r.exports.cancel=function(){p.apply(l,arguments)},r.exports.polyfill=function(){l.requestAnimationFrame=d,l.cancelAnimationFrame=p}}).call(this,typeof IR<"u"?IR:typeof self<"u"?self:typeof window<"u"?window:{})},{"performance-now":2}],5:[function(t,r,i){var s=function(){function _(w,v){for(var x=0;x<v.length;x++){var C=v[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,v,x){return v&&_(w.prototype,v),x&&_(w,x),w}}();function o(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}var l=t("raf"),c=t("object-assign"),h={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function(w,v,x){return v<x?w<v?v:w>x?x:w:w<x?x:w>v?v:w},data:function(w,v){return h.deserialize(w.getAttribute("data-"+v))},deserialize:function(w){return w==="true"?!0:w==="false"?!1:w==="null"?null:!isNaN(parseFloat(w))&&isFinite(w)?parseFloat(w):w},camelCase:function(w){return w.replace(/-+(.)?/g,function(v,x){return x?x.toUpperCase():""})},accelerate:function(w){h.css(w,"transform","translate3d(0,0,0) rotate(0.0001deg)"),h.css(w,"transform-style","preserve-3d"),h.css(w,"backface-visibility","hidden")},transformSupport:function(w){for(var v=document.createElement("div"),x=!1,C=null,k=!1,L=null,O=null,j=0,$=h.vendors.length;j<$;j++)if(h.vendors[j]!==null?(L=h.vendors[j][0]+"transform",O=h.vendors[j][1]+"Transform"):(L="transform",O="transform"),v.style[O]!==void 0){x=!0;break}switch(w){case"2D":k=x;break;case"3D":if(x){var N=document.body||document.createElement("body"),A=document.documentElement,P=A.style.overflow,D=!1;document.body||(D=!0,A.style.overflow="hidden",A.appendChild(N),N.style.overflow="hidden",N.style.background=""),N.appendChild(v),v.style[O]="translate3d(1px,1px,1px)",C=window.getComputedStyle(v).getPropertyValue(L),k=C!==void 0&&C.length>0&&C!=="none",A.style.overflow=P,N.removeChild(v),D&&(N.removeAttribute("style"),N.parentNode.removeChild(N))}break}return k},css:function(w,v,x){var C=h.propertyCache[v];if(!C){for(var k=0,L=h.vendors.length;k<L;k++)if(h.vendors[k]!==null?C=h.camelCase(h.vendors[k][1]+"-"+v):C=v,w.style[C]!==void 0){h.propertyCache[v]=C;break}}w.style[C]=x}},d=30,p={relativeInput:!1,clipRelativeInput:!1,inputElement:null,hoverOnly:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5,pointerEvents:!1,precision:1,onReady:null,selector:null},g=function(){function _(w,v){o(this,_),this.element=w;var x={calibrateX:h.data(this.element,"calibrate-x"),calibrateY:h.data(this.element,"calibrate-y"),invertX:h.data(this.element,"invert-x"),invertY:h.data(this.element,"invert-y"),limitX:h.data(this.element,"limit-x"),limitY:h.data(this.element,"limit-y"),scalarX:h.data(this.element,"scalar-x"),scalarY:h.data(this.element,"scalar-y"),frictionX:h.data(this.element,"friction-x"),frictionY:h.data(this.element,"friction-y"),originX:h.data(this.element,"origin-x"),originY:h.data(this.element,"origin-y"),pointerEvents:h.data(this.element,"pointer-events"),precision:h.data(this.element,"precision"),relativeInput:h.data(this.element,"relative-input"),clipRelativeInput:h.data(this.element,"clip-relative-input"),hoverOnly:h.data(this.element,"hover-only"),inputElement:document.querySelector(h.data(this.element,"input-element")),selector:h.data(this.element,"selector")};for(var C in x)x[C]===null&&delete x[C];c(this,p,x,v),this.inputElement||(this.inputElement=this.element),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depthsX=[],this.depthsY=[],this.raf=null,this.bounds=null,this.elementPositionX=0,this.elementPositionY=0,this.elementWidth=0,this.elementHeight=0,this.elementCenterX=0,this.elementCenterY=0,this.elementRangeX=0,this.elementRangeY=0,this.calibrationX=0,this.calibrationY=0,this.inputX=0,this.inputY=0,this.motionX=0,this.motionY=0,this.velocityX=0,this.velocityY=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onDeviceMotion=this.onDeviceMotion.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onMotionTimer=this.onMotionTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.windowWidth=null,this.windowHeight=null,this.windowCenterX=null,this.windowCenterY=null,this.windowRadiusX=null,this.windowRadiusY=null,this.portrait=!1,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop,this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop,this.orientationStatus=0,this.motionStatus=0,this.initialise()}return s(_,[{key:"initialise",value:function(){this.transform2DSupport===void 0&&(this.transform2DSupport=h.transformSupport("2D"),this.transform3DSupport=h.transformSupport("3D")),this.transform3DSupport&&h.accelerate(this.element);var v=window.getComputedStyle(this.element);v.getPropertyValue("position")==="static"&&(this.element.style.position="relative"),this.pointerEvents||(this.element.style.pointerEvents="none"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function(){this.onReady&&this.onReady()}},{key:"updateLayers",value:function(){this.selector?this.layers=this.element.querySelectorAll(this.selector):this.layers=this.element.children,this.layers.length||console.warn("ParallaxJS: Your scene does not have any layers."),this.depthsX=[],this.depthsY=[];for(var v=0;v<this.layers.length;v++){var x=this.layers[v];this.transform3DSupport&&h.accelerate(x),x.style.position=v?"absolute":"relative",x.style.display="block",x.style.left=0,x.style.top=0;var C=h.data(x,"depth")||0;this.depthsX.push(h.data(x,"depth-x")||C),this.depthsY.push(h.data(x,"depth-y")||C)}}},{key:"updateDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowCenterX=this.windowWidth*this.originX,this.windowCenterY=this.windowHeight*this.originY,this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX),this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function(){this.bounds=this.inputElement.getBoundingClientRect(),this.elementPositionX=this.bounds.left,this.elementPositionY=this.bounds.top,this.elementWidth=this.bounds.width,this.elementHeight=this.bounds.height,this.elementCenterX=this.elementWidth*this.originX,this.elementCenterY=this.elementHeight*this.originY,this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX),this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function(v){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,v)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=!1,window.addEventListener("deviceorientation",this.onDeviceOrientation),this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)):this.motionSupport?(this.portrait=!1,window.addEventListener("devicemotion",this.onDeviceMotion),this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)):(this.calibrationX=0,this.calibrationY=0,this.portrait=!1,window.addEventListener("mousemove",this.onMouseMove),this.doReadyCallback()),window.addEventListener("resize",this.onWindowResize),this.raf=l(this.onAnimationFrame))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.orientationSupport?window.removeEventListener("deviceorientation",this.onDeviceOrientation):this.motionSupport?window.removeEventListener("devicemotion",this.onDeviceMotion):window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),l.cancel(this.raf))}},{key:"calibrate",value:function(v,x){this.calibrateX=v===void 0?this.calibrateX:v,this.calibrateY=x===void 0?this.calibrateY:x}},{key:"invert",value:function(v,x){this.invertX=v===void 0?this.invertX:v,this.invertY=x===void 0?this.invertY:x}},{key:"friction",value:function(v,x){this.frictionX=v===void 0?this.frictionX:v,this.frictionY=x===void 0?this.frictionY:x}},{key:"scalar",value:function(v,x){this.scalarX=v===void 0?this.scalarX:v,this.scalarY=x===void 0?this.scalarY:x}},{key:"limit",value:function(v,x){this.limitX=v===void 0?this.limitX:v,this.limitY=x===void 0?this.limitY:x}},{key:"origin",value:function(v,x){this.originX=v===void 0?this.originX:v,this.originY=x===void 0?this.originY:x}},{key:"setInputElement",value:function(v){this.inputElement=v,this.updateDimensions()}},{key:"setPosition",value:function(v,x,C){x=x.toFixed(this.precision)+"px",C=C.toFixed(this.precision)+"px",this.transform3DSupport?h.css(v,"transform","translate3d("+x+","+C+",0)"):this.transform2DSupport?h.css(v,"transform","translate("+x+","+C+")"):(v.style.left=x,v.style.top=C)}},{key:"onOrientationTimer",value:function(){this.orientationSupport&&this.orientationStatus===0?(this.disable(),this.orientationSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onMotionTimer",value:function(){this.motionSupport&&this.motionStatus===0?(this.disable(),this.motionSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onCalibrationTimer",value:function(){this.calibrationFlag=!0}},{key:"onWindowResize",value:function(){this.updateDimensions()}},{key:"onAnimationFrame",value:function(){this.updateBounds();var v=this.inputX-this.calibrationX,x=this.inputY-this.calibrationY;(Math.abs(v)>this.calibrationThreshold||Math.abs(x)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.motionX=this.calibrateX?x:this.inputY,this.motionY=this.calibrateY?v:this.inputX):(this.motionX=this.calibrateX?v:this.inputX,this.motionY=this.calibrateY?x:this.inputY),this.motionX*=this.elementWidth*(this.scalarX/100),this.motionY*=this.elementHeight*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.motionX=h.clamp(this.motionX,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.motionY=h.clamp(this.motionY,-this.limitY,this.limitY)),this.velocityX+=(this.motionX-this.velocityX)*this.frictionX,this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var C=0;C<this.layers.length;C++){var k=this.layers[C],L=this.depthsX[C],O=this.depthsY[C],j=this.velocityX*(L*(this.invertX?-1:1)),$=this.velocityY*(O*(this.invertY?-1:1));this.setPosition(k,j,$)}this.raf=l(this.onAnimationFrame)}},{key:"rotate",value:function(v,x){var C=(v||0)/d,k=(x||0)/d,L=this.windowHeight>this.windowWidth;this.portrait!==L&&(this.portrait=L,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.calibrationX=C,this.calibrationY=k),this.inputX=C,this.inputY=k}},{key:"onDeviceOrientation",value:function(v){var x=v.beta,C=v.gamma;x!==null&&C!==null&&(this.orientationStatus=1,this.rotate(x,C))}},{key:"onDeviceMotion",value:function(v){var x=v.rotationRate.beta,C=v.rotationRate.gamma;x!==null&&C!==null&&(this.motionStatus=1,this.rotate(x,C))}},{key:"onMouseMove",value:function(v){var x=v.clientX,C=v.clientY;if(this.hoverOnly&&(x<this.elementPositionX||x>this.elementPositionX+this.elementWidth||C<this.elementPositionY||C>this.elementPositionY+this.elementHeight)){this.inputX=0,this.inputY=0;return}this.relativeInput?(this.clipRelativeInput&&(x=Math.max(x,this.elementPositionX),x=Math.min(x,this.elementPositionX+this.elementWidth),C=Math.max(C,this.elementPositionY),C=Math.min(C,this.elementPositionY+this.elementHeight)),this.elementRangeX&&this.elementRangeY&&(this.inputX=(x-this.elementPositionX-this.elementCenterX)/this.elementRangeX,this.inputY=(C-this.elementPositionY-this.elementCenterY)/this.elementRangeY)):this.windowRadiusX&&this.windowRadiusY&&(this.inputX=(x-this.windowCenterX)/this.windowRadiusX,this.inputY=(C-this.windowCenterY)/this.windowRadiusY)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.calibrationTimer),clearTimeout(this.detectionTimer),this.element.removeAttribute("style");for(var v=0;v<this.layers.length;v++)this.layers[v].removeAttribute("style");delete this.element,delete this.layers}},{key:"version",value:function(){return"3.1.0"}}]),_}();r.exports=g},{"object-assign":1,raf:4}]},{},[5])(5)})}($E)),$E.exports}var gce=mce();const yce=_o(gce),_ce=()=>{const n=R.useRef(null);return R.useEffect(()=>{let e;return n.current&&(e=new yce(n.current,{relativeInput:!0,hoverOnly:!0,pointerEvents:!0})),()=>e&&e.disable()},[]),E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-pink-50 p-6 overflow-hidden",children:[E.jsx("div",{ref:n,className:"w-96 h-96 mb-8 relative",id:"parallax-scene",children:E.jsx("div",{"data-depth":"0.8",className:"absolute top-0 right-0 z-20",children:E.jsx("img",{src:"/images/cat.gif",alt:"Chat perdu",className:"w-full h-full object-contain"})})}),E.jsx("h1",{className:"text-5xl font-extrabold mb-4 text-blue-700 animate-fade-in-down",children:"Oups ! Page introuvable"}),E.jsx("p",{className:"text-lg text-gray-600 mb-6 animate-fade-in-up",children:"Nos petites mascottes n'ont pas trouvé ce que vous cherchez."}),E.jsxs(ls,{to:"/",className:"relative inline-block px-8 py-3 font-medium group",children:[E.jsx("span",{className:"absolute inset-0 w-full h-full transition duration-300 ease-out transform translate-x-1 translate-y-1 bg-blue-500 group-hover:-translate-x-0 group-hover:-translate-y-0"}),E.jsx("span",{className:"absolute inset-0 w-full h-full bg-white border-2 border-blue-500 group-hover:bg-blue-500"}),E.jsx("span",{className:"relative text-blue-500 group-hover:text-white",children:"Retour à l'accueil"})]})]})};function vce(){const[n,e]=R.useState([]),[t,r]=R.useState(!0);R.useEffect(()=>{ru(zs(Hi,"contacts")).then(s=>{const o=s.docs.map(l=>({id:l.id,...l.data()}));e(o)}).finally(()=>r(!1))},[]);const i=async s=>{await GU(FC(Hi,"contacts",s)),e(o=>o.filter(l=>l.id!==s))};return t?E.jsx("p",{className:"p-8",children:"Cargando…"}):E.jsxs("div",{className:"space-y-6",children:[E.jsx("h1",{className:"text-2xl font-bold",children:"Mensajes de Contacto"}),n.length===0?E.jsx("p",{className:"text-gray-600",children:"No hay mensajes."}):E.jsxs("table",{className:"w-full table-auto bg-white rounded shadow",children:[E.jsx("thead",{className:"bg-gray-100 text-left",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2",children:"Fecha"}),E.jsx("th",{className:"p-2",children:"Nombre"}),E.jsx("th",{className:"p-2",children:"Mensaje"}),E.jsx("th",{className:"p-2",children:"Newsletter"}),E.jsx("th",{className:"p-2",children:"Acciones"})]})}),E.jsx("tbody",{children:n.map(s=>{var o;return E.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[E.jsx("td",{className:"p-2",children:new Date(((o=s.timestamp)==null?void 0:o.seconds)*1e3).toLocaleString()}),E.jsx("td",{className:"p-2",children:s.name}),E.jsx("td",{className:"p-2",children:s.message}),E.jsx("td",{className:"p-2",children:s.newsletter?"✅":"❌"}),E.jsx("td",{className:"p-2",children:E.jsx("button",{onClick:()=>i(s.id),className:"text-red-600 hover:underline",children:"Eliminar"})})]},s.id)})})]})]})}function wce(){const[n,e]=R.useState([]),[t,r]=R.useState(!0),[i,s]=R.useState(null),[o,l]=R.useState("");R.useEffect(()=>{async function h(){try{const p=(await ru(zs(Hi,"bookings"))).docs.map(g=>({...g.data(),id:g.id}));e(p)}catch(d){console.error(d),s("Error al cargar las reservas.")}finally{r(!1)}}h()},[]);const c=R.useMemo(()=>n.filter(h=>h.contact.name.toLowerCase().includes(o.toLowerCase())||h.date.includes(o)),[n,o]);return E.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[E.jsx("header",{className:"bg-white shadow-sm",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[E.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Reservas"}),E.jsx("input",{type:"text",placeholder:"Buscar cliente o fecha",value:o,onChange:h=>l(h.target.value),className:"mt-3 sm:mt-0 block w-full sm:w-64 px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})}),E.jsx("main",{className:"flex-1 overflow-auto py-6",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t?E.jsx("div",{className:"flex justify-center items-center h-64",children:E.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-blue-500 border-t-transparent rounded-full"})}):i?E.jsx("div",{className:"text-center py-20",children:E.jsx("p",{className:"text-red-600",children:i})}):c.length===0?E.jsx("div",{className:"text-center py-20",children:E.jsx("p",{className:"text-gray-500",children:"No se encontraron reservas."})}):E.jsxs("div",{className:"space-y-6",children:[E.jsx("div",{className:"hidden md:block bg-white shadow overflow-hidden rounded-lg",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Servicio"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalles"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tamaños"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pago"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((h,d)=>E.jsxs("tr",{className:d%2===0?"bg-white":"bg-gray-50",children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(h.createdAt).toLocaleString()}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.date}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.contact.name}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.details.map(p=>p.name).join(", ")}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.sizes.join(", ")}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.quantity}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.paymentId?"✅":"❌"})]},h.id))})]})}),E.jsx("div",{className:"md:hidden space-y-4",children:c.map(h=>E.jsxs("div",{className:"bg-white shadow rounded-lg p-4 space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[E.jsx("span",{children:"Pedido:"}),E.jsx("span",{children:new Date(h.createdAt).toLocaleDateString()})]}),E.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[E.jsx("span",{children:"Servicio:"}),E.jsx("span",{children:h.date})]}),E.jsx("div",{className:"text-lg font-medium text-gray-900",children:h.contact.name}),E.jsxs("div",{className:"text-sm text-gray-700",children:["Detalles: ",h.details.map(d=>d.name).join(", ")]}),E.jsxs("div",{className:"text-sm text-gray-700",children:["Tamaños: ",h.sizes.join(", ")]}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("span",{className:"text-sm text-gray-700",children:["Cantidad: ",h.quantity]}),E.jsx("span",{className:"text-sm",children:h.paymentId?E.jsx("span",{className:"text-green-600",children:"Pago ✔️"}):E.jsx("span",{className:"text-red-600",children:"Pendiente ❌"})})]})]},h.id))})]})})})]})}function Tce(){const[n,e]=R.useState([]);return R.useEffect(()=>{ru(zs(Hi,"pets")).then(t=>{const r=t.docs.map(i=>({id:i.id,...i.data()}));e(r)})},[]),E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Mascotas"}),n.length===0?E.jsx("p",{children:"No hay mascotas registradas."}):E.jsxs("table",{className:"w-full table-auto bg-white rounded shadow",children:[E.jsx("thead",{className:"bg-gray-100 text-left",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2",children:"Nombre"}),E.jsx("th",{className:"p-2",children:"Tipo"}),E.jsx("th",{className:"p-2",children:"Raza"})]})}),E.jsx("tbody",{children:n.map(t=>E.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[E.jsx("td",{className:"p-2",children:t.name}),E.jsx("td",{className:"p-2",children:t.type}),E.jsx("td",{className:"p-2",children:t.breed})]},t.id))})]})]})}function Ece(){const[n,e]=R.useState([]);return R.useEffect(()=>{ru(zs(Hi,"clients")).then(t=>{const r=t.docs.map(i=>({id:i.id,...i.data()}));e(r)})},[]),E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Clientes"}),n.length===0?E.jsx("p",{children:"No hay clientes."}):E.jsxs("table",{className:"w-full table-auto bg-white rounded shadow",children:[E.jsx("thead",{className:"bg-gray-100 text-left",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2",children:"Nombre"}),E.jsx("th",{className:"p-2",children:"Teléfono"}),E.jsx("th",{className:"p-2",children:"Correo"})]})}),E.jsx("tbody",{children:n.map(t=>E.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[E.jsx("td",{className:"p-2",children:t.name}),E.jsx("td",{className:"p-2",children:t.phone}),E.jsx("td",{className:"p-2",children:t.email})]},t.id))})]})]})}function xce(){const[n,e]=R.useState(null),[t,r]=R.useState([]),[i,s]=R.useState(!1),o=async()=>{if(!n)return;s(!0);const c=new FormData;c.append("image",n);try{const p=(await(await fetch("https://api.imgbb.com/1/upload?key=711bea0af9cd9be4a115705e4205e5b9",{method:"POST",body:c})).json()).data.url,g=await _0(zs(Hi,"gallery"),{url:p,name:`${Date.now()}-${n.name}`});r(_=>[..._,{id:g.id,url:p,name:n.name}]),e(null)}catch(h){console.error("Error uploading to ImgBB:",h)}finally{s(!1)}},l=async c=>{try{await GU(FC(Hi,"gallery",c)),r(h=>h.filter(d=>d.id!==c))}catch(h){console.error("Error deleting image:",h)}};return R.useEffect(()=>{(async()=>{try{const d=(await ru(zs(Hi,"gallery"))).docs.map(p=>({id:p.id,url:p.data().url,name:p.data().name}));r(d)}catch(h){console.error("Error fetching gallery images:",h)}})()},[]),E.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:E.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("h1",{className:"text-4xl font-semibold text-gray-800",children:"Galería de Imágenes"})}),E.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:E.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[E.jsx("input",{type:"file",accept:"image/*",onChange:c=>{var h;return e(((h=c.target.files)==null?void 0:h[0])||null)},className:"w-full sm:w-auto"}),n&&E.jsxs("button",{onClick:o,disabled:i,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition",children:[E.jsx(Lz,{size:18}),i?"Subiendo...":"Subir imagen"]})]})}),E.jsx("div",{children:t.length===0?E.jsx("p",{className:"text-center text-gray-500 text-lg",children:"No hay imágenes aún."}):E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(c=>E.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow hover:shadow-xl transition",children:[E.jsx("img",{src:c.url,alt:c.name,className:"w-full h-48 object-cover"}),E.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 flex justify-end p-2 transition",children:E.jsx("button",{onClick:()=>l(c.id),className:"bg-red-600 hover:bg-red-700 text-white p-1 rounded",children:E.jsx(a9,{size:18})})})]},c.id))})})]})})}function Sce(){const[n,e]=R.useState("messages"),[t,r]=R.useState(!1),[i,s]=R.useState(!1),o=vc();R.useEffect(()=>{(()=>{const p=sessionStorage.getItem("isAdminLogged")==="true",g=Rp.currentUser;(!p||!g)&&o("/login")})();const d=Rp.onAuthStateChanged(p=>{p||(sessionStorage.removeItem("isAdminLogged"),o("/login"))});return()=>d()},[o]);const l=async()=>{try{await Rp.signOut(),sessionStorage.removeItem("isAdminLogged"),o("/login")}catch(h){console.error("Error al cerrar sesión:",h)}},c=()=>{switch(n){case"messages":return E.jsx(vce,{});case"bookings":return E.jsx(wce,{});case"pets":return E.jsx(Tce,{});case"clients":return E.jsx(Ece,{});case"gallery":return E.jsx(xce,{});default:return null}};return E.jsxs("div",{className:"min-h-screen md:flex",children:[E.jsx("aside",{className:`bg-gray-800 text-white fixed top-0 left-0 h-full z-40 transition-all duration-300 ease-in-out
          ${t?"translate-x-0":"-translate-x-full"} 
          ${i?"w-16":"w-64"} 
          md:translate-x-0`,children:E.jsxs("div",{className:"p-4 space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h2",{className:`text-2xl font-bold ${i?"hidden":"block"}`,children:"Admin"}),E.jsx("button",{className:"text-white md:hidden",onClick:()=>r(!1),children:"✖"})]}),E.jsxs("nav",{className:"flex flex-col gap-2",children:[E.jsxs("button",{onClick:()=>{e("messages"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"📩"}),E.jsx("span",{className:i?"hidden":"block",children:"Mensajes"})]}),E.jsxs("button",{onClick:()=>{e("bookings"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"📆"}),E.jsx("span",{className:i?"hidden":"block",children:"Reservas"})]}),E.jsxs("button",{onClick:()=>{e("pets"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"🐶"}),E.jsx("span",{className:i?"hidden":"block",children:"Mascotas"})]}),E.jsxs("button",{onClick:()=>{e("clients"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"👤"}),E.jsx("span",{className:i?"hidden":"block",children:"Clientes"})]}),E.jsxs("button",{onClick:()=>{e("gallery"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"🖼️"}),E.jsx("span",{className:i?"hidden":"block",children:"Galería"})]})]}),E.jsxs("button",{onClick:l,className:`text-red-400 hover:underline mt-10 flex items-center gap-2 ${i?"justify-center":""}`,children:[E.jsx("span",{children:"🚪"}),E.jsx("span",{className:i?"hidden":"block",children:"Cerrar sesión"})]})]})}),t&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>r(!1)}),E.jsxs("main",{className:`flex flex-col p-4 md:p-6 bg-gray-50 min-h-screen transition-all duration-300
        ${i?"md:ml-16":"md:ml-64"}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 text-2xl md:hidden",children:"☰"}),E.jsx("button",{onClick:()=>s(!i),className:"hidden md:block text-gray-700",children:i?E.jsx("span",{className:"mr-4",children:E.jsx("i",{className:"fa-solid fa-angle-right"})}):E.jsx("span",{className:"mr-4",children:E.jsx("i",{className:"fa-solid fa-angle-left"})})}),E.jsx("h1",{className:"text-lg font-semibold",children:"Panel de Administración"})]}),c()]})]})}function bce(){const[n,e]=R.useState(""),[t,r]=R.useState(""),[i,s]=R.useState(""),[o,l]=R.useState(!1),c=vc(),h=async d=>{d.preventDefault(),s(""),l(!0);try{await JX(Rp,n,t),sessionStorage.setItem("isAdminLogged","true"),c("/admin")}catch(p){s(p.message||"Erreur de connexion")}finally{l(!1)}};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:E.jsxs(nn.form,{onSubmit:h,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"relative w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 space-y-6 sm:p-10",children:[E.jsx("h1",{className:"text-3xl font-extrabold text-gray-800 text-center",children:"Admin Login"}),i&&E.jsx(nn.div,{initial:{x:-10},animate:{x:0},className:"text-red-500 text-center",children:i}),E.jsxs("div",{className:"relative",children:[E.jsx(S1,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400"}),E.jsx("input",{type:"email",value:n,onChange:d=>e(d.target.value),placeholder:"Email",autoComplete:"username",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"})]}),E.jsxs("div",{className:"relative",children:[E.jsx(Gz,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400"}),E.jsx("input",{type:"password",value:t,onChange:d=>r(d.target.value),placeholder:"Contraseña",autoComplete:"current-password",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"})]}),E.jsx(nn.button,{type:"submit",disabled:o,whileHover:{scale:o?1:1.02},whileTap:{scale:o?1:.98},className:`w-full flex items-center justify-center py-3 rounded-full text-white font-semibold transition-colors ${o?"bg-blue-300":"bg-blue-600 hover:bg-blue-700"}`,children:o?E.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):"Iniciar sesión"})]})})}function Cce(){const[n,e]=R.useState(""),[t,r]=R.useState(""),i=vc(),s=async o=>{o.preventDefault();try{await QX(Rp,n,t),i("/admin")}catch(l){console.error("Error registrando admin:",l),alert("No se pudo crear el usuario")}};return E.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:E.jsxs("form",{onSubmit:s,className:"bg-white p-8 rounded shadow-md w-96",children:[E.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Crear Admin"}),E.jsx("input",{type:"email",placeholder:"Correo",value:n,onChange:o=>e(o.target.value),className:"w-full p-2 border mb-4",required:!0}),E.jsx("input",{type:"password",placeholder:"Contraseña",value:t,onChange:o=>r(o.target.value),className:"w-full p-2 border mb-4",required:!0}),E.jsx("button",{type:"submit",className:"bg-blue-500 text-white w-full py-2 rounded",children:"Crear Cuenta"})]})})}function Ice(){const{pathname:n}=Ws();return R.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[n]),null}function Ace(){const n=Ws(),e=vc(),t=n.state;if(!t)return E.jsx("div",{className:"text-center mt-20 text-red-500 font-semibold",children:"Aucune information de réservation. 😓"});const{order:r,contact:i,serviceId:s,dates:o,bookingCount:l}=t;return E.jsx(nn.div,{className:"bg-green-50 min-h-screen py-10 px-4 sm:px-6 lg:px-8 mt-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:E.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg space-y-6",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx(Dz,{className:"text-green-600 w-8 h-8"}),E.jsx("h1",{className:"text-2xl font-bold text-green-700",children:"Paiement réussi !"})]}),E.jsxs("div",{className:"space-y-4 text-gray-700",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(S1,{className:"text-blue-500"}),E.jsxs("span",{children:[E.jsx("strong",{children:"Nom:"})," ",i.name]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(o2,{className:"text-blue-500"}),E.jsxs("span",{children:[E.jsx("strong",{children:"Référence de paiement:"})," ",r.id]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Sz,{className:"text-blue-500"}),E.jsxs("span",{children:[E.jsx("strong",{children:"Dates:"})," ",new Date(o[0]).toLocaleDateString("fr-FR")," →"," ",new Date(o[1]).toLocaleDateString("fr-FR")," (",l," ","jours)"]})]}),E.jsxs("div",{children:[E.jsx("strong",{children:"Service réservé:"})," ",E.jsx("span",{className:"text-blue-600",children:s===1?"FORMULE FLASH":s===2?"FORMULE SÉJOURS":s===3?"FORMULE FÉLIN":"Inconnu"})]})]}),E.jsx("button",{onClick:()=>e("/"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded",children:"Retour à l’accueil"})]})})}const Rce=()=>{const e=Ws().pathname.startsWith("/admin");return R.useEffect(()=>{document.body.style.scrollBehavior="smooth"},[]),E.jsxs(E.Fragment,{children:[E.jsxs(qB,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("meta",{name:"description",content:"Cuidado de perros y gatos en casa con amor y diversión - PetHome, tu guardería de mascotas ideal"}),E.jsx("meta",{name:"keywords",content:"cuidado mascotas, guardería perros, pet sitter, cuidado gatos"}),E.jsx("meta",{name:"robots",content:"index, follow"}),E.jsx("title",{children:"PetHome - El Hogar de tus Perros y Gatos"})]}),E.jsxs("div",{className:"min-h-screen flex flex-col",children:[!e&&E.jsx(c9,{}),E.jsxs("main",{className:"flex-grow",children:[E.jsx(Ice,{}),E.jsxs(j$,{children:[E.jsx(Di,{path:"/",element:E.jsx(P8,{})}),E.jsx(Di,{path:"/services",element:E.jsx(MD,{})}),E.jsx(Di,{path:"/tarifs",element:E.jsx(MD,{})}),E.jsx(Di,{path:"/apropos",element:E.jsx(koe,{})}),E.jsx(Di,{path:"/gallery",element:E.jsx(Yae,{})}),E.jsx(Di,{path:"/faq",element:E.jsx(Xae,{})}),E.jsx(Di,{path:"/checkout",element:E.jsx(pce,{})}),E.jsx(Di,{path:"/login",element:E.jsx(bce,{})}),E.jsx(Di,{path:"/admin",element:E.jsx(Sce,{})}),E.jsx(Di,{path:"/contact",element:E.jsx(ile,{})}),E.jsx(Di,{path:"/admin-register",element:E.jsx(Cce,{})}),E.jsx(Di,{path:"/success",element:E.jsx(Ace,{})}),E.jsx(Di,{path:"*",element:E.jsx(_ce,{})})]})]}),!e&&E.jsx(h9,{})]})]})};var zE={exports:{}},WE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM;function Pce(){if(mM)return WE;mM=1;var n=fm();function e(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,o=n.useMemo,l=n.useDebugValue;return WE.useSyncExternalStoreWithSelector=function(c,h,d,p,g){var _=i(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=o(function(){function x(j){if(!C){if(C=!0,k=j,j=p(j),g!==void 0&&w.hasValue){var $=w.value;if(g($,j))return L=$}return L=j}if($=L,t(k,j))return $;var N=p(j);return g!==void 0&&g($,N)?(k=j,$):(k=j,L=N)}var C=!1,k,L,O=d===void 0?null:d;return[function(){return x(h())},O===null?void 0:function(){return x(O())}]},[h,d,p,g]);var v=r(c,_[0],_[1]);return s(function(){w.hasValue=!0,w.value=v},[v]),l(v),v},WE}var gM;function kce(){return gM||(gM=1,zE.exports=Pce()),zE.exports}kce();function Nce(n){n()}function Oce(){let n=null,e=null;return{clear(){n=null,e=null},notify(){Nce(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var yM={notify(){},get:()=>[]};function Dce(n,e){let t,r=yM,i=0,s=!1;function o(v){d();const x=r.subscribe(v);let C=!1;return()=>{C||(C=!0,x(),p())}}function l(){r.notify()}function c(){w.onStateChange&&w.onStateChange()}function h(){return s}function d(){i++,t||(t=n.subscribe(c),r=Oce())}function p(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=yM)}function g(){s||(s=!0,d())}function _(){s&&(s=!1,p())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:h,trySubscribe:g,tryUnsubscribe:_,getListeners:()=>r};return w}var Mce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lce=Mce(),jce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vce=jce(),Fce=()=>Lce||Vce?R.useLayoutEffect:R.useEffect,Uce=Fce(),HE=Symbol.for("react-redux-context"),qE=typeof globalThis<"u"?globalThis:{};function Bce(){if(!R.createContext)return{};const n=qE[HE]??(qE[HE]=new Map);let e=n.get(R.createContext);return e||(e=R.createContext(null),n.set(R.createContext,e)),e}var $ce=Bce();function zce(n){const{children:e,context:t,serverState:r,store:i}=n,s=R.useMemo(()=>{const c=Dce(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=R.useMemo(()=>i.getState(),[i]);Uce(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=t||$ce;return R.createElement(l.Provider,{value:s},e)}var Wce=zce;function S_(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S_=function(t){return typeof t}:S_=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S_(n)}function Hce(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Gce(n,e,t){return e&&qce(n.prototype,e),n}function Yce(n,e){return e&&(S_(e)==="object"||typeof e=="function")?e:b_(n)}function u1(n){return u1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u1(n)}function b_(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Kce(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&c1(n,e)}function c1(n,e){return c1=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},c1(n,e)}function C_(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var B5=function(n){Kce(e,n);function e(){var t,r;Hce(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Yce(this,(t=u1(e)).call.apply(t,[this].concat(s))),C_(b_(r),"state",{bootstrapped:!1}),C_(b_(r),"_unsubscribe",void 0),C_(b_(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),h=c.bootstrapped;h&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return Gce(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(R.PureComponent);C_(B5,"defaultProps",{children:null,loading:null});function Nr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Xce=typeof Symbol=="function"&&Symbol.observable||"@@observable",_M=Xce,GE=()=>Math.random().toString(36).substring(7).split("").join("."),Qce={INIT:`@@redux/INIT${GE()}`,REPLACE:`@@redux/REPLACE${GE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${GE()}`},Av=Qce;function mI(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function gI(n,e,t){if(typeof n!="function")throw new Error(Nr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Nr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Nr(1));return t(gI)(n,e)}let r=n,i=e,s=new Map,o=s,l=0,c=!1;function h(){o===s&&(o=new Map,s.forEach((x,C)=>{o.set(C,x)}))}function d(){if(c)throw new Error(Nr(3));return i}function p(x){if(typeof x!="function")throw new Error(Nr(4));if(c)throw new Error(Nr(5));let C=!0;h();const k=l++;return o.set(k,x),function(){if(C){if(c)throw new Error(Nr(6));C=!1,h(),o.delete(k),s=null}}}function g(x){if(!mI(x))throw new Error(Nr(7));if(typeof x.type>"u")throw new Error(Nr(8));if(typeof x.type!="string")throw new Error(Nr(17));if(c)throw new Error(Nr(9));try{c=!0,i=r(i,x)}finally{c=!1}return(s=o).forEach(k=>{k()}),x}function _(x){if(typeof x!="function")throw new Error(Nr(10));r=x,g({type:Av.REPLACE})}function w(){const x=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Nr(11));function k(){const O=C;O.next&&O.next(d())}return k(),{unsubscribe:x(k)}},[_M](){return this}}}return g({type:Av.INIT}),{dispatch:g,subscribe:p,getState:d,replaceReducer:_,[_M]:w}}function Jce(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Av.INIT})>"u")throw new Error(Nr(12));if(typeof t(void 0,{type:Av.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nr(13))})}function $5(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const r=Object.keys(t);let i;try{Jce(t)}catch(s){i=s}return function(o={},l){if(i)throw i;let c=!1;const h={};for(let d=0;d<r.length;d++){const p=r[d],g=t[p],_=o[p],w=g(_,l);if(typeof w>"u")throw l&&l.type,new Error(Nr(14));h[p]=w,c=c||w!==_}return c=c||r.length!==Object.keys(o).length,c?h:o}}function Rv(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function Zce(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(Nr(15))};const o={getState:i.getState,dispatch:(c,...h)=>s(c,...h)},l=n.map(c=>c(o));return s=Rv(...l)(i.dispatch),{...i,dispatch:s}}}function ehe(n){return mI(n)&&"type"in n&&typeof n.type=="string"}var z5=Symbol.for("immer-nothing"),vM=Symbol.for("immer-draftable"),ys=Symbol.for("immer-state");function ao(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var wd=Object.getPrototypeOf;function yc(n){return!!n&&!!n[ys]}function $a(n){var e;return n?W5(n)||Array.isArray(n)||!!n[vM]||!!((e=n.constructor)!=null&&e[vM])||B0(n)||$0(n):!1}var the=Object.prototype.constructor.toString();function W5(n){if(!n||typeof n!="object")return!1;const e=wd(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===the}function Pv(n,e){U0(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function U0(n){const e=n[ys];return e?e.type_:Array.isArray(n)?1:B0(n)?2:$0(n)?3:0}function h1(n,e){return U0(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function H5(n,e,t){const r=U0(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function nhe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function B0(n){return n instanceof Map}function $0(n){return n instanceof Set}function Du(n){return n.copy_||n.base_}function d1(n,e){if(B0(n))return new Map(n);if($0(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=W5(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[ys];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:n[o]})}return Object.create(wd(n),r)}else{const r=wd(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function yI(n,e=!1){return z0(n)||yc(n)||!$a(n)||(U0(n)>1&&(n.set=n.add=n.clear=n.delete=rhe),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>yI(r,!0))),n}function rhe(){ao(2)}function z0(n){return Object.isFrozen(n)}var ihe={};function _c(n){const e=ihe[n];return e||ao(0,n),e}var hm;function q5(){return hm}function she(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wM(n,e){e&&(_c("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function f1(n){p1(n),n.drafts_.forEach(ohe),n.drafts_=null}function p1(n){n===hm&&(hm=n.parent_)}function TM(n){return hm=she(hm,n)}function ohe(n){const e=n[ys];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function EM(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ys].modified_&&(f1(e),ao(4)),$a(n)&&(n=kv(e,n),e.parent_||Nv(e,n)),e.patches_&&_c("Patches").generateReplacementPatches_(t[ys].base_,n,e.patches_,e.inversePatches_)):n=kv(e,t,[]),f1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==z5?n:void 0}function kv(n,e,t){if(z0(e))return e;const r=e[ys];if(!r)return Pv(e,(i,s)=>xM(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return Nv(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Pv(s,(l,c)=>xM(n,r,i,l,c,t,o)),Nv(n,i,!1),t&&n.patches_&&_c("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function xM(n,e,t,r,i,s,o){if(yc(i)){const l=s&&e&&e.type_!==3&&!h1(e.assigned_,r)?s.concat(r):void 0,c=kv(n,i,l);if(H5(t,r,c),yc(c))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if($a(i)&&!z0(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;kv(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&Nv(n,i)}}function Nv(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&yI(e,t)}function ahe(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:q5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=_I;t&&(i=[r],s=dm);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var _I={get(n,e){if(e===ys)return n;const t=Du(n);if(!h1(t,e))return lhe(n,t,e);const r=t[e];return n.finalized_||!$a(r)?r:r===YE(n.base_,e)?(KE(n),n.copy_[e]=g1(r,n)):r},has(n,e){return e in Du(n)},ownKeys(n){return Reflect.ownKeys(Du(n))},set(n,e,t){const r=G5(Du(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=YE(Du(n),e),s=i==null?void 0:i[ys];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(nhe(t,i)&&(t!==void 0||h1(n.base_,e)))return!0;KE(n),m1(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return YE(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,KE(n),m1(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Du(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){ao(11)},getPrototypeOf(n){return wd(n.base_)},setPrototypeOf(){ao(12)}},dm={};Pv(_I,(n,e)=>{dm[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});dm.deleteProperty=function(n,e){return dm.set.call(this,n,e,void 0)};dm.set=function(n,e,t){return _I.set.call(this,n[0],e,t,n[0])};function YE(n,e){const t=n[ys];return(t?Du(t):n)[e]}function lhe(n,e,t){var i;const r=G5(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function G5(n,e){if(!(e in n))return;let t=wd(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=wd(t)}}function m1(n){n.modified_||(n.modified_=!0,n.parent_&&m1(n.parent_))}function KE(n){n.copy_||(n.copy_=d1(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var uhe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(c=s,...h){return o.produce(c,d=>t.call(this,d,...h))}}typeof t!="function"&&ao(6),r!==void 0&&typeof r!="function"&&ao(7);let i;if($a(e)){const s=TM(this),o=g1(e,void 0);let l=!0;try{i=t(o),l=!1}finally{l?f1(s):p1(s)}return wM(s,r),EM(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===z5&&(i=void 0),this.autoFreeze_&&yI(i,!0),r){const s=[],o=[];_c("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else ao(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let r,i;return[this.produce(e,t,(o,l)=>{r=o,i=l}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){$a(n)||ao(8),yc(n)&&(n=che(n));const e=TM(this),t=g1(n,void 0);return t[ys].isManual_=!0,p1(e),t}finishDraft(n,e){const t=n&&n[ys];(!t||!t.isManual_)&&ao(9);const{scope_:r}=t;return wM(r,e),EM(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=_c("Patches").applyPatches_;return yc(n)?r(n,e):this.produce(n,i=>r(i,e))}};function g1(n,e){const t=B0(n)?_c("MapSet").proxyMap_(n,e):$0(n)?_c("MapSet").proxySet_(n,e):ahe(n,e);return(e?e.scope_:q5()).drafts_.push(t),t}function che(n){return yc(n)||ao(10,n),Y5(n)}function Y5(n){if(!$a(n)||z0(n))return n;const e=n[ys];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=d1(n,e.scope_.immer_.useStrictShallowCopy_)}else t=d1(n,!0);return Pv(t,(r,i)=>{H5(t,r,Y5(i))}),e&&(e.finalized_=!1),t}var _s=new uhe,K5=_s.produce;_s.produceWithPatches.bind(_s);_s.setAutoFreeze.bind(_s);_s.setUseStrictShallowCopy.bind(_s);_s.applyPatches.bind(_s);_s.createDraft.bind(_s);_s.finishDraft.bind(_s);function X5(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var hhe=X5(),dhe=X5,fhe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rv:Rv.apply(null,arguments)};function SM(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(Pa(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>ehe(r)&&r.type===n,t}var Q5=class tp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,tp.prototype)}static get[Symbol.species](){return tp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new tp(...e[0].concat(this)):new tp(...e.concat(this))}};function bM(n){return $a(n)?K5(n,()=>{}):n}function Uy(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function phe(n){return typeof n=="boolean"}var mhe=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new Q5;return t&&(phe(t)?o.push(hhe):o.push(dhe(t.extraArgument))),o},ghe="RTK_autoBatch",CM=n=>e=>{setTimeout(e,n)},yhe=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,o=!1;const l=new Set,c=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CM(10):n.type==="callback"?n.queueNotification:CM(n.timeout),h=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),g=r.subscribe(p);return l.add(d),()=>{g(),l.delete(d)}},dispatch(d){var p;try{return i=!((p=d==null?void 0:d.meta)!=null&&p[ghe]),s=!i,s&&(o||(o=!0,c(h))),r.dispatch(d)}finally{i=!0}}})},_he=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new Q5(n);return r&&i.push(yhe(typeof r=="object"?r:void 0)),i};function vhe(n){const e=mhe(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let l;if(typeof t=="function")l=t;else if(mI(t))l=$5(t);else throw new Error(Pa(1));let c;typeof r=="function"?c=r(e):c=e();let h=Rv;i&&(h=fhe({trace:!1,...typeof i=="object"&&i}));const d=Zce(...c),p=_he(d);let g=typeof o=="function"?o(p):p();const _=h(...g);return gI(l,s,_)}function J5(n){const e={},t=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Pa(28));if(l in e)throw new Error(Pa(29));return e[l]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function whe(n){return typeof n=="function"}function The(n,e){let[t,r,i]=J5(e),s;if(whe(n))s=()=>bM(n());else{const l=bM(n);s=()=>l}function o(l=s(),c){let h=[t[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return h.filter(d=>!!d).length===0&&(h=[i]),h.reduce((d,p)=>{if(p)if(yc(d)){const _=p(d,c);return _===void 0?d:_}else{if($a(d))return K5(d,g=>p(g,c));{const g=p(d,c);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},l)}return o.getInitialState=s,o}var Ehe=Symbol.for("rtk-slice-createasyncthunk");function xhe(n,e){return`${n}/${e}`}function She({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[Ehe];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Pa(11));const l=(typeof i.reducers=="function"?i.reducers(Ihe()):i.reducers)||{},c=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,j){const $=typeof O=="string"?O:O.type;if(!$)throw new Error(Pa(12));if($ in h.sliceCaseReducersByType)throw new Error(Pa(13));return h.sliceCaseReducersByType[$]=j,d},addMatcher(O,j){return h.sliceMatchers.push({matcher:O,reducer:j}),d},exposeAction(O,j){return h.actionCreators[O]=j,d},exposeCaseReducer(O,j){return h.sliceCaseReducersByName[O]=j,d}};c.forEach(O=>{const j=l[O],$={reducerName:O,type:xhe(s,O),createNotation:typeof i.reducers=="function"};Rhe(j)?khe($,j,d,e):Ahe($,j,d)});function p(){const[O={},j=[],$=void 0]=typeof i.extraReducers=="function"?J5(i.extraReducers):[i.extraReducers],N={...O,...h.sliceCaseReducersByType};return The(i.initialState,A=>{for(let P in N)A.addCase(P,N[P]);for(let P of h.sliceMatchers)A.addMatcher(P.matcher,P.reducer);for(let P of j)A.addMatcher(P.matcher,P.reducer);$&&A.addDefaultCase($)})}const g=O=>O,_=new Map,w=new WeakMap;let v;function x(O,j){return v||(v=p()),v(O,j)}function C(){return v||(v=p()),v.getInitialState()}function k(O,j=!1){function $(A){let P=A[O];return typeof P>"u"&&j&&(P=Uy(w,$,C)),P}function N(A=g){const P=Uy(_,j,()=>new WeakMap);return Uy(P,A,()=>{const D={};for(const[U,B]of Object.entries(i.selectors??{}))D[U]=bhe(B,A,()=>Uy(w,A,C),j);return D})}return{reducerPath:O,getSelectors:N,get selectors(){return N($)},selectSlice:$}}const L={name:s,reducer:x,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...k(o),injectInto(O,{reducerPath:j,...$}={}){const N=j??o;return O.inject({reducerPath:N,reducer:x},$),{...L,...k(N,!0)}}};return L}}function bhe(n,e,t,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=t()),n(l,...o)}return i.unwrapped=n,i}var Che=She();function Ihe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function Ahe({type:n,reducerName:e,createNotation:t},r,i){let s,o;if("reducer"in r){if(t&&!Phe(r))throw new Error(Pa(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?SM(n,o):SM(n))}function Rhe(n){return n._reducerDefinitionType==="asyncThunk"}function Phe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function khe({type:n,reducerName:e},t,r,i){if(!i)throw new Error(Pa(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:h,options:d}=t,p=i(n,s,d);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:o||By,pending:l||By,rejected:c||By,settled:h||By})}function By(){}function Pa(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var vI="persist:",Z5="persist/FLUSH",wI="persist/REHYDRATE",e6="persist/PAUSE",t6="persist/PERSIST",n6="persist/PURGE",r6="persist/REGISTER",Nhe=-1;function I_(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I_=function(t){return typeof t}:I_=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I_(n)}function IM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ohe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IM(t,!0).forEach(function(r){Dhe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IM(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dhe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mhe(n,e,t,r){r.debug;var i=Ohe({},t);return n&&I_(n)==="object"&&Object.keys(n).forEach(function(s){s!=="_persist"&&e[s]===t[s]&&(i[s]=n[s])}),i}function Lhe(n){var e=n.blacklist||null,t=n.whitelist||null,r=n.transforms||[],i=n.throttle||0,s="".concat(n.keyPrefix!==void 0?n.keyPrefix:vI).concat(n.key),o=n.storage,l;n.serialize===!1?l=function(j){return j}:typeof n.serialize=="function"?l=n.serialize:l=jhe;var c=n.writeFailHandler||null,h={},d={},p=[],g=null,_=null,w=function(j){Object.keys(j).forEach(function($){C($)&&h[$]!==j[$]&&p.indexOf($)===-1&&p.push($)}),Object.keys(h).forEach(function($){j[$]===void 0&&C($)&&p.indexOf($)===-1&&h[$]!==void 0&&p.push($)}),g===null&&(g=setInterval(v,i)),h=j};function v(){if(p.length===0){g&&clearInterval(g),g=null;return}var O=p.shift(),j=r.reduce(function($,N){return N.in($,O,h)},h[O]);if(j!==void 0)try{d[O]=l(j)}catch($){console.error("redux-persist/createPersistoid: error serializing state",$)}else delete d[O];p.length===0&&x()}function x(){Object.keys(d).forEach(function(O){h[O]===void 0&&delete d[O]}),_=o.setItem(s,l(d)).catch(k)}function C(O){return!(t&&t.indexOf(O)===-1&&O!=="_persist"||e&&e.indexOf(O)!==-1)}function k(O){c&&c(O)}var L=function(){for(;p.length!==0;)v();return _||Promise.resolve()};return{update:w,flush:L}}function jhe(n){return JSON.stringify(n)}function Vhe(n){var e=n.transforms||[],t="".concat(n.keyPrefix!==void 0?n.keyPrefix:vI).concat(n.key),r=n.storage;n.debug;var i;return n.deserialize===!1?i=function(o){return o}:typeof n.deserialize=="function"?i=n.deserialize:i=Fhe,r.getItem(t).then(function(s){if(s)try{var o={},l=i(s);return Object.keys(l).forEach(function(c){o[c]=e.reduceRight(function(h,d){return d.out(h,c,l)},i(l[c]))}),o}catch(c){throw c}else return})}function Fhe(n){return JSON.parse(n)}function Uhe(n){var e=n.storage,t="".concat(n.keyPrefix!==void 0?n.keyPrefix:vI).concat(n.key);return e.removeItem(t,Bhe)}function Bhe(n){}function AM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ya(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AM(t,!0).forEach(function(r){$he(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AM(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $he(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zhe(n,e){if(n==null)return{};var t=Whe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Whe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Hhe=5e3;function qhe(n,e){var t=n.version!==void 0?n.version:Nhe;n.debug;var r=n.stateReconciler===void 0?Mhe:n.stateReconciler,i=n.getStoredState||Vhe,s=n.timeout!==void 0?n.timeout:Hhe,o=null,l=!1,c=!0,h=function(p){return p._persist.rehydrated&&o&&!c&&o.update(p),p};return function(d,p){var g=d||{},_=g._persist,w=zhe(g,["_persist"]),v=w;if(p.type===t6){var x=!1,C=function(A,P){x||(p.rehydrate(n.key,A,P),x=!0)};if(s&&setTimeout(function(){!x&&C(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},s),c=!1,o||(o=Lhe(n)),_)return ya({},e(v,p),{_persist:_});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(n.key),i(n).then(function(N){var A=n.migrate||function(P,D){return Promise.resolve(P)};A(N,t).then(function(P){C(P)},function(P){C(void 0,P)})},function(N){C(void 0,N)}),ya({},e(v,p),{_persist:{version:t,rehydrated:!1}})}else{if(p.type===n6)return l=!0,p.result(Uhe(n)),ya({},e(v,p),{_persist:_});if(p.type===Z5)return p.result(o&&o.flush()),ya({},e(v,p),{_persist:_});if(p.type===e6)c=!0;else if(p.type===wI){if(l)return ya({},v,{_persist:ya({},_,{rehydrated:!0})});if(p.key===n.key){var k=e(v,p),L=p.payload,O=r!==!1&&L!==void 0?r(L,d,k,n):k,j=ya({},O,{_persist:ya({},_,{rehydrated:!0})});return h(j)}}}if(!_)return e(d,p);var $=e(v,p);return $===v?d:h(ya({},$,{_persist:_}))}}function RM(n){return Khe(n)||Yhe(n)||Ghe()}function Ghe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Yhe(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function Khe(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function PM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function y1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PM(t,!0).forEach(function(r){Xhe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PM(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xhe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var i6={registry:[],bootstrapped:!1},Qhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i6,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r6:return y1({},e,{registry:[].concat(RM(e.registry),[t.key])});case wI:var r=e.registry.indexOf(t.key),i=RM(e.registry);return i.splice(r,1),y1({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function Jhe(n,e,t){var r=gI(Qhe,i6,void 0),i=function(c){r.dispatch({type:r6,key:c})},s=function(c,h,d){var p={type:wI,payload:h,err:d,key:c};n.dispatch(p),r.dispatch(p)},o=y1({},r,{purge:function(){var c=[];return n.dispatch({type:n6,result:function(d){c.push(d)}}),Promise.all(c)},flush:function(){var c=[];return n.dispatch({type:Z5,result:function(d){c.push(d)}}),Promise.all(c)},pause:function(){n.dispatch({type:e6})},persist:function(){n.dispatch({type:t6,register:i,rehydrate:s})}});return o.persist(),o}var Vf={},$y={},zy={},kM;function Zhe(){if(kM)return zy;kM=1,zy.__esModule=!0,zy.default=i;function n(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(l){return typeof l}:n=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},n(s)}function e(){}var t={getItem:e,setItem:e,removeItem:e};function r(s){if((typeof self>"u"?"undefined":n(self))!=="object"||!(s in self))return!1;try{var o=self[s],l="redux-persist ".concat(s," test");o.setItem(l,"test"),o.getItem(l),o.removeItem(l)}catch{return!1}return!0}function i(s){var o="".concat(s,"Storage");return r(o)?self[o]:t}return zy}var NM;function ede(){if(NM)return $y;NM=1,$y.__esModule=!0,$y.default=t;var n=e(Zhe());function e(r){return r&&r.__esModule?r:{default:r}}function t(r){var i=(0,n.default)(r);return{getItem:function(o){return new Promise(function(l,c){l(i.getItem(o))})},setItem:function(o,l){return new Promise(function(c,h){c(i.setItem(o,l))})},removeItem:function(o){return new Promise(function(l,c){l(i.removeItem(o))})}}}return $y}var OM;function tde(){if(OM)return Vf;OM=1,Vf.__esModule=!0,Vf.default=void 0;var n=e(ede());function e(r){return r&&r.__esModule?r:{default:r}}var t=(0,n.default)("local");return Vf.default=t,Vf}var nde=tde();const rde=_o(nde),ide={user:null},s6=Che({name:"dogUser",initialState:ide,reducers:{setUser:(n,e)=>{n.user=e.payload},clearUser:n=>{n.user=null}}}),{setUser:Dde,clearUser:Mde}=s6.actions,sde=s6.reducer,ode={key:"root",storage:rde},ade=$5({dogUser:sde}),lde=qhe(ode,ade),o6=vhe({reducer:lde}),ude=Jhe(o6);wB.createRoot(document.getElementById("root")).render(E.jsx(tt.StrictMode,{children:E.jsx($M,{children:E.jsx(az,{children:E.jsx(Wce,{store:o6,children:E.jsx(B5,{loading:null,persistor:ude,children:E.jsx(Rce,{})})})})})}));
