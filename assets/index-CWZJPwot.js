var F3=Object.defineProperty;var U3=(n,e,t)=>e in n?F3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var na=(n,e,t)=>U3(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var DI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tw={exports:{}},Yd={},nw={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OI;function B3(){if(OI)return ut;OI=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function C(H,Z,ge){this.props=H,this.context=Z,this.refs=w,this.updater=ge||_}C.prototype.isReactComponent={},C.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},C.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function b(){}b.prototype=C.prototype;function O(H,Z,ge){this.props=H,this.context=Z,this.refs=w,this.updater=ge||_}var L=O.prototype=new b;L.constructor=O,T(L,C.prototype),L.isPureReactComponent=!0;var V=Array.isArray,U=Object.prototype.hasOwnProperty,W={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(H,Z,ge){var _e,Ee={},Re=null,xe=null;if(Z!=null)for(_e in Z.ref!==void 0&&(xe=Z.ref),Z.key!==void 0&&(Re=""+Z.key),Z)U.call(Z,_e)&&!k.hasOwnProperty(_e)&&(Ee[_e]=Z[_e]);var Oe=arguments.length-2;if(Oe===1)Ee.children=ge;else if(1<Oe){for(var Ve=Array(Oe),_t=0;_t<Oe;_t++)Ve[_t]=arguments[_t+2];Ee.children=Ve}if(H&&H.defaultProps)for(_e in Oe=H.defaultProps,Oe)Ee[_e]===void 0&&(Ee[_e]=Oe[_e]);return{$$typeof:n,type:H,key:Re,ref:xe,props:Ee,_owner:W.current}}function P(H,Z){return{$$typeof:n,type:H.type,key:Z,ref:H.ref,props:H.props,_owner:H._owner}}function N(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function j(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return Z[ge]})}var B=/\/+/g;function M(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?j(""+H.key):Z.toString(36)}function ne(H,Z,ge,_e,Ee){var Re=typeof H;(Re==="undefined"||Re==="boolean")&&(H=null);var xe=!1;if(H===null)xe=!0;else switch(Re){case"string":case"number":xe=!0;break;case"object":switch(H.$$typeof){case n:case e:xe=!0}}if(xe)return xe=H,Ee=Ee(xe),H=_e===""?"."+M(xe,0):_e,V(Ee)?(ge="",H!=null&&(ge=H.replace(B,"$&/")+"/"),ne(Ee,Z,ge,"",function(_t){return _t})):Ee!=null&&(N(Ee)&&(Ee=P(Ee,ge+(!Ee.key||xe&&xe.key===Ee.key?"":(""+Ee.key).replace(B,"$&/")+"/")+H)),Z.push(Ee)),1;if(xe=0,_e=_e===""?".":_e+":",V(H))for(var Oe=0;Oe<H.length;Oe++){Re=H[Oe];var Ve=_e+M(Re,Oe);xe+=ne(Re,Z,ge,Ve,Ee)}else if(Ve=y(H),typeof Ve=="function")for(H=Ve.call(H),Oe=0;!(Re=H.next()).done;)Re=Re.value,Ve=_e+M(Re,Oe++),xe+=ne(Re,Z,ge,Ve,Ee);else if(Re==="object")throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return xe}function ae(H,Z,ge){if(H==null)return H;var _e=[],Ee=0;return ne(H,_e,"","",function(Re){return Z.call(ge,Re,Ee++)}),_e}function fe(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var re={current:null},te={transition:null},ue={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:te,ReactCurrentOwner:W};function $(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:ae,forEach:function(H,Z,ge){ae(H,function(){Z.apply(this,arguments)},ge)},count:function(H){var Z=0;return ae(H,function(){Z++}),Z},toArray:function(H){return ae(H,function(Z){return Z})||[]},only:function(H){if(!N(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},ut.Component=C,ut.Fragment=t,ut.Profiler=i,ut.PureComponent=O,ut.StrictMode=r,ut.Suspense=c,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,ut.act=$,ut.cloneElement=function(H,Z,ge){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var _e=T({},H.props),Ee=H.key,Re=H.ref,xe=H._owner;if(Z!=null){if(Z.ref!==void 0&&(Re=Z.ref,xe=W.current),Z.key!==void 0&&(Ee=""+Z.key),H.type&&H.type.defaultProps)var Oe=H.type.defaultProps;for(Ve in Z)U.call(Z,Ve)&&!k.hasOwnProperty(Ve)&&(_e[Ve]=Z[Ve]===void 0&&Oe!==void 0?Oe[Ve]:Z[Ve])}var Ve=arguments.length-2;if(Ve===1)_e.children=ge;else if(1<Ve){Oe=Array(Ve);for(var _t=0;_t<Ve;_t++)Oe[_t]=arguments[_t+2];_e.children=Oe}return{$$typeof:n,type:H.type,key:Ee,ref:Re,props:_e,_owner:xe}},ut.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:s,_context:H},H.Consumer=H},ut.createElement=R,ut.createFactory=function(H){var Z=R.bind(null,H);return Z.type=H,Z},ut.createRef=function(){return{current:null}},ut.forwardRef=function(H){return{$$typeof:l,render:H}},ut.isValidElement=N,ut.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:fe}},ut.memo=function(H,Z){return{$$typeof:h,type:H,compare:Z===void 0?null:Z}},ut.startTransition=function(H){var Z=te.transition;te.transition={};try{H()}finally{te.transition=Z}},ut.unstable_act=$,ut.useCallback=function(H,Z){return re.current.useCallback(H,Z)},ut.useContext=function(H){return re.current.useContext(H)},ut.useDebugValue=function(){},ut.useDeferredValue=function(H){return re.current.useDeferredValue(H)},ut.useEffect=function(H,Z){return re.current.useEffect(H,Z)},ut.useId=function(){return re.current.useId()},ut.useImperativeHandle=function(H,Z,ge){return re.current.useImperativeHandle(H,Z,ge)},ut.useInsertionEffect=function(H,Z){return re.current.useInsertionEffect(H,Z)},ut.useLayoutEffect=function(H,Z){return re.current.useLayoutEffect(H,Z)},ut.useMemo=function(H,Z){return re.current.useMemo(H,Z)},ut.useReducer=function(H,Z,ge){return re.current.useReducer(H,Z,ge)},ut.useRef=function(H){return re.current.useRef(H)},ut.useState=function(H){return re.current.useState(H)},ut.useSyncExternalStore=function(H,Z,ge){return re.current.useSyncExternalStore(H,Z,ge)},ut.useTransition=function(){return re.current.useTransition()},ut.version="18.3.1",ut}var MI;function k_(){return MI||(MI=1,nw.exports=B3()),nw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LI;function $3(){if(LI)return Yd;LI=1;var n=k_(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,h){var f,m={},y=null,_=null;h!==void 0&&(y=""+h),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(_=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(m[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:l,key:y,ref:_,props:m,_owner:i.current}}return Yd.Fragment=t,Yd.jsx=o,Yd.jsxs=o,Yd}var VI;function z3(){return VI||(VI=1,tw.exports=$3()),tw.exports}var E=z3(),A=k_();const Mn=Fo(A);var xg={},rw={exports:{}},Ii={},iw={exports:{}},sw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI;function W3(){return jI||(jI=1,function(n){function e(te,ue){var $=te.length;te.push(ue);e:for(;0<$;){var H=$-1>>>1,Z=te[H];if(0<i(Z,ue))te[H]=ue,te[$]=Z,$=H;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ue=te[0],$=te.pop();if($!==ue){te[0]=$;e:for(var H=0,Z=te.length,ge=Z>>>1;H<ge;){var _e=2*(H+1)-1,Ee=te[_e],Re=_e+1,xe=te[Re];if(0>i(Ee,$))Re<Z&&0>i(xe,Ee)?(te[H]=xe,te[Re]=$,H=Re):(te[H]=Ee,te[_e]=$,H=_e);else if(Re<Z&&0>i(xe,$))te[H]=xe,te[Re]=$,H=Re;else break e}}return ue}function i(te,ue){var $=te.sortIndex-ue.sortIndex;return $!==0?$:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,m=null,y=3,_=!1,T=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(te){for(var ue=t(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=te)r(h),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=t(h)}}function V(te){if(w=!1,L(te),!T)if(t(c)!==null)T=!0,fe(U);else{var ue=t(h);ue!==null&&re(V,ue.startTime-te)}}function U(te,ue){T=!1,w&&(w=!1,b(R),R=-1),_=!0;var $=y;try{for(L(ue),m=t(c);m!==null&&(!(m.expirationTime>ue)||te&&!j());){var H=m.callback;if(typeof H=="function"){m.callback=null,y=m.priorityLevel;var Z=H(m.expirationTime<=ue);ue=n.unstable_now(),typeof Z=="function"?m.callback=Z:m===t(c)&&r(c),L(ue)}else r(c);m=t(c)}if(m!==null)var ge=!0;else{var _e=t(h);_e!==null&&re(V,_e.startTime-ue),ge=!1}return ge}finally{m=null,y=$,_=!1}}var W=!1,k=null,R=-1,P=5,N=-1;function j(){return!(n.unstable_now()-N<P)}function B(){if(k!==null){var te=n.unstable_now();N=te;var ue=!0;try{ue=k(!0,te)}finally{ue?M():(W=!1,k=null)}}else W=!1}var M;if(typeof O=="function")M=function(){O(B)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ae=ne.port2;ne.port1.onmessage=B,M=function(){ae.postMessage(null)}}else M=function(){C(B,0)};function fe(te){k=te,W||(W=!0,M())}function re(te,ue){R=C(function(){te(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){T||_||(T=!0,fe(U))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(te){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var $=y;y=ue;try{return te()}finally{y=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var $=y;y=te;try{return ue()}finally{y=$}},n.unstable_scheduleCallback=function(te,ue,$){var H=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,te){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=$+Z,te={id:f++,callback:ue,priorityLevel:te,startTime:$,expirationTime:Z,sortIndex:-1},$>H?(te.sortIndex=$,e(h,te),t(c)===null&&te===t(h)&&(w?(b(R),R=-1):w=!0,re(V,$-H))):(te.sortIndex=Z,e(c,te),T||_||(T=!0,fe(U))),te},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(te){var ue=y;return function(){var $=y;y=ue;try{return te.apply(this,arguments)}finally{y=$}}}}(sw)),sw}var FI;function H3(){return FI||(FI=1,iw.exports=W3()),iw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function q3(){if(UI)return Ii;UI=1;var n=k_(),e=H3();function t(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function y(a){return c.call(m,a)?!0:c.call(f,a)?!1:h.test(a)?m[a]=!0:(f[a]=!0,!1)}function _(a,u,d,g){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,u,d,g){if(u===null||typeof u>"u"||_(a,u,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(a,u,d,g,v,S,D){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=a,this.type=u,this.sanitizeURL=S,this.removeEmptyString=D}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];C[u]=new w(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function O(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(b,O);C[u]=new w(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(b,O);C[u]=new w(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(b,O);C[u]=new w(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function L(a,u,d,g){var v=C.hasOwnProperty(u)?C[u]:null;(v!==null?v.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(T(u,d,v,g)&&(d=null),g||v===null?y(u)&&(d===null?a.removeAttribute(u):a.setAttribute(u,""+d)):v.mustUseProperty?a[v.propertyName]=d===null?v.type===3?!1:"":d:(u=v.attributeName,g=v.attributeNamespace,d===null?a.removeAttribute(u):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,g?a.setAttributeNS(g,u,d):a.setAttribute(u,d))))}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),W=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),j=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),te=Symbol.iterator;function ue(a){return a===null||typeof a!="object"?null:(a=te&&a[te]||a["@@iterator"],typeof a=="function"?a:null)}var $=Object.assign,H;function Z(a){if(H===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);H=u&&u[1]||""}return`
`+H+a}var ge=!1;function _e(a,u){if(!a||ge)return"";ge=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Q){var g=Q}Reflect.construct(a,[],u)}else{try{u.call()}catch(Q){g=Q}a.call(u.prototype)}else{try{throw Error()}catch(Q){g=Q}a()}}catch(Q){if(Q&&g&&typeof Q.stack=="string"){for(var v=Q.stack.split(`
`),S=g.stack.split(`
`),D=v.length-1,z=S.length-1;1<=D&&0<=z&&v[D]!==S[z];)z--;for(;1<=D&&0<=z;D--,z--)if(v[D]!==S[z]){if(D!==1||z!==1)do if(D--,z--,0>z||v[D]!==S[z]){var q=`
`+v[D].replace(" at new "," at ");return a.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",a.displayName)),q}while(1<=D&&0<=z);break}}}finally{ge=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?Z(a):""}function Ee(a){switch(a.tag){case 5:return Z(a.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return a=_e(a.type,!1),a;case 11:return a=_e(a.type.render,!1),a;case 1:return a=_e(a.type,!0),a;default:return""}}function Re(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case k:return"Fragment";case W:return"Portal";case P:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case ne:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case j:return(a.displayName||"Context")+".Consumer";case N:return(a._context.displayName||"Context")+".Provider";case B:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ae:return u=a.displayName||null,u!==null?u:Re(a.type)||"Memo";case fe:u=a._payload,a=a._init;try{return Re(a(u))}catch{}}return null}function xe(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Oe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ve(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function _t(a){var u=Ve(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,S=d.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return v.call(this)},set:function(D){g=""+D,S.call(this,D)}}),Object.defineProperty(a,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Mt(a){a._valueTracker||(a._valueTracker=_t(a))}function Bt(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return a&&(g=Ve(a)?a.checked?"true":"false":a.value),a=g,a!==d?(u.setValue(a),!0):!1}function Ge(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ze(a,u){var d=u.checked;return $({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function At(a,u){var d=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;d=Oe(u.value!=null?u.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function vt(a,u){u=u.checked,u!=null&&L(a,"checked",u,!1)}function J(a,u){vt(a,u);var d=Oe(u.value),g=u.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Rn(a,u.type,d):u.hasOwnProperty("defaultValue")&&Rn(a,u.type,Oe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function cn(a,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,d||u===a.value||(a.value=u),a.defaultValue=u}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Rn(a,u,d){(u!=="number"||Ge(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var Pn=Array.isArray;function ce(a,u,d,g){if(a=a.options,u){u={};for(var v=0;v<d.length;v++)u["$"+d[v]]=!0;for(d=0;d<a.length;d++)v=u.hasOwnProperty("$"+a[d].value),a[d].selected!==v&&(a[d].selected=v),v&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Oe(d),u=null,v=0;v<a.length;v++){if(a[v].value===d){a[v].selected=!0,g&&(a[v].defaultSelected=!0);return}u!==null||a[v].disabled||(u=a[v])}u!==null&&(u.selected=!0)}}function nt(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return $({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function xt(a,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(t(92));if(Pn(d)){if(1<d.length)throw Error(t(93));d=d[0]}u=d}u==null&&(u=""),d=u}a._wrapperState={initialValue:Oe(d)}}function Kt(a,u){var d=Oe(u.value),g=Oe(u.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),u.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function st(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function pt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?pt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ht,Jt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,g,v){MSApp.execUnsafeLocalFunction(function(){return a(u,d,g,v)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Ht=Ht||document.createElement("div"),Ht.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ht.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Nt(a,u){if(u){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=u;return}}a.textContent=u}var $n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mt=["Webkit","ms","Moz","O"];Object.keys($n).forEach(function(a){mt.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),$n[u]=$n[a]})});function ar(a,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||$n.hasOwnProperty(a)&&$n[a]?(""+u).trim():u+"px"}function kn(a,u){a=a.style;for(var d in u)if(u.hasOwnProperty(d)){var g=d.indexOf("--")===0,v=ar(d,u[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,v):a[d]=v}}var _i=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ri(a,u){if(u){if(_i[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function Tr(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jn=null;function Qe(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Er=null,Zt=null,nn=null;function Rt(a){if(a=Dd(a)){if(typeof Er!="function")throw Error(t(280));var u=a.stateNode;u&&(u=jm(u),Er(a.stateNode,a.type,u))}}function Pt(a){Zt?nn?nn.push(a):nn=[a]:Zt=a}function xr(){if(Zt){var a=Zt,u=nn;if(nn=Zt=null,Rt(a),u)for(a=0;a<u.length;a++)Rt(u[a])}}function rt(a,u){return a(u)}function Nn(){}var Fe=!1;function ke(a,u,d){if(Fe)return a(u,d);Fe=!0;try{return rt(a,u,d)}finally{Fe=!1,(Zt!==null||nn!==null)&&(Nn(),xr())}}function Me(a,u){var d=a.stateNode;if(d===null)return null;var g=jm(d);if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(t(231,u,typeof d));return d}var pe=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){pe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch{pe=!1}function Se(a,u,d,g,v,S,D,z,q){var Q=Array.prototype.slice.call(arguments,3);try{u.apply(d,Q)}catch(le){this.onError(le)}}var je=!1,$t=null,We=!1,zt=null,hn={onError:function(a){je=!0,$t=a}};function Dt(a,u,d,g,v,S,D,z,q){je=!1,$t=null,Se.apply(hn,arguments)}function Lt(a,u,d,g,v,S,D,z,q){if(Dt.apply(this,arguments),je){if(je){var Q=$t;je=!1,$t=null}else throw Error(t(198));We||(We=!0,zt=Q)}}function it(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function Le(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function De(a){if(it(a)!==a)throw Error(t(188))}function ot(a){var u=a.alternate;if(!u){if(u=it(a),u===null)throw Error(t(188));return u!==a?null:a}for(var d=a,g=u;;){var v=d.return;if(v===null)break;var S=v.alternate;if(S===null){if(g=v.return,g!==null){d=g;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===d)return De(v),a;if(S===g)return De(v),u;S=S.sibling}throw Error(t(188))}if(d.return!==g.return)d=v,g=S;else{for(var D=!1,z=v.child;z;){if(z===d){D=!0,d=v,g=S;break}if(z===g){D=!0,g=v,d=S;break}z=z.sibling}if(!D){for(z=S.child;z;){if(z===d){D=!0,d=S,g=v;break}if(z===g){D=!0,g=S,d=v;break}z=z.sibling}if(!D)throw Error(t(189))}}if(d.alternate!==g)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?a:u}function qt(a){return a=ot(a),a!==null?gt(a):null}function gt(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=gt(a);if(u!==null)return u;a=a.sibling}return null}var Gt=e.unstable_scheduleCallback,dn=e.unstable_cancelCallback,vi=e.unstable_shouldYield,Pa=e.unstable_requestPaint,et=e.unstable_now,fn=e.unstable_getCurrentPriorityLevel,lr=e.unstable_ImmediatePriority,us=e.unstable_UserBlockingPriority,ii=e.unstable_NormalPriority,Os=e.unstable_LowPriority,si=e.unstable_IdlePriority,Bi=null,ur=null;function $i(a){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Bi,a,void 0,(a.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:gm,yd=Math.log,mm=Math.LN2;function gm(a){return a>>>=0,a===0?32:31-(yd(a)/mm|0)|0}var hc=64,dc=4194304;function ka(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Hl(a,u){var d=a.pendingLanes;if(d===0)return 0;var g=0,v=a.suspendedLanes,S=a.pingedLanes,D=d&268435455;if(D!==0){var z=D&~v;z!==0?g=ka(z):(S&=D,S!==0&&(g=ka(S)))}else D=d&~v,D!==0?g=ka(D):S!==0&&(g=ka(S));if(g===0)return 0;if(u!==0&&u!==g&&(u&v)===0&&(v=g&-g,S=u&-u,v>=S||v===16&&(S&4194240)!==0))return u;if((g&4)!==0&&(g|=d&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=g;0<u;)d=31-oi(u),v=1<<d,g|=a[d],u&=~v;return g}function kv(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(a,u){for(var d=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,S=a.pendingLanes;0<S;){var D=31-oi(S),z=1<<D,q=v[D];q===-1?((z&d)===0||(z&g)!==0)&&(v[D]=kv(z,u)):q<=u&&(a.expiredLanes|=z),S&=~z}}function zi(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ql(){var a=hc;return hc<<=1,(hc&4194240)===0&&(hc=64),a}function Na(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function Da(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-oi(u),a[u]=d}function Xt(a,u){var d=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var v=31-oi(d),S=1<<v;u[v]=0,g[v]=-1,a[v]=-1,d&=~S}}function Oa(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var g=31-oi(d),v=1<<g;v&u|a[g]&u&&(a[g]|=u),d&=~v}}var wt=0;function Ma(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var ym,fc,_m,vm,wm,_d=!1,oo=[],Sr=null,Ms=null,Ls=null,La=new Map,cs=new Map,ao=[],Nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tm(a,u){switch(a){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":La.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(u.pointerId)}}function wi(a,u,d,g,v,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[v]},u!==null&&(u=Dd(u),u!==null&&fc(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),a)}function Dv(a,u,d,g,v){switch(u){case"focusin":return Sr=wi(Sr,a,u,d,g,v),!0;case"dragenter":return Ms=wi(Ms,a,u,d,g,v),!0;case"mouseover":return Ls=wi(Ls,a,u,d,g,v),!0;case"pointerover":var S=v.pointerId;return La.set(S,wi(La.get(S)||null,a,u,d,g,v)),!0;case"gotpointercapture":return S=v.pointerId,cs.set(S,wi(cs.get(S)||null,a,u,d,g,v)),!0}return!1}function Em(a){var u=Ql(a.target);if(u!==null){var d=it(u);if(d!==null){if(u=d.tag,u===13){if(u=Le(d),u!==null){a.blockedOn=u,wm(a.priority,function(){_m(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Wo(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var d=pc(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Jn=g,d.target.dispatchEvent(g),Jn=null}else return u=Dd(d),u!==null&&fc(u),a.blockedOn=d,!1;u.shift()}return!0}function Gl(a,u,d){Wo(a)&&d.delete(u)}function xm(){_d=!1,Sr!==null&&Wo(Sr)&&(Sr=null),Ms!==null&&Wo(Ms)&&(Ms=null),Ls!==null&&Wo(Ls)&&(Ls=null),La.forEach(Gl),cs.forEach(Gl)}function Vs(a,u){a.blockedOn===u&&(a.blockedOn=null,_d||(_d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xm)))}function js(a){function u(v){return Vs(v,a)}if(0<oo.length){Vs(oo[0],a);for(var d=1;d<oo.length;d++){var g=oo[d];g.blockedOn===a&&(g.blockedOn=null)}}for(Sr!==null&&Vs(Sr,a),Ms!==null&&Vs(Ms,a),Ls!==null&&Vs(Ls,a),La.forEach(u),cs.forEach(u),d=0;d<ao.length;d++)g=ao[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<ao.length&&(d=ao[0],d.blockedOn===null);)Em(d),d.blockedOn===null&&ao.shift()}var Ho=V.ReactCurrentBatchConfig,Va=!0;function pn(a,u,d,g){var v=wt,S=Ho.transition;Ho.transition=null;try{wt=1,vd(a,u,d,g)}finally{wt=v,Ho.transition=S}}function Ov(a,u,d,g){var v=wt,S=Ho.transition;Ho.transition=null;try{wt=4,vd(a,u,d,g)}finally{wt=v,Ho.transition=S}}function vd(a,u,d,g){if(Va){var v=pc(a,u,d,g);if(v===null)Hv(a,u,g,Yl,d),Tm(a,g);else if(Dv(v,a,u,d,g))g.stopPropagation();else if(Tm(a,g),u&4&&-1<Nv.indexOf(a)){for(;v!==null;){var S=Dd(v);if(S!==null&&ym(S),S=pc(a,u,d,g),S===null&&Hv(a,u,g,Yl,d),S===v)break;v=S}v!==null&&g.stopPropagation()}else Hv(a,u,g,null,d)}}var Yl=null;function pc(a,u,d,g){if(Yl=null,a=Qe(g),a=Ql(a),a!==null)if(u=it(a),u===null)a=null;else if(d=u.tag,d===13){if(a=Le(u),a!==null)return a;a=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Yl=a,null}function wd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fn()){case lr:return 1;case us:return 4;case ii:case Os:return 16;case si:return 536870912;default:return 16}default:return 16}}var Wi=null,mc=null,Ti=null;function Td(){if(Ti)return Ti;var a,u=mc,d=u.length,g,v="value"in Wi?Wi.value:Wi.textContent,S=v.length;for(a=0;a<d&&u[a]===v[a];a++);var D=d-a;for(g=1;g<=D&&u[d-g]===v[S-g];g++);return Ti=v.slice(a,1<g?1-g:void 0)}function gc(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function lo(){return!0}function Ed(){return!1}function Cr(a){function u(d,g,v,S,D){this._reactName=d,this._targetInst=v,this.type=g,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(d=a[z],this[z]=d?d(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?lo:Ed,this.isPropagationStopped=Ed,this}return $(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),u}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yc=Cr(Fs),uo=$({},Fs,{view:0,detail:0}),Mv=Cr(uo),_c,qo,ja,Kl=$({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ja&&(ja&&a.type==="mousemove"?(_c=a.screenX-ja.screenX,qo=a.screenY-ja.screenY):qo=_c=0,ja=a),_c)},movementY:function(a){return"movementY"in a?a.movementY:qo}}),vc=Cr(Kl),xd=$({},Kl,{dataTransfer:0}),Sm=Cr(xd),wc=$({},uo,{relatedTarget:0}),Tc=Cr(wc),Cm=$({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Go=Cr(Cm),bm=$({},Fs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Im=Cr(bm),Am=$({},Fs,{data:0}),Sd=Cr(Am),Ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pm(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Rm[a])?!!u[a]:!1}function co(){return Pm}var p=$({},uo,{key:function(a){if(a.key){var u=Ec[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=gc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ai[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(a){return a.type==="keypress"?gc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?gc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),x=Cr(p),I=$({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F=Cr(I),Y=$({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),ee=Cr(Y),me=$({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wt=Cr(me),Zn=$({},Kl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),St=Cr(Zn),cr=[9,13,27,32],zn=l&&"CompositionEvent"in window,hs=null;l&&"documentMode"in document&&(hs=document.documentMode);var Hi=l&&"TextEvent"in window&&!hs,Xl=l&&(!zn||hs&&8<hs&&11>=hs),xc=" ",IC=!1;function AC(a,u){switch(a){case"keyup":return cr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RC(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Sc=!1;function L4(a,u){switch(a){case"compositionend":return RC(u);case"keypress":return u.which!==32?null:(IC=!0,xc);case"textInput":return a=u.data,a===xc&&IC?null:a;default:return null}}function V4(a,u){if(Sc)return a==="compositionend"||!zn&&AC(a,u)?(a=Td(),Ti=mc=Wi=null,Sc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Xl&&u.locale!=="ko"?null:u.data;default:return null}}var j4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PC(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!j4[a.type]:u==="textarea"}function kC(a,u,d,g){Pt(g),u=Mm(u,"onChange"),0<u.length&&(d=new yc("onChange","change",null,d,g),a.push({event:d,listeners:u}))}var Cd=null,bd=null;function F4(a){KC(a,0)}function km(a){var u=Rc(a);if(Bt(u))return a}function U4(a,u){if(a==="change")return u}var NC=!1;if(l){var Lv;if(l){var Vv="oninput"in document;if(!Vv){var DC=document.createElement("div");DC.setAttribute("oninput","return;"),Vv=typeof DC.oninput=="function"}Lv=Vv}else Lv=!1;NC=Lv&&(!document.documentMode||9<document.documentMode)}function OC(){Cd&&(Cd.detachEvent("onpropertychange",MC),bd=Cd=null)}function MC(a){if(a.propertyName==="value"&&km(bd)){var u=[];kC(u,bd,a,Qe(a)),ke(F4,u)}}function B4(a,u,d){a==="focusin"?(OC(),Cd=u,bd=d,Cd.attachEvent("onpropertychange",MC)):a==="focusout"&&OC()}function $4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return km(bd)}function z4(a,u){if(a==="click")return km(u)}function W4(a,u){if(a==="input"||a==="change")return km(u)}function H4(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Us=typeof Object.is=="function"?Object.is:H4;function Id(a,u){if(Us(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!c.call(u,v)||!Us(a[v],u[v]))return!1}return!0}function LC(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function VC(a,u){var d=LC(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=u&&g>=u)return{node:d,offset:u-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=LC(d)}}function jC(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?jC(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function FC(){for(var a=window,u=Ge();u instanceof a.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)a=u.contentWindow;else break;u=Ge(a.document)}return u}function jv(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function q4(a){var u=FC(),d=a.focusedElem,g=a.selectionRange;if(u!==d&&d&&d.ownerDocument&&jC(d.ownerDocument.documentElement,d)){if(g!==null&&jv(d)){if(u=g.start,a=g.end,a===void 0&&(a=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(a,d.value.length);else if(a=(u=d.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var v=d.textContent.length,S=Math.min(g.start,v);g=g.end===void 0?S:Math.min(g.end,v),!a.extend&&S>g&&(v=g,g=S,S=v),v=VC(d,S);var D=VC(d,g);v&&D&&(a.rangeCount!==1||a.anchorNode!==v.node||a.anchorOffset!==v.offset||a.focusNode!==D.node||a.focusOffset!==D.offset)&&(u=u.createRange(),u.setStart(v.node,v.offset),a.removeAllRanges(),S>g?(a.addRange(u),a.extend(D.node,D.offset)):(u.setEnd(D.node,D.offset),a.addRange(u)))}}for(u=[],a=d;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)a=u[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var G4=l&&"documentMode"in document&&11>=document.documentMode,Cc=null,Fv=null,Ad=null,Uv=!1;function UC(a,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Uv||Cc==null||Cc!==Ge(g)||(g=Cc,"selectionStart"in g&&jv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ad&&Id(Ad,g)||(Ad=g,g=Mm(Fv,"onSelect"),0<g.length&&(u=new yc("onSelect","select",null,u,d),a.push({event:u,listeners:g}),u.target=Cc)))}function Nm(a,u){var d={};return d[a.toLowerCase()]=u.toLowerCase(),d["Webkit"+a]="webkit"+u,d["Moz"+a]="moz"+u,d}var bc={animationend:Nm("Animation","AnimationEnd"),animationiteration:Nm("Animation","AnimationIteration"),animationstart:Nm("Animation","AnimationStart"),transitionend:Nm("Transition","TransitionEnd")},Bv={},BC={};l&&(BC=document.createElement("div").style,"AnimationEvent"in window||(delete bc.animationend.animation,delete bc.animationiteration.animation,delete bc.animationstart.animation),"TransitionEvent"in window||delete bc.transitionend.transition);function Dm(a){if(Bv[a])return Bv[a];if(!bc[a])return a;var u=bc[a],d;for(d in u)if(u.hasOwnProperty(d)&&d in BC)return Bv[a]=u[d];return a}var $C=Dm("animationend"),zC=Dm("animationiteration"),WC=Dm("animationstart"),HC=Dm("transitionend"),qC=new Map,GC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(a,u){qC.set(a,u),s(u,[a])}for(var $v=0;$v<GC.length;$v++){var zv=GC[$v],Y4=zv.toLowerCase(),K4=zv[0].toUpperCase()+zv.slice(1);Fa(Y4,"on"+K4)}Fa($C,"onAnimationEnd"),Fa(zC,"onAnimationIteration"),Fa(WC,"onAnimationStart"),Fa("dblclick","onDoubleClick"),Fa("focusin","onFocus"),Fa("focusout","onBlur"),Fa(HC,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rd));function YC(a,u,d){var g=a.type||"unknown-event";a.currentTarget=d,Lt(g,u,void 0,a),a.currentTarget=null}function KC(a,u){u=(u&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],v=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var D=g.length-1;0<=D;D--){var z=g[D],q=z.instance,Q=z.currentTarget;if(z=z.listener,q!==S&&v.isPropagationStopped())break e;YC(v,z,Q),S=q}else for(D=0;D<g.length;D++){if(z=g[D],q=z.instance,Q=z.currentTarget,z=z.listener,q!==S&&v.isPropagationStopped())break e;YC(v,z,Q),S=q}}}if(We)throw a=zt,We=!1,zt=null,a}function rn(a,u){var d=u[Qv];d===void 0&&(d=u[Qv]=new Set);var g=a+"__bubble";d.has(g)||(XC(u,a,2,!1),d.add(g))}function Wv(a,u,d){var g=0;u&&(g|=4),XC(d,a,g,u)}var Om="_reactListening"+Math.random().toString(36).slice(2);function Pd(a){if(!a[Om]){a[Om]=!0,r.forEach(function(d){d!=="selectionchange"&&(X4.has(d)||Wv(d,!1,a),Wv(d,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Om]||(u[Om]=!0,Wv("selectionchange",!1,u))}}function XC(a,u,d,g){switch(wd(u)){case 1:var v=pn;break;case 4:v=Ov;break;default:v=vd}d=v.bind(null,u,d,a),v=void 0,!pe||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),g?v!==void 0?a.addEventListener(u,d,{capture:!0,passive:v}):a.addEventListener(u,d,!0):v!==void 0?a.addEventListener(u,d,{passive:v}):a.addEventListener(u,d,!1)}function Hv(a,u,d,g,v){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var z=g.stateNode.containerInfo;if(z===v||z.nodeType===8&&z.parentNode===v)break;if(D===4)for(D=g.return;D!==null;){var q=D.tag;if((q===3||q===4)&&(q=D.stateNode.containerInfo,q===v||q.nodeType===8&&q.parentNode===v))return;D=D.return}for(;z!==null;){if(D=Ql(z),D===null)return;if(q=D.tag,q===5||q===6){g=S=D;continue e}z=z.parentNode}}g=g.return}ke(function(){var Q=S,le=Qe(d),he=[];e:{var oe=qC.get(a);if(oe!==void 0){var ve=yc,be=a;switch(a){case"keypress":if(gc(d)===0)break e;case"keydown":case"keyup":ve=x;break;case"focusin":be="focus",ve=Tc;break;case"focusout":be="blur",ve=Tc;break;case"beforeblur":case"afterblur":ve=Tc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=ee;break;case $C:case zC:case WC:ve=Go;break;case HC:ve=Wt;break;case"scroll":ve=Mv;break;case"wheel":ve=St;break;case"copy":case"cut":case"paste":ve=Im;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=F}var Ae=(u&4)!==0,Vn=!Ae&&a==="scroll",K=Ae?oe!==null?oe+"Capture":null:oe;Ae=[];for(var G=Q,X;G!==null;){X=G;var de=X.stateNode;if(X.tag===5&&de!==null&&(X=de,K!==null&&(de=Me(G,K),de!=null&&Ae.push(kd(G,de,X)))),Vn)break;G=G.return}0<Ae.length&&(oe=new ve(oe,be,null,d,le),he.push({event:oe,listeners:Ae}))}}if((u&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",ve=a==="mouseout"||a==="pointerout",oe&&d!==Jn&&(be=d.relatedTarget||d.fromElement)&&(Ql(be)||be[Yo]))break e;if((ve||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ve?(be=d.relatedTarget||d.toElement,ve=Q,be=be?Ql(be):null,be!==null&&(Vn=it(be),be!==Vn||be.tag!==5&&be.tag!==6)&&(be=null)):(ve=null,be=Q),ve!==be)){if(Ae=vc,de="onMouseLeave",K="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=F,de="onPointerLeave",K="onPointerEnter",G="pointer"),Vn=ve==null?oe:Rc(ve),X=be==null?oe:Rc(be),oe=new Ae(de,G+"leave",ve,d,le),oe.target=Vn,oe.relatedTarget=X,de=null,Ql(le)===Q&&(Ae=new Ae(K,G+"enter",be,d,le),Ae.target=X,Ae.relatedTarget=Vn,de=Ae),Vn=de,ve&&be)t:{for(Ae=ve,K=be,G=0,X=Ae;X;X=Ic(X))G++;for(X=0,de=K;de;de=Ic(de))X++;for(;0<G-X;)Ae=Ic(Ae),G--;for(;0<X-G;)K=Ic(K),X--;for(;G--;){if(Ae===K||K!==null&&Ae===K.alternate)break t;Ae=Ic(Ae),K=Ic(K)}Ae=null}else Ae=null;ve!==null&&QC(he,oe,ve,Ae,!1),be!==null&&Vn!==null&&QC(he,Vn,be,Ae,!0)}}e:{if(oe=Q?Rc(Q):window,ve=oe.nodeName&&oe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&oe.type==="file")var Pe=U4;else if(PC(oe))if(NC)Pe=W4;else{Pe=$4;var Be=B4}else(ve=oe.nodeName)&&ve.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Pe=z4);if(Pe&&(Pe=Pe(a,Q))){kC(he,Pe,d,le);break e}Be&&Be(a,oe,Q),a==="focusout"&&(Be=oe._wrapperState)&&Be.controlled&&oe.type==="number"&&Rn(oe,"number",oe.value)}switch(Be=Q?Rc(Q):window,a){case"focusin":(PC(Be)||Be.contentEditable==="true")&&(Cc=Be,Fv=Q,Ad=null);break;case"focusout":Ad=Fv=Cc=null;break;case"mousedown":Uv=!0;break;case"contextmenu":case"mouseup":case"dragend":Uv=!1,UC(he,d,le);break;case"selectionchange":if(G4)break;case"keydown":case"keyup":UC(he,d,le)}var $e;if(zn)e:{switch(a){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Sc?AC(a,d)&&(Xe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Xe="onCompositionStart");Xe&&(Xl&&d.locale!=="ko"&&(Sc||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Sc&&($e=Td()):(Wi=le,mc="value"in Wi?Wi.value:Wi.textContent,Sc=!0)),Be=Mm(Q,Xe),0<Be.length&&(Xe=new Sd(Xe,a,null,d,le),he.push({event:Xe,listeners:Be}),$e?Xe.data=$e:($e=RC(d),$e!==null&&(Xe.data=$e)))),($e=Hi?L4(a,d):V4(a,d))&&(Q=Mm(Q,"onBeforeInput"),0<Q.length&&(le=new Sd("onBeforeInput","beforeinput",null,d,le),he.push({event:le,listeners:Q}),le.data=$e))}KC(he,u)})}function kd(a,u,d){return{instance:a,listener:u,currentTarget:d}}function Mm(a,u){for(var d=u+"Capture",g=[];a!==null;){var v=a,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=Me(a,d),S!=null&&g.unshift(kd(a,S,v)),S=Me(a,u),S!=null&&g.push(kd(a,S,v))),a=a.return}return g}function Ic(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function QC(a,u,d,g,v){for(var S=u._reactName,D=[];d!==null&&d!==g;){var z=d,q=z.alternate,Q=z.stateNode;if(q!==null&&q===g)break;z.tag===5&&Q!==null&&(z=Q,v?(q=Me(d,S),q!=null&&D.unshift(kd(d,q,z))):v||(q=Me(d,S),q!=null&&D.push(kd(d,q,z)))),d=d.return}D.length!==0&&a.push({event:u,listeners:D})}var Q4=/\r\n?/g,J4=/\u0000|\uFFFD/g;function JC(a){return(typeof a=="string"?a:""+a).replace(Q4,`
`).replace(J4,"")}function Lm(a,u,d){if(u=JC(u),JC(a)!==u&&d)throw Error(t(425))}function Vm(){}var qv=null,Gv=null;function Yv(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Kv=typeof setTimeout=="function"?setTimeout:void 0,Z4=typeof clearTimeout=="function"?clearTimeout:void 0,ZC=typeof Promise=="function"?Promise:void 0,e3=typeof queueMicrotask=="function"?queueMicrotask:typeof ZC<"u"?function(a){return ZC.resolve(null).then(a).catch(t3)}:Kv;function t3(a){setTimeout(function(){throw a})}function Xv(a,u){var d=u,g=0;do{var v=d.nextSibling;if(a.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(g===0){a.removeChild(v),js(u);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=v}while(d);js(u)}function Ua(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function eb(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return a;u--}else d==="/$"&&u++}a=a.previousSibling}return null}var Ac=Math.random().toString(36).slice(2),ho="__reactFiber$"+Ac,Nd="__reactProps$"+Ac,Yo="__reactContainer$"+Ac,Qv="__reactEvents$"+Ac,n3="__reactListeners$"+Ac,r3="__reactHandles$"+Ac;function Ql(a){var u=a[ho];if(u)return u;for(var d=a.parentNode;d;){if(u=d[Yo]||d[ho]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(a=eb(a);a!==null;){if(d=a[ho])return d;a=eb(a)}return u}a=d,d=a.parentNode}return null}function Dd(a){return a=a[ho]||a[Yo],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Rc(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function jm(a){return a[Nd]||null}var Jv=[],Pc=-1;function Ba(a){return{current:a}}function sn(a){0>Pc||(a.current=Jv[Pc],Jv[Pc]=null,Pc--)}function en(a,u){Pc++,Jv[Pc]=a.current,a.current=u}var $a={},Lr=Ba($a),Ei=Ba(!1),Jl=$a;function kc(a,u){var d=a.type.contextTypes;if(!d)return $a;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in d)v[S]=u[S];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=v),v}function xi(a){return a=a.childContextTypes,a!=null}function Fm(){sn(Ei),sn(Lr)}function tb(a,u,d){if(Lr.current!==$a)throw Error(t(168));en(Lr,u),en(Ei,d)}function nb(a,u,d){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var v in g)if(!(v in u))throw Error(t(108,xe(a)||"Unknown",v));return $({},d,g)}function Um(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||$a,Jl=Lr.current,en(Lr,a),en(Ei,Ei.current),!0}function rb(a,u,d){var g=a.stateNode;if(!g)throw Error(t(169));d?(a=nb(a,u,Jl),g.__reactInternalMemoizedMergedChildContext=a,sn(Ei),sn(Lr),en(Lr,a)):sn(Ei),en(Ei,d)}var Ko=null,Bm=!1,Zv=!1;function ib(a){Ko===null?Ko=[a]:Ko.push(a)}function i3(a){Bm=!0,ib(a)}function za(){if(!Zv&&Ko!==null){Zv=!0;var a=0,u=wt;try{var d=Ko;for(wt=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}Ko=null,Bm=!1}catch(v){throw Ko!==null&&(Ko=Ko.slice(a+1)),Gt(lr,za),v}finally{wt=u,Zv=!1}}return null}var Nc=[],Dc=0,$m=null,zm=0,ds=[],fs=0,Zl=null,Xo=1,Qo="";function eu(a,u){Nc[Dc++]=zm,Nc[Dc++]=$m,$m=a,zm=u}function sb(a,u,d){ds[fs++]=Xo,ds[fs++]=Qo,ds[fs++]=Zl,Zl=a;var g=Xo;a=Qo;var v=32-oi(g)-1;g&=~(1<<v),d+=1;var S=32-oi(u)+v;if(30<S){var D=v-v%5;S=(g&(1<<D)-1).toString(32),g>>=D,v-=D,Xo=1<<32-oi(u)+v|d<<v|g,Qo=S+a}else Xo=1<<S|d<<v|g,Qo=a}function e0(a){a.return!==null&&(eu(a,1),sb(a,1,0))}function t0(a){for(;a===$m;)$m=Nc[--Dc],Nc[Dc]=null,zm=Nc[--Dc],Nc[Dc]=null;for(;a===Zl;)Zl=ds[--fs],ds[fs]=null,Qo=ds[--fs],ds[fs]=null,Xo=ds[--fs],ds[fs]=null}var qi=null,Gi=null,mn=!1,Bs=null;function ob(a,u){var d=ys(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,u=a.deletions,u===null?(a.deletions=[d],a.flags|=16):u.push(d)}function ab(a,u){switch(a.tag){case 5:var d=a.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,qi=a,Gi=Ua(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,qi=a,Gi=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=Zl!==null?{id:Xo,overflow:Qo}:null,a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=ys(18,null,null,0),d.stateNode=u,d.return=a,a.child=d,qi=a,Gi=null,!0):!1;default:return!1}}function n0(a){return(a.mode&1)!==0&&(a.flags&128)===0}function r0(a){if(mn){var u=Gi;if(u){var d=u;if(!ab(a,u)){if(n0(a))throw Error(t(418));u=Ua(d.nextSibling);var g=qi;u&&ab(a,u)?ob(g,d):(a.flags=a.flags&-4097|2,mn=!1,qi=a)}}else{if(n0(a))throw Error(t(418));a.flags=a.flags&-4097|2,mn=!1,qi=a}}}function lb(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;qi=a}function Wm(a){if(a!==qi)return!1;if(!mn)return lb(a),mn=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Yv(a.type,a.memoizedProps)),u&&(u=Gi)){if(n0(a))throw ub(),Error(t(418));for(;u;)ob(a,u),u=Ua(u.nextSibling)}if(lb(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(u===0){Gi=Ua(a.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}a=a.nextSibling}Gi=null}}else Gi=qi?Ua(a.stateNode.nextSibling):null;return!0}function ub(){for(var a=Gi;a;)a=Ua(a.nextSibling)}function Oc(){Gi=qi=null,mn=!1}function i0(a){Bs===null?Bs=[a]:Bs.push(a)}var s3=V.ReactCurrentBatchConfig;function Od(a,u,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var g=d.stateNode}if(!g)throw Error(t(147,a));var v=g,S=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function(D){var z=v.refs;D===null?delete z[S]:z[S]=D},u._stringRef=S,u)}if(typeof a!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,a))}return a}function Hm(a,u){throw a=Object.prototype.toString.call(u),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function cb(a){var u=a._init;return u(a._payload)}function hb(a){function u(K,G){if(a){var X=K.deletions;X===null?(K.deletions=[G],K.flags|=16):X.push(G)}}function d(K,G){if(!a)return null;for(;G!==null;)u(K,G),G=G.sibling;return null}function g(K,G){for(K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function v(K,G){return K=Qa(K,G),K.index=0,K.sibling=null,K}function S(K,G,X){return K.index=X,a?(X=K.alternate,X!==null?(X=X.index,X<G?(K.flags|=2,G):X):(K.flags|=2,G)):(K.flags|=1048576,G)}function D(K){return a&&K.alternate===null&&(K.flags|=2),K}function z(K,G,X,de){return G===null||G.tag!==6?(G=K0(X,K.mode,de),G.return=K,G):(G=v(G,X),G.return=K,G)}function q(K,G,X,de){var Pe=X.type;return Pe===k?le(K,G,X.props.children,de,X.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===fe&&cb(Pe)===G.type)?(de=v(G,X.props),de.ref=Od(K,G,X),de.return=K,de):(de=mg(X.type,X.key,X.props,null,K.mode,de),de.ref=Od(K,G,X),de.return=K,de)}function Q(K,G,X,de){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=X0(X,K.mode,de),G.return=K,G):(G=v(G,X.children||[]),G.return=K,G)}function le(K,G,X,de,Pe){return G===null||G.tag!==7?(G=lu(X,K.mode,de,Pe),G.return=K,G):(G=v(G,X),G.return=K,G)}function he(K,G,X){if(typeof G=="string"&&G!==""||typeof G=="number")return G=K0(""+G,K.mode,X),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case U:return X=mg(G.type,G.key,G.props,null,K.mode,X),X.ref=Od(K,null,G),X.return=K,X;case W:return G=X0(G,K.mode,X),G.return=K,G;case fe:var de=G._init;return he(K,de(G._payload),X)}if(Pn(G)||ue(G))return G=lu(G,K.mode,X,null),G.return=K,G;Hm(K,G)}return null}function oe(K,G,X,de){var Pe=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Pe!==null?null:z(K,G,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return X.key===Pe?q(K,G,X,de):null;case W:return X.key===Pe?Q(K,G,X,de):null;case fe:return Pe=X._init,oe(K,G,Pe(X._payload),de)}if(Pn(X)||ue(X))return Pe!==null?null:le(K,G,X,de,null);Hm(K,X)}return null}function ve(K,G,X,de,Pe){if(typeof de=="string"&&de!==""||typeof de=="number")return K=K.get(X)||null,z(G,K,""+de,Pe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case U:return K=K.get(de.key===null?X:de.key)||null,q(G,K,de,Pe);case W:return K=K.get(de.key===null?X:de.key)||null,Q(G,K,de,Pe);case fe:var Be=de._init;return ve(K,G,X,Be(de._payload),Pe)}if(Pn(de)||ue(de))return K=K.get(X)||null,le(G,K,de,Pe,null);Hm(G,de)}return null}function be(K,G,X,de){for(var Pe=null,Be=null,$e=G,Xe=G=0,fr=null;$e!==null&&Xe<X.length;Xe++){$e.index>Xe?(fr=$e,$e=null):fr=$e.sibling;var Ot=oe(K,$e,X[Xe],de);if(Ot===null){$e===null&&($e=fr);break}a&&$e&&Ot.alternate===null&&u(K,$e),G=S(Ot,G,Xe),Be===null?Pe=Ot:Be.sibling=Ot,Be=Ot,$e=fr}if(Xe===X.length)return d(K,$e),mn&&eu(K,Xe),Pe;if($e===null){for(;Xe<X.length;Xe++)$e=he(K,X[Xe],de),$e!==null&&(G=S($e,G,Xe),Be===null?Pe=$e:Be.sibling=$e,Be=$e);return mn&&eu(K,Xe),Pe}for($e=g(K,$e);Xe<X.length;Xe++)fr=ve($e,K,Xe,X[Xe],de),fr!==null&&(a&&fr.alternate!==null&&$e.delete(fr.key===null?Xe:fr.key),G=S(fr,G,Xe),Be===null?Pe=fr:Be.sibling=fr,Be=fr);return a&&$e.forEach(function(Ja){return u(K,Ja)}),mn&&eu(K,Xe),Pe}function Ae(K,G,X,de){var Pe=ue(X);if(typeof Pe!="function")throw Error(t(150));if(X=Pe.call(X),X==null)throw Error(t(151));for(var Be=Pe=null,$e=G,Xe=G=0,fr=null,Ot=X.next();$e!==null&&!Ot.done;Xe++,Ot=X.next()){$e.index>Xe?(fr=$e,$e=null):fr=$e.sibling;var Ja=oe(K,$e,Ot.value,de);if(Ja===null){$e===null&&($e=fr);break}a&&$e&&Ja.alternate===null&&u(K,$e),G=S(Ja,G,Xe),Be===null?Pe=Ja:Be.sibling=Ja,Be=Ja,$e=fr}if(Ot.done)return d(K,$e),mn&&eu(K,Xe),Pe;if($e===null){for(;!Ot.done;Xe++,Ot=X.next())Ot=he(K,Ot.value,de),Ot!==null&&(G=S(Ot,G,Xe),Be===null?Pe=Ot:Be.sibling=Ot,Be=Ot);return mn&&eu(K,Xe),Pe}for($e=g(K,$e);!Ot.done;Xe++,Ot=X.next())Ot=ve($e,K,Xe,Ot.value,de),Ot!==null&&(a&&Ot.alternate!==null&&$e.delete(Ot.key===null?Xe:Ot.key),G=S(Ot,G,Xe),Be===null?Pe=Ot:Be.sibling=Ot,Be=Ot);return a&&$e.forEach(function(j3){return u(K,j3)}),mn&&eu(K,Xe),Pe}function Vn(K,G,X,de){if(typeof X=="object"&&X!==null&&X.type===k&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case U:e:{for(var Pe=X.key,Be=G;Be!==null;){if(Be.key===Pe){if(Pe=X.type,Pe===k){if(Be.tag===7){d(K,Be.sibling),G=v(Be,X.props.children),G.return=K,K=G;break e}}else if(Be.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===fe&&cb(Pe)===Be.type){d(K,Be.sibling),G=v(Be,X.props),G.ref=Od(K,Be,X),G.return=K,K=G;break e}d(K,Be);break}else u(K,Be);Be=Be.sibling}X.type===k?(G=lu(X.props.children,K.mode,de,X.key),G.return=K,K=G):(de=mg(X.type,X.key,X.props,null,K.mode,de),de.ref=Od(K,G,X),de.return=K,K=de)}return D(K);case W:e:{for(Be=X.key;G!==null;){if(G.key===Be)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){d(K,G.sibling),G=v(G,X.children||[]),G.return=K,K=G;break e}else{d(K,G);break}else u(K,G);G=G.sibling}G=X0(X,K.mode,de),G.return=K,K=G}return D(K);case fe:return Be=X._init,Vn(K,G,Be(X._payload),de)}if(Pn(X))return be(K,G,X,de);if(ue(X))return Ae(K,G,X,de);Hm(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,G!==null&&G.tag===6?(d(K,G.sibling),G=v(G,X),G.return=K,K=G):(d(K,G),G=K0(X,K.mode,de),G.return=K,K=G),D(K)):d(K,G)}return Vn}var Mc=hb(!0),db=hb(!1),qm=Ba(null),Gm=null,Lc=null,s0=null;function o0(){s0=Lc=Gm=null}function a0(a){var u=qm.current;sn(qm),a._currentValue=u}function l0(a,u,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===d)break;a=a.return}}function Vc(a,u){Gm=a,s0=Lc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Si=!0),a.firstContext=null)}function ps(a){var u=a._currentValue;if(s0!==a)if(a={context:a,memoizedValue:u,next:null},Lc===null){if(Gm===null)throw Error(t(308));Lc=a,Gm.dependencies={lanes:0,firstContext:a}}else Lc=Lc.next=a;return u}var tu=null;function u0(a){tu===null?tu=[a]:tu.push(a)}function fb(a,u,d,g){var v=u.interleaved;return v===null?(d.next=d,u0(u)):(d.next=v.next,v.next=d),u.interleaved=d,Jo(a,g)}function Jo(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,d=a.alternate,d!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Wa=!1;function c0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pb(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Zo(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Ha(a,u,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(kt&2)!==0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,Jo(a,d)}return v=g.interleaved,v===null?(u.next=u,u0(g)):(u.next=v.next,v.next=u),g.interleaved=u,Jo(a,d)}function Ym(a,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var g=u.lanes;g&=a.pendingLanes,d|=g,u.lanes=d,Oa(a,d)}}function mb(a,u){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var v=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?v=S=D:S=S.next=D,d=d.next}while(d!==null);S===null?v=S=u:S=S.next=u}else v=S=u;d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function Km(a,u,d,g){var v=a.updateQueue;Wa=!1;var S=v.firstBaseUpdate,D=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var q=z,Q=q.next;q.next=null,D===null?S=Q:D.next=Q,D=q;var le=a.alternate;le!==null&&(le=le.updateQueue,z=le.lastBaseUpdate,z!==D&&(z===null?le.firstBaseUpdate=Q:z.next=Q,le.lastBaseUpdate=q))}if(S!==null){var he=v.baseState;D=0,le=Q=q=null,z=S;do{var oe=z.lane,ve=z.eventTime;if((g&oe)===oe){le!==null&&(le=le.next={eventTime:ve,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var be=a,Ae=z;switch(oe=u,ve=d,Ae.tag){case 1:if(be=Ae.payload,typeof be=="function"){he=be.call(ve,he,oe);break e}he=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ae.payload,oe=typeof be=="function"?be.call(ve,he,oe):be,oe==null)break e;he=$({},he,oe);break e;case 2:Wa=!0}}z.callback!==null&&z.lane!==0&&(a.flags|=64,oe=v.effects,oe===null?v.effects=[z]:oe.push(z))}else ve={eventTime:ve,lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},le===null?(Q=le=ve,q=he):le=le.next=ve,D|=oe;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;oe=z,z=oe.next,oe.next=null,v.lastBaseUpdate=oe,v.shared.pending=null}}while(!0);if(le===null&&(q=he),v.baseState=q,v.firstBaseUpdate=Q,v.lastBaseUpdate=le,u=v.shared.interleaved,u!==null){v=u;do D|=v.lane,v=v.next;while(v!==u)}else S===null&&(v.shared.lanes=0);iu|=D,a.lanes=D,a.memoizedState=he}}function gb(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],v=g.callback;if(v!==null){if(g.callback=null,g=d,typeof v!="function")throw Error(t(191,v));v.call(g)}}}var Md={},fo=Ba(Md),Ld=Ba(Md),Vd=Ba(Md);function nu(a){if(a===Md)throw Error(t(174));return a}function h0(a,u){switch(en(Vd,u),en(Ld,a),en(fo,Md),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ye(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Ye(u,a)}sn(fo),en(fo,u)}function jc(){sn(fo),sn(Ld),sn(Vd)}function yb(a){nu(Vd.current);var u=nu(fo.current),d=Ye(u,a.type);u!==d&&(en(Ld,a),en(fo,d))}function d0(a){Ld.current===a&&(sn(fo),sn(Ld))}var Tn=Ba(0);function Xm(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var f0=[];function p0(){for(var a=0;a<f0.length;a++)f0[a]._workInProgressVersionPrimary=null;f0.length=0}var Qm=V.ReactCurrentDispatcher,m0=V.ReactCurrentBatchConfig,ru=0,En=null,er=null,hr=null,Jm=!1,jd=!1,Fd=0,o3=0;function Vr(){throw Error(t(321))}function g0(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!Us(a[d],u[d]))return!1;return!0}function y0(a,u,d,g,v,S){if(ru=S,En=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Qm.current=a===null||a.memoizedState===null?c3:h3,a=d(g,v),jd){S=0;do{if(jd=!1,Fd=0,25<=S)throw Error(t(301));S+=1,hr=er=null,u.updateQueue=null,Qm.current=d3,a=d(g,v)}while(jd)}if(Qm.current=tg,u=er!==null&&er.next!==null,ru=0,hr=er=En=null,Jm=!1,u)throw Error(t(300));return a}function _0(){var a=Fd!==0;return Fd=0,a}function po(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?En.memoizedState=hr=a:hr=hr.next=a,hr}function ms(){if(er===null){var a=En.alternate;a=a!==null?a.memoizedState:null}else a=er.next;var u=hr===null?En.memoizedState:hr.next;if(u!==null)hr=u,er=a;else{if(a===null)throw Error(t(310));er=a,a={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},hr===null?En.memoizedState=hr=a:hr=hr.next=a}return hr}function Ud(a,u){return typeof u=="function"?u(a):u}function v0(a){var u=ms(),d=u.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var g=er,v=g.baseQueue,S=d.pending;if(S!==null){if(v!==null){var D=v.next;v.next=S.next,S.next=D}g.baseQueue=v=S,d.pending=null}if(v!==null){S=v.next,g=g.baseState;var z=D=null,q=null,Q=S;do{var le=Q.lane;if((ru&le)===le)q!==null&&(q=q.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),g=Q.hasEagerState?Q.eagerState:a(g,Q.action);else{var he={lane:le,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};q===null?(z=q=he,D=g):q=q.next=he,En.lanes|=le,iu|=le}Q=Q.next}while(Q!==null&&Q!==S);q===null?D=g:q.next=z,Us(g,u.memoizedState)||(Si=!0),u.memoizedState=g,u.baseState=D,u.baseQueue=q,d.lastRenderedState=g}if(a=d.interleaved,a!==null){v=a;do S=v.lane,En.lanes|=S,iu|=S,v=v.next;while(v!==a)}else v===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function w0(a){var u=ms(),d=u.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var g=d.dispatch,v=d.pending,S=u.memoizedState;if(v!==null){d.pending=null;var D=v=v.next;do S=a(S,D.action),D=D.next;while(D!==v);Us(S,u.memoizedState)||(Si=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),d.lastRenderedState=S}return[S,g]}function _b(){}function vb(a,u){var d=En,g=ms(),v=u(),S=!Us(g.memoizedState,v);if(S&&(g.memoizedState=v,Si=!0),g=g.queue,T0(Eb.bind(null,d,g,a),[a]),g.getSnapshot!==u||S||hr!==null&&hr.memoizedState.tag&1){if(d.flags|=2048,Bd(9,Tb.bind(null,d,g,v,u),void 0,null),dr===null)throw Error(t(349));(ru&30)!==0||wb(d,u,v)}return v}function wb(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},u=En.updateQueue,u===null?(u={lastEffect:null,stores:null},En.updateQueue=u,u.stores=[a]):(d=u.stores,d===null?u.stores=[a]:d.push(a))}function Tb(a,u,d,g){u.value=d,u.getSnapshot=g,xb(u)&&Sb(a)}function Eb(a,u,d){return d(function(){xb(u)&&Sb(a)})}function xb(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!Us(a,d)}catch{return!0}}function Sb(a){var u=Jo(a,1);u!==null&&Hs(u,a,1,-1)}function Cb(a){var u=po();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:a},u.queue=a,a=a.dispatch=u3.bind(null,En,a),[u.memoizedState,a]}function Bd(a,u,d,g){return a={tag:a,create:u,destroy:d,deps:g,next:null},u=En.updateQueue,u===null?(u={lastEffect:null,stores:null},En.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect,d===null?u.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,u.lastEffect=a)),a}function bb(){return ms().memoizedState}function Zm(a,u,d,g){var v=po();En.flags|=a,v.memoizedState=Bd(1|u,d,void 0,g===void 0?null:g)}function eg(a,u,d,g){var v=ms();g=g===void 0?null:g;var S=void 0;if(er!==null){var D=er.memoizedState;if(S=D.destroy,g!==null&&g0(g,D.deps)){v.memoizedState=Bd(u,d,S,g);return}}En.flags|=a,v.memoizedState=Bd(1|u,d,S,g)}function Ib(a,u){return Zm(8390656,8,a,u)}function T0(a,u){return eg(2048,8,a,u)}function Ab(a,u){return eg(4,2,a,u)}function Rb(a,u){return eg(4,4,a,u)}function Pb(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function kb(a,u,d){return d=d!=null?d.concat([a]):null,eg(4,4,Pb.bind(null,u,a),d)}function E0(){}function Nb(a,u){var d=ms();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&g0(u,g[1])?g[0]:(d.memoizedState=[a,u],a)}function Db(a,u){var d=ms();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&g0(u,g[1])?g[0]:(a=a(),d.memoizedState=[a,u],a)}function Ob(a,u,d){return(ru&21)===0?(a.baseState&&(a.baseState=!1,Si=!0),a.memoizedState=d):(Us(d,u)||(d=ql(),En.lanes|=d,iu|=d,a.baseState=!0),u)}function a3(a,u){var d=wt;wt=d!==0&&4>d?d:4,a(!0);var g=m0.transition;m0.transition={};try{a(!1),u()}finally{wt=d,m0.transition=g}}function Mb(){return ms().memoizedState}function l3(a,u,d){var g=Ka(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Lb(a))Vb(u,d);else if(d=fb(a,u,d,g),d!==null){var v=ui();Hs(d,a,g,v),jb(d,u,g)}}function u3(a,u,d){var g=Ka(a),v={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Lb(a))Vb(u,v);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var D=u.lastRenderedState,z=S(D,d);if(v.hasEagerState=!0,v.eagerState=z,Us(z,D)){var q=u.interleaved;q===null?(v.next=v,u0(u)):(v.next=q.next,q.next=v),u.interleaved=v;return}}catch{}finally{}d=fb(a,u,v,g),d!==null&&(v=ui(),Hs(d,a,g,v),jb(d,u,g))}}function Lb(a){var u=a.alternate;return a===En||u!==null&&u===En}function Vb(a,u){jd=Jm=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function jb(a,u,d){if((d&4194240)!==0){var g=u.lanes;g&=a.pendingLanes,d|=g,u.lanes=d,Oa(a,d)}}var tg={readContext:ps,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},c3={readContext:ps,useCallback:function(a,u){return po().memoizedState=[a,u===void 0?null:u],a},useContext:ps,useEffect:Ib,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,Zm(4194308,4,Pb.bind(null,u,a),d)},useLayoutEffect:function(a,u){return Zm(4194308,4,a,u)},useInsertionEffect:function(a,u){return Zm(4,2,a,u)},useMemo:function(a,u){var d=po();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var g=po();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=l3.bind(null,En,a),[g.memoizedState,a]},useRef:function(a){var u=po();return a={current:a},u.memoizedState=a},useState:Cb,useDebugValue:E0,useDeferredValue:function(a){return po().memoizedState=a},useTransition:function(){var a=Cb(!1),u=a[0];return a=a3.bind(null,a[1]),po().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var g=En,v=po();if(mn){if(d===void 0)throw Error(t(407));d=d()}else{if(d=u(),dr===null)throw Error(t(349));(ru&30)!==0||wb(g,u,d)}v.memoizedState=d;var S={value:d,getSnapshot:u};return v.queue=S,Ib(Eb.bind(null,g,S,a),[a]),g.flags|=2048,Bd(9,Tb.bind(null,g,S,d,u),void 0,null),d},useId:function(){var a=po(),u=dr.identifierPrefix;if(mn){var d=Qo,g=Xo;d=(g&~(1<<32-oi(g)-1)).toString(32)+d,u=":"+u+"R"+d,d=Fd++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=o3++,u=":"+u+"r"+d.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},h3={readContext:ps,useCallback:Nb,useContext:ps,useEffect:T0,useImperativeHandle:kb,useInsertionEffect:Ab,useLayoutEffect:Rb,useMemo:Db,useReducer:v0,useRef:bb,useState:function(){return v0(Ud)},useDebugValue:E0,useDeferredValue:function(a){var u=ms();return Ob(u,er.memoizedState,a)},useTransition:function(){var a=v0(Ud)[0],u=ms().memoizedState;return[a,u]},useMutableSource:_b,useSyncExternalStore:vb,useId:Mb,unstable_isNewReconciler:!1},d3={readContext:ps,useCallback:Nb,useContext:ps,useEffect:T0,useImperativeHandle:kb,useInsertionEffect:Ab,useLayoutEffect:Rb,useMemo:Db,useReducer:w0,useRef:bb,useState:function(){return w0(Ud)},useDebugValue:E0,useDeferredValue:function(a){var u=ms();return er===null?u.memoizedState=a:Ob(u,er.memoizedState,a)},useTransition:function(){var a=w0(Ud)[0],u=ms().memoizedState;return[a,u]},useMutableSource:_b,useSyncExternalStore:vb,useId:Mb,unstable_isNewReconciler:!1};function $s(a,u){if(a&&a.defaultProps){u=$({},u),a=a.defaultProps;for(var d in a)u[d]===void 0&&(u[d]=a[d]);return u}return u}function x0(a,u,d,g){u=a.memoizedState,d=d(g,u),d=d==null?u:$({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var ng={isMounted:function(a){return(a=a._reactInternals)?it(a)===a:!1},enqueueSetState:function(a,u,d){a=a._reactInternals;var g=ui(),v=Ka(a),S=Zo(g,v);S.payload=u,d!=null&&(S.callback=d),u=Ha(a,S,v),u!==null&&(Hs(u,a,v,g),Ym(u,a,v))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var g=ui(),v=Ka(a),S=Zo(g,v);S.tag=1,S.payload=u,d!=null&&(S.callback=d),u=Ha(a,S,v),u!==null&&(Hs(u,a,v,g),Ym(u,a,v))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=ui(),g=Ka(a),v=Zo(d,g);v.tag=2,u!=null&&(v.callback=u),u=Ha(a,v,g),u!==null&&(Hs(u,a,g,d),Ym(u,a,g))}};function Fb(a,u,d,g,v,S,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,D):u.prototype&&u.prototype.isPureReactComponent?!Id(d,g)||!Id(v,S):!0}function Ub(a,u,d){var g=!1,v=$a,S=u.contextType;return typeof S=="object"&&S!==null?S=ps(S):(v=xi(u)?Jl:Lr.current,g=u.contextTypes,S=(g=g!=null)?kc(a,v):$a),u=new u(d,S),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ng,a.stateNode=u,u._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=v,a.__reactInternalMemoizedMaskedChildContext=S),u}function Bb(a,u,d,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==a&&ng.enqueueReplaceState(u,u.state,null)}function S0(a,u,d,g){var v=a.stateNode;v.props=d,v.state=a.memoizedState,v.refs={},c0(a);var S=u.contextType;typeof S=="object"&&S!==null?v.context=ps(S):(S=xi(u)?Jl:Lr.current,v.context=kc(a,S)),v.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(x0(a,u,S,d),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(u=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),u!==v.state&&ng.enqueueReplaceState(v,v.state,null),Km(a,d,v,g),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308)}function Fc(a,u){try{var d="",g=u;do d+=Ee(g),g=g.return;while(g);var v=d}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:u,stack:v,digest:null}}function C0(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function b0(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var f3=typeof WeakMap=="function"?WeakMap:Map;function $b(a,u,d){d=Zo(-1,d),d.tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){ug||(ug=!0,B0=g),b0(a,u)},d}function zb(a,u,d){d=Zo(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;d.payload=function(){return g(v)},d.callback=function(){b0(a,u)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){b0(a,u),typeof g!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),d}function Wb(a,u,d){var g=a.pingCache;if(g===null){g=a.pingCache=new f3;var v=new Set;g.set(u,v)}else v=g.get(u),v===void 0&&(v=new Set,g.set(u,v));v.has(d)||(v.add(d),a=I3.bind(null,a,u,d),u.then(a,a))}function Hb(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function qb(a,u,d,g,v){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=Zo(-1,1),u.tag=2,Ha(d,u,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=v,a)}var p3=V.ReactCurrentOwner,Si=!1;function li(a,u,d,g){u.child=a===null?db(u,null,d,g):Mc(u,a.child,d,g)}function Gb(a,u,d,g,v){d=d.render;var S=u.ref;return Vc(u,v),g=y0(a,u,d,g,S,v),d=_0(),a!==null&&!Si?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,ea(a,u,v)):(mn&&d&&e0(u),u.flags|=1,li(a,u,g,v),u.child)}function Yb(a,u,d,g,v){if(a===null){var S=d.type;return typeof S=="function"&&!Y0(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=S,Kb(a,u,S,g,v)):(a=mg(d.type,null,g,u,u.mode,v),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,(a.lanes&v)===0){var D=S.memoizedProps;if(d=d.compare,d=d!==null?d:Id,d(D,g)&&a.ref===u.ref)return ea(a,u,v)}return u.flags|=1,a=Qa(S,g),a.ref=u.ref,a.return=u,u.child=a}function Kb(a,u,d,g,v){if(a!==null){var S=a.memoizedProps;if(Id(S,g)&&a.ref===u.ref)if(Si=!1,u.pendingProps=g=S,(a.lanes&v)!==0)(a.flags&131072)!==0&&(Si=!0);else return u.lanes=a.lanes,ea(a,u,v)}return I0(a,u,d,g,v)}function Xb(a,u,d){var g=u.pendingProps,v=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(Bc,Yi),Yi|=d;else{if((d&1073741824)===0)return a=S!==null?S.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,en(Bc,Yi),Yi|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:d,en(Bc,Yi),Yi|=g}else S!==null?(g=S.baseLanes|d,u.memoizedState=null):g=d,en(Bc,Yi),Yi|=g;return li(a,u,v,d),u.child}function Qb(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function I0(a,u,d,g,v){var S=xi(d)?Jl:Lr.current;return S=kc(u,S),Vc(u,v),d=y0(a,u,d,g,S,v),g=_0(),a!==null&&!Si?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,ea(a,u,v)):(mn&&g&&e0(u),u.flags|=1,li(a,u,d,v),u.child)}function Jb(a,u,d,g,v){if(xi(d)){var S=!0;Um(u)}else S=!1;if(Vc(u,v),u.stateNode===null)ig(a,u),Ub(u,d,g),S0(u,d,g,v),g=!0;else if(a===null){var D=u.stateNode,z=u.memoizedProps;D.props=z;var q=D.context,Q=d.contextType;typeof Q=="object"&&Q!==null?Q=ps(Q):(Q=xi(d)?Jl:Lr.current,Q=kc(u,Q));var le=d.getDerivedStateFromProps,he=typeof le=="function"||typeof D.getSnapshotBeforeUpdate=="function";he||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==g||q!==Q)&&Bb(u,D,g,Q),Wa=!1;var oe=u.memoizedState;D.state=oe,Km(u,g,D,v),q=u.memoizedState,z!==g||oe!==q||Ei.current||Wa?(typeof le=="function"&&(x0(u,d,le,g),q=u.memoizedState),(z=Wa||Fb(u,d,z,g,oe,q,Q))?(he||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=q),D.props=g,D.state=q,D.context=Q,g=z):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{D=u.stateNode,pb(a,u),z=u.memoizedProps,Q=u.type===u.elementType?z:$s(u.type,z),D.props=Q,he=u.pendingProps,oe=D.context,q=d.contextType,typeof q=="object"&&q!==null?q=ps(q):(q=xi(d)?Jl:Lr.current,q=kc(u,q));var ve=d.getDerivedStateFromProps;(le=typeof ve=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==he||oe!==q)&&Bb(u,D,g,q),Wa=!1,oe=u.memoizedState,D.state=oe,Km(u,g,D,v);var be=u.memoizedState;z!==he||oe!==be||Ei.current||Wa?(typeof ve=="function"&&(x0(u,d,ve,g),be=u.memoizedState),(Q=Wa||Fb(u,d,Q,g,oe,be,q)||!1)?(le||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,be,q),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,be,q)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||z===a.memoizedProps&&oe===a.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&oe===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=be),D.props=g,D.state=be,D.context=q,g=Q):(typeof D.componentDidUpdate!="function"||z===a.memoizedProps&&oe===a.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&oe===a.memoizedState||(u.flags|=1024),g=!1)}return A0(a,u,d,g,S,v)}function A0(a,u,d,g,v,S){Qb(a,u);var D=(u.flags&128)!==0;if(!g&&!D)return v&&rb(u,d,!1),ea(a,u,S);g=u.stateNode,p3.current=u;var z=D&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&D?(u.child=Mc(u,a.child,null,S),u.child=Mc(u,null,z,S)):li(a,u,z,S),u.memoizedState=g.state,v&&rb(u,d,!0),u.child}function Zb(a){var u=a.stateNode;u.pendingContext?tb(a,u.pendingContext,u.pendingContext!==u.context):u.context&&tb(a,u.context,!1),h0(a,u.containerInfo)}function eI(a,u,d,g,v){return Oc(),i0(v),u.flags|=256,li(a,u,d,g),u.child}var R0={dehydrated:null,treeContext:null,retryLane:0};function P0(a){return{baseLanes:a,cachePool:null,transitions:null}}function tI(a,u,d){var g=u.pendingProps,v=Tn.current,S=!1,D=(u.flags&128)!==0,z;if((z=D)||(z=a!==null&&a.memoizedState===null?!1:(v&2)!==0),z?(S=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(v|=1),en(Tn,v&1),a===null)return r0(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(D=g.children,a=g.fallback,S?(g=u.mode,S=u.child,D={mode:"hidden",children:D},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=D):S=gg(D,g,0,null),a=lu(a,g,d,null),S.return=u,a.return=u,S.sibling=a,u.child=S,u.child.memoizedState=P0(d),u.memoizedState=R0,a):k0(u,D));if(v=a.memoizedState,v!==null&&(z=v.dehydrated,z!==null))return m3(a,u,D,g,z,v,d);if(S){S=g.fallback,D=u.mode,v=a.child,z=v.sibling;var q={mode:"hidden",children:g.children};return(D&1)===0&&u.child!==v?(g=u.child,g.childLanes=0,g.pendingProps=q,u.deletions=null):(g=Qa(v,q),g.subtreeFlags=v.subtreeFlags&14680064),z!==null?S=Qa(z,S):(S=lu(S,D,d,null),S.flags|=2),S.return=u,g.return=u,g.sibling=S,u.child=g,g=S,S=u.child,D=a.child.memoizedState,D=D===null?P0(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},S.memoizedState=D,S.childLanes=a.childLanes&~d,u.memoizedState=R0,g}return S=a.child,a=S.sibling,g=Qa(S,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=d),g.return=u,g.sibling=null,a!==null&&(d=u.deletions,d===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=g,u.memoizedState=null,g}function k0(a,u){return u=gg({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function rg(a,u,d,g){return g!==null&&i0(g),Mc(u,a.child,null,d),a=k0(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function m3(a,u,d,g,v,S,D){if(d)return u.flags&256?(u.flags&=-257,g=C0(Error(t(422))),rg(a,u,D,g)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(S=g.fallback,v=u.mode,g=gg({mode:"visible",children:g.children},v,0,null),S=lu(S,v,D,null),S.flags|=2,g.return=u,S.return=u,g.sibling=S,u.child=g,(u.mode&1)!==0&&Mc(u,a.child,null,D),u.child.memoizedState=P0(D),u.memoizedState=R0,S);if((u.mode&1)===0)return rg(a,u,D,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var z=g.dgst;return g=z,S=Error(t(419)),g=C0(S,g,void 0),rg(a,u,D,g)}if(z=(D&a.childLanes)!==0,Si||z){if(g=dr,g!==null){switch(D&-D){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|D))!==0?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,Jo(a,v),Hs(g,a,v,-1))}return G0(),g=C0(Error(t(421))),rg(a,u,D,g)}return v.data==="$?"?(u.flags|=128,u.child=a.child,u=A3.bind(null,a),v._reactRetry=u,null):(a=S.treeContext,Gi=Ua(v.nextSibling),qi=u,mn=!0,Bs=null,a!==null&&(ds[fs++]=Xo,ds[fs++]=Qo,ds[fs++]=Zl,Xo=a.id,Qo=a.overflow,Zl=u),u=k0(u,g.children),u.flags|=4096,u)}function nI(a,u,d){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),l0(a.return,u,d)}function N0(a,u,d,g,v){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=d,S.tailMode=v)}function rI(a,u,d){var g=u.pendingProps,v=g.revealOrder,S=g.tail;if(li(a,u,g.children,d),g=Tn.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&nI(a,d,u);else if(a.tag===19)nI(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(en(Tn,g),(u.mode&1)===0)u.memoizedState=null;else switch(v){case"forwards":for(d=u.child,v=null;d!==null;)a=d.alternate,a!==null&&Xm(a)===null&&(v=d),d=d.sibling;d=v,d===null?(v=u.child,u.child=null):(v=d.sibling,d.sibling=null),N0(u,!1,v,d,S);break;case"backwards":for(d=null,v=u.child,u.child=null;v!==null;){if(a=v.alternate,a!==null&&Xm(a)===null){u.child=v;break}a=v.sibling,v.sibling=d,d=v,v=a}N0(u,!0,d,null,S);break;case"together":N0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ig(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ea(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),iu|=u.lanes,(d&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(t(153));if(u.child!==null){for(a=u.child,d=Qa(a,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,d=d.sibling=Qa(a,a.pendingProps),d.return=u;d.sibling=null}return u.child}function g3(a,u,d){switch(u.tag){case 3:Zb(u),Oc();break;case 5:yb(u);break;case 1:xi(u.type)&&Um(u);break;case 4:h0(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,v=u.memoizedProps.value;en(qm,g._currentValue),g._currentValue=v;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(en(Tn,Tn.current&1),u.flags|=128,null):(d&u.child.childLanes)!==0?tI(a,u,d):(en(Tn,Tn.current&1),a=ea(a,u,d),a!==null?a.sibling:null);en(Tn,Tn.current&1);break;case 19:if(g=(d&u.childLanes)!==0,(a.flags&128)!==0){if(g)return rI(a,u,d);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),en(Tn,Tn.current),g)break;return null;case 22:case 23:return u.lanes=0,Xb(a,u,d)}return ea(a,u,d)}var iI,D0,sI,oI;iI=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},D0=function(){},sI=function(a,u,d,g){var v=a.memoizedProps;if(v!==g){a=u.stateNode,nu(fo.current);var S=null;switch(d){case"input":v=ze(a,v),g=ze(a,g),S=[];break;case"select":v=$({},v,{value:void 0}),g=$({},g,{value:void 0}),S=[];break;case"textarea":v=nt(a,v),g=nt(a,g),S=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Vm)}ri(d,g);var D;d=null;for(Q in v)if(!g.hasOwnProperty(Q)&&v.hasOwnProperty(Q)&&v[Q]!=null)if(Q==="style"){var z=v[Q];for(D in z)z.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?S||(S=[]):(S=S||[]).push(Q,null));for(Q in g){var q=g[Q];if(z=v!=null?v[Q]:void 0,g.hasOwnProperty(Q)&&q!==z&&(q!=null||z!=null))if(Q==="style")if(z){for(D in z)!z.hasOwnProperty(D)||q&&q.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in q)q.hasOwnProperty(D)&&z[D]!==q[D]&&(d||(d={}),d[D]=q[D])}else d||(S||(S=[]),S.push(Q,d)),d=q;else Q==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,z=z?z.__html:void 0,q!=null&&z!==q&&(S=S||[]).push(Q,q)):Q==="children"?typeof q!="string"&&typeof q!="number"||(S=S||[]).push(Q,""+q):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(q!=null&&Q==="onScroll"&&rn("scroll",a),S||z===q||(S=[])):(S=S||[]).push(Q,q))}d&&(S=S||[]).push("style",d);var Q=S;(u.updateQueue=Q)&&(u.flags|=4)}},oI=function(a,u,d,g){d!==g&&(u.flags|=4)};function $d(a,u){if(!mn)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function jr(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(u)for(var v=a.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=d,u}function y3(a,u,d){var g=u.pendingProps;switch(t0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(u),null;case 1:return xi(u.type)&&Fm(),jr(u),null;case 3:return g=u.stateNode,jc(),sn(Ei),sn(Lr),p0(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Wm(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Bs!==null&&(W0(Bs),Bs=null))),D0(a,u),jr(u),null;case 5:d0(u);var v=nu(Vd.current);if(d=u.type,a!==null&&u.stateNode!=null)sI(a,u,d,g,v),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(t(166));return jr(u),null}if(a=nu(fo.current),Wm(u)){g=u.stateNode,d=u.type;var S=u.memoizedProps;switch(g[ho]=u,g[Nd]=S,a=(u.mode&1)!==0,d){case"dialog":rn("cancel",g),rn("close",g);break;case"iframe":case"object":case"embed":rn("load",g);break;case"video":case"audio":for(v=0;v<Rd.length;v++)rn(Rd[v],g);break;case"source":rn("error",g);break;case"img":case"image":case"link":rn("error",g),rn("load",g);break;case"details":rn("toggle",g);break;case"input":At(g,S),rn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},rn("invalid",g);break;case"textarea":xt(g,S),rn("invalid",g)}ri(d,S),v=null;for(var D in S)if(S.hasOwnProperty(D)){var z=S[D];D==="children"?typeof z=="string"?g.textContent!==z&&(S.suppressHydrationWarning!==!0&&Lm(g.textContent,z,a),v=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(S.suppressHydrationWarning!==!0&&Lm(g.textContent,z,a),v=["children",""+z]):i.hasOwnProperty(D)&&z!=null&&D==="onScroll"&&rn("scroll",g)}switch(d){case"input":Mt(g),cn(g,S,!0);break;case"textarea":Mt(g),st(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Vm)}g=v,u.updateQueue=g,g!==null&&(u.flags|=4)}else{D=v.nodeType===9?v:v.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=pt(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=D.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=D.createElement(d,{is:g.is}):(a=D.createElement(d),d==="select"&&(D=a,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):a=D.createElementNS(a,d),a[ho]=u,a[Nd]=g,iI(a,u,!1,!1),u.stateNode=a;e:{switch(D=Tr(d,g),d){case"dialog":rn("cancel",a),rn("close",a),v=g;break;case"iframe":case"object":case"embed":rn("load",a),v=g;break;case"video":case"audio":for(v=0;v<Rd.length;v++)rn(Rd[v],a);v=g;break;case"source":rn("error",a),v=g;break;case"img":case"image":case"link":rn("error",a),rn("load",a),v=g;break;case"details":rn("toggle",a),v=g;break;case"input":At(a,g),v=ze(a,g),rn("invalid",a);break;case"option":v=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},v=$({},g,{value:void 0}),rn("invalid",a);break;case"textarea":xt(a,g),v=nt(a,g),rn("invalid",a);break;default:v=g}ri(d,v),z=v;for(S in z)if(z.hasOwnProperty(S)){var q=z[S];S==="style"?kn(a,q):S==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Jt(a,q)):S==="children"?typeof q=="string"?(d!=="textarea"||q!=="")&&Nt(a,q):typeof q=="number"&&Nt(a,""+q):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?q!=null&&S==="onScroll"&&rn("scroll",a):q!=null&&L(a,S,q,D))}switch(d){case"input":Mt(a),cn(a,g,!1);break;case"textarea":Mt(a),st(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Oe(g.value));break;case"select":a.multiple=!!g.multiple,S=g.value,S!=null?ce(a,!!g.multiple,S,!1):g.defaultValue!=null&&ce(a,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(a.onclick=Vm)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return jr(u),null;case 6:if(a&&u.stateNode!=null)oI(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(t(166));if(d=nu(Vd.current),nu(fo.current),Wm(u)){if(g=u.stateNode,d=u.memoizedProps,g[ho]=u,(S=g.nodeValue!==d)&&(a=qi,a!==null))switch(a.tag){case 3:Lm(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Lm(g.nodeValue,d,(a.mode&1)!==0)}S&&(u.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[ho]=u,u.stateNode=g}return jr(u),null;case 13:if(sn(Tn),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(mn&&Gi!==null&&(u.mode&1)!==0&&(u.flags&128)===0)ub(),Oc(),u.flags|=98560,S=!1;else if(S=Wm(u),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(t(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[ho]=u}else Oc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;jr(u),S=!1}else Bs!==null&&(W0(Bs),Bs=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=d,u):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(Tn.current&1)!==0?tr===0&&(tr=3):G0())),u.updateQueue!==null&&(u.flags|=4),jr(u),null);case 4:return jc(),D0(a,u),a===null&&Pd(u.stateNode.containerInfo),jr(u),null;case 10:return a0(u.type._context),jr(u),null;case 17:return xi(u.type)&&Fm(),jr(u),null;case 19:if(sn(Tn),S=u.memoizedState,S===null)return jr(u),null;if(g=(u.flags&128)!==0,D=S.rendering,D===null)if(g)$d(S,!1);else{if(tr!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(D=Xm(a),D!==null){for(u.flags|=128,$d(S,!1),g=D.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=d,d=u.child;d!==null;)S=d,a=g,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,a=D.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return en(Tn,Tn.current&1|2),u.child}a=a.sibling}S.tail!==null&&et()>$c&&(u.flags|=128,g=!0,$d(S,!1),u.lanes=4194304)}else{if(!g)if(a=Xm(D),a!==null){if(u.flags|=128,g=!0,d=a.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),$d(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!mn)return jr(u),null}else 2*et()-S.renderingStartTime>$c&&d!==1073741824&&(u.flags|=128,g=!0,$d(S,!1),u.lanes=4194304);S.isBackwards?(D.sibling=u.child,u.child=D):(d=S.last,d!==null?d.sibling=D:u.child=D,S.last=D)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=et(),u.sibling=null,d=Tn.current,en(Tn,g?d&1|2:d&1),u):(jr(u),null);case 22:case 23:return q0(),g=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(Yi&1073741824)!==0&&(jr(u),u.subtreeFlags&6&&(u.flags|=8192)):jr(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function _3(a,u){switch(t0(u),u.tag){case 1:return xi(u.type)&&Fm(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return jc(),sn(Ei),sn(Lr),p0(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return d0(u),null;case 13:if(sn(Tn),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Oc()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return sn(Tn),null;case 4:return jc(),null;case 10:return a0(u.type._context),null;case 22:case 23:return q0(),null;case 24:return null;default:return null}}var sg=!1,Fr=!1,v3=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Uc(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Dn(a,u,g)}else d.current=null}function O0(a,u,d){try{d()}catch(g){Dn(a,u,g)}}var aI=!1;function w3(a,u){if(qv=Va,a=FC(),jv(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var v=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var D=0,z=-1,q=-1,Q=0,le=0,he=a,oe=null;t:for(;;){for(var ve;he!==d||v!==0&&he.nodeType!==3||(z=D+v),he!==S||g!==0&&he.nodeType!==3||(q=D+g),he.nodeType===3&&(D+=he.nodeValue.length),(ve=he.firstChild)!==null;)oe=he,he=ve;for(;;){if(he===a)break t;if(oe===d&&++Q===v&&(z=D),oe===S&&++le===g&&(q=D),(ve=he.nextSibling)!==null)break;he=oe,oe=he.parentNode}he=ve}d=z===-1||q===-1?null:{start:z,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(Gv={focusedElem:a,selectionRange:d},Va=!1,Te=u;Te!==null;)if(u=Te,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Te=a;else for(;Te!==null;){u=Te;try{var be=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ae=be.memoizedProps,Vn=be.memoizedState,K=u.stateNode,G=K.getSnapshotBeforeUpdate(u.elementType===u.type?Ae:$s(u.type,Ae),Vn);K.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var X=u.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(de){Dn(u,u.return,de)}if(a=u.sibling,a!==null){a.return=u.return,Te=a;break}Te=u.return}return be=aI,aI=!1,be}function zd(a,u,d){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&a)===a){var S=v.destroy;v.destroy=void 0,S!==void 0&&O0(u,d,S)}v=v.next}while(v!==g)}}function og(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function M0(a){var u=a.ref;if(u!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof u=="function"?u(a):u.current=a}}function lI(a){var u=a.alternate;u!==null&&(a.alternate=null,lI(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[ho],delete u[Nd],delete u[Qv],delete u[n3],delete u[r3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function uI(a){return a.tag===5||a.tag===3||a.tag===4}function cI(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||uI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function L0(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(a,u):d.insertBefore(a,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(a,d)):(u=d,u.appendChild(a)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Vm));else if(g!==4&&(a=a.child,a!==null))for(L0(a,u,d),a=a.sibling;a!==null;)L0(a,u,d),a=a.sibling}function V0(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?d.insertBefore(a,u):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(V0(a,u,d),a=a.sibling;a!==null;)V0(a,u,d),a=a.sibling}var br=null,zs=!1;function qa(a,u,d){for(d=d.child;d!==null;)hI(a,u,d),d=d.sibling}function hI(a,u,d){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Bi,d)}catch{}switch(d.tag){case 5:Fr||Uc(d,u);case 6:var g=br,v=zs;br=null,qa(a,u,d),br=g,zs=v,br!==null&&(zs?(a=br,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):br.removeChild(d.stateNode));break;case 18:br!==null&&(zs?(a=br,d=d.stateNode,a.nodeType===8?Xv(a.parentNode,d):a.nodeType===1&&Xv(a,d),js(a)):Xv(br,d.stateNode));break;case 4:g=br,v=zs,br=d.stateNode.containerInfo,zs=!0,qa(a,u,d),br=g,zs=v;break;case 0:case 11:case 14:case 15:if(!Fr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var S=v,D=S.destroy;S=S.tag,D!==void 0&&((S&2)!==0||(S&4)!==0)&&O0(d,u,D),v=v.next}while(v!==g)}qa(a,u,d);break;case 1:if(!Fr&&(Uc(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(z){Dn(d,u,z)}qa(a,u,d);break;case 21:qa(a,u,d);break;case 22:d.mode&1?(Fr=(g=Fr)||d.memoizedState!==null,qa(a,u,d),Fr=g):qa(a,u,d);break;default:qa(a,u,d)}}function dI(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new v3),u.forEach(function(g){var v=R3.bind(null,a,g);d.has(g)||(d.add(g),g.then(v,v))})}}function Ws(a,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g];try{var S=a,D=u,z=D;e:for(;z!==null;){switch(z.tag){case 5:br=z.stateNode,zs=!1;break e;case 3:br=z.stateNode.containerInfo,zs=!0;break e;case 4:br=z.stateNode.containerInfo,zs=!0;break e}z=z.return}if(br===null)throw Error(t(160));hI(S,D,v),br=null,zs=!1;var q=v.alternate;q!==null&&(q.return=null),v.return=null}catch(Q){Dn(v,u,Q)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)fI(u,a),u=u.sibling}function fI(a,u){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ws(u,a),mo(a),g&4){try{zd(3,a,a.return),og(3,a)}catch(Ae){Dn(a,a.return,Ae)}try{zd(5,a,a.return)}catch(Ae){Dn(a,a.return,Ae)}}break;case 1:Ws(u,a),mo(a),g&512&&d!==null&&Uc(d,d.return);break;case 5:if(Ws(u,a),mo(a),g&512&&d!==null&&Uc(d,d.return),a.flags&32){var v=a.stateNode;try{Nt(v,"")}catch(Ae){Dn(a,a.return,Ae)}}if(g&4&&(v=a.stateNode,v!=null)){var S=a.memoizedProps,D=d!==null?d.memoizedProps:S,z=a.type,q=a.updateQueue;if(a.updateQueue=null,q!==null)try{z==="input"&&S.type==="radio"&&S.name!=null&&vt(v,S),Tr(z,D);var Q=Tr(z,S);for(D=0;D<q.length;D+=2){var le=q[D],he=q[D+1];le==="style"?kn(v,he):le==="dangerouslySetInnerHTML"?Jt(v,he):le==="children"?Nt(v,he):L(v,le,he,Q)}switch(z){case"input":J(v,S);break;case"textarea":Kt(v,S);break;case"select":var oe=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var ve=S.value;ve!=null?ce(v,!!S.multiple,ve,!1):oe!==!!S.multiple&&(S.defaultValue!=null?ce(v,!!S.multiple,S.defaultValue,!0):ce(v,!!S.multiple,S.multiple?[]:"",!1))}v[Nd]=S}catch(Ae){Dn(a,a.return,Ae)}}break;case 6:if(Ws(u,a),mo(a),g&4){if(a.stateNode===null)throw Error(t(162));v=a.stateNode,S=a.memoizedProps;try{v.nodeValue=S}catch(Ae){Dn(a,a.return,Ae)}}break;case 3:if(Ws(u,a),mo(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{js(u.containerInfo)}catch(Ae){Dn(a,a.return,Ae)}break;case 4:Ws(u,a),mo(a);break;case 13:Ws(u,a),mo(a),v=a.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(U0=et())),g&4&&dI(a);break;case 22:if(le=d!==null&&d.memoizedState!==null,a.mode&1?(Fr=(Q=Fr)||le,Ws(u,a),Fr=Q):Ws(u,a),mo(a),g&8192){if(Q=a.memoizedState!==null,(a.stateNode.isHidden=Q)&&!le&&(a.mode&1)!==0)for(Te=a,le=a.child;le!==null;){for(he=Te=le;Te!==null;){switch(oe=Te,ve=oe.child,oe.tag){case 0:case 11:case 14:case 15:zd(4,oe,oe.return);break;case 1:Uc(oe,oe.return);var be=oe.stateNode;if(typeof be.componentWillUnmount=="function"){g=oe,d=oe.return;try{u=g,be.props=u.memoizedProps,be.state=u.memoizedState,be.componentWillUnmount()}catch(Ae){Dn(g,d,Ae)}}break;case 5:Uc(oe,oe.return);break;case 22:if(oe.memoizedState!==null){gI(he);continue}}ve!==null?(ve.return=oe,Te=ve):gI(he)}le=le.sibling}e:for(le=null,he=a;;){if(he.tag===5){if(le===null){le=he;try{v=he.stateNode,Q?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(z=he.stateNode,q=he.memoizedProps.style,D=q!=null&&q.hasOwnProperty("display")?q.display:null,z.style.display=ar("display",D))}catch(Ae){Dn(a,a.return,Ae)}}}else if(he.tag===6){if(le===null)try{he.stateNode.nodeValue=Q?"":he.memoizedProps}catch(Ae){Dn(a,a.return,Ae)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===a)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===a)break e;for(;he.sibling===null;){if(he.return===null||he.return===a)break e;le===he&&(le=null),he=he.return}le===he&&(le=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Ws(u,a),mo(a),g&4&&dI(a);break;case 21:break;default:Ws(u,a),mo(a)}}function mo(a){var u=a.flags;if(u&2){try{e:{for(var d=a.return;d!==null;){if(uI(d)){var g=d;break e}d=d.return}throw Error(t(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(Nt(v,""),g.flags&=-33);var S=cI(a);V0(a,S,v);break;case 3:case 4:var D=g.stateNode.containerInfo,z=cI(a);L0(a,z,D);break;default:throw Error(t(161))}}catch(q){Dn(a,a.return,q)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function T3(a,u,d){Te=a,pI(a)}function pI(a,u,d){for(var g=(a.mode&1)!==0;Te!==null;){var v=Te,S=v.child;if(v.tag===22&&g){var D=v.memoizedState!==null||sg;if(!D){var z=v.alternate,q=z!==null&&z.memoizedState!==null||Fr;z=sg;var Q=Fr;if(sg=D,(Fr=q)&&!Q)for(Te=v;Te!==null;)D=Te,q=D.child,D.tag===22&&D.memoizedState!==null?yI(v):q!==null?(q.return=D,Te=q):yI(v);for(;S!==null;)Te=S,pI(S),S=S.sibling;Te=v,sg=z,Fr=Q}mI(a)}else(v.subtreeFlags&8772)!==0&&S!==null?(S.return=v,Te=S):mI(a)}}function mI(a){for(;Te!==null;){var u=Te;if((u.flags&8772)!==0){var d=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Fr||og(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!Fr)if(d===null)g.componentDidMount();else{var v=u.elementType===u.type?d.memoizedProps:$s(u.type,d.memoizedProps);g.componentDidUpdate(v,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&gb(u,S,g);break;case 3:var D=u.updateQueue;if(D!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}gb(u,D,d)}break;case 5:var z=u.stateNode;if(d===null&&u.flags&4){d=z;var q=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&d.focus();break;case"img":q.src&&(d.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Q=u.alternate;if(Q!==null){var le=Q.memoizedState;if(le!==null){var he=le.dehydrated;he!==null&&js(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Fr||u.flags&512&&M0(u)}catch(oe){Dn(u,u.return,oe)}}if(u===a){Te=null;break}if(d=u.sibling,d!==null){d.return=u.return,Te=d;break}Te=u.return}}function gI(a){for(;Te!==null;){var u=Te;if(u===a){Te=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Te=d;break}Te=u.return}}function yI(a){for(;Te!==null;){var u=Te;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{og(4,u)}catch(q){Dn(u,d,q)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var v=u.return;try{g.componentDidMount()}catch(q){Dn(u,v,q)}}var S=u.return;try{M0(u)}catch(q){Dn(u,S,q)}break;case 5:var D=u.return;try{M0(u)}catch(q){Dn(u,D,q)}}}catch(q){Dn(u,u.return,q)}if(u===a){Te=null;break}var z=u.sibling;if(z!==null){z.return=u.return,Te=z;break}Te=u.return}}var E3=Math.ceil,ag=V.ReactCurrentDispatcher,j0=V.ReactCurrentOwner,gs=V.ReactCurrentBatchConfig,kt=0,dr=null,Wn=null,Ir=0,Yi=0,Bc=Ba(0),tr=0,Wd=null,iu=0,lg=0,F0=0,Hd=null,Ci=null,U0=0,$c=1/0,ta=null,ug=!1,B0=null,Ga=null,cg=!1,Ya=null,hg=0,qd=0,$0=null,dg=-1,fg=0;function ui(){return(kt&6)!==0?et():dg!==-1?dg:dg=et()}function Ka(a){return(a.mode&1)===0?1:(kt&2)!==0&&Ir!==0?Ir&-Ir:s3.transition!==null?(fg===0&&(fg=ql()),fg):(a=wt,a!==0||(a=window.event,a=a===void 0?16:wd(a.type)),a)}function Hs(a,u,d,g){if(50<qd)throw qd=0,$0=null,Error(t(185));Da(a,d,g),((kt&2)===0||a!==dr)&&(a===dr&&((kt&2)===0&&(lg|=d),tr===4&&Xa(a,Ir)),bi(a,g),d===1&&kt===0&&(u.mode&1)===0&&($c=et()+500,Bm&&za()))}function bi(a,u){var d=a.callbackNode;zo(a,u);var g=Hl(a,a===dr?Ir:0);if(g===0)d!==null&&dn(d),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(d!=null&&dn(d),u===1)a.tag===0?i3(vI.bind(null,a)):ib(vI.bind(null,a)),e3(function(){(kt&6)===0&&za()}),d=null;else{switch(Ma(g)){case 1:d=lr;break;case 4:d=us;break;case 16:d=ii;break;case 536870912:d=si;break;default:d=ii}d=II(d,_I.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function _I(a,u){if(dg=-1,fg=0,(kt&6)!==0)throw Error(t(327));var d=a.callbackNode;if(zc()&&a.callbackNode!==d)return null;var g=Hl(a,a===dr?Ir:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||u)u=pg(a,g);else{u=g;var v=kt;kt|=2;var S=TI();(dr!==a||Ir!==u)&&(ta=null,$c=et()+500,ou(a,u));do try{C3();break}catch(z){wI(a,z)}while(!0);o0(),ag.current=S,kt=v,Wn!==null?u=0:(dr=null,Ir=0,u=tr)}if(u!==0){if(u===2&&(v=zi(a),v!==0&&(g=v,u=z0(a,v))),u===1)throw d=Wd,ou(a,0),Xa(a,g),bi(a,et()),d;if(u===6)Xa(a,g);else{if(v=a.current.alternate,(g&30)===0&&!x3(v)&&(u=pg(a,g),u===2&&(S=zi(a),S!==0&&(g=S,u=z0(a,S))),u===1))throw d=Wd,ou(a,0),Xa(a,g),bi(a,et()),d;switch(a.finishedWork=v,a.finishedLanes=g,u){case 0:case 1:throw Error(t(345));case 2:au(a,Ci,ta);break;case 3:if(Xa(a,g),(g&130023424)===g&&(u=U0+500-et(),10<u)){if(Hl(a,0)!==0)break;if(v=a.suspendedLanes,(v&g)!==g){ui(),a.pingedLanes|=a.suspendedLanes&v;break}a.timeoutHandle=Kv(au.bind(null,a,Ci,ta),u);break}au(a,Ci,ta);break;case 4:if(Xa(a,g),(g&4194240)===g)break;for(u=a.eventTimes,v=-1;0<g;){var D=31-oi(g);S=1<<D,D=u[D],D>v&&(v=D),g&=~S}if(g=v,g=et()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*E3(g/1960))-g,10<g){a.timeoutHandle=Kv(au.bind(null,a,Ci,ta),g);break}au(a,Ci,ta);break;case 5:au(a,Ci,ta);break;default:throw Error(t(329))}}}return bi(a,et()),a.callbackNode===d?_I.bind(null,a):null}function z0(a,u){var d=Hd;return a.current.memoizedState.isDehydrated&&(ou(a,u).flags|=256),a=pg(a,u),a!==2&&(u=Ci,Ci=d,u!==null&&W0(u)),a}function W0(a){Ci===null?Ci=a:Ci.push.apply(Ci,a)}function x3(a){for(var u=a;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var v=d[g],S=v.getSnapshot;v=v.value;try{if(!Us(S(),v))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Xa(a,u){for(u&=~F0,u&=~lg,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-oi(u),g=1<<d;a[d]=-1,u&=~g}}function vI(a){if((kt&6)!==0)throw Error(t(327));zc();var u=Hl(a,0);if((u&1)===0)return bi(a,et()),null;var d=pg(a,u);if(a.tag!==0&&d===2){var g=zi(a);g!==0&&(u=g,d=z0(a,g))}if(d===1)throw d=Wd,ou(a,0),Xa(a,u),bi(a,et()),d;if(d===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,au(a,Ci,ta),bi(a,et()),null}function H0(a,u){var d=kt;kt|=1;try{return a(u)}finally{kt=d,kt===0&&($c=et()+500,Bm&&za())}}function su(a){Ya!==null&&Ya.tag===0&&(kt&6)===0&&zc();var u=kt;kt|=1;var d=gs.transition,g=wt;try{if(gs.transition=null,wt=1,a)return a()}finally{wt=g,gs.transition=d,kt=u,(kt&6)===0&&za()}}function q0(){Yi=Bc.current,sn(Bc)}function ou(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,Z4(d)),Wn!==null)for(d=Wn.return;d!==null;){var g=d;switch(t0(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Fm();break;case 3:jc(),sn(Ei),sn(Lr),p0();break;case 5:d0(g);break;case 4:jc();break;case 13:sn(Tn);break;case 19:sn(Tn);break;case 10:a0(g.type._context);break;case 22:case 23:q0()}d=d.return}if(dr=a,Wn=a=Qa(a.current,null),Ir=Yi=u,tr=0,Wd=null,F0=lg=iu=0,Ci=Hd=null,tu!==null){for(u=0;u<tu.length;u++)if(d=tu[u],g=d.interleaved,g!==null){d.interleaved=null;var v=g.next,S=d.pending;if(S!==null){var D=S.next;S.next=v,g.next=D}d.pending=g}tu=null}return a}function wI(a,u){do{var d=Wn;try{if(o0(),Qm.current=tg,Jm){for(var g=En.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}Jm=!1}if(ru=0,hr=er=En=null,jd=!1,Fd=0,j0.current=null,d===null||d.return===null){tr=1,Wd=u,Wn=null;break}e:{var S=a,D=d.return,z=d,q=u;if(u=Ir,z.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var Q=q,le=z,he=le.tag;if((le.mode&1)===0&&(he===0||he===11||he===15)){var oe=le.alternate;oe?(le.updateQueue=oe.updateQueue,le.memoizedState=oe.memoizedState,le.lanes=oe.lanes):(le.updateQueue=null,le.memoizedState=null)}var ve=Hb(D);if(ve!==null){ve.flags&=-257,qb(ve,D,z,S,u),ve.mode&1&&Wb(S,Q,u),u=ve,q=Q;var be=u.updateQueue;if(be===null){var Ae=new Set;Ae.add(q),u.updateQueue=Ae}else be.add(q);break e}else{if((u&1)===0){Wb(S,Q,u),G0();break e}q=Error(t(426))}}else if(mn&&z.mode&1){var Vn=Hb(D);if(Vn!==null){(Vn.flags&65536)===0&&(Vn.flags|=256),qb(Vn,D,z,S,u),i0(Fc(q,z));break e}}S=q=Fc(q,z),tr!==4&&(tr=2),Hd===null?Hd=[S]:Hd.push(S),S=D;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var K=$b(S,q,u);mb(S,K);break e;case 1:z=q;var G=S.type,X=S.stateNode;if((S.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Ga===null||!Ga.has(X)))){S.flags|=65536,u&=-u,S.lanes|=u;var de=zb(S,z,u);mb(S,de);break e}}S=S.return}while(S!==null)}xI(d)}catch(Pe){u=Pe,Wn===d&&d!==null&&(Wn=d=d.return);continue}break}while(!0)}function TI(){var a=ag.current;return ag.current=tg,a===null?tg:a}function G0(){(tr===0||tr===3||tr===2)&&(tr=4),dr===null||(iu&268435455)===0&&(lg&268435455)===0||Xa(dr,Ir)}function pg(a,u){var d=kt;kt|=2;var g=TI();(dr!==a||Ir!==u)&&(ta=null,ou(a,u));do try{S3();break}catch(v){wI(a,v)}while(!0);if(o0(),kt=d,ag.current=g,Wn!==null)throw Error(t(261));return dr=null,Ir=0,tr}function S3(){for(;Wn!==null;)EI(Wn)}function C3(){for(;Wn!==null&&!vi();)EI(Wn)}function EI(a){var u=bI(a.alternate,a,Yi);a.memoizedProps=a.pendingProps,u===null?xI(a):Wn=u,j0.current=null}function xI(a){var u=a;do{var d=u.alternate;if(a=u.return,(u.flags&32768)===0){if(d=y3(d,u,Yi),d!==null){Wn=d;return}}else{if(d=_3(d,u),d!==null){d.flags&=32767,Wn=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{tr=6,Wn=null;return}}if(u=u.sibling,u!==null){Wn=u;return}Wn=u=a}while(u!==null);tr===0&&(tr=5)}function au(a,u,d){var g=wt,v=gs.transition;try{gs.transition=null,wt=1,b3(a,u,d,g)}finally{gs.transition=v,wt=g}return null}function b3(a,u,d,g){do zc();while(Ya!==null);if((kt&6)!==0)throw Error(t(327));d=a.finishedWork;var v=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var S=d.lanes|d.childLanes;if(Xt(a,S),a===dr&&(Wn=dr=null,Ir=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||cg||(cg=!0,II(ii,function(){return zc(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=gs.transition,gs.transition=null;var D=wt;wt=1;var z=kt;kt|=4,j0.current=null,w3(a,d),fI(d,a),q4(Gv),Va=!!qv,Gv=qv=null,a.current=d,T3(d),Pa(),kt=z,wt=D,gs.transition=S}else a.current=d;if(cg&&(cg=!1,Ya=a,hg=v),S=a.pendingLanes,S===0&&(Ga=null),$i(d.stateNode),bi(a,et()),u!==null)for(g=a.onRecoverableError,d=0;d<u.length;d++)v=u[d],g(v.value,{componentStack:v.stack,digest:v.digest});if(ug)throw ug=!1,a=B0,B0=null,a;return(hg&1)!==0&&a.tag!==0&&zc(),S=a.pendingLanes,(S&1)!==0?a===$0?qd++:(qd=0,$0=a):qd=0,za(),null}function zc(){if(Ya!==null){var a=Ma(hg),u=gs.transition,d=wt;try{if(gs.transition=null,wt=16>a?16:a,Ya===null)var g=!1;else{if(a=Ya,Ya=null,hg=0,(kt&6)!==0)throw Error(t(331));var v=kt;for(kt|=4,Te=a.current;Te!==null;){var S=Te,D=S.child;if((Te.flags&16)!==0){var z=S.deletions;if(z!==null){for(var q=0;q<z.length;q++){var Q=z[q];for(Te=Q;Te!==null;){var le=Te;switch(le.tag){case 0:case 11:case 15:zd(8,le,S)}var he=le.child;if(he!==null)he.return=le,Te=he;else for(;Te!==null;){le=Te;var oe=le.sibling,ve=le.return;if(lI(le),le===Q){Te=null;break}if(oe!==null){oe.return=ve,Te=oe;break}Te=ve}}}var be=S.alternate;if(be!==null){var Ae=be.child;if(Ae!==null){be.child=null;do{var Vn=Ae.sibling;Ae.sibling=null,Ae=Vn}while(Ae!==null)}}Te=S}}if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,Te=D;else e:for(;Te!==null;){if(S=Te,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:zd(9,S,S.return)}var K=S.sibling;if(K!==null){K.return=S.return,Te=K;break e}Te=S.return}}var G=a.current;for(Te=G;Te!==null;){D=Te;var X=D.child;if((D.subtreeFlags&2064)!==0&&X!==null)X.return=D,Te=X;else e:for(D=G;Te!==null;){if(z=Te,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:og(9,z)}}catch(Pe){Dn(z,z.return,Pe)}if(z===D){Te=null;break e}var de=z.sibling;if(de!==null){de.return=z.return,Te=de;break e}Te=z.return}}if(kt=v,za(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Bi,a)}catch{}g=!0}return g}finally{wt=d,gs.transition=u}}return!1}function SI(a,u,d){u=Fc(d,u),u=$b(a,u,1),a=Ha(a,u,1),u=ui(),a!==null&&(Da(a,1,u),bi(a,u))}function Dn(a,u,d){if(a.tag===3)SI(a,a,d);else for(;u!==null;){if(u.tag===3){SI(u,a,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ga===null||!Ga.has(g))){a=Fc(d,a),a=zb(u,a,1),u=Ha(u,a,1),a=ui(),u!==null&&(Da(u,1,a),bi(u,a));break}}u=u.return}}function I3(a,u,d){var g=a.pingCache;g!==null&&g.delete(u),u=ui(),a.pingedLanes|=a.suspendedLanes&d,dr===a&&(Ir&d)===d&&(tr===4||tr===3&&(Ir&130023424)===Ir&&500>et()-U0?ou(a,0):F0|=d),bi(a,u)}function CI(a,u){u===0&&((a.mode&1)===0?u=1:(u=dc,dc<<=1,(dc&130023424)===0&&(dc=4194304)));var d=ui();a=Jo(a,u),a!==null&&(Da(a,u,d),bi(a,d))}function A3(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),CI(a,d)}function R3(a,u){var d=0;switch(a.tag){case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(u),CI(a,d)}var bI;bI=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||Ei.current)Si=!0;else{if((a.lanes&d)===0&&(u.flags&128)===0)return Si=!1,g3(a,u,d);Si=(a.flags&131072)!==0}else Si=!1,mn&&(u.flags&1048576)!==0&&sb(u,zm,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;ig(a,u),a=u.pendingProps;var v=kc(u,Lr.current);Vc(u,d),v=y0(null,u,g,a,v,d);var S=_0();return u.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,xi(g)?(S=!0,Um(u)):S=!1,u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,c0(u),v.updater=ng,u.stateNode=v,v._reactInternals=u,S0(u,g,a,d),u=A0(null,u,g,!0,S,d)):(u.tag=0,mn&&S&&e0(u),li(null,u,v,d),u=u.child),u;case 16:g=u.elementType;e:{switch(ig(a,u),a=u.pendingProps,v=g._init,g=v(g._payload),u.type=g,v=u.tag=k3(g),a=$s(g,a),v){case 0:u=I0(null,u,g,a,d);break e;case 1:u=Jb(null,u,g,a,d);break e;case 11:u=Gb(null,u,g,a,d);break e;case 14:u=Yb(null,u,g,$s(g.type,a),d);break e}throw Error(t(306,g,""))}return u;case 0:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:$s(g,v),I0(a,u,g,v,d);case 1:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:$s(g,v),Jb(a,u,g,v,d);case 3:e:{if(Zb(u),a===null)throw Error(t(387));g=u.pendingProps,S=u.memoizedState,v=S.element,pb(a,u),Km(u,g,null,d);var D=u.memoizedState;if(g=D.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){v=Fc(Error(t(423)),u),u=eI(a,u,g,d,v);break e}else if(g!==v){v=Fc(Error(t(424)),u),u=eI(a,u,g,d,v);break e}else for(Gi=Ua(u.stateNode.containerInfo.firstChild),qi=u,mn=!0,Bs=null,d=db(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Oc(),g===v){u=ea(a,u,d);break e}li(a,u,g,d)}u=u.child}return u;case 5:return yb(u),a===null&&r0(u),g=u.type,v=u.pendingProps,S=a!==null?a.memoizedProps:null,D=v.children,Yv(g,v)?D=null:S!==null&&Yv(g,S)&&(u.flags|=32),Qb(a,u),li(a,u,D,d),u.child;case 6:return a===null&&r0(u),null;case 13:return tI(a,u,d);case 4:return h0(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=Mc(u,null,g,d):li(a,u,g,d),u.child;case 11:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:$s(g,v),Gb(a,u,g,v,d);case 7:return li(a,u,u.pendingProps,d),u.child;case 8:return li(a,u,u.pendingProps.children,d),u.child;case 12:return li(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,v=u.pendingProps,S=u.memoizedProps,D=v.value,en(qm,g._currentValue),g._currentValue=D,S!==null)if(Us(S.value,D)){if(S.children===v.children&&!Ei.current){u=ea(a,u,d);break e}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var z=S.dependencies;if(z!==null){D=S.child;for(var q=z.firstContext;q!==null;){if(q.context===g){if(S.tag===1){q=Zo(-1,d&-d),q.tag=2;var Q=S.updateQueue;if(Q!==null){Q=Q.shared;var le=Q.pending;le===null?q.next=q:(q.next=le.next,le.next=q),Q.pending=q}}S.lanes|=d,q=S.alternate,q!==null&&(q.lanes|=d),l0(S.return,d,u),z.lanes|=d;break}q=q.next}}else if(S.tag===10)D=S.type===u.type?null:S.child;else if(S.tag===18){if(D=S.return,D===null)throw Error(t(341));D.lanes|=d,z=D.alternate,z!==null&&(z.lanes|=d),l0(D,d,u),D=S.sibling}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===u){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}li(a,u,v.children,d),u=u.child}return u;case 9:return v=u.type,g=u.pendingProps.children,Vc(u,d),v=ps(v),g=g(v),u.flags|=1,li(a,u,g,d),u.child;case 14:return g=u.type,v=$s(g,u.pendingProps),v=$s(g.type,v),Yb(a,u,g,v,d);case 15:return Kb(a,u,u.type,u.pendingProps,d);case 17:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:$s(g,v),ig(a,u),u.tag=1,xi(g)?(a=!0,Um(u)):a=!1,Vc(u,d),Ub(u,g,v),S0(u,g,v,d),A0(null,u,g,!0,a,d);case 19:return rI(a,u,d);case 22:return Xb(a,u,d)}throw Error(t(156,u.tag))};function II(a,u){return Gt(a,u)}function P3(a,u,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(a,u,d,g){return new P3(a,u,d,g)}function Y0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function k3(a){if(typeof a=="function")return Y0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===B)return 11;if(a===ae)return 14}return 2}function Qa(a,u){var d=a.alternate;return d===null?(d=ys(a.tag,u,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function mg(a,u,d,g,v,S){var D=2;if(g=a,typeof a=="function")Y0(a)&&(D=1);else if(typeof a=="string")D=5;else e:switch(a){case k:return lu(d.children,v,S,u);case R:D=8,v|=8;break;case P:return a=ys(12,d,u,v|2),a.elementType=P,a.lanes=S,a;case M:return a=ys(13,d,u,v),a.elementType=M,a.lanes=S,a;case ne:return a=ys(19,d,u,v),a.elementType=ne,a.lanes=S,a;case re:return gg(d,v,S,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:D=10;break e;case j:D=9;break e;case B:D=11;break e;case ae:D=14;break e;case fe:D=16,g=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return u=ys(D,d,u,v),u.elementType=a,u.type=g,u.lanes=S,u}function lu(a,u,d,g){return a=ys(7,a,g,u),a.lanes=d,a}function gg(a,u,d,g){return a=ys(22,a,g,u),a.elementType=re,a.lanes=d,a.stateNode={isHidden:!1},a}function K0(a,u,d){return a=ys(6,a,null,u),a.lanes=d,a}function X0(a,u,d){return u=ys(4,a.children!==null?a.children:[],a.key,u),u.lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function N3(a,u,d,g,v){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Q0(a,u,d,g,v,S,D,z,q){return a=new N3(a,u,d,z,q),u===1?(u=1,S===!0&&(u|=8)):u=0,S=ys(3,null,null,u),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},c0(S),a}function D3(a,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:g==null?null:""+g,children:a,containerInfo:u,implementation:d}}function AI(a){if(!a)return $a;a=a._reactInternals;e:{if(it(a)!==a||a.tag!==1)throw Error(t(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(xi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(a.tag===1){var d=a.type;if(xi(d))return nb(a,d,u)}return u}function RI(a,u,d,g,v,S,D,z,q){return a=Q0(d,g,!0,a,v,S,D,z,q),a.context=AI(null),d=a.current,g=ui(),v=Ka(d),S=Zo(g,v),S.callback=u??null,Ha(d,S,v),a.current.lanes=v,Da(a,v,g),bi(a,g),a}function yg(a,u,d,g){var v=u.current,S=ui(),D=Ka(v);return d=AI(d),u.context===null?u.context=d:u.pendingContext=d,u=Zo(S,D),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Ha(v,u,D),a!==null&&(Hs(a,v,D,S),Ym(a,v,D)),D}function _g(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function PI(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function J0(a,u){PI(a,u),(a=a.alternate)&&PI(a,u)}function O3(){return null}var kI=typeof reportError=="function"?reportError:function(a){console.error(a)};function Z0(a){this._internalRoot=a}vg.prototype.render=Z0.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(t(409));yg(a,u,null,null)},vg.prototype.unmount=Z0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;su(function(){yg(null,a,null,null)}),u[Yo]=null}};function vg(a){this._internalRoot=a}vg.prototype.unstable_scheduleHydration=function(a){if(a){var u=vm();a={blockedOn:null,target:a,priority:u};for(var d=0;d<ao.length&&u!==0&&u<ao[d].priority;d++);ao.splice(d,0,a),d===0&&Em(a)}};function ew(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function wg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function NI(){}function M3(a,u,d,g,v){if(v){if(typeof g=="function"){var S=g;g=function(){var Q=_g(D);S.call(Q)}}var D=RI(u,g,a,0,null,!1,!1,"",NI);return a._reactRootContainer=D,a[Yo]=D.current,Pd(a.nodeType===8?a.parentNode:a),su(),D}for(;v=a.lastChild;)a.removeChild(v);if(typeof g=="function"){var z=g;g=function(){var Q=_g(q);z.call(Q)}}var q=Q0(a,0,!1,null,null,!1,!1,"",NI);return a._reactRootContainer=q,a[Yo]=q.current,Pd(a.nodeType===8?a.parentNode:a),su(function(){yg(u,q,d,g)}),q}function Tg(a,u,d,g,v){var S=d._reactRootContainer;if(S){var D=S;if(typeof v=="function"){var z=v;v=function(){var q=_g(D);z.call(q)}}yg(u,D,a,v)}else D=M3(d,u,a,v,g);return _g(D)}ym=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=ka(u.pendingLanes);d!==0&&(Oa(u,d|1),bi(u,et()),(kt&6)===0&&($c=et()+500,za()))}break;case 13:su(function(){var g=Jo(a,1);if(g!==null){var v=ui();Hs(g,a,1,v)}}),J0(a,1)}},fc=function(a){if(a.tag===13){var u=Jo(a,134217728);if(u!==null){var d=ui();Hs(u,a,134217728,d)}J0(a,134217728)}},_m=function(a){if(a.tag===13){var u=Ka(a),d=Jo(a,u);if(d!==null){var g=ui();Hs(d,a,u,g)}J0(a,u)}},vm=function(){return wt},wm=function(a,u){var d=wt;try{return wt=a,u()}finally{wt=d}},Er=function(a,u,d){switch(u){case"input":if(J(a,d),u=d.name,d.type==="radio"&&u!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==a&&g.form===a.form){var v=jm(g);if(!v)throw Error(t(90));Bt(g),J(g,v)}}}break;case"textarea":Kt(a,d);break;case"select":u=d.value,u!=null&&ce(a,!!d.multiple,u,!1)}},rt=H0,Nn=su;var L3={usingClientEntryPoint:!1,Events:[Dd,Rc,jm,Pt,xr,H0]},Gd={findFiberByHostInstance:Ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V3={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=qt(a),a===null?null:a.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||O3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eg.isDisabled&&Eg.supportsFiber)try{Bi=Eg.inject(V3),ur=Eg}catch{}}return Ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L3,Ii.createPortal=function(a,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ew(u))throw Error(t(200));return D3(a,u,null,d)},Ii.createRoot=function(a,u){if(!ew(a))throw Error(t(299));var d=!1,g="",v=kI;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(v=u.onRecoverableError)),u=Q0(a,1,!1,null,null,d,!1,g,v),a[Yo]=u.current,Pd(a.nodeType===8?a.parentNode:a),new Z0(u)},Ii.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=qt(u),a=a===null?null:a.stateNode,a},Ii.flushSync=function(a){return su(a)},Ii.hydrate=function(a,u,d){if(!wg(u))throw Error(t(200));return Tg(null,a,u,!0,d)},Ii.hydrateRoot=function(a,u,d){if(!ew(a))throw Error(t(405));var g=d!=null&&d.hydratedSources||null,v=!1,S="",D=kI;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),u=RI(u,null,a,1,d??null,v,!1,S,D),a[Yo]=u.current,Pd(a),g)for(a=0;a<g.length;a++)d=g[a],v=d._getVersion,v=v(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,v]:u.mutableSourceEagerHydrationData.push(d,v);return new vg(u)},Ii.render=function(a,u,d){if(!wg(u))throw Error(t(200));return Tg(null,a,u,!1,d)},Ii.unmountComponentAtNode=function(a){if(!wg(a))throw Error(t(40));return a._reactRootContainer?(su(function(){Tg(null,null,a,!1,function(){a._reactRootContainer=null,a[Yo]=null})}),!0):!1},Ii.unstable_batchedUpdates=H0,Ii.unstable_renderSubtreeIntoContainer=function(a,u,d,g){if(!wg(d))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Tg(a,u,d,!1,g)},Ii.version="18.3.1-next-f1338f8080-20240426",Ii}var BI;function sD(){if(BI)return rw.exports;BI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rw.exports=q3(),rw.exports}var $I;function G3(){if($I)return xg;$I=1;var n=sD();return xg.createRoot=n.createRoot,xg.hydrateRoot=n.hydrateRoot,xg}var Y3=G3();const K3=Fo(Y3);var ow,zI;function X3(){if(zI)return ow;zI=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,c,h;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!i(s[c],o[c]))return!1;return!0}var f;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(c=f.next()).done;)if(!o.has(c.value[0]))return!1;for(f=s.entries();!(c=f.next()).done;)if(!i(c.value[1],o.get(c.value[0])))return!1;return!0}if(t&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(c=f.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(s[c]!==o[c])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(h=Object.keys(s),l=h.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,h[c]))return!1;if(n&&s instanceof Element)return!1;for(c=l;c--!==0;)if(!((h[c]==="_owner"||h[c]==="__v"||h[c]==="__o")&&s.$$typeof)&&!i(s[h[c]],o[h[c]]))return!1;return!0}return s!==s&&o!==o}return ow=function(o,l){try{return i(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},ow}var Q3=X3();const oD=Fo(Q3);var aw,WI;function J3(){if(WI)return aw;WI=1;var n=function(e,t,r,i,s,o,l,c){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,i,s,o,l,c],m=0;h=new Error(t.replace(/%s/g,function(){return f[m++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return aw=n,aw}var Z3=J3();const HI=Fo(Z3);var lw,qI;function eU(){return qI||(qI=1,lw=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),h=0;h<o.length;h++){var f=o[h];if(!c(f))return!1;var m=e[f],y=t[f];if(s=r?r.call(i,m,y,f):void 0,s===!1||s===void 0&&m!==y)return!1}return!0}),lw}var tU=eU();const nU=Fo(tU);var aD=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(aD||{}),uw={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},GI=Object.values(aD),Dx={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},rU=Object.entries(Dx).reduce((n,[e,t])=>(n[t]=e,n),{}),Xs="data-rh",yh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},_h=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},iU=n=>{let e=_h(n,"title");const t=_h(n,yh.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=_h(n,yh.DEFAULT_TITLE);return e||r||void 0},sU=n=>_h(n,yh.ON_CHANGE_CLIENT_STATE)||(()=>{}),cw=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),oU=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const l=i[s].toLowerCase();if(n.indexOf(l)!==-1&&r[l])return t.concat(r)}}return t},[]),aU=n=>console&&typeof console.warn=="function"&&console.warn(n),Kd=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&aU(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,s)=>{const o={};s.filter(c=>{let h;const f=Object.keys(c);for(let y=0;y<f.length;y+=1){const _=f[y],T=_.toLowerCase();e.indexOf(T)!==-1&&!(h==="rel"&&c[h].toLowerCase()==="canonical")&&!(T==="rel"&&c[T].toLowerCase()==="stylesheet")&&(h=T),e.indexOf(_)!==-1&&(_==="innerHTML"||_==="cssText"||_==="itemprop")&&(h=_)}if(!h||!c[h])return!1;const m=c[h].toLowerCase();return r[h]||(r[h]={}),o[h]||(o[h]={}),r[h][m]?!1:(o[h][m]=!0,!0)}).reverse().forEach(c=>i.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const h=l[c],f={...r[h],...o[h]};r[h]=f}return i},[]).reverse()},lU=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},uU=n=>({baseTag:oU(["href"],n),bodyAttributes:cw("bodyAttributes",n),defer:_h(n,yh.DEFER),encode:_h(n,yh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cw("htmlAttributes",n),linkTags:Kd("link",["rel","href"],n),metaTags:Kd("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Kd("noscript",["innerHTML"],n),onChangeClientState:sU(n),scriptTags:Kd("script",["src","innerHTML"],n),styleTags:Kd("style",["cssText"],n),title:iU(n),titleAttributes:cw("titleAttributes",n),prioritizeSeoTags:lU(n,yh.PRIORITIZE_SEO_TAGS)}),lD=n=>Array.isArray(n)?n.join(""):n,cU=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},hw=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(cU(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},YI=(n,e)=>({...n,[e]:void 0}),hU=["noscript","script","style"],RT=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),uD=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),dU=(n,e,t,r)=>{const i=uD(t),s=lD(e);return i?`<${n} ${Xs}="true" ${i}>${RT(s,r)}</${n}>`:`<${n} ${Xs}="true">${RT(s,r)}</${n}>`},fU=(n,e,t=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,f)=>{const m=typeof s[f]>"u"?f:`${f}="${RT(s[f],t)}"`;return h?`${h} ${m}`:m},""),l=s.innerHTML||s.cssText||"",c=hU.indexOf(n)===-1;return`${r}<${n} ${Xs}="true" ${o}${c?"/>":`>${l}</${n}>`}`},""),cD=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=Dx[r];return t[i||r]=n[r],t},e),pU=(n,e,t)=>{const r={key:e,[Xs]:!0},i=cD(t,r);return[Mn.createElement("title",i,e)]},ry=(n,e)=>e.map((t,r)=>{const i={key:r,[Xs]:!0};return Object.keys(t).forEach(s=>{const l=Dx[s]||s;if(l==="innerHTML"||l==="cssText"){const c=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[l]=t[s]}),Mn.createElement(n,i)}),Ts=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>pU(n,e.title,e.titleAttributes),toString:()=>dU(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>cD(e),toString:()=>uD(e)};default:return{toComponent:()=>ry(n,e),toString:()=>fU(n,e,t)}}},mU=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=hw(n,uw.meta),s=hw(e,uw.link),o=hw(t,uw.script);return{priorityMethods:{toComponent:()=>[...ry("meta",i.priority),...ry("link",s.priority),...ry("script",o.priority)],toString:()=>`${Ts("meta",i.priority,r)} ${Ts("link",s.priority,r)} ${Ts("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},gU=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:h}=n;let{linkTags:f,metaTags:m,scriptTags:y}=n,_={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:_,linkTags:f,metaTags:m,scriptTags:y}=mU(n)),{priority:_,base:Ts("base",e,r),bodyAttributes:Ts("bodyAttributes",t,r),htmlAttributes:Ts("htmlAttributes",i,r),link:Ts("link",f,r),meta:Ts("meta",m,r),noscript:Ts("noscript",s,r),script:Ts("script",y,r),style:Ts("style",o,r),title:Ts("title",{title:l,titleAttributes:c},r)}},PT=gU,Sg=[],hD=!!(typeof window<"u"&&window.document&&window.document.createElement),kT=class{constructor(n,e){na(this,"instances",[]);na(this,"canUseDOM",hD);na(this,"context");na(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Sg:this.instances,add:n=>{(this.canUseDOM?Sg:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Sg:this.instances).indexOf(n);(this.canUseDOM?Sg:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=PT({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},yU={},dD=Mn.createContext(yU),Au,fD=(Au=class extends A.Component{constructor(t){super(t);na(this,"helmetData");this.helmetData=new kT(this.props.context||{},Au.canUseDOM)}render(){return Mn.createElement(dD.Provider,{value:this.helmetData.value},this.props.children)}},na(Au,"canUseDOM",hD),Au),Wc=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Xs}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(l=>{const c=document.createElement(n);for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h))if(h==="innerHTML")c.innerHTML=l.innerHTML;else if(h==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const f=h,m=typeof l[f]>"u"?"":l[f];c.setAttribute(h,m)}c.setAttribute(Xs,"true"),i.some((h,f)=>(o=f,c.isEqualNode(h)))?i.splice(o,1):s.push(c)}),i.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),s.forEach(l=>t.appendChild(l)),{oldTags:i,newTags:s}},NT=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Xs),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const l of o){const c=e[l]||"";t.getAttribute(l)!==c&&t.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);const h=s.indexOf(l);h!==-1&&s.splice(h,1)}for(let l=s.length-1;l>=0;l-=1)t.removeAttribute(s[l]);i.length===s.length?t.removeAttribute(Xs):t.getAttribute(Xs)!==o.join(",")&&t.setAttribute(Xs,o.join(","))},_U=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=lD(n)),NT("title",e)},KI=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:h,styleTags:f,title:m,titleAttributes:y}=n;NT("body",r),NT("html",i),_U(m,y);const _={baseTag:Wc("base",t),linkTags:Wc("link",s),metaTags:Wc("meta",o),noscriptTags:Wc("noscript",l),scriptTags:Wc("script",h),styleTags:Wc("style",f)},T={},w={};Object.keys(_).forEach(C=>{const{newTags:b,oldTags:O}=_[C];b.length&&(T[C]=b),O.length&&(w[C]=_[C].oldTags)}),e&&e(),c(n,T,w)},Xd=null,vU=n=>{Xd&&cancelAnimationFrame(Xd),n.defer?Xd=requestAnimationFrame(()=>{KI(n,()=>{Xd=null})}):(KI(n),Xd=null)},wU=vU,XI=class extends A.Component{constructor(){super(...arguments);na(this,"rendered",!1)}shouldComponentUpdate(e){return!nU(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=uU(e.get().map(s=>{const o={...s.props};return delete o.context,o}));fD.canUseDOM?wU(i):PT&&(r=PT(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},AT,TU=(AT=class extends A.Component{shouldComponentUpdate(e){return!oD(YI(this.props,"helmetData"),YI(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,i){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,i)}]}}mapObjectTypeChildren(e,t,r,i){switch(e.type){case"title":return{...t,[e.type]:i,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(i=>{r={...r,[i]:e[i]}}),r}warnOnInvalidChildren(e,t){return HI(GI.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${GI.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),HI(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return Mn.Children.forEach(e,i=>{if(!i||!i.props)return;const{children:s,...o}=i.props,l=Object.keys(o).reduce((h,f)=>(h[rU[f]||f]=o[f],h),{});let{type:c}=i;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(i,s),c){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(i,r,l,s);break;default:t=this.mapObjectTypeChildren(i,t,l,s);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:i}=t;if(e&&(r=this.mapChildrenToProps(e,r)),i&&!(i instanceof kT)){const s=i;i=new kT(s.context,!0),delete r.helmetData}return i?Mn.createElement(XI,{...r,context:i.value}):Mn.createElement(dD.Consumer,null,s=>Mn.createElement(XI,{...r,context:s}))}},na(AT,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),AT),Qd={},QI;function EU(){if(QI)return Qd;QI=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.parse=o,Qd.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function o(y,_){const T=new s,w=y.length;if(w<2)return T;const C=(_==null?void 0:_.decode)||f;let b=0;do{const O=y.indexOf("=",b);if(O===-1)break;const L=y.indexOf(";",b),V=L===-1?w:L;if(O>V){b=y.lastIndexOf(";",O-1)+1;continue}const U=l(y,b,O),W=c(y,O,U),k=y.slice(U,W);if(T[k]===void 0){let R=l(y,O+1,V),P=c(y,V,R);const N=C(y.slice(R,P));T[k]=N}b=V+1}while(b<w);return T}function l(y,_,T){do{const w=y.charCodeAt(_);if(w!==32&&w!==9)return _}while(++_<T);return T}function c(y,_,T){for(;_>T;){const w=y.charCodeAt(--_);if(w!==32&&w!==9)return _+1}return T}function h(y,_,T){const w=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const C=w(_);if(!e.test(C))throw new TypeError(`argument val is invalid: ${_}`);let b=y+"="+C;if(!T)return b;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);b+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);b+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);b+="; Path="+T.path}if(T.expires){if(!m(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);b+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(b+="; HttpOnly"),T.secure&&(b+="; Secure"),T.partitioned&&(b+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return b}function f(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return i.call(y)==="[object Date]"}return Qd}EU();var JI="popstate";function xU(n={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return DT("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:tp(i)}return CU(e,t,null,n)}function bn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SU(){return Math.random().toString(36).substring(2,10)}function ZI(n,e){return{usr:n.state,key:n.key,idx:e}}function DT(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Jh(e):e,state:t,key:e&&e.key||r||SU()}}function tp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Jh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function CU(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",c=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let C=f(),b=C==null?null:C-h;h=C,c&&c({action:l,location:w.location,delta:b})}function y(C,b){l="PUSH";let O=DT(w.location,C,b);h=f()+1;let L=ZI(O,h),V=w.createHref(O);try{o.pushState(L,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(V)}s&&c&&c({action:l,location:w.location,delta:1})}function _(C,b){l="REPLACE";let O=DT(w.location,C,b);h=f();let L=ZI(O,h),V=w.createHref(O);o.replaceState(L,"",V),s&&c&&c({action:l,location:w.location,delta:0})}function T(C){return bU(C)}let w={get action(){return l},get location(){return n(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(JI,m),c=C,()=>{i.removeEventListener(JI,m),c=null}},createHref(C){return e(i,C)},createURL:T,encodeLocation(C){let b=T(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:_,go(C){return o.go(C)}};return w}function bU(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),bn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:tp(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function pD(n,e,t="/"){return IU(n,e,t,!1)}function IU(n,e,t,r){let i=typeof e=="string"?Jh(e):e,s=ga(i.pathname||"/",t);if(s==null)return null;let o=mD(n);AU(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=FU(s);l=VU(o[c],h,r)}return l}function mD(n,e=[],t=[],r=""){let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(bn(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=ha([r,c.relativePath]),f=t.concat(c);s.children&&s.children.length>0&&(bn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),mD(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:MU(h,s.index),routesMeta:f})};return n.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of gD(s.path))i(s,o,c)}),e}function gD(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=gD(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function AU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LU(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var RU=/^:[\w-]+$/,PU=3,kU=2,NU=1,DU=10,OU=-2,eA=n=>n==="*";function MU(n,e){let t=n.split("/"),r=t.length;return t.some(eA)&&(r+=OU),e&&(r+=kU),t.filter(i=>!eA(i)).reduce((i,s)=>i+(RU.test(s)?PU:s===""?NU:DU),r)}function LU(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function VU(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Dy({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),y=c.route;if(!m&&h&&t&&!r[r.length-1].route.index&&(m=Dy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:ha([s,m.pathname]),pathnameBase:zU(ha([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=ha([s,m.pathnameBase]))}return o}function Dy(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=jU(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:m},y)=>{if(f==="*"){let T=l[y]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const _=l[y];return m&&!_?h[f]=void 0:h[f]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:n}}function jU(n,e=!1,t=!0){Mo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FU(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ga(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function UU(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Jh(n):n;return{pathname:t?t.startsWith("/")?t:BU(t,e):e,search:WU(r),hash:HU(i)}}function BU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function dw(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $U(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yD(n){let e=$U(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function _D(n,e,t,r=!1){let i;typeof n=="string"?i=Jh(n):(i={...n},bn(!i.pathname||!i.pathname.includes("?"),dw("?","pathname","search",i)),bn(!i.pathname||!i.pathname.includes("#"),dw("#","pathname","hash",i)),bn(!i.search||!i.search.includes("#"),dw("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let c=UU(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}var ha=n=>n.join("/").replace(/\/\/+/g,"/"),zU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WU=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qU(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var vD=["POST","PUT","PATCH","DELETE"];new Set(vD);var GU=["GET",...vD];new Set(GU);var Zh=A.createContext(null);Zh.displayName="DataRouter";var N_=A.createContext(null);N_.displayName="DataRouterState";var wD=A.createContext({isTransitioning:!1});wD.displayName="ViewTransition";var YU=A.createContext(new Map);YU.displayName="Fetchers";var KU=A.createContext(null);KU.displayName="Await";var Uo=A.createContext(null);Uo.displayName="Navigation";var Lp=A.createContext(null);Lp.displayName="Location";var Ia=A.createContext({outlet:null,matches:[],isDataRoute:!1});Ia.displayName="Route";var Ox=A.createContext(null);Ox.displayName="RouteError";function XU(n,{relative:e}={}){bn(Vp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(Uo),{hash:i,pathname:s,search:o}=jp(n,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:ha([t,s])),r.createHref({pathname:l,search:o,hash:i})}function Vp(){return A.useContext(Lp)!=null}function so(){return bn(Vp(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Lp).location}var TD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ED(n){A.useContext(Uo).static||A.useLayoutEffect(n)}function ed(){let{isDataRoute:n}=A.useContext(Ia);return n?u5():QU()}function QU(){bn(Vp(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(Zh),{basename:e,navigator:t}=A.useContext(Uo),{matches:r}=A.useContext(Ia),{pathname:i}=so(),s=JSON.stringify(yD(r)),o=A.useRef(!1);return ED(()=>{o.current=!0}),A.useCallback((c,h={})=>{if(Mo(o.current,TD),!o.current)return;if(typeof c=="number"){t.go(c);return}let f=_D(c,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ha([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,s,i,n])}A.createContext(null);function jp(n,{relative:e}={}){let{matches:t}=A.useContext(Ia),{pathname:r}=so(),i=JSON.stringify(yD(t));return A.useMemo(()=>_D(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function JU(n,e){return xD(n,e)}function xD(n,e,t,r){var b;bn(Vp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(Uo),{matches:s}=A.useContext(Ia),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let O=f&&f.path||"";SD(c,!f||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let m=so(),y;if(e){let O=typeof e=="string"?Jh(e):e;bn(h==="/"||((b=O.pathname)==null?void 0:b.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=m;let _=y.pathname||"/",T=_;if(h!=="/"){let O=h.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let w=pD(n,{pathname:T});Mo(f||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Mo(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=r5(w&&w.map(O=>Object.assign({},O,{params:Object.assign({},l,O.params),pathname:ha([h,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:ha([h,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,t,r);return e&&C?A.createElement(Lp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function ZU(){let n=l5(),e=qU(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:i},t):null,o)}var e5=A.createElement(ZU,null),t5=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(Ia.Provider,{value:this.props.routeContext},A.createElement(Ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n5({routeContext:n,match:e,children:t}){let r=A.useContext(Zh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Ia.Provider,{value:n},t)}function r5(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);bn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:f,errors:m}=t,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,h,f)=>{let m,y=!1,_=null,T=null;t&&(m=s&&h.route.id?s[h.route.id]:void 0,_=h.route.errorElement||e5,o&&(l<0&&f===0?(SD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,T=null):l===f&&(y=!0,T=h.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,f+1)),C=()=>{let b;return m?b=_:y?b=T:h.route.Component?b=A.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=c,A.createElement(n5,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:t!=null},children:b})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(t5,{location:t.location,revalidation:t.revalidation,component:_,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function Mx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i5(n){let e=A.useContext(Zh);return bn(e,Mx(n)),e}function s5(n){let e=A.useContext(N_);return bn(e,Mx(n)),e}function o5(n){let e=A.useContext(Ia);return bn(e,Mx(n)),e}function Lx(n){let e=o5(n),t=e.matches[e.matches.length-1];return bn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function a5(){return Lx("useRouteId")}function l5(){var r;let n=A.useContext(Ox),e=s5("useRouteError"),t=Lx("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function u5(){let{router:n}=i5("useNavigate"),e=Lx("useNavigate"),t=A.useRef(!1);return ED(()=>{t.current=!0}),A.useCallback(async(i,s={})=>{Mo(t.current,TD),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var tA={};function SD(n,e,t){!e&&!tA[n]&&(tA[n]=!0,Mo(!1,t))}A.memo(c5);function c5({routes:n,future:e,state:t}){return xD(n,void 0,t,e)}function Ki(n){bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h5({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){bn(!Vp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Jh(t));let{pathname:c="/",search:h="",hash:f="",state:m=null,key:y="default"}=t,_=A.useMemo(()=>{let T=ga(c,o);return T==null?null:{location:{pathname:T,search:h,hash:f,state:m,key:y},navigationType:r}},[o,c,h,f,m,y,r]);return Mo(_!=null,`<Router basename="${o}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:A.createElement(Uo.Provider,{value:l},A.createElement(Lp.Provider,{children:e,value:_}))}function d5({children:n,location:e}){return JU(OT(n),e)}function OT(n,e=[]){let t=[];return A.Children.forEach(n,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){t.push.apply(t,OT(r.props.children,s));return}bn(r.type===Ki,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=OT(r.props.children,s)),t.push(o)}),t}var iy="get",sy="application/x-www-form-urlencoded";function D_(n){return n!=null&&typeof n.tagName=="string"}function f5(n){return D_(n)&&n.tagName.toLowerCase()==="button"}function p5(n){return D_(n)&&n.tagName.toLowerCase()==="form"}function m5(n){return D_(n)&&n.tagName.toLowerCase()==="input"}function g5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function y5(n,e){return n.button===0&&(!e||e==="_self")&&!g5(n)}var Cg=null;function _5(){if(Cg===null)try{new FormData(document.createElement("form"),0),Cg=!1}catch{Cg=!0}return Cg}var v5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fw(n){return n!=null&&!v5.has(n)?(Mo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sy}"`),null):n}function w5(n,e){let t,r,i,s,o;if(p5(n)){let l=n.getAttribute("action");r=l?ga(l,e):null,t=n.getAttribute("method")||iy,i=fw(n.getAttribute("enctype"))||sy,s=new FormData(n)}else if(f5(n)||m5(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||l.getAttribute("action");if(r=c?ga(c,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||iy,i=fw(n.getAttribute("formenctype"))||fw(l.getAttribute("enctype"))||sy,s=new FormData(l,n),!_5()){let{name:h,type:f,value:m}=n;if(f==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,m)}}else{if(D_(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=iy,r=null,i=sy,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function Vx(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function T5(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E5(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function x5(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await T5(s,t);return o.links?o.links():[]}return[]}));return I5(r.flat(1).filter(E5).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nA(n,e,t,r,i,s){let o=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,l=(c,h)=>{var f;return t[h].pathname!==c.pathname||((f=t[h].route.path)==null?void 0:f.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,h)=>o(c,h)||l(c,h)):s==="data"?e.filter((c,h)=>{var m;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function S5(n,e,{includeHydrateFallback:t}={}){return C5(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function C5(n){return[...new Set(n)]}function b5(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function I5(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(b5(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var A5=new Set([100,101,204,205]);function R5(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ga(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function CD(){let n=A.useContext(Zh);return Vx(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function P5(){let n=A.useContext(N_);return Vx(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jx=A.createContext(void 0);jx.displayName="FrameworkContext";function bD(){let n=A.useContext(jx);return Vx(n,"You must render this element inside a <HydratedRouter> element"),n}function k5(n,e){let t=A.useContext(jx),[r,i]=A.useState(!1),[s,o]=A.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,y=A.useRef(null);A.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let w=b=>{b.forEach(O=>{o(O.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[n]),A.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{i(!0)},T=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,y,{}]:[s,y,{onFocus:Jd(l,_),onBlur:Jd(c,T),onMouseEnter:Jd(h,_),onMouseLeave:Jd(f,T),onTouchStart:Jd(m,_)}]:[!1,y,{}]}function Jd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function N5({page:n,...e}){let{router:t}=CD(),r=A.useMemo(()=>pD(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(O5,{page:n,matches:r,...e}):null}function D5(n){let{manifest:e,routeModules:t}=bD(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return x5(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function O5({page:n,matches:e,...t}){let r=so(),{manifest:i,routeModules:s}=bD(),{basename:o}=CD(),{loaderData:l,matches:c}=P5(),h=A.useMemo(()=>nA(n,e,c,i,r,"data"),[n,e,c,i,r]),f=A.useMemo(()=>nA(n,e,c,i,r,"assets"),[n,e,c,i,r]),m=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(e.forEach(b=>{var L;let O=i.routes[b.route.id];!O||!O.hasLoader||(!h.some(V=>V.route.id===b.route.id)&&b.route.id in l&&((L=s[b.route.id])!=null&&L.shouldRevalidate)||O.hasClientLoader?w=!0:T.add(b.route.id))}),T.size===0)return[];let C=R5(n,o);return w&&T.size>0&&C.searchParams.set("_routes",e.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[o,l,r,i,h,e,n,s]),y=A.useMemo(()=>S5(f,i),[f,i]),_=D5(f);return A.createElement(A.Fragment,null,m.map(T=>A.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),y.map(T=>A.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:w})=>A.createElement("link",{key:T,...w})))}function M5(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ID=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ID&&(window.__reactRouterVersion="7.6.1")}catch{}function L5({basename:n,children:e,window:t}){let r=A.useRef();r.current==null&&(r.current=xU({window:t,v5Compat:!0}));let i=r.current,[s,o]=A.useState({action:i.action,location:i.location}),l=A.useCallback(c=>{A.startTransition(()=>o(c))},[o]);return A.useLayoutEffect(()=>i.listen(l),[i,l]),A.createElement(h5,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var AD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:f,viewTransition:m,...y},_){let{basename:T}=A.useContext(Uo),w=typeof h=="string"&&AD.test(h),C,b=!1;if(typeof h=="string"&&w&&(C=h,ID))try{let P=new URL(window.location.href),N=h.startsWith("//")?new URL(P.protocol+h):new URL(h),j=ga(N.pathname,T);N.origin===P.origin&&j!=null?h=j+N.search+N.hash:b=!0}catch{Mo(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=XU(h,{relative:i}),[L,V,U]=k5(r,y),W=U5(h,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:m});function k(P){e&&e(P),P.defaultPrevented||W(P)}let R=A.createElement("a",{...y,...U,href:C||O,onClick:b||s?e:k,ref:M5(_,V),target:c,"data-discover":!w&&t==="render"?"true":void 0});return L&&!w?A.createElement(A.Fragment,null,R,A.createElement(N5,{page:O})):R});es.displayName="Link";var V5=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...h},f){let m=jp(o,{relative:h.relative}),y=so(),_=A.useContext(N_),{navigator:T,basename:w}=A.useContext(Uo),C=_!=null&&H5(m)&&l===!0,b=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,O=y.pathname,L=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(O=O.toLowerCase(),L=L?L.toLowerCase():null,b=b.toLowerCase()),L&&w&&(L=ga(L,w)||L);const V=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let U=O===b||!i&&O.startsWith(b)&&O.charAt(V)==="/",W=L!=null&&(L===b||!i&&L.startsWith(b)&&L.charAt(b.length)==="/"),k={isActive:U,isPending:W,isTransitioning:C},R=U?e:void 0,P;typeof r=="function"?P=r(k):P=[r,U?"active":null,W?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(k):s;return A.createElement(es,{...h,"aria-current":R,className:P,ref:f,style:N,to:o,viewTransition:l},typeof c=="function"?c(k):c)});V5.displayName="NavLink";var j5=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=iy,action:l,onSubmit:c,relative:h,preventScrollReset:f,viewTransition:m,...y},_)=>{let T=z5(),w=W5(l,{relative:h}),C=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&AD.test(l),O=L=>{if(c&&c(L),L.defaultPrevented)return;L.preventDefault();let V=L.nativeEvent.submitter,U=(V==null?void 0:V.getAttribute("formmethod"))||o;T(V||L.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:s,relative:h,preventScrollReset:f,viewTransition:m})};return A.createElement("form",{ref:_,method:C,action:w,onSubmit:r?c:O,...y,"data-discover":!b&&n==="render"?"true":void 0})});j5.displayName="Form";function F5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RD(n){let e=A.useContext(Zh);return bn(e,F5(n)),e}function U5(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=ed(),c=so(),h=jp(n,{relative:s});return A.useCallback(f=>{if(y5(f,e)){f.preventDefault();let m=t!==void 0?t:tp(c)===tp(h);l(n,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,h,t,r,e,n,i,s,o])}var B5=0,$5=()=>`__${String(++B5)}__`;function z5(){let{router:n}=RD("useSubmit"),{basename:e}=A.useContext(Uo),t=a5();return A.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:h}=w5(r,e);if(i.navigate===!1){let f=i.fetcherKey||$5();await n.fetch(f,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function W5(n,{relative:e}={}){let{basename:t}=A.useContext(Uo),r=A.useContext(Ia);bn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...jp(n||".",{relative:e})},o=so();if(n==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ha([t,s.pathname])),tp(s)}function H5(n,e={}){let t=A.useContext(wD);bn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=RD("useViewTransitionState"),i=jp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=ga(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=ga(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Dy(i.pathname,o)!=null||Dy(i.pathname,s)!=null}[...A5];var q5=sD();/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),rA=n=>{const e=Y5(n);return e.charAt(0).toUpperCase()+e.slice(1)},PD=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),K5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=A.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>A.createElement("svg",{ref:c,...X5,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:PD("lucide",i),...!s&&!K5(l)&&{"aria-hidden":"true"},...l},[...o.map(([h,f])=>A.createElement(h,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=(n,e)=>{const t=A.forwardRef(({className:r,...i},s)=>A.createElement(Q5,{ref:s,iconNode:e,className:PD(`lucide-${G5(rA(n))}`,`lucide-${n}`,r),...i}));return t.displayName=rA(n),t};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Z5=or("calendar",J5);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],t6=or("cat",e6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],r6=or("chevron-down",n6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],s6=or("chevron-up",i6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],a6=or("cloud-upload",o6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],u6=or("dog",l6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h6=or("eye",c6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],f6=or("handshake",d6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],m6=or("heart",p6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y6=or("info",g6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],v6=or("lock",_6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],T6=or("mail",w6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],x6=or("map-pin",E6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],C6=or("menu",S6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],I6=or("paw-print",b6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],R6=or("star",A6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],k6=or("trash-2",P6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kD=or("user",N6);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ND=or("x",D6),iA=[{name:"À propos",to:"/apropos"},{name:"Services et tarifs",to:"/tarifs"},{name:"Galerie",to:"/gallery"},{name:"Réservez",to:"/tarifs"},{name:"Contact",to:"/contact"}],O6=()=>{const[n,e]=A.useState(!1),t=so();return E.jsxs("nav",{className:"text-white shadow-md fixed w-full z-50 bg-blue-400 backdrop-blur-sm",children:[E.jsxs("div",{className:"py-3 flex justify-between items-center mr-2 md:mr-20",children:[E.jsxs(es,{to:"/",className:"text-xl oregano text-white flex items-center ml-4",children:[E.jsx("img",{src:"/icon.png",alt:"Logo",className:"h-8 w-8 mr-1 inline-block"}),E.jsx("h1",{className:"font-oregano oregano-regular-italic",children:"PetHome"})]}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:()=>e(!n),"aria-label":"Toggle menu",className:"p-2 focus:outline-none",children:n?E.jsx(ND,{size:28}):E.jsx(C6,{size:28})})}),E.jsx("ul",{className:"hidden md:flex space-x-6",children:iA.map(r=>E.jsx("li",{children:E.jsx(es,{to:r.to,className:`text-white font-bold hover:underline hover:decoration-white transition duration-200 ${t.pathname===r.to?"underline decoration-white":""}`,children:r.name})},r.name))})]}),E.jsx("div",{className:`md:hidden bg-gradient-to-t from-sky-500 to-transparent px-4 space-y-2 transition-all duration-300 ease-in-out overflow-hidden ${n?"max-h-[400px] py-4":"max-h-0 py-0"}`,children:E.jsx("ul",{children:iA.map(r=>E.jsx("li",{children:E.jsx(es,{to:r.to,onClick:()=>e(!1),className:`block text-white font-medium hover:decoration-white transition duration-200 ${t.pathname===r.to?"underline decoration-white":""}`,children:r.name})},r.name))})})]})},M6=()=>E.jsxs("footer",{className:"bg-blue-400 text-white text-sm",children:[E.jsxs("div",{className:"container mx-auto px-4 py-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:[E.jsx("div",{className:"text-center sm:text-left space-y-2",children:E.jsxs("ul",{className:"space-y-1",children:[E.jsx("li",{children:E.jsx(es,{to:"/apropos",className:"hover:underline",children:"En savoir plus"})}),E.jsx("li",{children:E.jsx(es,{to:"/tarifs",className:"hover:underline",children:"Réservez"})}),E.jsx("li",{children:E.jsx(es,{to:"/contact",className:"hover:underline",children:"Nous contacter"})}),E.jsx("li",{children:E.jsx(es,{to:"/FAQ",className:"hover:underline",children:"FAQ"})})]})}),E.jsxs("div",{className:"text-center sm:text-left space-y-2",children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-location-dot mr-2"}),"Antony, Île-de-France"]}),E.jsxs(es,{to:"https://www.instagram.com/maisonpourpets",className:"inline-flex items-center gap-2 hover:text-blue-200 transition-colors",target:"_blank",rel:"noopener noreferrer",children:[E.jsx("i",{className:"fa-brands fa-instagram text-xl"}),E.jsx("span",{children:"@maisonpourpets"})]})]}),E.jsxs("div",{className:"text-center sm:text-left space-y-2",children:[E.jsxs("div",{className:"flex justify-center sm:justify-start items-center gap-3",children:[E.jsx("img",{src:"/icon.png",alt:"Logo",className:"h-10 w-10"}),E.jsx("span",{className:"font-oregano oregano-regular-italic text-xl",children:"PetHome"})]}),E.jsx("p",{className:"max-w-xs mx-auto sm:mx-0",children:"Votre refuge pour chiens et chats, où chaque jour est une nouvelle aventure pleine de câlins et de sourires."})]})]}),E.jsx("div",{className:"border-t border-white/30 mt-8 py-4",children:E.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-2 text-center md:text-left",children:[E.jsx(es,{to:"/FAQ",className:"hover:underline",children:"Mentions légales"}),E.jsxs("p",{className:"opacity-90",children:["© ",new Date().getFullYear()," Jumper Enterprise. Tous droits réservés."]})]})})]});function ia(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DD(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ss={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Nh={duration:.5,overwrite:!1,delay:0},Fx,Or,vn,Co=1e8,Qr=1/Co,MT=Math.PI*2,L6=MT/4,V6=0,OD=Math.sqrt,j6=Math.cos,F6=Math.sin,wr=function(e){return typeof e=="string"},Ln=function(e){return typeof e=="function"},ya=function(e){return typeof e=="number"},Ux=function(e){return typeof e>"u"},Lo=function(e){return typeof e=="object"},Mi=function(e){return e!==!1},Bx=function(){return typeof window<"u"},bg=function(e){return Ln(e)||wr(e)},MD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ei=Array.isArray,LT=/(?:-?\.?\d|\.)+/gi,LD=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ih=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,pw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,VD=/[+-]=-?[.\d]+/,jD=/[^,'"\[\]\s]+/gi,U6=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,xn,yo,VT,$x,as={},Oy={},FD,UD=function(e){return(Oy=Dh(e,as))&&Ui},zx=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},np=function(e,t){return!t&&console.warn(e)},BD=function(e,t){return e&&(as[e]=t)&&Oy&&(Oy[e]=t)||as},rp=function(){return 0},B6={suppressEvents:!0,isStart:!0,kill:!1},oy={suppressEvents:!0,kill:!1},$6={suppressEvents:!0},Wx={},dl=[],jT={},$D,Zi={},mw={},sA=30,ay=[],Hx="",qx=function(e){var t=e[0],r,i;if(Lo(t)||Ln(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=ay.length;i--&&!ay[i].targetTest(t););r=ay[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new dO(e[i],r)))||e.splice(i,1);return e},Ru=function(e){return e._gsap||qx(Cs(e))[0]._gsap},zD=function(e,t,r){return(r=e[t])&&Ln(r)?e[t]():Ux(r)&&e.getAttribute&&e.getAttribute(t)||r},Li=function(e,t){return(e=e.split(",")).forEach(t)||e},Fn=function(e){return Math.round(e*1e5)/1e5||0},Kn=function(e){return Math.round(e*1e7)/1e7||0},vh=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},z6=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},My=function(){var e=dl.length,t=dl.slice(0),r,i;for(jT={},dl.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Gx=function(e){return!!(e._initted||e._startAt||e.add)},WD=function(e,t,r,i){dl.length&&!Or&&My(),e.render(t,r,!!(Or&&t<0&&Gx(e))),dl.length&&!Or&&My()},HD=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(jD).length<2?t:wr(e)?e.trim():e},qD=function(e){return e},ls=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},W6=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},Dh=function(e,t){for(var r in t)e[r]=t[r];return e},oA=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Lo(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},Ly=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},If=function(e){var t=e.parent||xn,r=e.keyframes?W6(ei(e.keyframes)):ls;if(Mi(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},H6=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},GD=function(e,t,r,i,s){var o=e[i],l;if(s)for(l=t[s];o&&o[s]>l;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},O_=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},El=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Pu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},q6=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},FT=function(e,t,r,i){return e._startAt&&(Or?e._startAt.revert(oy):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},G6=function n(e){return!e||e._ts&&n(e.parent)},aA=function(e){return e._repeat?Oh(e._tTime,e=e.duration()+e._rDelay)*e:0},Oh=function(e,t){var r=Math.floor(e=Kn(e/t));return e&&r===e?r-1:r},Vy=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},M_=function(e){return e._end=Kn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Qr)||0))},L_=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Kn(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),M_(e),r._dirty||Pu(r,e)),e},YD=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=Vy(e.rawTime(),t),(!t._dur||Fp(0,t.totalDuration(),r)-t._tTime>Qr)&&t.render(r,!0)),Pu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},wo=function(e,t,r,i){return t.parent&&El(t),t._start=Kn((ya(r)?r:r||e!==xn?vs(e,r,t):e._time)+t._delay),t._end=Kn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),GD(e,t,"_first","_last",e._sort?"_start":0),UT(t)||(e._recent=t),i||YD(e,t),e._ts<0&&L_(e,e._tTime),e},KD=function(e,t){return(as.ScrollTrigger||zx("scrollTrigger",t))&&as.ScrollTrigger.create(t,e)},XD=function(e,t,r,i,s){if(Kx(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Or&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&$D!==ns.frame)return dl.push(e),e._lazy=[s,i],1},Y6=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},UT=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},K6=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&Y6(e)&&!(!e._initted&&UT(e))||(e._ts<0||e._dp._ts<0)&&!UT(e))?0:1,l=e._rDelay,c=0,h,f,m;if(l&&e._repeat&&(c=Fp(0,e._tDur,t),f=Oh(c,l),e._yoyo&&f&1&&(o=1-o),f!==Oh(e._tTime,l)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Or||i||e._zTime===Qr||!t&&e._zTime){if(!e._initted&&XD(e,t,i,r,c))return;for(m=e._zTime,e._zTime=t||(r?Qr:0),r||(r=t&&!m),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,h=e._pt;h;)h.r(o,h.d),h=h._next;t<0&&FT(e,t,r,!0),e._onUpdate&&!r&&is(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&is(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&El(e,1),!r&&!Or&&(is(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},X6=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Mh=function(e,t,r,i){var s=e._repeat,o=Kn(t)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Kn(o*(s+1)+e._rDelay*s):o,l>0&&!i&&L_(e,e._tTime=e._tDur*l),e.parent&&M_(e),r||Pu(e.parent,e),e},lA=function(e){return e instanceof mi?Pu(e):Mh(e,e._dur)},Q6={_start:0,endTime:rp,totalDuration:rp},vs=function n(e,t,r){var i=e.labels,s=e._recent||Q6,o=e.duration()>=Co?s.endTime(!1):e._dur,l,c,h;return wr(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),c==="<"||c===">"?(l>=0&&(t=t.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?s:r).totalDuration()/100:1)):l<0?(t in i||(i[t]=o),i[t]):(c=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&r&&(c=c/100*(ei(r)?r[0]:r).totalDuration()),l>1?n(e,t.substr(0,l-1),r)+c:o+c)):t==null?o:+t},Af=function(e,t,r){var i=ya(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],l,c;if(i&&(o.duration=t[1]),o.parent=r,e){for(l=o,c=r;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=Mi(c.vars.inherit)&&c.parent;o.immediateRender=Mi(l.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Yn(t[0],o,t[s+1])},Ll=function(e,t){return e||e===0?t(e):t},Fp=function(e,t,r){return r<e?e:r>t?t:r},Kr=function(e,t){return!wr(e)||!(t=U6.exec(e))?"":t[1]},J6=function(e,t,r){return Ll(r,function(i){return Fp(e,t,i)})},BT=[].slice,QD=function(e,t){return e&&Lo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Lo(e[0]))&&!e.nodeType&&e!==yo},Z6=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return wr(i)&&!t||QD(i,1)?(s=r).push.apply(s,Cs(i)):r.push(i)})||r},Cs=function(e,t,r){return vn&&!t&&vn.selector?vn.selector(e):wr(e)&&!r&&(VT||!Lh())?BT.call((t||$x).querySelectorAll(e),0):ei(e)?Z6(e,r):QD(e)?BT.call(e,0):e?[e]:[]},$T=function(e){return e=Cs(e)[0]||np("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Cs(t,r.querySelectorAll?r:r===e?np("Invalid scope")||$x.createElement("div"):e)}},JD=function(e){return e.sort(function(){return .5-Math.random()})},ZD=function(e){if(Ln(e))return e;var t=Lo(e)?e:{each:e},r=ku(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},l=i>0&&i<1,c=isNaN(i)||l,h=t.axis,f=i,m=i;return wr(i)?f=m={center:.5,edges:.5,end:1}[i]||0:!l&&c&&(f=i[0],m=i[1]),function(y,_,T){var w=(T||t).length,C=o[w],b,O,L,V,U,W,k,R,P;if(!C){if(P=t.grid==="auto"?0:(t.grid||[1,Co])[1],!P){for(k=-1e8;k<(k=T[P++].getBoundingClientRect().left)&&P<w;);P<w&&P--}for(C=o[w]=[],b=c?Math.min(P,w)*f-.5:i%P,O=P===Co?0:c?w*m/P-.5:i/P|0,k=0,R=Co,W=0;W<w;W++)L=W%P-b,V=O-(W/P|0),C[W]=U=h?Math.abs(h==="y"?V:L):OD(L*L+V*V),U>k&&(k=U),U<R&&(R=U);i==="random"&&JD(C),C.max=k-R,C.min=R,C.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(P>w?w-1:h?h==="y"?w/P:P:Math.max(P,w/P))||0)*(i==="edges"?-1:1),C.b=w<0?s-w:s,C.u=Kr(t.amount||t.each)||0,r=r&&w<0?uO(r):r}return w=(C[y]-C.min)/C.max||0,Kn(C.b+(r?r(w):w)*C.v)+C.u}},zT=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Kn(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(ya(r)?0:Kr(r))}},eO=function(e,t){var r=ei(e),i,s;return!r&&Lo(e)&&(i=r=e.radius||Co,e.values?(e=Cs(e.values),(s=!ya(e[0]))&&(i*=i)):e=zT(e.increment)),Ll(t,r?Ln(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var l=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),h=Co,f=0,m=e.length,y,_;m--;)s?(y=e[m].x-l,_=e[m].y-c,y=y*y+_*_):y=Math.abs(e[m]-l),y<h&&(h=y,f=m);return f=!i||h<=i?e[f]:o,s||f===o||ya(o)?f:f+Kr(o)}:zT(e))},tO=function(e,t,r,i){return Ll(ei(e)?!t:r===!0?!!(r=0):!i,function(){return ei(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},eB=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},tB=function(e,t){return function(r){return e(parseFloat(r))+(t||Kr(r))}},nB=function(e,t,r){return rO(e,t,0,1,r)},nO=function(e,t,r){return Ll(r,function(i){return e[~~t(i)]})},rB=function n(e,t,r){var i=t-e;return ei(e)?nO(e,n(0,e.length),t):Ll(r,function(s){return(i+(s-e)%i)%i+e})},iB=function n(e,t,r){var i=t-e,s=i*2;return ei(e)?nO(e,n(0,e.length-1),t):Ll(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},ip=function(e){for(var t=0,r="",i,s,o,l;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),l=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(l?jD:LT),r+=e.substr(t,i-t)+tO(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},rO=function(e,t,r,i,s){var o=t-e,l=i-r;return Ll(s,function(c){return r+((c-e)/o*l||0)})},sB=function n(e,t,r,i){var s=isNaN(e+t)?0:function(_){return(1-_)*e+_*t};if(!s){var o=wr(e),l={},c,h,f,m,y;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(ei(e)&&!ei(t)){for(f=[],m=e.length,y=m-2,h=1;h<m;h++)f.push(n(e[h-1],e[h]));m--,s=function(T){T*=m;var w=Math.min(y,~~T);return f[w](T-w)},r=t}else i||(e=Dh(ei(e)?[]:{},e));if(!f){for(c in t)Yx.call(l,e,c,"get",t[c]);s=function(T){return Jx(T,l)||(o?e.p:e)}}}return Ll(r,s)},uA=function(e,t,r){var i=e.labels,s=Co,o,l,c;for(o in i)l=i[o]-t,l<0==!!r&&l&&s>(l=Math.abs(l))&&(c=o,s=l);return c},is=function(e,t,r){var i=e.vars,s=i[t],o=vn,l=e._ctx,c,h,f;if(s)return c=i[t+"Params"],h=i.callbackScope||e,r&&dl.length&&My(),l&&(vn=l),f=c?s.apply(h,c):s.call(h),vn=o,f},hf=function(e){return El(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Or),e.progress()<1&&is(e,"onInterrupt"),e},sh,iO=[],sO=function(e){if(e)if(e=!e.name&&e.default||e,Bx()||e.headless){var t=e.name,r=Ln(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:rp,render:Jx,add:Yx,kill:TB,modifier:wB,rawVars:0},o={targetTest:0,get:0,getSetter:Qx,aliases:{},register:0};if(Lh(),e!==i){if(Zi[t])return;ls(i,ls(Ly(e,s),o)),Dh(i.prototype,Dh(s,Ly(e,o))),Zi[i.prop=t]=i,e.targetTest&&(ay.push(i),Wx[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}BD(t,i),e.register&&e.register(Ui,i,Vi)}else iO.push(e)},Qt=255,df={aqua:[0,Qt,Qt],lime:[0,Qt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Qt],navy:[0,0,128],white:[Qt,Qt,Qt],olive:[128,128,0],yellow:[Qt,Qt,0],orange:[Qt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Qt,0,0],pink:[Qt,192,203],cyan:[0,Qt,Qt],transparent:[Qt,Qt,Qt,0]},gw=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Qt+.5|0},oO=function(e,t,r){var i=e?ya(e)?[e>>16,e>>8&Qt,e&Qt]:0:df.black,s,o,l,c,h,f,m,y,_,T;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),df[e])i=df[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+s+s+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Qt,i&Qt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Qt,e&Qt]}else if(e.substr(0,3)==="hsl"){if(i=T=e.match(LT),!t)c=+i[0]%360/360,h=+i[1]/100,f=+i[2]/100,o=f<=.5?f*(h+1):f+h-f*h,s=f*2-o,i.length>3&&(i[3]*=1),i[0]=gw(c+1/3,s,o),i[1]=gw(c,s,o),i[2]=gw(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(LD),r&&i.length<4&&(i[3]=1),i}else i=e.match(LT)||df.transparent;i=i.map(Number)}return t&&!T&&(s=i[0]/Qt,o=i[1]/Qt,l=i[2]/Qt,m=Math.max(s,o,l),y=Math.min(s,o,l),f=(m+y)/2,m===y?c=h=0:(_=m-y,h=f>.5?_/(2-m-y):_/(m+y),c=m===s?(o-l)/_+(o<l?6:0):m===o?(l-s)/_+2:(s-o)/_+4,c*=60),i[0]=~~(c+.5),i[1]=~~(h*100+.5),i[2]=~~(f*100+.5)),r&&i.length<4&&(i[3]=1),i},aO=function(e){var t=[],r=[],i=-1;return e.split(fl).forEach(function(s){var o=s.match(ih)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},cA=function(e,t,r){var i="",s=(e+i).match(fl),o=t?"hsla(":"rgba(",l=0,c,h,f,m;if(!s)return e;if(s=s.map(function(y){return(y=oO(y,t,1))&&o+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),r&&(f=aO(e),c=r.c,c.join(i)!==f.c.join(i)))for(h=e.replace(fl,"1").split(ih),m=h.length-1;l<m;l++)i+=h[l]+(~c.indexOf(l)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:r).shift());if(!h)for(h=e.split(fl),m=h.length-1;l<m;l++)i+=h[l]+s[l];return i+h[m]},fl=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in df)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),oB=/hsl[a]?\(/,lO=function(e){var t=e.join(" "),r;if(fl.lastIndex=0,fl.test(t))return r=oB.test(t),e[1]=cA(e[1],r),e[0]=cA(e[0],r,aO(e[1])),!0},sp,ns=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,l=[],c,h,f,m,y,_,T=function w(C){var b=n()-i,O=C===!0,L,V,U,W;if((b>e||b<0)&&(r+=b-t),i+=b,U=i-r,L=U-o,(L>0||O)&&(W=++m.frame,y=U-m.time*1e3,m.time=U=U/1e3,o+=L+(L>=s?4:s-L),V=1),O||(c=h(w)),V)for(_=0;_<l.length;_++)l[_](U,y,W,C)};return m={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(C){return y/(1e3/(C||60))},wake:function(){FD&&(!VT&&Bx()&&(yo=VT=window,$x=yo.document||{},as.gsap=Ui,(yo.gsapVersions||(yo.gsapVersions=[])).push(Ui.version),UD(Oy||yo.GreenSockGlobals||!yo.gsap&&yo||{}),iO.forEach(sO)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&m.sleep(),h=f||function(C){return setTimeout(C,o-m.time*1e3+1|0)},sp=1,T(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(c),sp=0,h=rp},lagSmoothing:function(C,b){e=C||1/0,t=Math.min(b||33,e)},fps:function(C){s=1e3/(C||240),o=m.time*1e3+s},add:function(C,b,O){var L=b?function(V,U,W,k){C(V,U,W,k),m.remove(L)}:C;return m.remove(C),l[O?"unshift":"push"](L),Lh(),L},remove:function(C,b){~(b=l.indexOf(C))&&l.splice(b,1)&&_>=b&&_--},_listeners:l},m}(),Lh=function(){return!sp&&ns.wake()},Et={},aB=/^[\d.\-M][\d.\-,\s]/,lB=/["']/g,uB=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,l,c,h;s<o;s++)c=r[s],l=s!==o-1?c.lastIndexOf(","):c.length,h=c.substr(0,l),t[i]=isNaN(h)?h.replace(lB,"").trim():+h,i=c.substr(l+1).trim();return t},cB=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},hB=function(e){var t=(e+"").split("("),r=Et[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[uB(t[1])]:cB(e).split(",").map(HD)):Et._CE&&aB.test(e)?Et._CE("",e):r},uO=function(e){return function(t){return 1-e(1-t)}},cO=function n(e,t){for(var r=e._first,i;r;)r instanceof mi?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},ku=function(e,t){return e&&(Ln(e)?e:Et[e]||hB(e))||t},Zu=function(e,t,r,i){r===void 0&&(r=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return Li(e,function(l){Et[l]=as[l]=s,Et[o=l.toLowerCase()]=r;for(var c in s)Et[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Et[l+"."+c]=s[c]}),s},hO=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},yw=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/MT*(Math.asin(1/i)||0),l=function(f){return f===1?1:i*Math.pow(2,-10*f)*F6((f-o)*s)+1},c=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:hO(l);return s=MT/s,c.config=function(h,f){return n(e,h,f)},c},_w=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:hO(r);return i.config=function(s){return n(e,s)},i};Li("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Zu(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Et.Linear.easeNone=Et.none=Et.Linear.easeIn;Zu("Elastic",yw("in"),yw("out"),yw());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(l){return l<t?n*l*l:l<r?n*Math.pow(l-1.5/e,2)+.75:l<i?n*(l-=2.25/e)*l+.9375:n*Math.pow(l-2.625/e,2)+.984375};Zu("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Zu("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Zu("Circ",function(n){return-(OD(1-n*n)-1)});Zu("Sine",function(n){return n===1?1:-j6(n*L6)+1});Zu("Back",_w("in"),_w("out"),_w());Et.SteppedEase=Et.steps=as.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-Qr;return function(l){return((i*Fp(0,o,l)|0)+s)*r}}};Nh.ease=Et["quad.out"];Li("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Hx+=n+","+n+"Params,"});var dO=function(e,t){this.id=V6++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:zD,this.set=t?t.getSetter:Qx},op=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Mh(this,+t.duration,1,1),this.data=t.data,vn&&(this._ctx=vn,vn.data.push(this)),sp||ns.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Mh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Lh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(L_(this,r),!s._dp||s.parent||YD(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&wo(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Qr||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),WD(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+aA(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+aA(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Oh(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Vy(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(Fp(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),M_(this),q6(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Lh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Qr&&(this._tTime-=Qr)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&wo(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Mi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Vy(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=$6);var i=Or;return Or=r,Gx(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Or=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,lA(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,lA(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(vs(this,r),Mi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Mi(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Qr)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Ln(r)?r:qD,l=function(){var h=i.then;i.then=null,Ln(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=h),s(o),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){hf(this)},n}();ls(op.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var mi=function(n){DD(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Mi(r.sortChildren),xn&&wo(r.parent||xn,ia(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&KD(ia(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Af(0,arguments,this),this},t.from=function(i,s,o){return Af(1,arguments,this),this},t.fromTo=function(i,s,o,l){return Af(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,If(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Yn(i,s,vs(this,o),1),this},t.call=function(i,s,o){return wo(this,Yn.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,l,c,h,f){return o.duration=s,o.stagger=o.stagger||l,o.onComplete=h,o.onCompleteParams=f,o.parent=this,new Yn(i,o,vs(this,c)),this},t.staggerFrom=function(i,s,o,l,c,h,f){return o.runBackwards=1,If(o).immediateRender=Mi(o.immediateRender),this.staggerTo(i,s,o,l,c,h,f)},t.staggerFromTo=function(i,s,o,l,c,h,f,m){return l.startAt=o,If(l).immediateRender=Mi(l.immediateRender),this.staggerTo(i,s,l,c,h,f,m)},t.render=function(i,s,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,h=this._dur,f=i<=0?0:Kn(i),m=this._zTime<0!=i<0&&(this._initted||!h),y,_,T,w,C,b,O,L,V,U,W,k;if(this!==xn&&f>c&&i>=0&&(f=c),f!==this._tTime||o||m){if(l!==this._time&&h&&(f+=this._time-l,i+=this._time-l),y=f,V=this._start,L=this._ts,b=!L,m&&(h||(l=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(W=this._yoyo,C=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(C*100+i,s,o);if(y=Kn(f%C),f===c?(w=this._repeat,y=h):(U=Kn(f/C),w=~~U,w&&w===U&&(y=h,w--),y>h&&(y=h)),U=Oh(this._tTime,C),!l&&this._tTime&&U!==w&&this._tTime-U*C-this._dur<=0&&(U=w),W&&w&1&&(y=h-y,k=1),w!==U&&!this._lock){var R=W&&U&1,P=R===(W&&w&1);if(w<U&&(R=!R),l=R?0:f%h?h:f,this._lock=1,this.render(l||(k?0:Kn(w*C)),s,!h)._lock=0,this._tTime=f,!s&&this.parent&&is(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1),l&&l!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,c=this._tDur,P&&(this._lock=2,l=R?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;cO(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(O=X6(this,Kn(l),Kn(y)),O&&(f-=y-(y=O._start))),this._tTime=f,this._time=y,this._act=!L,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&f&&!s&&!U&&(is(this,"onStart"),this._tTime!==f))return this;if(y>=l&&i>=0)for(_=this._first;_;){if(T=_._next,(_._act||y>=_._start)&&_._ts&&O!==_){if(_.parent!==this)return this.render(i,s,o);if(_.render(_._ts>0?(y-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(y-_._start)*_._ts,s,o),y!==this._time||!this._ts&&!b){O=0,T&&(f+=this._zTime=-1e-8);break}}_=T}else{_=this._last;for(var N=i<0?i:y;_;){if(T=_._prev,(_._act||N<=_._end)&&_._ts&&O!==_){if(_.parent!==this)return this.render(i,s,o);if(_.render(_._ts>0?(N-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(N-_._start)*_._ts,s,o||Or&&Gx(_)),y!==this._time||!this._ts&&!b){O=0,T&&(f+=this._zTime=N?-1e-8:Qr);break}}_=T}}if(O&&!s&&(this.pause(),O.render(y>=l?0:-1e-8)._zTime=y>=l?1:-1,this._ts))return this._start=V,M_(this),this.render(i,s,o);this._onUpdate&&!s&&is(this,"onUpdate",!0),(f===c&&this._tTime>=this.totalDuration()||!f&&l)&&(V===this._start||Math.abs(L)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(f===c&&this._ts>0||!f&&this._ts<0)&&El(this,1),!s&&!(i<0&&!l)&&(f||l||!c)&&(is(this,f===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(ya(s)||(s=vs(this,s,i)),!(i instanceof op)){if(ei(i))return i.forEach(function(l){return o.add(l,s)}),this;if(wr(i))return this.addLabel(i,s);if(Ln(i))i=Yn.delayedCall(0,i);else return this}return this!==i?wo(this,i,s):this},t.getChildren=function(i,s,o,l){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=-1e8);for(var c=[],h=this._first;h;)h._start>=l&&(h instanceof Yn?s&&c.push(h):(o&&c.push(h),i&&c.push.apply(c,h.getChildren(!0,s,o)))),h=h._next;return c},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return wr(i)?this.removeLabel(i):Ln(i)?this.killTweensOf(i):(i.parent===this&&O_(this,i),i===this._recent&&(this._recent=this._last),Pu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Kn(ns.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=vs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var l=Yn.delayedCall(0,s||rp,o);return l.data="isPause",this._hasPause=1,wo(this,l,vs(this,i))},t.removePause=function(i){var s=this._first;for(i=vs(this,i);s;)s._start===i&&s.data==="isPause"&&El(s),s=s._next},t.killTweensOf=function(i,s,o){for(var l=this.getTweensOf(i,o),c=l.length;c--;)ol!==l[c]&&l[c].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],l=Cs(i),c=this._first,h=ya(s),f;c;)c instanceof Yn?z6(c._targets,l)&&(h?(!ol||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(f=c.getTweensOf(l,s)).length&&o.push.apply(o,f),c=c._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,l=vs(o,i),c=s,h=c.startAt,f=c.onStart,m=c.onStartParams,y=c.immediateRender,_,T=Yn.to(o,ls({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale())||Qr,onStart:function(){if(o.pause(),!_){var C=s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale());T._dur!==C&&Mh(T,C,0,1).render(T._time,!0,!0),_=1}f&&f.apply(T,m||[])}},s));return y?T.render(0):T},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,ls({startAt:{time:vs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),uA(this,vs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),uA(this,vs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Qr)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var l=this._first,c=this.labels,h;l;)l._start>=o&&(l._start+=i,l._end+=i),l=l._next;if(s)for(h in c)c[h]>=o&&(c[h]+=i);return Pu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Pu(this)},t.totalDuration=function(i){var s=0,o=this,l=o._last,c=Co,h,f,m;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(m=o.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),f=l._start,f>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,wo(o,l,f-l._delay,1)._lock=0):c=f,f<0&&l._ts&&(s-=f,(!m&&!o._dp||m&&m.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),c=0),l._end>s&&l._ts&&(s=l._end),l=h;Mh(o,o===xn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(xn._ts&&(WD(xn,Vy(i,xn)),$D=ns.frame),ns.frame>=sA){sA+=ss.autoSleep||120;var s=xn._first;if((!s||!s._ts)&&ss.autoSleep&&ns._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||ns.sleep()}}},e}(op);ls(mi.prototype,{_lock:0,_hasPause:0,_forcing:0});var dB=function(e,t,r,i,s,o,l){var c=new Vi(this._pt,e,t,0,1,_O,null,s),h=0,f=0,m,y,_,T,w,C,b,O;for(c.b=r,c.e=i,r+="",i+="",(b=~i.indexOf("random("))&&(i=ip(i)),o&&(O=[r,i],o(O,e,t),r=O[0],i=O[1]),y=r.match(pw)||[];m=pw.exec(i);)T=m[0],w=i.substring(h,m.index),_?_=(_+1)%5:w.substr(-5)==="rgba("&&(_=1),T!==y[f++]&&(C=parseFloat(y[f-1])||0,c._pt={_next:c._pt,p:w||f===1?w:",",s:C,c:T.charAt(1)==="="?vh(C,T)-C:parseFloat(T)-C,m:_&&_<4?Math.round:0},h=pw.lastIndex);return c.c=h<i.length?i.substring(h,i.length):"",c.fp=l,(VD.test(i)||b)&&(c.e=0),this._pt=c,c},Yx=function(e,t,r,i,s,o,l,c,h,f){Ln(i)&&(i=i(s||0,e,o));var m=e[t],y=r!=="get"?r:Ln(m)?h?e[t.indexOf("set")||!Ln(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():m,_=Ln(m)?h?yB:gO:Xx,T;if(wr(i)&&(~i.indexOf("random(")&&(i=ip(i)),i.charAt(1)==="="&&(T=vh(y,i)+(Kr(y)||0),(T||T===0)&&(i=T))),!f||y!==i||WT)return!isNaN(y*i)&&i!==""?(T=new Vi(this._pt,e,t,+y||0,i-(y||0),typeof m=="boolean"?vB:yO,0,_),h&&(T.fp=h),l&&T.modifier(l,this,e),this._pt=T):(!m&&!(t in e)&&zx(t,i),dB.call(this,e,t,y,i,_,c||ss.stringFilter,h))},fB=function(e,t,r,i,s){if(Ln(e)&&(e=Rf(e,s,t,r,i)),!Lo(e)||e.style&&e.nodeType||ei(e)||MD(e))return wr(e)?Rf(e,s,t,r,i):e;var o={},l;for(l in e)o[l]=Rf(e[l],s,t,r,i);return o},fO=function(e,t,r,i,s,o){var l,c,h,f;if(Zi[e]&&(l=new Zi[e]).init(s,l.rawVars?t[e]:fB(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=c=new Vi(r._pt,s,e,0,1,l.render,l,0,l.priority),r!==sh))for(h=r._ptLookup[r._targets.indexOf(s)],f=l._props.length;f--;)h[l._props[f]]=c;return l},ol,WT,Kx=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,l=i.immediateRender,c=i.lazy,h=i.onUpdate,f=i.runBackwards,m=i.yoyoEase,y=i.keyframes,_=i.autoRevert,T=e._dur,w=e._startAt,C=e._targets,b=e.parent,O=b&&b.data==="nested"?b.vars.targets:C,L=e._overwrite==="auto"&&!Fx,V=e.timeline,U,W,k,R,P,N,j,B,M,ne,ae,fe,re;if(V&&(!y||!s)&&(s="none"),e._ease=ku(s,Nh.ease),e._yEase=m?uO(ku(m===!0?s:m,Nh.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!V&&!!i.runBackwards,!V||y&&!i.stagger){if(B=C[0]?Ru(C[0]).harness:0,fe=B&&i[B.prop],U=Ly(i,Wx),w&&(w._zTime<0&&w.progress(1),t<0&&f&&l&&!_?w.render(-1,!0):w.revert(f&&T?oy:B6),w._lazy=0),o){if(El(e._startAt=Yn.set(C,ls({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!w&&Mi(c),startAt:null,delay:0,onUpdate:h&&function(){return is(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Or||!l&&!_)&&e._startAt.revert(oy),l&&T&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(f&&T&&!w){if(t&&(l=!1),k=ls({overwrite:!1,data:"isFromStart",lazy:l&&!w&&Mi(c),immediateRender:l,stagger:0,parent:b},U),fe&&(k[B.prop]=fe),El(e._startAt=Yn.set(C,k)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Or?e._startAt.revert(oy):e._startAt.render(-1,!0)),e._zTime=t,!l)n(e._startAt,Qr,Qr);else if(!t)return}for(e._pt=e._ptCache=0,c=T&&Mi(c)||c&&!T,W=0;W<C.length;W++){if(P=C[W],j=P._gsap||qx(C)[W]._gsap,e._ptLookup[W]=ne={},jT[j.id]&&dl.length&&My(),ae=O===C?W:O.indexOf(P),B&&(M=new B).init(P,fe||U,e,ae,O)!==!1&&(e._pt=R=new Vi(e._pt,P,M.name,0,1,M.render,M,0,M.priority),M._props.forEach(function(te){ne[te]=R}),M.priority&&(N=1)),!B||fe)for(k in U)Zi[k]&&(M=fO(k,U,e,ae,P,O))?M.priority&&(N=1):ne[k]=R=Yx.call(e,P,k,"get",U[k],ae,O,0,i.stringFilter);e._op&&e._op[W]&&e.kill(P,e._op[W]),L&&e._pt&&(ol=e,xn.killTweensOf(P,ne,e.globalTime(t)),re=!e.parent,ol=0),e._pt&&c&&(jT[j.id]=1)}N&&vO(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!re,y&&t<=0&&V.render(Co,!0,!0)},pB=function(e,t,r,i,s,o,l,c){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],f,m,y,_;if(!h)for(h=e._ptCache[t]=[],y=e._ptLookup,_=e._targets.length;_--;){if(f=y[_][t],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==t&&f.fp!==t;)f=f._next;if(!f)return WT=1,e.vars[t]="+=0",Kx(e,l),WT=0,c?np(t+" not eligible for reset"):1;h.push(f)}for(_=h.length;_--;)m=h[_],f=m._pt||m,f.s=(i||i===0)&&!s?i:f.s+(i||0)+o*f.c,f.c=r-f.s,m.e&&(m.e=Fn(r)+Kr(m.e)),m.b&&(m.b=f.s+Kr(m.b))},mB=function(e,t){var r=e[0]?Ru(e[0]).harness:0,i=r&&r.aliases,s,o,l,c;if(!i)return t;s=Dh({},t);for(o in i)if(o in s)for(c=i[o].split(","),l=c.length;l--;)s[c[l]]=s[o];return s},gB=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,l;if(ei(t))l=r[e]||(r[e]=[]),t.forEach(function(c,h){return l.push({t:h/(t.length-1)*100,v:c,e:s})});else for(o in t)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:t[o],e:s})},Rf=function(e,t,r,i,s){return Ln(e)?e.call(t,r,i,s):wr(e)&&~e.indexOf("random(")?ip(e):e},pO=Hx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",mO={};Li(pO+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return mO[n]=1});var Yn=function(n){DD(e,n);function e(r,i,s,o){var l;typeof i=="number"&&(s.duration=i,i=s,s=null),l=n.call(this,o?i:If(i))||this;var c=l.vars,h=c.duration,f=c.delay,m=c.immediateRender,y=c.stagger,_=c.overwrite,T=c.keyframes,w=c.defaults,C=c.scrollTrigger,b=c.yoyoEase,O=i.parent||xn,L=(ei(r)||MD(r)?ya(r[0]):"length"in i)?[r]:Cs(r),V,U,W,k,R,P,N,j;if(l._targets=L.length?qx(L):np("GSAP target "+r+" not found. https://gsap.com",!ss.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=_,T||y||bg(h)||bg(f)){if(i=l.vars,V=l.timeline=new mi({data:"nested",defaults:w||{},targets:O&&O.data==="nested"?O.vars.targets:L}),V.kill(),V.parent=V._dp=ia(l),V._start=0,y||bg(h)||bg(f)){if(k=L.length,N=y&&ZD(y),Lo(y))for(R in y)~pO.indexOf(R)&&(j||(j={}),j[R]=y[R]);for(U=0;U<k;U++)W=Ly(i,mO),W.stagger=0,b&&(W.yoyoEase=b),j&&Dh(W,j),P=L[U],W.duration=+Rf(h,ia(l),U,P,L),W.delay=(+Rf(f,ia(l),U,P,L)||0)-l._delay,!y&&k===1&&W.delay&&(l._delay=f=W.delay,l._start+=f,W.delay=0),V.to(P,W,N?N(U,P,L):0),V._ease=Et.none;V.duration()?h=f=0:l.timeline=0}else if(T){If(ls(V.vars.defaults,{ease:"none"})),V._ease=ku(T.ease||i.ease||"none");var B=0,M,ne,ae;if(ei(T))T.forEach(function(fe){return V.to(L,fe,">")}),V.duration();else{W={};for(R in T)R==="ease"||R==="easeEach"||gB(R,T[R],W,T.easeEach);for(R in W)for(M=W[R].sort(function(fe,re){return fe.t-re.t}),B=0,U=0;U<M.length;U++)ne=M[U],ae={ease:ne.e,duration:(ne.t-(U?M[U-1].t:0))/100*h},ae[R]=ne.v,V.to(L,ae,B),B+=ae.duration;V.duration()<h&&V.to({},{duration:h-V.duration()})}}h||l.duration(h=V.duration())}else l.timeline=0;return _===!0&&!Fx&&(ol=ia(l),xn.killTweensOf(L),ol=0),wo(O,ia(l),s),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(m||!h&&!T&&l._start===Kn(O._time)&&Mi(m)&&G6(ia(l))&&O.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-f)||0)),C&&KD(ia(l),C),l}var t=e.prototype;return t.render=function(i,s,o){var l=this._time,c=this._tDur,h=this._dur,f=i<0,m=i>c-Qr&&!f?c:i<Qr?0:i,y,_,T,w,C,b,O,L,V;if(!h)K6(this,i,s,o);else if(m!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(y=m,L=this.timeline,this._repeat){if(w=h+this._rDelay,this._repeat<-1&&f)return this.totalTime(w*100+i,s,o);if(y=Kn(m%w),m===c?(T=this._repeat,y=h):(C=Kn(m/w),T=~~C,T&&T===C?(y=h,T--):y>h&&(y=h)),b=this._yoyo&&T&1,b&&(V=this._yEase,y=h-y),C=Oh(this._tTime,w),y===l&&!o&&this._initted&&T===C)return this._tTime=m,this;T!==C&&(L&&this._yEase&&cO(L,b),this.vars.repeatRefresh&&!b&&!this._lock&&y!==w&&this._initted&&(this._lock=o=1,this.render(Kn(w*T),!0).invalidate()._lock=0))}if(!this._initted){if(XD(this,f?i:y,o,s,m))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&T!==C))return this;if(h!==this._dur)return this.render(i,s,o)}if(this._tTime=m,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=O=(V||this._ease)(y/h),this._from&&(this.ratio=O=1-O),!l&&m&&!s&&!C&&(is(this,"onStart"),this._tTime!==m))return this;for(_=this._pt;_;)_.r(O,_.d),_=_._next;L&&L.render(i<0?i:L._dur*L._ease(y/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(f&&FT(this,i,s,o),is(this,"onUpdate")),this._repeat&&T!==C&&this.vars.onRepeat&&!s&&this.parent&&is(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(f&&!this._onUpdate&&FT(this,i,!0,!0),(i||!h)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&El(this,1),!s&&!(f&&!l)&&(m||l||b)&&(is(this,m===c?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,l,c){sp||ns.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||Kx(this,h),f=this._ease(h/this._dur),pB(this,i,s,o,l,f,h,c)?this.resetTo(i,s,o,l,1):(L_(this,0),this.parent||GD(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?hf(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Or),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,ol&&ol.vars.overwrite!==!0)._first||hf(this),this.parent&&o!==this.timeline.totalDuration()&&Mh(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=i?Cs(i):l,h=this._ptLookup,f=this._pt,m,y,_,T,w,C,b;if((!s||s==="all")&&H6(l,c))return s==="all"&&(this._pt=0),hf(this);for(m=this._op=this._op||[],s!=="all"&&(wr(s)&&(w={},Li(s,function(O){return w[O]=1}),s=w),s=mB(l,s)),b=l.length;b--;)if(~c.indexOf(l[b])){y=h[b],s==="all"?(m[b]=s,T=y,_={}):(_=m[b]=m[b]||{},T=s);for(w in T)C=y&&y[w],C&&((!("kill"in C.d)||C.d.kill(w)===!0)&&O_(this,C,"_pt"),delete y[w]),_!=="all"&&(_[w]=1)}return this._initted&&!this._pt&&f&&hf(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Af(1,arguments)},e.delayedCall=function(i,s,o,l){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(i,s,o){return Af(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return xn.killTweensOf(i,s,o)},e}(op);ls(Yn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Li("staggerTo,staggerFrom,staggerFromTo",function(n){Yn[n]=function(){var e=new mi,t=BT.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Xx=function(e,t,r){return e[t]=r},gO=function(e,t,r){return e[t](r)},yB=function(e,t,r,i){return e[t](i.fp,r)},_B=function(e,t,r){return e.setAttribute(t,r)},Qx=function(e,t){return Ln(e[t])?gO:Ux(e[t])&&e.setAttribute?_B:Xx},yO=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},vB=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},_O=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},Jx=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},wB=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},TB=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?O_(this,t,"_pt"):t.dep||(r=1),t=i;return!r},EB=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},vO=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},Vi=function(){function n(t,r,i,s,o,l,c,h,f){this.t=r,this.s=s,this.c=o,this.p=i,this.r=l||yO,this.d=c||this,this.set=h||Xx,this.pr=f||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=EB,this.m=r,this.mt=s,this.tween=i},n}();Li(Hx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Wx[n]=1});as.TweenMax=as.TweenLite=Yn;as.TimelineLite=as.TimelineMax=mi;xn=new mi({sortChildren:!1,defaults:Nh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ss.stringFilter=lO;var Nu=[],ly={},xB=[],hA=0,SB=0,vw=function(e){return(ly[e]||xB).map(function(t){return t()})},HT=function(){var e=Date.now(),t=[];e-hA>2&&(vw("matchMediaInit"),Nu.forEach(function(r){var i=r.queries,s=r.conditions,o,l,c,h;for(l in i)o=yo.matchMedia(i[l]).matches,o&&(c=1),o!==s[l]&&(s[l]=o,h=1);h&&(r.revert(),c&&t.push(r))}),vw("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),hA=e,vw("matchMedia"))},wO=function(){function n(t,r){this.selector=r&&$T(r),this.data=[],this._r=[],this.isReverted=!1,this.id=SB++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Ln(r)&&(s=i,i=r,r=Ln);var o=this,l=function(){var h=vn,f=o.selector,m;return h&&h!==o&&h.data.push(o),s&&(o.selector=$T(s)),vn=o,m=i.apply(o,arguments),Ln(m)&&o._r.push(m),vn=h,o.selector=f,o.isReverted=!1,m};return o.last=l,r===Ln?l(o,function(c){return o.add(null,c)}):r?o[r]=l:l},e.ignore=function(r){var i=vn;vn=null,r(this),vn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Yn&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var l=s.getTweens(),c=s.data.length,h;c--;)h=s.data[c],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(f){return l.splice(l.indexOf(f),1)}));for(l.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,m){return m.g-f.g||-1/0}).forEach(function(f){return f.t.revert(r)}),c=s.data.length;c--;)h=s.data[c],h instanceof mi?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Yn)&&h.revert&&h.revert(r);s._r.forEach(function(f){return f(r,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var o=Nu.length;o--;)Nu[o].id===this.id&&Nu.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),CB=function(){function n(t){this.contexts=[],this.scope=t,vn&&vn.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){Lo(r)||(r={matches:r});var o=new wO(0,s||this.scope),l=o.conditions={},c,h,f;vn&&!o.selector&&(o.selector=vn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(h in r)h==="all"?f=1:(c=yo.matchMedia(r[h]),c&&(Nu.indexOf(o)<0&&Nu.push(o),(l[h]=c.matches)&&(f=1),c.addListener?c.addListener(HT):c.addEventListener("change",HT)));return f&&i(o,function(m){return o.add(null,m)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),jy={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return sO(i)})},timeline:function(e){return new mi(e)},getTweensOf:function(e,t){return xn.getTweensOf(e,t)},getProperty:function(e,t,r,i){wr(e)&&(e=Cs(e)[0]);var s=Ru(e||{}).get,o=r?qD:HD;return r==="native"&&(r=""),e&&(t?o((Zi[t]&&Zi[t].get||s)(e,t,r,i)):function(l,c,h){return o((Zi[l]&&Zi[l].get||s)(e,l,c,h))})},quickSetter:function(e,t,r){if(e=Cs(e),e.length>1){var i=e.map(function(f){return Ui.quickSetter(f,t,r)}),s=i.length;return function(f){for(var m=s;m--;)i[m](f)}}e=e[0]||{};var o=Zi[t],l=Ru(e),c=l.harness&&(l.harness.aliases||{})[t]||t,h=o?function(f){var m=new o;sh._pt=0,m.init(e,r?f+r:f,sh,0,[e]),m.render(1,m),sh._pt&&Jx(1,sh)}:l.set(e,c);return o?h:function(f){return h(e,c,r?f+r:f,l,1)}},quickTo:function(e,t,r){var i,s=Ui.to(e,ls((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(c,h,f){return s.resetTo(t,c,h,f)};return o.tween=s,o},isTweening:function(e){return xn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ku(e.ease,Nh.ease)),oA(Nh,e||{})},config:function(e){return oA(ss,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!Zi[l]&&!as[l]&&np(t+" effect requires "+l+" plugin.")}),mw[t]=function(l,c,h){return r(Cs(l),ls(c||{},s),h)},o&&(mi.prototype[t]=function(l,c,h){return this.add(mw[t](l,Lo(c)?c:(h=c)&&{},this),h)})},registerEase:function(e,t){Et[e]=ku(t)},parseEase:function(e,t){return arguments.length?ku(e,t):Et},getById:function(e){return xn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new mi(e),i,s;for(r.smoothChildTiming=Mi(e.smoothChildTiming),xn.remove(r),r._dp=0,r._time=r._tTime=xn._time,i=xn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Yn&&i.vars.onComplete===i._targets[0]))&&wo(r,i,i._start-i._delay),i=s;return wo(xn,r,0),r},context:function(e,t){return e?new wO(e,t):vn},matchMedia:function(e){return new CB(e)},matchMediaRefresh:function(){return Nu.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||HT()},addEventListener:function(e,t){var r=ly[e]||(ly[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=ly[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:rB,wrapYoyo:iB,distribute:ZD,random:tO,snap:eO,normalize:nB,getUnit:Kr,clamp:J6,splitColor:oO,toArray:Cs,selector:$T,mapRange:rO,pipe:eB,unitize:tB,interpolate:sB,shuffle:JD},install:UD,effects:mw,ticker:ns,updateRoot:mi.updateRoot,plugins:Zi,globalTimeline:xn,core:{PropTween:Vi,globals:BD,Tween:Yn,Timeline:mi,Animation:op,getCache:Ru,_removeLinkedListItem:O_,reverting:function(){return Or},context:function(e){return e&&vn&&(vn.data.push(e),e._ctx=vn),vn},suppressOverwrites:function(e){return Fx=e}}};Li("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return jy[n]=Yn[n]});ns.add(mi.updateRoot);sh=jy.to({},{duration:0});var bB=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},IB=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=bB(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},ww=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(l){var c,h;if(wr(s)&&(c={},Li(s,function(f){return c[f]=1}),s=c),t){c={};for(h in s)c[h]=t(s[h]);s=c}IB(l,s)}}}},Ui=jy.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,l,c;this.tween=r;for(o in t)c=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(c||0)+"",t[o],i,s,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Or?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},ww("roundProps",zT),ww("modifiers"),ww("snap",eO))||jy;Yn.version=mi.version=Ui.version="3.13.0";FD=1;Bx()&&Lh();Et.Power0;Et.Power1;Et.Power2;Et.Power3;Et.Power4;Et.Linear;Et.Quad;Et.Cubic;Et.Quart;Et.Quint;Et.Strong;Et.Elastic;Et.Back;Et.SteppedEase;Et.Bounce;Et.Sine;Et.Expo;Et.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var dA,al,wh,Zx,Tu,fA,e1,AB=function(){return typeof window<"u"},_a={},fu=180/Math.PI,Th=Math.PI/180,Hc=Math.atan2,pA=1e8,t1=/([A-Z])/g,RB=/(left|right|width|margin|padding|x)/i,PB=/[\s,\(]\S/,To={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},qT=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},kB=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},NB=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},DB=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},TO=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},EO=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},OB=function(e,t,r){return e.style[t]=r},MB=function(e,t,r){return e.style.setProperty(t,r)},LB=function(e,t,r){return e._gsap[t]=r},VB=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},jB=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},FB=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Sn="transform",ji=Sn+"Origin",UB=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in _a&&s){if(this.tfm=this.tfm||{},e!=="transform")e=To[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=sa(i,l)}):this.tfm[e]=o.x?o[e]:sa(i,e),e===ji&&(this.tfm.zOrigin=o.zOrigin);else return To.transform.split(",").forEach(function(l){return n.call(r,l,t)});if(this.props.indexOf(Sn)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ji,t,"")),e=Sn}(s||t)&&this.props.push(e,t,s[e])},xO=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},BB=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(t1,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=e1(),(!s||!s.isStart)&&!r[Sn]&&(xO(r),i.zOrigin&&r[ji]&&(r[ji]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},SO=function(e,t){var r={target:e,props:[],revert:BB,save:UB};return e._gsap||Ui.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return r.save(i)}),r},CO,GT=function(e,t){var r=al.createElementNS?al.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):al.createElement(e);return r&&r.style?r:al.createElement(e)},bs=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(t1,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,Vh(t)||t,1)||""},mA="O,Moz,ms,Ms,Webkit".split(","),Vh=function(e,t,r){var i=t||Tu,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(mA[o]+e in s););return o<0?null:(o===3?"ms":o>=0?mA[o]:"")+e},YT=function(){AB()&&window.document&&(dA=window,al=dA.document,wh=al.documentElement,Tu=GT("div")||{style:{}},GT("div"),Sn=Vh(Sn),ji=Sn+"Origin",Tu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",CO=!!Vh("perspective"),e1=Ui.core.reverting,Zx=1)},gA=function(e){var t=e.ownerSVGElement,r=GT("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),wh.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),wh.removeChild(r),s},yA=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},bO=function(e){var t,r;try{t=e.getBBox()}catch{t=gA(e),r=1}return t&&(t.width||t.height)||r||(t=gA(e)),t&&!t.width&&!t.x&&!t.y?{x:+yA(e,["x","cx","x1"])||0,y:+yA(e,["y","cy","y1"])||0,width:0,height:0}:t},IO=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&bO(e))},Uu=function(e,t){if(t){var r=e.style,i;t in _a&&t!==ji&&(t=Sn),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(t1,"-$1").toLowerCase())):r.removeAttribute(t)}},ll=function(e,t,r,i,s,o){var l=new Vi(e._pt,t,r,0,1,o?EO:TO);return e._pt=l,l.b=i,l.e=s,e._props.push(r),l},_A={deg:1,rad:1,turn:1},$B={grid:1,flex:1},xl=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",l=Tu.style,c=RB.test(t),h=e.tagName.toLowerCase()==="svg",f=(h?"client":"offset")+(c?"Width":"Height"),m=100,y=i==="px",_=i==="%",T,w,C,b;if(i===o||!s||_A[i]||_A[o])return s;if(o!=="px"&&!y&&(s=n(e,t,r,"px")),b=e.getCTM&&IO(e),(_||o==="%")&&(_a[t]||~t.indexOf("adius")))return T=b?e.getBBox()[c?"width":"height"]:e[f],Fn(_?s/T*m:s/100*T);if(l[c?"width":"height"]=m+(y?o:i),w=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,b&&(w=(e.ownerSVGElement||{}).parentNode),(!w||w===al||!w.appendChild)&&(w=al.body),C=w._gsap,C&&_&&C.width&&c&&C.time===ns.time&&!C.uncache)return Fn(s/C.width*m);if(_&&(t==="height"||t==="width")){var O=e.style[t];e.style[t]=m+i,T=e[f],O?e.style[t]=O:Uu(e,t)}else(_||o==="%")&&!$B[bs(w,"display")]&&(l.position=bs(e,"position")),w===e&&(l.position="static"),w.appendChild(Tu),T=Tu[f],w.removeChild(Tu),l.position="absolute";return c&&_&&(C=Ru(w),C.time=ns.time,C.width=w[f]),Fn(y?T*s/m:T&&s?m/T*s:0)},sa=function(e,t,r,i){var s;return Zx||YT(),t in To&&t!=="transform"&&(t=To[t],~t.indexOf(",")&&(t=t.split(",")[0])),_a[t]&&t!=="transform"?(s=lp(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Uy(bs(e,ji))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Fy[t]&&Fy[t](e,t,r)||bs(e,t)||zD(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?xl(e,t,s,r)+r:s},zB=function(e,t,r,i){if(!r||r==="none"){var s=Vh(t,e,1),o=s&&bs(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=bs(e,"borderTopColor"))}var l=new Vi(this._pt,e.style,t,0,1,_O),c=0,h=0,f,m,y,_,T,w,C,b,O,L,V,U;if(l.b=r,l.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=bs(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(w=e.style[t],e.style[t]=i,i=bs(e,t)||i,w?e.style[t]=w:Uu(e,t)),f=[r,i],lO(f),r=f[0],i=f[1],y=r.match(ih)||[],U=i.match(ih)||[],U.length){for(;m=ih.exec(i);)C=m[0],O=i.substring(c,m.index),T?T=(T+1)%5:(O.substr(-5)==="rgba("||O.substr(-5)==="hsla(")&&(T=1),C!==(w=y[h++]||"")&&(_=parseFloat(w)||0,V=w.substr((_+"").length),C.charAt(1)==="="&&(C=vh(_,C)+V),b=parseFloat(C),L=C.substr((b+"").length),c=ih.lastIndex-L.length,L||(L=L||ss.units[t]||V,c===i.length&&(i+=L,l.e+=L)),V!==L&&(_=xl(e,t,w,L)||0),l._pt={_next:l._pt,p:O||h===1?O:",",s:_,c:b-_,m:T&&T<4||t==="zIndex"?Math.round:0});l.c=c<i.length?i.substring(c,i.length):""}else l.r=t==="display"&&i==="none"?EO:TO;return VD.test(i)&&(l.e=0),this._pt=l,l},vA={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},WB=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=vA[r]||r,t[1]=vA[i]||i,t.join(" ")},HB=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,l,c,h;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),h=s.length;--h>-1;)l=s[h],_a[l]&&(c=1,l=l==="transformOrigin"?ji:Sn),Uu(r,l);c&&(Uu(r,Sn),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",lp(r,1),o.uncache=1,xO(i)))}},Fy={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Vi(e._pt,t,r,0,0,HB);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},ap=[1,0,0,1,0,0],AO={},RO=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},wA=function(e){var t=bs(e,Sn);return RO(t)?ap:t.substr(7).match(LD).map(Fn)},n1=function(e,t){var r=e._gsap||Ru(e),i=e.style,s=wA(e),o,l,c,h;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?ap:s):(s===ap&&!e.offsetParent&&e!==wh&&!r.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,wh.appendChild(e)),s=wA(e),c?i.display=c:Uu(e,"display"),h&&(l?o.insertBefore(e,l):o?o.appendChild(e):wh.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},KT=function(e,t,r,i,s,o){var l=e._gsap,c=s||n1(e,!0),h=l.xOrigin||0,f=l.yOrigin||0,m=l.xOffset||0,y=l.yOffset||0,_=c[0],T=c[1],w=c[2],C=c[3],b=c[4],O=c[5],L=t.split(" "),V=parseFloat(L[0])||0,U=parseFloat(L[1])||0,W,k,R,P;r?c!==ap&&(k=_*C-T*w)&&(R=V*(C/k)+U*(-w/k)+(w*O-C*b)/k,P=V*(-T/k)+U*(_/k)-(_*O-T*b)/k,V=R,U=P):(W=bO(e),V=W.x+(~L[0].indexOf("%")?V/100*W.width:V),U=W.y+(~(L[1]||L[0]).indexOf("%")?U/100*W.height:U)),i||i!==!1&&l.smooth?(b=V-h,O=U-f,l.xOffset=m+(b*_+O*w)-b,l.yOffset=y+(b*T+O*C)-O):l.xOffset=l.yOffset=0,l.xOrigin=V,l.yOrigin=U,l.smooth=!!i,l.origin=t,l.originIsAbsolute=!!r,e.style[ji]="0px 0px",o&&(ll(o,l,"xOrigin",h,V),ll(o,l,"yOrigin",f,U),ll(o,l,"xOffset",m,l.xOffset),ll(o,l,"yOffset",y,l.yOffset)),e.setAttribute("data-svg-origin",V+" "+U)},lp=function(e,t){var r=e._gsap||new dO(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",l="deg",c=getComputedStyle(e),h=bs(e,ji)||"0",f,m,y,_,T,w,C,b,O,L,V,U,W,k,R,P,N,j,B,M,ne,ae,fe,re,te,ue,$,H,Z,ge,_e,Ee;return f=m=y=w=C=b=O=L=V=0,_=T=1,r.svg=!!(e.getCTM&&IO(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Sn]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Sn]!=="none"?c[Sn]:"")),i.scale=i.rotate=i.translate="none"),k=n1(e,r.svg),r.svg&&(r.uncache?(te=e.getBBox(),h=r.xOrigin-te.x+"px "+(r.yOrigin-te.y)+"px",re=""):re=!t&&e.getAttribute("data-svg-origin"),KT(e,re||h,!!re||r.originIsAbsolute,r.smooth!==!1,k)),U=r.xOrigin||0,W=r.yOrigin||0,k!==ap&&(j=k[0],B=k[1],M=k[2],ne=k[3],f=ae=k[4],m=fe=k[5],k.length===6?(_=Math.sqrt(j*j+B*B),T=Math.sqrt(ne*ne+M*M),w=j||B?Hc(B,j)*fu:0,O=M||ne?Hc(M,ne)*fu+w:0,O&&(T*=Math.abs(Math.cos(O*Th))),r.svg&&(f-=U-(U*j+W*M),m-=W-(U*B+W*ne))):(Ee=k[6],ge=k[7],$=k[8],H=k[9],Z=k[10],_e=k[11],f=k[12],m=k[13],y=k[14],R=Hc(Ee,Z),C=R*fu,R&&(P=Math.cos(-R),N=Math.sin(-R),re=ae*P+$*N,te=fe*P+H*N,ue=Ee*P+Z*N,$=ae*-N+$*P,H=fe*-N+H*P,Z=Ee*-N+Z*P,_e=ge*-N+_e*P,ae=re,fe=te,Ee=ue),R=Hc(-M,Z),b=R*fu,R&&(P=Math.cos(-R),N=Math.sin(-R),re=j*P-$*N,te=B*P-H*N,ue=M*P-Z*N,_e=ne*N+_e*P,j=re,B=te,M=ue),R=Hc(B,j),w=R*fu,R&&(P=Math.cos(R),N=Math.sin(R),re=j*P+B*N,te=ae*P+fe*N,B=B*P-j*N,fe=fe*P-ae*N,j=re,ae=te),C&&Math.abs(C)+Math.abs(w)>359.9&&(C=w=0,b=180-b),_=Fn(Math.sqrt(j*j+B*B+M*M)),T=Fn(Math.sqrt(fe*fe+Ee*Ee)),R=Hc(ae,fe),O=Math.abs(R)>2e-4?R*fu:0,V=_e?1/(_e<0?-_e:_e):0),r.svg&&(re=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!RO(bs(e,Sn)),re&&e.setAttribute("transform",re))),Math.abs(O)>90&&Math.abs(O)<270&&(s?(_*=-1,O+=w<=0?180:-180,w+=w<=0?180:-180):(T*=-1,O+=O<=0?180:-180)),t=t||r.uncache,r.x=f-((r.xPercent=f&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=m-((r.yPercent=m&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=y+o,r.scaleX=Fn(_),r.scaleY=Fn(T),r.rotation=Fn(w)+l,r.rotationX=Fn(C)+l,r.rotationY=Fn(b)+l,r.skewX=O+l,r.skewY=L+l,r.transformPerspective=V+o,(r.zOrigin=parseFloat(h.split(" ")[2])||!t&&r.zOrigin||0)&&(i[ji]=Uy(h)),r.xOffset=r.yOffset=0,r.force3D=ss.force3D,r.renderTransform=r.svg?GB:CO?PO:qB,r.uncache=0,r},Uy=function(e){return(e=e.split(" "))[0]+" "+e[1]},Tw=function(e,t,r){var i=Kr(t);return Fn(parseFloat(t)+parseFloat(xl(e,"x",r+"px",i)))+i},qB=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,PO(e,t)},uu="0deg",Zd="0px",cu=") ",PO=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,l=r.y,c=r.z,h=r.rotation,f=r.rotationY,m=r.rotationX,y=r.skewX,_=r.skewY,T=r.scaleX,w=r.scaleY,C=r.transformPerspective,b=r.force3D,O=r.target,L=r.zOrigin,V="",U=b==="auto"&&e&&e!==1||b===!0;if(L&&(m!==uu||f!==uu)){var W=parseFloat(f)*Th,k=Math.sin(W),R=Math.cos(W),P;W=parseFloat(m)*Th,P=Math.cos(W),o=Tw(O,o,k*P*-L),l=Tw(O,l,-Math.sin(W)*-L),c=Tw(O,c,R*P*-L+L)}C!==Zd&&(V+="perspective("+C+cu),(i||s)&&(V+="translate("+i+"%, "+s+"%) "),(U||o!==Zd||l!==Zd||c!==Zd)&&(V+=c!==Zd||U?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+cu),h!==uu&&(V+="rotate("+h+cu),f!==uu&&(V+="rotateY("+f+cu),m!==uu&&(V+="rotateX("+m+cu),(y!==uu||_!==uu)&&(V+="skew("+y+", "+_+cu),(T!==1||w!==1)&&(V+="scale("+T+", "+w+cu),O.style[Sn]=V||"translate(0, 0)"},GB=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,l=r.y,c=r.rotation,h=r.skewX,f=r.skewY,m=r.scaleX,y=r.scaleY,_=r.target,T=r.xOrigin,w=r.yOrigin,C=r.xOffset,b=r.yOffset,O=r.forceCSS,L=parseFloat(o),V=parseFloat(l),U,W,k,R,P;c=parseFloat(c),h=parseFloat(h),f=parseFloat(f),f&&(f=parseFloat(f),h+=f,c+=f),c||h?(c*=Th,h*=Th,U=Math.cos(c)*m,W=Math.sin(c)*m,k=Math.sin(c-h)*-y,R=Math.cos(c-h)*y,h&&(f*=Th,P=Math.tan(h-f),P=Math.sqrt(1+P*P),k*=P,R*=P,f&&(P=Math.tan(f),P=Math.sqrt(1+P*P),U*=P,W*=P)),U=Fn(U),W=Fn(W),k=Fn(k),R=Fn(R)):(U=m,R=y,W=k=0),(L&&!~(o+"").indexOf("px")||V&&!~(l+"").indexOf("px"))&&(L=xl(_,"x",o,"px"),V=xl(_,"y",l,"px")),(T||w||C||b)&&(L=Fn(L+T-(T*U+w*k)+C),V=Fn(V+w-(T*W+w*R)+b)),(i||s)&&(P=_.getBBox(),L=Fn(L+i/100*P.width),V=Fn(V+s/100*P.height)),P="matrix("+U+","+W+","+k+","+R+","+L+","+V+")",_.setAttribute("transform",P),O&&(_.style[Sn]=P)},YB=function(e,t,r,i,s){var o=360,l=wr(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?fu:1),h=c-i,f=i+h+"deg",m,y;return l&&(m=s.split("_")[1],m==="short"&&(h%=o,h!==h%(o/2)&&(h+=h<0?o:-360)),m==="cw"&&h<0?h=(h+o*pA)%o-~~(h/o)*o:m==="ccw"&&h>0&&(h=(h-o*pA)%o-~~(h/o)*o)),e._pt=y=new Vi(e._pt,t,r,i,h,kB),y.e=f,y.u="deg",e._props.push(r),y},TA=function(e,t){for(var r in t)e[r]=t[r];return e},KB=function(e,t,r){var i=TA({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,c,h,f,m,y,_,T;i.svg?(h=r.getAttribute("transform"),r.setAttribute("transform",""),o[Sn]=t,l=lp(r,1),Uu(r,Sn),r.setAttribute("transform",h)):(h=getComputedStyle(r)[Sn],o[Sn]=t,l=lp(r,1),o[Sn]=h);for(c in _a)h=i[c],f=l[c],h!==f&&s.indexOf(c)<0&&(_=Kr(h),T=Kr(f),m=_!==T?xl(r,c,h,T):parseFloat(h),y=parseFloat(f),e._pt=new Vi(e._pt,l,c,m,y-m,qT),e._pt.u=T||0,e._props.push(c));TA(l,i)};Li("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(l){return e<2?n+l:"border"+l+n});Fy[e>1?"border"+n:n]=function(l,c,h,f,m){var y,_;if(arguments.length<4)return y=o.map(function(T){return sa(l,T,h)}),_=y.join(" "),_.split(y[0]).length===5?y[0]:_;y=(f+"").split(" "),_={},o.forEach(function(T,w){return _[T]=y[w]=y[w]||y[(w-1)/2|0]}),l.init(c,_,m)}});var kO={name:"css",register:YT,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,l=e.style,c=r.vars.startAt,h,f,m,y,_,T,w,C,b,O,L,V,U,W,k,R;Zx||YT(),this.styles=this.styles||SO(e),R=this.styles.props,this.tween=r;for(w in t)if(w!=="autoRound"&&(f=t[w],!(Zi[w]&&fO(w,t,r,i,e,s)))){if(_=typeof f,T=Fy[w],_==="function"&&(f=f.call(r,i,e,s),_=typeof f),_==="string"&&~f.indexOf("random(")&&(f=ip(f)),T)T(this,e,w,f,r)&&(k=1);else if(w.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(w)+"").trim(),f+="",fl.lastIndex=0,fl.test(h)||(C=Kr(h),b=Kr(f)),b?C!==b&&(h=xl(e,w,h,b)+b):C&&(f+=C),this.add(l,"setProperty",h,f,i,s,0,0,w),o.push(w),R.push(w,0,l[w]);else if(_!=="undefined"){if(c&&w in c?(h=typeof c[w]=="function"?c[w].call(r,i,e,s):c[w],wr(h)&&~h.indexOf("random(")&&(h=ip(h)),Kr(h+"")||h==="auto"||(h+=ss.units[w]||Kr(sa(e,w))||""),(h+"").charAt(1)==="="&&(h=sa(e,w))):h=sa(e,w),y=parseFloat(h),O=_==="string"&&f.charAt(1)==="="&&f.substr(0,2),O&&(f=f.substr(2)),m=parseFloat(f),w in To&&(w==="autoAlpha"&&(y===1&&sa(e,"visibility")==="hidden"&&m&&(y=0),R.push("visibility",0,l.visibility),ll(this,l,"visibility",y?"inherit":"hidden",m?"inherit":"hidden",!m)),w!=="scale"&&w!=="transform"&&(w=To[w],~w.indexOf(",")&&(w=w.split(",")[0]))),L=w in _a,L){if(this.styles.save(w),_==="string"&&f.substring(0,6)==="var(--"&&(f=bs(e,f.substring(4,f.indexOf(")"))),m=parseFloat(f)),V||(U=e._gsap,U.renderTransform&&!t.parseTransform||lp(e,t.parseTransform),W=t.smoothOrigin!==!1&&U.smooth,V=this._pt=new Vi(this._pt,l,Sn,0,1,U.renderTransform,U,0,-1),V.dep=1),w==="scale")this._pt=new Vi(this._pt,U,"scaleY",U.scaleY,(O?vh(U.scaleY,O+m):m)-U.scaleY||0,qT),this._pt.u=0,o.push("scaleY",w),w+="X";else if(w==="transformOrigin"){R.push(ji,0,l[ji]),f=WB(f),U.svg?KT(e,f,0,W,0,this):(b=parseFloat(f.split(" ")[2])||0,b!==U.zOrigin&&ll(this,U,"zOrigin",U.zOrigin,b),ll(this,l,w,Uy(h),Uy(f)));continue}else if(w==="svgOrigin"){KT(e,f,1,W,0,this);continue}else if(w in AO){YB(this,U,w,y,O?vh(y,O+f):f);continue}else if(w==="smoothOrigin"){ll(this,U,"smooth",U.smooth,f);continue}else if(w==="force3D"){U[w]=f;continue}else if(w==="transform"){KB(this,f,e);continue}}else w in l||(w=Vh(w)||w);if(L||(m||m===0)&&(y||y===0)&&!PB.test(f)&&w in l)C=(h+"").substr((y+"").length),m||(m=0),b=Kr(f)||(w in ss.units?ss.units[w]:C),C!==b&&(y=xl(e,w,h,b)),this._pt=new Vi(this._pt,L?U:l,w,y,(O?vh(y,O+m):m)-y,!L&&(b==="px"||w==="zIndex")&&t.autoRound!==!1?DB:qT),this._pt.u=b||0,C!==b&&b!=="%"&&(this._pt.b=h,this._pt.r=NB);else if(w in l)zB.call(this,e,w,h,O?O+f:f);else if(w in e)this.add(e,w,h||e[w],O?O+f:f,i,s);else if(w!=="parseTransform"){zx(w,f);continue}L||(w in l?R.push(w,0,l[w]):typeof e[w]=="function"?R.push(w,2,e[w]()):R.push(w,1,h||e[w])),o.push(w)}}k&&vO(this)},render:function(e,t){if(t.tween._time||!e1())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:sa,aliases:To,getSetter:function(e,t,r){var i=To[t];return i&&i.indexOf(",")<0&&(t=i),t in _a&&t!==ji&&(e._gsap.x||sa(e,"x"))?r&&fA===r?t==="scale"?VB:LB:(fA=r||{})&&(t==="scale"?jB:FB):e.style&&!Ux(e.style[t])?OB:~t.indexOf("-")?MB:Qx(e,t)},core:{_removeProperty:Uu,_getMatrix:n1}};Ui.utils.checkPrefix=Vh;Ui.core.getStyleSaver=SO;(function(n,e,t,r){var i=Li(n+","+e+","+t,function(s){_a[s]=1});Li(e,function(s){ss.units[s]="deg",AO[s]=1}),To[i[13]]=n+","+e,Li(r,function(s){var o=s.split(":");To[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Li("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ss.units[n]="px"});Ui.registerPlugin(kO);var r1=Ui.registerPlugin(kO)||Ui;r1.core.Tween;const XB=()=>{const n=A.useRef(null);return A.useEffect(()=>{const e=n.current;e&&r1.to(e,{opacity:0,scale:.5,duration:1.5,ease:"power1.inOut"})},[]),E.jsx("img",{ref:n,src:"https://i.ibb.co/JW3nKrKx/paws.png",alt:"Paw",className:"w-6 h-6"})},QB=()=>{const[n,e]=A.useState([]);return A.useEffect(()=>{const t=r=>{const i={x:r.clientX,y:r.clientY};e(s=>(s.length>9e5&&s.shift(),[...s,i]))};return window.addEventListener("mousemove",t),()=>{window.removeEventListener("mousemove",t)}},[]),E.jsx("div",{className:"absolute inset-0 pointer-events-none z-30",children:n.map((t,r)=>E.jsxs("div",{className:"paw-container absolute",style:{left:`${t.x-20+Math.random()*10}px`,top:`${t.y-20+Math.random()*10}px`,animationDelay:`${r*.1}s`,transition:"all 0.8s ease-out"},children:[E.jsx("div",{}),E.jsx("div",{className:"",children:E.jsx(XB,{})})]},r))})},Bu=({label:n,alt:e,variant:t="primary",onClick:r,to:i,type:s="button"})=>{const c=`w-full md:w-auto px-6 py-2 md:px-8 md:py-3 rounded-full text-base md:text-lg shadow-lg transform transition duration-300 drop-shadow-md uppercase font-semibold text-center ${{primary:"bg-blue-400 hover:bg-blue-800 text-white hover:scale-110",secondary:"bg-white border border-blue-400 text-blue-600 hover:bg-blue-100 hover:scale-105"}[t]}`;return i?E.jsx(es,{to:i,className:c,"aria-label":e,children:n}):E.jsx("button",{onClick:r,className:c,"aria-label":e,type:s??"button",children:n})},JB=()=>E.jsx("div",{className:"relative w-full h-screen overflow-hidden bg-yellow-50",children:E.jsxs("section",{className:"hero relative h-full flex items-center justify-center overflow-hidden z-20",children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none z-30",children:E.jsx(QB,{})}),E.jsx("div",{className:"absolute inset-0 bg-[url('/hero-small.webp')] bg-cover bg-center z-0 md:hidden"}),E.jsx("div",{className:"absolute inset-0 bg-[url('/hero-img.jpg')] bg-cover bg-center z-0 hidden md:block"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/40 to-transparent z-10"}),E.jsxs("div",{className:"hero-text relative text-center z-20 text-white px-4",children:[E.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-4 animate-[wiggle_1s_ease-in-out_infinite] drop-shadow-lg pb-5",children:"PetHome"}),E.jsxs("p",{className:"text-lg md:text-2xl mb-6 max-w-md mx-auto drop-shadow-md pb-5",children:["Service de garderie ",E.jsx("span",{className:"text-blue-500 font-extrabold",children:"privé"}),E.jsx("br",{})," pour chiens et chats",E.jsx("br",{}),E.jsx("br",{}),"Aventures, Câlins et Repos : les vacances rêvées pour votre boule d’amour !"]}),E.jsx(Bu,{label:"Réservez",alt:"Aller à la page de réservation",variant:"primary",to:"/tarifs"})]})]})});function ZB(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function e9(n,e,t){return e&&ZB(n.prototype,e),n}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Dr,uy,rs,ul,cl,Eh,NO,pu,Pf,DO,aa,qs,OO,MO=function(){return Dr||typeof window<"u"&&(Dr=window.gsap)&&Dr.registerPlugin&&Dr},LO=1,oh=[],ht=[],bo=[],kf=Date.now,XT=function(e,t){return t},t9=function(){var e=Pf.core,t=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,ht),i.push.apply(i,bo),ht=r,bo=i,XT=function(o,l){return t[o](l)}},pl=function(e,t){return~bo.indexOf(e)&&bo[bo.indexOf(e)+1][t]},Nf=function(e){return!!~DO.indexOf(e)},hi=function(e,t,r,i,s){return e.addEventListener(t,r,{passive:i!==!1,capture:!!s})},ci=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},Ig="scrollLeft",Ag="scrollTop",QT=function(){return aa&&aa.isPressed||ht.cache++},By=function(e,t){var r=function i(s){if(s||s===0){LO&&(rs.history.scrollRestoration="manual");var o=aa&&aa.isPressed;s=i.v=Math.round(s)||(aa&&aa.iOS?1:0),e(s),i.cacheID=ht.cache,o&&XT("ss",s)}else(t||ht.cache!==i.cacheID||XT("ref"))&&(i.cacheID=ht.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},gi={s:Ig,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:By(function(n){return arguments.length?rs.scrollTo(n,rr.sc()):rs.pageXOffset||ul[Ig]||cl[Ig]||Eh[Ig]||0})},rr={s:Ag,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:gi,sc:By(function(n){return arguments.length?rs.scrollTo(gi.sc(),n):rs.pageYOffset||ul[Ag]||cl[Ag]||Eh[Ag]||0})},Ri=function(e,t){return(t&&t._ctx&&t._ctx.selector||Dr.utils.toArray)(e)[0]||(typeof e=="string"&&Dr.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},n9=function(e,t){for(var r=t.length;r--;)if(t[r]===e||t[r].contains(e))return!0;return!1},Sl=function(e,t){var r=t.s,i=t.sc;Nf(e)&&(e=ul.scrollingElement||cl);var s=ht.indexOf(e),o=i===rr.sc?1:2;!~s&&(s=ht.push(e)-1),ht[s+o]||hi(e,"scroll",QT);var l=ht[s+o],c=l||(ht[s+o]=By(pl(e,r),!0)||(Nf(e)?i:By(function(h){return arguments.length?e[r]=h:e[r]})));return c.target=e,l||(c.smooth=Dr.getProperty(e,"scrollBehavior")==="smooth"),c},JT=function(e,t,r){var i=e,s=e,o=kf(),l=o,c=t||50,h=Math.max(500,c*3),f=function(T,w){var C=kf();w||C-o>c?(s=i,i=T,l=o,o=C):r?i+=T:i=s+(T-s)/(C-l)*(o-l)},m=function(){s=i=r?0:i,l=o=0},y=function(T){var w=l,C=s,b=kf();return(T||T===0)&&T!==i&&f(T),o===l||b-l>h?0:(i+(r?C:-C))/((r?b:o)-w)*1e3};return{update:f,reset:m,getVelocity:y}},ef=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},EA=function(e){var t=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(r)?t:r},VO=function(){Pf=Dr.core.globals().ScrollTrigger,Pf&&Pf.core&&t9()},jO=function(e){return Dr=e||MO(),!uy&&Dr&&typeof document<"u"&&document.body&&(rs=window,ul=document,cl=ul.documentElement,Eh=ul.body,DO=[rs,ul,cl,Eh],Dr.utils.clamp,OO=Dr.core.context||function(){},pu="onpointerenter"in Eh?"pointer":"mouse",NO=Bn.isTouch=rs.matchMedia&&rs.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in rs||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,qs=Bn.eventTypes=("ontouchstart"in cl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in cl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return LO=0},500),VO(),uy=1),uy};gi.op=rr;ht.cache=0;var Bn=function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(r){uy||jO(Dr)||console.warn("Please gsap.registerPlugin(Observer)"),Pf||VO();var i=r.tolerance,s=r.dragMinimum,o=r.type,l=r.target,c=r.lineHeight,h=r.debounce,f=r.preventDefault,m=r.onStop,y=r.onStopDelay,_=r.ignore,T=r.wheelSpeed,w=r.event,C=r.onDragStart,b=r.onDragEnd,O=r.onDrag,L=r.onPress,V=r.onRelease,U=r.onRight,W=r.onLeft,k=r.onUp,R=r.onDown,P=r.onChangeX,N=r.onChangeY,j=r.onChange,B=r.onToggleX,M=r.onToggleY,ne=r.onHover,ae=r.onHoverEnd,fe=r.onMove,re=r.ignoreCheck,te=r.isNormalizer,ue=r.onGestureStart,$=r.onGestureEnd,H=r.onWheel,Z=r.onEnable,ge=r.onDisable,_e=r.onClick,Ee=r.scrollSpeed,Re=r.capture,xe=r.allowClicks,Oe=r.lockAxis,Ve=r.onLockAxis;this.target=l=Ri(l)||cl,this.vars=r,_&&(_=Dr.utils.toArray(_)),i=i||1e-9,s=s||0,T=T||1,Ee=Ee||1,o=o||"wheel,touch,pointer",h=h!==!1,c||(c=parseFloat(rs.getComputedStyle(Eh).lineHeight)||22);var _t,Mt,Bt,Ge,ze,At,vt,J=this,cn=0,Rn=0,Pn=r.passive||!f&&r.passive!==!1,ce=Sl(l,gi),nt=Sl(l,rr),xt=ce(),Kt=nt(),st=~o.indexOf("touch")&&!~o.indexOf("pointer")&&qs[0]==="pointerdown",pt=Nf(l),Ye=l.ownerDocument||ul,Ht=[0,0,0],Jt=[0,0,0],Nt=0,$n=function(){return Nt=kf()},mt=function(ke,Me){return(J.event=ke)&&_&&n9(ke.target,_)||Me&&st&&ke.pointerType!=="touch"||re&&re(ke,Me)},ar=function(){J._vx.reset(),J._vy.reset(),Mt.pause(),m&&m(J)},kn=function(){var ke=J.deltaX=EA(Ht),Me=J.deltaY=EA(Jt),pe=Math.abs(ke)>=i,Ne=Math.abs(Me)>=i;j&&(pe||Ne)&&j(J,ke,Me,Ht,Jt),pe&&(U&&J.deltaX>0&&U(J),W&&J.deltaX<0&&W(J),P&&P(J),B&&J.deltaX<0!=cn<0&&B(J),cn=J.deltaX,Ht[0]=Ht[1]=Ht[2]=0),Ne&&(R&&J.deltaY>0&&R(J),k&&J.deltaY<0&&k(J),N&&N(J),M&&J.deltaY<0!=Rn<0&&M(J),Rn=J.deltaY,Jt[0]=Jt[1]=Jt[2]=0),(Ge||Bt)&&(fe&&fe(J),Bt&&(C&&Bt===1&&C(J),O&&O(J),Bt=0),Ge=!1),At&&!(At=!1)&&Ve&&Ve(J),ze&&(H(J),ze=!1),_t=0},_i=function(ke,Me,pe){Ht[pe]+=ke,Jt[pe]+=Me,J._vx.update(ke),J._vy.update(Me),h?_t||(_t=requestAnimationFrame(kn)):kn()},ri=function(ke,Me){Oe&&!vt&&(J.axis=vt=Math.abs(ke)>Math.abs(Me)?"x":"y",At=!0),vt!=="y"&&(Ht[2]+=ke,J._vx.update(ke,!0)),vt!=="x"&&(Jt[2]+=Me,J._vy.update(Me,!0)),h?_t||(_t=requestAnimationFrame(kn)):kn()},Tr=function(ke){if(!mt(ke,1)){ke=ef(ke,f);var Me=ke.clientX,pe=ke.clientY,Ne=Me-J.x,Se=pe-J.y,je=J.isDragging;J.x=Me,J.y=pe,(je||(Ne||Se)&&(Math.abs(J.startX-Me)>=s||Math.abs(J.startY-pe)>=s))&&(Bt=je?2:1,je||(J.isDragging=!0),ri(Ne,Se))}},Jn=J.onPress=function(Fe){mt(Fe,1)||Fe&&Fe.button||(J.axis=vt=null,Mt.pause(),J.isPressed=!0,Fe=ef(Fe),cn=Rn=0,J.startX=J.x=Fe.clientX,J.startY=J.y=Fe.clientY,J._vx.reset(),J._vy.reset(),hi(te?l:Ye,qs[1],Tr,Pn,!0),J.deltaX=J.deltaY=0,L&&L(J))},Qe=J.onRelease=function(Fe){if(!mt(Fe,1)){ci(te?l:Ye,qs[1],Tr,!0);var ke=!isNaN(J.y-J.startY),Me=J.isDragging,pe=Me&&(Math.abs(J.x-J.startX)>3||Math.abs(J.y-J.startY)>3),Ne=ef(Fe);!pe&&ke&&(J._vx.reset(),J._vy.reset(),f&&xe&&Dr.delayedCall(.08,function(){if(kf()-Nt>300&&!Fe.defaultPrevented){if(Fe.target.click)Fe.target.click();else if(Ye.createEvent){var Se=Ye.createEvent("MouseEvents");Se.initMouseEvent("click",!0,!0,rs,1,Ne.screenX,Ne.screenY,Ne.clientX,Ne.clientY,!1,!1,!1,!1,0,null),Fe.target.dispatchEvent(Se)}}})),J.isDragging=J.isGesturing=J.isPressed=!1,m&&Me&&!te&&Mt.restart(!0),Bt&&kn(),b&&Me&&b(J),V&&V(J,pe)}},Er=function(ke){return ke.touches&&ke.touches.length>1&&(J.isGesturing=!0)&&ue(ke,J.isDragging)},Zt=function(){return(J.isGesturing=!1)||$(J)},nn=function(ke){if(!mt(ke)){var Me=ce(),pe=nt();_i((Me-xt)*Ee,(pe-Kt)*Ee,1),xt=Me,Kt=pe,m&&Mt.restart(!0)}},Rt=function(ke){if(!mt(ke)){ke=ef(ke,f),H&&(ze=!0);var Me=(ke.deltaMode===1?c:ke.deltaMode===2?rs.innerHeight:1)*T;_i(ke.deltaX*Me,ke.deltaY*Me,0),m&&!te&&Mt.restart(!0)}},Pt=function(ke){if(!mt(ke)){var Me=ke.clientX,pe=ke.clientY,Ne=Me-J.x,Se=pe-J.y;J.x=Me,J.y=pe,Ge=!0,m&&Mt.restart(!0),(Ne||Se)&&ri(Ne,Se)}},xr=function(ke){J.event=ke,ne(J)},rt=function(ke){J.event=ke,ae(J)},Nn=function(ke){return mt(ke)||ef(ke,f)&&_e(J)};Mt=J._dc=Dr.delayedCall(y||.25,ar).pause(),J.deltaX=J.deltaY=0,J._vx=JT(0,50,!0),J._vy=JT(0,50,!0),J.scrollX=ce,J.scrollY=nt,J.isDragging=J.isGesturing=J.isPressed=!1,OO(this),J.enable=function(Fe){return J.isEnabled||(hi(pt?Ye:l,"scroll",QT),o.indexOf("scroll")>=0&&hi(pt?Ye:l,"scroll",nn,Pn,Re),o.indexOf("wheel")>=0&&hi(l,"wheel",Rt,Pn,Re),(o.indexOf("touch")>=0&&NO||o.indexOf("pointer")>=0)&&(hi(l,qs[0],Jn,Pn,Re),hi(Ye,qs[2],Qe),hi(Ye,qs[3],Qe),xe&&hi(l,"click",$n,!0,!0),_e&&hi(l,"click",Nn),ue&&hi(Ye,"gesturestart",Er),$&&hi(Ye,"gestureend",Zt),ne&&hi(l,pu+"enter",xr),ae&&hi(l,pu+"leave",rt),fe&&hi(l,pu+"move",Pt)),J.isEnabled=!0,J.isDragging=J.isGesturing=J.isPressed=Ge=Bt=!1,J._vx.reset(),J._vy.reset(),xt=ce(),Kt=nt(),Fe&&Fe.type&&Jn(Fe),Z&&Z(J)),J},J.disable=function(){J.isEnabled&&(oh.filter(function(Fe){return Fe!==J&&Nf(Fe.target)}).length||ci(pt?Ye:l,"scroll",QT),J.isPressed&&(J._vx.reset(),J._vy.reset(),ci(te?l:Ye,qs[1],Tr,!0)),ci(pt?Ye:l,"scroll",nn,Re),ci(l,"wheel",Rt,Re),ci(l,qs[0],Jn,Re),ci(Ye,qs[2],Qe),ci(Ye,qs[3],Qe),ci(l,"click",$n,!0),ci(l,"click",Nn),ci(Ye,"gesturestart",Er),ci(Ye,"gestureend",Zt),ci(l,pu+"enter",xr),ci(l,pu+"leave",rt),ci(l,pu+"move",Pt),J.isEnabled=J.isPressed=J.isDragging=!1,ge&&ge(J))},J.kill=J.revert=function(){J.disable();var Fe=oh.indexOf(J);Fe>=0&&oh.splice(Fe,1),aa===J&&(aa=0)},oh.push(J),te&&Nf(l)&&(aa=J),J.enable(w)},e9(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();Bn.version="3.13.0";Bn.create=function(n){return new Bn(n)};Bn.register=jO;Bn.getAll=function(){return oh.slice()};Bn.getById=function(n){return oh.filter(function(e){return e.vars.id===n})[0]};MO()&&Dr.registerPlugin(Bn);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ce,Jc,ct,tn,ts,Vt,i1,$y,up,Df,ff,Rg,Br,V_,ZT,fi,xA,SA,Zc,FO,Ew,UO,di,eE,BO,$O,el,tE,s1,xh,o1,zy,nE,xw,Pg=1,Wr=Date.now,Sw=Wr(),As=0,pf=0,CA=function(e,t,r){var i=Qi(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+t+"Clamp"]=i,i?e.substr(6,e.length-7):e},bA=function(e,t){return t&&(!Qi(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},r9=function n(){return pf&&requestAnimationFrame(n)},IA=function(){return V_=1},AA=function(){return V_=0},_o=function(e){return e},mf=function(e){return Math.round(e*1e5)/1e5||0},zO=function(){return typeof window<"u"},WO=function(){return Ce||zO()&&(Ce=window.gsap)&&Ce.registerPlugin&&Ce},$u=function(e){return!!~i1.indexOf(e)},HO=function(e){return(e==="Height"?o1:ct["inner"+e])||ts["client"+e]||Vt["client"+e]},qO=function(e){return pl(e,"getBoundingClientRect")||($u(e)?function(){return py.width=ct.innerWidth,py.height=o1,py}:function(){return oa(e)})},i9=function(e,t,r){var i=r.d,s=r.d2,o=r.a;return(o=pl(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(t?HO(s):e["client"+s])||0}},s9=function(e,t){return!t||~bo.indexOf(e)?qO(e):function(){return py}},Eo=function(e,t){var r=t.s,i=t.d2,s=t.d,o=t.a;return Math.max(0,(r="scroll"+i)&&(o=pl(e,r))?o()-qO(e)()[s]:$u(e)?(ts[r]||Vt[r])-HO(i):e[r]-e["offset"+i])},kg=function(e,t){for(var r=0;r<Zc.length;r+=3)(!t||~t.indexOf(Zc[r+1]))&&e(Zc[r],Zc[r+1],Zc[r+2])},Qi=function(e){return typeof e=="string"},Xr=function(e){return typeof e=="function"},gf=function(e){return typeof e=="number"},mu=function(e){return typeof e=="object"},tf=function(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()},Cw=function(e,t){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return t(e)}):t(e);r&&r.totalTime&&(e.callbackAnimation=r)}},qc=Math.abs,GO="left",YO="top",a1="right",l1="bottom",Du="width",Ou="height",Of="Right",Mf="Left",Lf="Top",Vf="Bottom",qn="padding",Es="margin",jh="Width",u1="Height",nr="px",xs=function(e){return ct.getComputedStyle(e)},o9=function(e){var t=xs(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},RA=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},oa=function(e,t){var r=t&&xs(e)[ZT]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ce.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},Wy=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},KO=function(e){var t=[],r=e.labels,i=e.duration(),s;for(s in r)t.push(r[s]/i);return t},a9=function(e){return function(t){return Ce.utils.snap(KO(e),t)}},c1=function(e){var t=Ce.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return r?function(i,s,o){o===void 0&&(o=.001);var l;if(!s)return t(i);if(s>0){for(i-=o,l=0;l<r.length;l++)if(r[l]>=i)return r[l];return r[l-1]}else for(l=r.length,i+=o;l--;)if(r[l]<=i)return r[l];return r[0]}:function(i,s,o){o===void 0&&(o=.001);var l=t(i);return!s||Math.abs(l-i)<o||l-i<0==s<0?l:t(s<0?i-e:i+e)}},l9=function(e){return function(t,r){return c1(KO(e))(t,r.direction)}},Ng=function(e,t,r,i){return r.split(",").forEach(function(s){return e(t,s,i)})},mr=function(e,t,r,i,s){return e.addEventListener(t,r,{passive:!i,capture:!!s})},pr=function(e,t,r,i){return e.removeEventListener(t,r,!!i)},Dg=function(e,t,r){r=r&&r.wheelHandler,r&&(e(t,"wheel",r),e(t,"touchmove",r))},PA={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Og={toggleActions:"play",anticipatePin:0},Hy={top:0,left:0,center:.5,bottom:1,right:1},cy=function(e,t){if(Qi(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=t/100),e=e.substr(0,r-1)),e=i+(e in Hy?Hy[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Mg=function(e,t,r,i,s,o,l,c){var h=s.startColor,f=s.endColor,m=s.fontSize,y=s.indent,_=s.fontWeight,T=tn.createElement("div"),w=$u(r)||pl(r,"pinType")==="fixed",C=e.indexOf("scroller")!==-1,b=w?Vt:r,O=e.indexOf("start")!==-1,L=O?h:f,V="border-color:"+L+";font-size:"+m+";color:"+L+";font-weight:"+_+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return V+="position:"+((C||c)&&w?"fixed;":"absolute;"),(C||c||!w)&&(V+=(i===rr?a1:l1)+":"+(o+parseFloat(y))+"px;"),l&&(V+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),T._isStart=O,T.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),T.style.cssText=V,T.innerText=t||t===0?e+"-"+t:e,b.children[0]?b.insertBefore(T,b.children[0]):b.appendChild(T),T._offset=T["offset"+i.op.d2],hy(T,0,i,O),T},hy=function(e,t,r,i){var s={display:"block"},o=r[i?"os2":"p2"],l=r[i?"p2":"os2"];e._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+o+jh]=1,s["border"+l+jh]=0,s[r.p]=t+"px",Ce.set(e,s)},at=[],rE={},cp,kA=function(){return Wr()-As>34&&(cp||(cp=requestAnimationFrame(da)))},Gc=function(){(!di||!di.isPressed||di.startX>Vt.clientWidth)&&(ht.cache++,di?cp||(cp=requestAnimationFrame(da)):da(),As||Wu("scrollStart"),As=Wr())},bw=function(){$O=ct.innerWidth,BO=ct.innerHeight},yf=function(e){ht.cache++,(e===!0||!Br&&!UO&&!tn.fullscreenElement&&!tn.webkitFullscreenElement&&(!eE||$O!==ct.innerWidth||Math.abs(ct.innerHeight-BO)>ct.innerHeight*.25))&&$y.restart(!0)},zu={},u9=[],XO=function n(){return pr(ft,"scrollEnd",n)||Eu(!0)},Wu=function(e){return zu[e]&&zu[e].map(function(t){return t()})||u9},Xi=[],QO=function(e){for(var t=0;t<Xi.length;t+=5)(!e||Xi[t+4]&&Xi[t+4].query===e)&&(Xi[t].style.cssText=Xi[t+1],Xi[t].getBBox&&Xi[t].setAttribute("transform",Xi[t+2]||""),Xi[t+3].uncache=1)},h1=function(e,t){var r;for(fi=0;fi<at.length;fi++)r=at[fi],r&&(!t||r._ctx===t)&&(e?r.kill(1):r.revert(!0,!0));zy=!0,t&&QO(t),t||Wu("revert")},JO=function(e,t){ht.cache++,(t||!pi)&&ht.forEach(function(r){return Xr(r)&&r.cacheID++&&(r.rec=0)}),Qi(e)&&(ct.history.scrollRestoration=s1=e)},pi,Mu=0,NA,c9=function(){if(NA!==Mu){var e=NA=Mu;requestAnimationFrame(function(){return e===Mu&&Eu(!0)})}},ZO=function(){Vt.appendChild(xh),o1=!di&&xh.offsetHeight||ct.innerHeight,Vt.removeChild(xh)},DA=function(e){return up(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Eu=function(e,t){if(ts=tn.documentElement,Vt=tn.body,i1=[ct,tn,ts,Vt],As&&!e&&!zy){mr(ft,"scrollEnd",XO);return}ZO(),pi=ft.isRefreshing=!0,ht.forEach(function(i){return Xr(i)&&++i.cacheID&&(i.rec=i())});var r=Wu("refreshInit");FO&&ft.sort(),t||h1(),ht.forEach(function(i){Xr(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),at.slice(0).forEach(function(i){return i.refresh()}),zy=!1,at.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),nE=1,DA(!0),at.forEach(function(i){var s=Eo(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,l=i._startClamp&&i.start>=s;(o||l)&&i.setPositions(l?s-1:i.start,o?Math.max(l?s:i.start+1,s):i.end,!0)}),DA(!1),nE=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),ht.forEach(function(i){Xr(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),JO(s1,1),$y.pause(),Mu++,pi=2,da(2),at.forEach(function(i){return Xr(i.vars.onRefresh)&&i.vars.onRefresh(i)}),pi=ft.isRefreshing=!1,Wu("refresh")},iE=0,dy=1,jf,da=function(e){if(e===2||!pi&&!zy){ft.isUpdating=!0,jf&&jf.update(0);var t=at.length,r=Wr(),i=r-Sw>=50,s=t&&at[0].scroll();if(dy=iE>s?-1:1,pi||(iE=s),i&&(As&&!V_&&r-As>200&&(As=0,Wu("scrollEnd")),ff=Sw,Sw=r),dy<0){for(fi=t;fi-- >0;)at[fi]&&at[fi].update(0,i);dy=1}else for(fi=0;fi<t;fi++)at[fi]&&at[fi].update(0,i);ft.isUpdating=!1}cp=0},sE=[GO,YO,l1,a1,Es+Vf,Es+Of,Es+Lf,Es+Mf,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],fy=sE.concat([Du,Ou,"boxSizing","max"+jh,"max"+u1,"position",Es,qn,qn+Lf,qn+Of,qn+Vf,qn+Mf]),h9=function(e,t,r){Sh(r);var i=e._gsap;if(i.spacerIsNative)Sh(i.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},Iw=function(e,t,r,i){if(!e._gsap.swappedIn){for(var s=sE.length,o=t.style,l=e.style,c;s--;)c=sE[s],o[c]=r[c];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),l[l1]=l[a1]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Du]=Wy(e,gi)+nr,o[Ou]=Wy(e,rr)+nr,o[qn]=l[Es]=l[YO]=l[GO]="0",Sh(i),l[Du]=l["max"+jh]=r[Du],l[Ou]=l["max"+u1]=r[Ou],l[qn]=r[qn],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},d9=/([A-Z])/g,Sh=function(e){if(e){var t=e.t.style,r=e.length,i=0,s,o;for((e.t._gsap||Ce.core.getCache(e.t)).uncache=1;i<r;i+=2)o=e[i+1],s=e[i],o?t[s]=o:t[s]&&t.removeProperty(s.replace(d9,"-$1").toLowerCase())}},Lg=function(e){for(var t=fy.length,r=e.style,i=[],s=0;s<t;s++)i.push(fy[s],r[fy[s]]);return i.t=e,i},f9=function(e,t,r){for(var i=[],s=e.length,o=r?8:0,l;o<s;o+=2)l=e[o],i.push(l,l in t?t[l]:e[o+1]);return i.t=e.t,i},py={left:0,top:0},OA=function(e,t,r,i,s,o,l,c,h,f,m,y,_,T){Xr(e)&&(e=e(c)),Qi(e)&&e.substr(0,3)==="max"&&(e=y+(e.charAt(4)==="="?cy("0"+e.substr(3),r):0));var w=_?_.time():0,C,b,O;if(_&&_.seek(0),isNaN(e)||(e=+e),gf(e))_&&(e=Ce.utils.mapRange(_.scrollTrigger.start,_.scrollTrigger.end,0,y,e)),l&&hy(l,r,i,!0);else{Xr(t)&&(t=t(c));var L=(e||"0").split(" "),V,U,W,k;O=Ri(t,c)||Vt,V=oa(O)||{},(!V||!V.left&&!V.top)&&xs(O).display==="none"&&(k=O.style.display,O.style.display="block",V=oa(O),k?O.style.display=k:O.style.removeProperty("display")),U=cy(L[0],V[i.d]),W=cy(L[1]||"0",r),e=V[i.p]-h[i.p]-f+U+s-W,l&&hy(l,W,i,r-W<20||l._isStart&&W>20),r-=r-W}if(T&&(c[T]=e||-.001,e<0&&(e=0)),o){var R=e+r,P=o._isStart;C="scroll"+i.d2,hy(o,R,i,P&&R>20||!P&&(m?Math.max(Vt[C],ts[C]):o.parentNode[C])<=R+1),m&&(h=oa(l),m&&(o.style[i.op.p]=h[i.op.p]-i.op.m-o._offset+nr))}return _&&O&&(C=oa(O),_.seek(y),b=oa(O),_._caScrollDist=C[i.p]-b[i.p],e=e/_._caScrollDist*y),_&&_.seek(w),_?e:Math.round(e)},p9=/(webkit|moz|length|cssText|inset)/i,MA=function(e,t,r,i){if(e.parentNode!==t){var s=e.style,o,l;if(t===Vt){e._stOrig=s.cssText,l=xs(e);for(o in l)!+o&&!p9.test(o)&&l[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=l[o]);s.top=r,s.left=i}else s.cssText=e._stOrig;Ce.core.getCache(e).uncache=1,t.appendChild(e)}},eM=function(e,t,r){var i=t,s=i;return function(o){var l=Math.round(e());return l!==i&&l!==s&&Math.abs(l-i)>3&&Math.abs(l-s)>3&&(o=l,r&&r()),s=i,i=Math.round(o),i}},Vg=function(e,t,r){var i={};i[t.p]="+="+r,Ce.set(e,i)},LA=function(e,t){var r=Sl(e,t),i="_scroll"+t.p2,s=function o(l,c,h,f,m){var y=o.tween,_=c.onComplete,T={};h=h||r();var w=eM(r,h,function(){y.kill(),o.tween=0});return m=f&&m||0,f=f||l-h,y&&y.kill(),c[i]=l,c.inherit=!1,c.modifiers=T,T[i]=function(){return w(h+f*y.ratio+m*y.ratio*y.ratio)},c.onUpdate=function(){ht.cache++,o.tween&&da()},c.onComplete=function(){o.tween=0,_&&_.call(y)},y=o.tween=Ce.to(e,c),y};return e[i]=r,r.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},mr(e,"wheel",r.wheelHandler),ft.isTouch&&mr(e,"touchmove",r.wheelHandler),s},ft=function(){function n(t,r){Jc||n.register(Ce)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),tE(this),this.init(t,r)}var e=n.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!pf){this.update=this.refresh=this.kill=_o;return}r=RA(Qi(r)||gf(r)||r.nodeType?{trigger:r}:r,Og);var s=r,o=s.onUpdate,l=s.toggleClass,c=s.id,h=s.onToggle,f=s.onRefresh,m=s.scrub,y=s.trigger,_=s.pin,T=s.pinSpacing,w=s.invalidateOnRefresh,C=s.anticipatePin,b=s.onScrubComplete,O=s.onSnapComplete,L=s.once,V=s.snap,U=s.pinReparent,W=s.pinSpacer,k=s.containerAnimation,R=s.fastScrollEnd,P=s.preventOverlaps,N=r.horizontal||r.containerAnimation&&r.horizontal!==!1?gi:rr,j=!m&&m!==0,B=Ri(r.scroller||ct),M=Ce.core.getCache(B),ne=$u(B),ae=("pinType"in r?r.pinType:pl(B,"pinType")||ne&&"fixed")==="fixed",fe=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],re=j&&r.toggleActions.split(" "),te="markers"in r?r.markers:Og.markers,ue=ne?0:parseFloat(xs(B)["border"+N.p2+jh])||0,$=this,H=r.onRefreshInit&&function(){return r.onRefreshInit($)},Z=i9(B,ne,N),ge=s9(B,ne),_e=0,Ee=0,Re=0,xe=Sl(B,N),Oe,Ve,_t,Mt,Bt,Ge,ze,At,vt,J,cn,Rn,Pn,ce,nt,xt,Kt,st,pt,Ye,Ht,Jt,Nt,$n,mt,ar,kn,_i,ri,Tr,Jn,Qe,Er,Zt,nn,Rt,Pt,xr,rt;if($._startClamp=$._endClamp=!1,$._dir=N,C*=45,$.scroller=B,$.scroll=k?k.time.bind(k):xe,Mt=xe(),$.vars=r,i=i||r.animation,"refreshPriority"in r&&(FO=1,r.refreshPriority===-9999&&(jf=$)),M.tweenScroll=M.tweenScroll||{top:LA(B,rr),left:LA(B,gi)},$.tweenTo=Oe=M.tweenScroll[N.p],$.scrubDuration=function(pe){Er=gf(pe)&&pe,Er?Qe?Qe.duration(pe):Qe=Ce.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Er,paused:!0,onComplete:function(){return b&&b($)}}):(Qe&&Qe.progress(1).kill(),Qe=0)},i&&(i.vars.lazy=!1,i._initted&&!$.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),$.animation=i.pause(),i.scrollTrigger=$,$.scrubDuration(m),Tr=0,c||(c=i.vars.id)),V&&((!mu(V)||V.push)&&(V={snapTo:V}),"scrollBehavior"in Vt.style&&Ce.set(ne?[Vt,ts]:B,{scrollBehavior:"auto"}),ht.forEach(function(pe){return Xr(pe)&&pe.target===(ne?tn.scrollingElement||ts:B)&&(pe.smooth=!1)}),_t=Xr(V.snapTo)?V.snapTo:V.snapTo==="labels"?a9(i):V.snapTo==="labelsDirectional"?l9(i):V.directional!==!1?function(pe,Ne){return c1(V.snapTo)(pe,Wr()-Ee<500?0:Ne.direction)}:Ce.utils.snap(V.snapTo),Zt=V.duration||{min:.1,max:2},Zt=mu(Zt)?Df(Zt.min,Zt.max):Df(Zt,Zt),nn=Ce.delayedCall(V.delay||Er/2||.1,function(){var pe=xe(),Ne=Wr()-Ee<500,Se=Oe.tween;if((Ne||Math.abs($.getVelocity())<10)&&!Se&&!V_&&_e!==pe){var je=(pe-Ge)/ce,$t=i&&!j?i.totalProgress():je,We=Ne?0:($t-Jn)/(Wr()-ff)*1e3||0,zt=Ce.utils.clamp(-je,1-je,qc(We/2)*We/.185),hn=je+(V.inertia===!1?0:zt),Dt,Lt,it=V,Le=it.onStart,De=it.onInterrupt,ot=it.onComplete;if(Dt=_t(hn,$),gf(Dt)||(Dt=hn),Lt=Math.max(0,Math.round(Ge+Dt*ce)),pe<=ze&&pe>=Ge&&Lt!==pe){if(Se&&!Se._initted&&Se.data<=qc(Lt-pe))return;V.inertia===!1&&(zt=Dt-je),Oe(Lt,{duration:Zt(qc(Math.max(qc(hn-$t),qc(Dt-$t))*.185/We/.05||0)),ease:V.ease||"power3",data:qc(Lt-pe),onInterrupt:function(){return nn.restart(!0)&&De&&De($)},onComplete:function(){$.update(),_e=xe(),i&&!j&&(Qe?Qe.resetTo("totalProgress",Dt,i._tTime/i._tDur):i.progress(Dt)),Tr=Jn=i&&!j?i.totalProgress():$.progress,O&&O($),ot&&ot($)}},pe,zt*ce,Lt-pe-zt*ce),Le&&Le($,Oe.tween)}}else $.isActive&&_e!==pe&&nn.restart(!0)}).pause()),c&&(rE[c]=$),y=$.trigger=Ri(y||_!==!0&&_),rt=y&&y._gsap&&y._gsap.stRevert,rt&&(rt=rt($)),_=_===!0?y:Ri(_),Qi(l)&&(l={targets:y,className:l}),_&&(T===!1||T===Es||(T=!T&&_.parentNode&&_.parentNode.style&&xs(_.parentNode).display==="flex"?!1:qn),$.pin=_,Ve=Ce.core.getCache(_),Ve.spacer?nt=Ve.pinState:(W&&(W=Ri(W),W&&!W.nodeType&&(W=W.current||W.nativeElement),Ve.spacerIsNative=!!W,W&&(Ve.spacerState=Lg(W))),Ve.spacer=st=W||tn.createElement("div"),st.classList.add("pin-spacer"),c&&st.classList.add("pin-spacer-"+c),Ve.pinState=nt=Lg(_)),r.force3D!==!1&&Ce.set(_,{force3D:!0}),$.spacer=st=Ve.spacer,ri=xs(_),$n=ri[T+N.os2],Ye=Ce.getProperty(_),Ht=Ce.quickSetter(_,N.a,nr),Iw(_,st,ri),Kt=Lg(_)),te){Rn=mu(te)?RA(te,PA):PA,J=Mg("scroller-start",c,B,N,Rn,0),cn=Mg("scroller-end",c,B,N,Rn,0,J),pt=J["offset"+N.op.d2];var Nn=Ri(pl(B,"content")||B);At=this.markerStart=Mg("start",c,Nn,N,Rn,pt,0,k),vt=this.markerEnd=Mg("end",c,Nn,N,Rn,pt,0,k),k&&(xr=Ce.quickSetter([At,vt],N.a,nr)),!ae&&!(bo.length&&pl(B,"fixedMarkers")===!0)&&(o9(ne?Vt:B),Ce.set([J,cn],{force3D:!0}),ar=Ce.quickSetter(J,N.a,nr),_i=Ce.quickSetter(cn,N.a,nr))}if(k){var Fe=k.vars.onUpdate,ke=k.vars.onUpdateParams;k.eventCallback("onUpdate",function(){$.update(0,0,1),Fe&&Fe.apply(k,ke||[])})}if($.previous=function(){return at[at.indexOf($)-1]},$.next=function(){return at[at.indexOf($)+1]},$.revert=function(pe,Ne){if(!Ne)return $.kill(!0);var Se=pe!==!1||!$.enabled,je=Br;Se!==$.isReverted&&(Se&&(Rt=Math.max(xe(),$.scroll.rec||0),Re=$.progress,Pt=i&&i.progress()),At&&[At,vt,J,cn].forEach(function($t){return $t.style.display=Se?"none":"block"}),Se&&(Br=$,$.update(Se)),_&&(!U||!$.isActive)&&(Se?h9(_,st,nt):Iw(_,st,xs(_),mt)),Se||$.update(Se),Br=je,$.isReverted=Se)},$.refresh=function(pe,Ne,Se,je){if(!((Br||!$.enabled)&&!Ne)){if(_&&pe&&As){mr(n,"scrollEnd",XO);return}!pi&&H&&H($),Br=$,Oe.tween&&!Se&&(Oe.tween.kill(),Oe.tween=0),Qe&&Qe.pause(),w&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function($i){return $i.vars.immediateRender&&$i.render(0,!0,!0)})),$.isReverted||$.revert(!0,!0),$._subPinOffset=!1;var $t=Z(),We=ge(),zt=k?k.duration():Eo(B,N),hn=ce<=.01||!ce,Dt=0,Lt=je||0,it=mu(Se)?Se.end:r.end,Le=r.endTrigger||y,De=mu(Se)?Se.start:r.start||(r.start===0||!y?0:_?"0 0":"0 100%"),ot=$.pinnedContainer=r.pinnedContainer&&Ri(r.pinnedContainer,$),qt=y&&Math.max(0,at.indexOf($))||0,gt=qt,Gt,dn,vi,Pa,et,fn,lr,us,ii,Os,si,Bi,ur;for(te&&mu(Se)&&(Bi=Ce.getProperty(J,N.p),ur=Ce.getProperty(cn,N.p));gt-- >0;)fn=at[gt],fn.end||fn.refresh(0,1)||(Br=$),lr=fn.pin,lr&&(lr===y||lr===_||lr===ot)&&!fn.isReverted&&(Os||(Os=[]),Os.unshift(fn),fn.revert(!0,!0)),fn!==at[gt]&&(qt--,gt--);for(Xr(De)&&(De=De($)),De=CA(De,"start",$),Ge=OA(De,y,$t,N,xe(),At,J,$,We,ue,ae,zt,k,$._startClamp&&"_startClamp")||(_?-.001:0),Xr(it)&&(it=it($)),Qi(it)&&!it.indexOf("+=")&&(~it.indexOf(" ")?it=(Qi(De)?De.split(" ")[0]:"")+it:(Dt=cy(it.substr(2),$t),it=Qi(De)?De:(k?Ce.utils.mapRange(0,k.duration(),k.scrollTrigger.start,k.scrollTrigger.end,Ge):Ge)+Dt,Le=y)),it=CA(it,"end",$),ze=Math.max(Ge,OA(it||(Le?"100% 0":zt),Le,$t,N,xe()+Dt,vt,cn,$,We,ue,ae,zt,k,$._endClamp&&"_endClamp"))||-.001,Dt=0,gt=qt;gt--;)fn=at[gt],lr=fn.pin,lr&&fn.start-fn._pinPush<=Ge&&!k&&fn.end>0&&(Gt=fn.end-($._startClamp?Math.max(0,fn.start):fn.start),(lr===y&&fn.start-fn._pinPush<Ge||lr===ot)&&isNaN(De)&&(Dt+=Gt*(1-fn.progress)),lr===_&&(Lt+=Gt));if(Ge+=Dt,ze+=Dt,$._startClamp&&($._startClamp+=Dt),$._endClamp&&!pi&&($._endClamp=ze||-.001,ze=Math.min(ze,Eo(B,N))),ce=ze-Ge||(Ge-=.01)&&.001,hn&&(Re=Ce.utils.clamp(0,1,Ce.utils.normalize(Ge,ze,Rt))),$._pinPush=Lt,At&&Dt&&(Gt={},Gt[N.a]="+="+Dt,ot&&(Gt[N.p]="-="+xe()),Ce.set([At,vt],Gt)),_&&!(nE&&$.end>=Eo(B,N)))Gt=xs(_),Pa=N===rr,vi=xe(),Jt=parseFloat(Ye(N.a))+Lt,!zt&&ze>1&&(si=(ne?tn.scrollingElement||ts:B).style,si={style:si,value:si["overflow"+N.a.toUpperCase()]},ne&&xs(Vt)["overflow"+N.a.toUpperCase()]!=="scroll"&&(si.style["overflow"+N.a.toUpperCase()]="scroll")),Iw(_,st,Gt),Kt=Lg(_),dn=oa(_,!0),us=ae&&Sl(B,Pa?gi:rr)(),T?(mt=[T+N.os2,ce+Lt+nr],mt.t=st,gt=T===qn?Wy(_,N)+ce+Lt:0,gt&&(mt.push(N.d,gt+nr),st.style.flexBasis!=="auto"&&(st.style.flexBasis=gt+nr)),Sh(mt),ot&&at.forEach(function($i){$i.pin===ot&&$i.vars.pinSpacing!==!1&&($i._subPinOffset=!0)}),ae&&xe(Rt)):(gt=Wy(_,N),gt&&st.style.flexBasis!=="auto"&&(st.style.flexBasis=gt+nr)),ae&&(et={top:dn.top+(Pa?vi-Ge:us)+nr,left:dn.left+(Pa?us:vi-Ge)+nr,boxSizing:"border-box",position:"fixed"},et[Du]=et["max"+jh]=Math.ceil(dn.width)+nr,et[Ou]=et["max"+u1]=Math.ceil(dn.height)+nr,et[Es]=et[Es+Lf]=et[Es+Of]=et[Es+Vf]=et[Es+Mf]="0",et[qn]=Gt[qn],et[qn+Lf]=Gt[qn+Lf],et[qn+Of]=Gt[qn+Of],et[qn+Vf]=Gt[qn+Vf],et[qn+Mf]=Gt[qn+Mf],xt=f9(nt,et,U),pi&&xe(0)),i?(ii=i._initted,Ew(1),i.render(i.duration(),!0,!0),Nt=Ye(N.a)-Jt+ce+Lt,kn=Math.abs(ce-Nt)>1,ae&&kn&&xt.splice(xt.length-2,2),i.render(0,!0,!0),ii||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),Ew(0)):Nt=ce,si&&(si.value?si.style["overflow"+N.a.toUpperCase()]=si.value:si.style.removeProperty("overflow-"+N.a));else if(y&&xe()&&!k)for(dn=y.parentNode;dn&&dn!==Vt;)dn._pinOffset&&(Ge-=dn._pinOffset,ze-=dn._pinOffset),dn=dn.parentNode;Os&&Os.forEach(function($i){return $i.revert(!1,!0)}),$.start=Ge,$.end=ze,Mt=Bt=pi?Rt:xe(),!k&&!pi&&(Mt<Rt&&xe(Rt),$.scroll.rec=0),$.revert(!1,!0),Ee=Wr(),nn&&(_e=-1,nn.restart(!0)),Br=0,i&&j&&(i._initted||Pt)&&i.progress()!==Pt&&i.progress(Pt||0,!0).render(i.time(),!0,!0),(hn||Re!==$.progress||k||w||i&&!i._initted)&&(i&&!j&&(i._initted||Re||i.vars.immediateRender!==!1)&&i.totalProgress(k&&Ge<-.001&&!Re?Ce.utils.normalize(Ge,ze,0):Re,!0),$.progress=hn||(Mt-Ge)/ce===Re?0:Re),_&&T&&(st._pinOffset=Math.round($.progress*Nt)),Qe&&Qe.invalidate(),isNaN(Bi)||(Bi-=Ce.getProperty(J,N.p),ur-=Ce.getProperty(cn,N.p),Vg(J,N,Bi),Vg(At,N,Bi-(je||0)),Vg(cn,N,ur),Vg(vt,N,ur-(je||0))),hn&&!pi&&$.update(),f&&!pi&&!Pn&&(Pn=!0,f($),Pn=!1)}},$.getVelocity=function(){return(xe()-Bt)/(Wr()-ff)*1e3||0},$.endAnimation=function(){tf($.callbackAnimation),i&&(Qe?Qe.progress(1):i.paused()?j||tf(i,$.direction<0,1):tf(i,i.reversed()))},$.labelToScroll=function(pe){return i&&i.labels&&(Ge||$.refresh()||Ge)+i.labels[pe]/i.duration()*ce||0},$.getTrailing=function(pe){var Ne=at.indexOf($),Se=$.direction>0?at.slice(0,Ne).reverse():at.slice(Ne+1);return(Qi(pe)?Se.filter(function(je){return je.vars.preventOverlaps===pe}):Se).filter(function(je){return $.direction>0?je.end<=Ge:je.start>=ze})},$.update=function(pe,Ne,Se){if(!(k&&!Se&&!pe)){var je=pi===!0?Rt:$.scroll(),$t=pe?0:(je-Ge)/ce,We=$t<0?0:$t>1?1:$t||0,zt=$.progress,hn,Dt,Lt,it,Le,De,ot,qt;if(Ne&&(Bt=Mt,Mt=k?xe():je,V&&(Jn=Tr,Tr=i&&!j?i.totalProgress():We)),C&&_&&!Br&&!Pg&&As&&(!We&&Ge<je+(je-Bt)/(Wr()-ff)*C?We=1e-4:We===1&&ze>je+(je-Bt)/(Wr()-ff)*C&&(We=.9999)),We!==zt&&$.enabled){if(hn=$.isActive=!!We&&We<1,Dt=!!zt&&zt<1,De=hn!==Dt,Le=De||!!We!=!!zt,$.direction=We>zt?1:-1,$.progress=We,Le&&!Br&&(Lt=We&&!zt?0:We===1?1:zt===1?2:3,j&&(it=!De&&re[Lt+1]!=="none"&&re[Lt+1]||re[Lt],qt=i&&(it==="complete"||it==="reset"||it in i))),P&&(De||qt)&&(qt||m||!i)&&(Xr(P)?P($):$.getTrailing(P).forEach(function(vi){return vi.endAnimation()})),j||(Qe&&!Br&&!Pg?(Qe._dp._time-Qe._start!==Qe._time&&Qe.render(Qe._dp._time-Qe._start),Qe.resetTo?Qe.resetTo("totalProgress",We,i._tTime/i._tDur):(Qe.vars.totalProgress=We,Qe.invalidate().restart())):i&&i.totalProgress(We,!!(Br&&(Ee||pe)))),_){if(pe&&T&&(st.style[T+N.os2]=$n),!ae)Ht(mf(Jt+Nt*We));else if(Le){if(ot=!pe&&We>zt&&ze+1>je&&je+1>=Eo(B,N),U)if(!pe&&(hn||ot)){var gt=oa(_,!0),Gt=je-Ge;MA(_,Vt,gt.top+(N===rr?Gt:0)+nr,gt.left+(N===rr?0:Gt)+nr)}else MA(_,st);Sh(hn||ot?xt:Kt),kn&&We<1&&hn||Ht(Jt+(We===1&&!ot?Nt:0))}}V&&!Oe.tween&&!Br&&!Pg&&nn.restart(!0),l&&(De||L&&We&&(We<1||!xw))&&up(l.targets).forEach(function(vi){return vi.classList[hn||L?"add":"remove"](l.className)}),o&&!j&&!pe&&o($),Le&&!Br?(j&&(qt&&(it==="complete"?i.pause().totalProgress(1):it==="reset"?i.restart(!0).pause():it==="restart"?i.restart(!0):i[it]()),o&&o($)),(De||!xw)&&(h&&De&&Cw($,h),fe[Lt]&&Cw($,fe[Lt]),L&&(We===1?$.kill(!1,1):fe[Lt]=0),De||(Lt=We===1?1:3,fe[Lt]&&Cw($,fe[Lt]))),R&&!hn&&Math.abs($.getVelocity())>(gf(R)?R:2500)&&(tf($.callbackAnimation),Qe?Qe.progress(1):tf(i,it==="reverse"?1:!We,1))):j&&o&&!Br&&o($)}if(_i){var dn=k?je/k.duration()*(k._caScrollDist||0):je;ar(dn+(J._isFlipped?1:0)),_i(dn)}xr&&xr(-je/k.duration()*(k._caScrollDist||0))}},$.enable=function(pe,Ne){$.enabled||($.enabled=!0,mr(B,"resize",yf),ne||mr(B,"scroll",Gc),H&&mr(n,"refreshInit",H),pe!==!1&&($.progress=Re=0,Mt=Bt=_e=xe()),Ne!==!1&&$.refresh())},$.getTween=function(pe){return pe&&Oe?Oe.tween:Qe},$.setPositions=function(pe,Ne,Se,je){if(k){var $t=k.scrollTrigger,We=k.duration(),zt=$t.end-$t.start;pe=$t.start+zt*pe/We,Ne=$t.start+zt*Ne/We}$.refresh(!1,!1,{start:bA(pe,Se&&!!$._startClamp),end:bA(Ne,Se&&!!$._endClamp)},je),$.update()},$.adjustPinSpacing=function(pe){if(mt&&pe){var Ne=mt.indexOf(N.d)+1;mt[Ne]=parseFloat(mt[Ne])+pe+nr,mt[1]=parseFloat(mt[1])+pe+nr,Sh(mt)}},$.disable=function(pe,Ne){if($.enabled&&(pe!==!1&&$.revert(!0,!0),$.enabled=$.isActive=!1,Ne||Qe&&Qe.pause(),Rt=0,Ve&&(Ve.uncache=1),H&&pr(n,"refreshInit",H),nn&&(nn.pause(),Oe.tween&&Oe.tween.kill()&&(Oe.tween=0)),!ne)){for(var Se=at.length;Se--;)if(at[Se].scroller===B&&at[Se]!==$)return;pr(B,"resize",yf),ne||pr(B,"scroll",Gc)}},$.kill=function(pe,Ne){$.disable(pe,Ne),Qe&&!Ne&&Qe.kill(),c&&delete rE[c];var Se=at.indexOf($);Se>=0&&at.splice(Se,1),Se===fi&&dy>0&&fi--,Se=0,at.forEach(function(je){return je.scroller===$.scroller&&(Se=1)}),Se||pi||($.scroll.rec=0),i&&(i.scrollTrigger=null,pe&&i.revert({kill:!1}),Ne||i.kill()),At&&[At,vt,J,cn].forEach(function(je){return je.parentNode&&je.parentNode.removeChild(je)}),jf===$&&(jf=0),_&&(Ve&&(Ve.uncache=1),Se=0,at.forEach(function(je){return je.pin===_&&Se++}),Se||(Ve.spacer=0)),r.onKill&&r.onKill($)},at.push($),$.enable(!1,!1),rt&&rt($),i&&i.add&&!ce){var Me=$.update;$.update=function(){$.update=Me,ht.cache++,Ge||ze||$.refresh()},Ce.delayedCall(.01,$.update),ce=.01,Ge=ze=0}else $.refresh();_&&c9()},n.register=function(r){return Jc||(Ce=r||WO(),zO()&&window.document&&n.enable(),Jc=pf),Jc},n.defaults=function(r){if(r)for(var i in r)Og[i]=r[i];return Og},n.disable=function(r,i){pf=0,at.forEach(function(o){return o[i?"kill":"disable"](r)}),pr(ct,"wheel",Gc),pr(tn,"scroll",Gc),clearInterval(Rg),pr(tn,"touchcancel",_o),pr(Vt,"touchstart",_o),Ng(pr,tn,"pointerdown,touchstart,mousedown",IA),Ng(pr,tn,"pointerup,touchend,mouseup",AA),$y.kill(),kg(pr);for(var s=0;s<ht.length;s+=3)Dg(pr,ht[s],ht[s+1]),Dg(pr,ht[s],ht[s+2])},n.enable=function(){if(ct=window,tn=document,ts=tn.documentElement,Vt=tn.body,Ce&&(up=Ce.utils.toArray,Df=Ce.utils.clamp,tE=Ce.core.context||_o,Ew=Ce.core.suppressOverwrites||_o,s1=ct.history.scrollRestoration||"auto",iE=ct.pageYOffset||0,Ce.core.globals("ScrollTrigger",n),Vt)){pf=1,xh=document.createElement("div"),xh.style.height="100vh",xh.style.position="absolute",ZO(),r9(),Bn.register(Ce),n.isTouch=Bn.isTouch,el=Bn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),eE=Bn.isTouch===1,mr(ct,"wheel",Gc),i1=[ct,tn,ts,Vt],Ce.matchMedia?(n.matchMedia=function(h){var f=Ce.matchMedia(),m;for(m in h)f.add(m,h[m]);return f},Ce.addEventListener("matchMediaInit",function(){return h1()}),Ce.addEventListener("matchMediaRevert",function(){return QO()}),Ce.addEventListener("matchMedia",function(){Eu(0,1),Wu("matchMedia")}),Ce.matchMedia().add("(orientation: portrait)",function(){return bw(),bw})):console.warn("Requires GSAP 3.11.0 or later"),bw(),mr(tn,"scroll",Gc);var r=Vt.hasAttribute("style"),i=Vt.style,s=i.borderTopStyle,o=Ce.core.Animation.prototype,l,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",l=oa(Vt),rr.m=Math.round(l.top+rr.sc())||0,gi.m=Math.round(l.left+gi.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(Vt.setAttribute("style",""),Vt.removeAttribute("style")),Rg=setInterval(kA,250),Ce.delayedCall(.5,function(){return Pg=0}),mr(tn,"touchcancel",_o),mr(Vt,"touchstart",_o),Ng(mr,tn,"pointerdown,touchstart,mousedown",IA),Ng(mr,tn,"pointerup,touchend,mouseup",AA),ZT=Ce.utils.checkPrefix("transform"),fy.push(ZT),Jc=Wr(),$y=Ce.delayedCall(.2,Eu).pause(),Zc=[tn,"visibilitychange",function(){var h=ct.innerWidth,f=ct.innerHeight;tn.hidden?(xA=h,SA=f):(xA!==h||SA!==f)&&yf()},tn,"DOMContentLoaded",Eu,ct,"load",Eu,ct,"resize",yf],kg(mr),at.forEach(function(h){return h.enable(0,1)}),c=0;c<ht.length;c+=3)Dg(pr,ht[c],ht[c+1]),Dg(pr,ht[c],ht[c+2])}},n.config=function(r){"limitCallbacks"in r&&(xw=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(Rg)||(Rg=i)&&setInterval(kA,i),"ignoreMobileResize"in r&&(eE=n.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(kg(pr)||kg(mr,r.autoRefreshEvents||"none"),UO=(r.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(r,i){var s=Ri(r),o=ht.indexOf(s),l=$u(s);~o&&ht.splice(o,l?6:2),i&&(l?bo.unshift(ct,i,Vt,i,ts,i):bo.unshift(s,i))},n.clearMatchMedia=function(r){at.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},n.isInViewport=function(r,i,s){var o=(Qi(r)?Ri(r):r).getBoundingClientRect(),l=o[s?Du:Ou]*i||0;return s?o.right-l>0&&o.left+l<ct.innerWidth:o.bottom-l>0&&o.top+l<ct.innerHeight},n.positionInViewport=function(r,i,s){Qi(r)&&(r=Ri(r));var o=r.getBoundingClientRect(),l=o[s?Du:Ou],c=i==null?l/2:i in Hy?Hy[i]*l:~i.indexOf("%")?parseFloat(i)*l/100:parseFloat(i)||0;return s?(o.left+c)/ct.innerWidth:(o.top+c)/ct.innerHeight},n.killAll=function(r){if(at.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),r!==!0){var i=zu.killAll||[];zu={},i.forEach(function(s){return s()})}},n}();ft.version="3.13.0";ft.saveStyles=function(n){return n?up(n).forEach(function(e){if(e&&e.style){var t=Xi.indexOf(e);t>=0&&Xi.splice(t,5),Xi.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ce.core.getCache(e),tE())}}):Xi};ft.revert=function(n,e){return h1(!n,e)};ft.create=function(n,e){return new ft(n,e)};ft.refresh=function(n){return n?yf(!0):(Jc||ft.register())&&Eu(!0)};ft.update=function(n){return++ht.cache&&da(n===!0?2:0)};ft.clearScrollMemory=JO;ft.maxScroll=function(n,e){return Eo(n,e?gi:rr)};ft.getScrollFunc=function(n,e){return Sl(Ri(n),e?gi:rr)};ft.getById=function(n){return rE[n]};ft.getAll=function(){return at.filter(function(n){return n.vars.id!=="ScrollSmoother"})};ft.isScrolling=function(){return!!As};ft.snapDirectional=c1;ft.addEventListener=function(n,e){var t=zu[n]||(zu[n]=[]);~t.indexOf(e)||t.push(e)};ft.removeEventListener=function(n,e){var t=zu[n],r=t&&t.indexOf(e);r>=0&&t.splice(r,1)};ft.batch=function(n,e){var t=[],r={},i=e.interval||.016,s=e.batchMax||1e9,o=function(h,f){var m=[],y=[],_=Ce.delayedCall(i,function(){f(m,y),m=[],y=[]}).pause();return function(T){m.length||_.restart(!0),m.push(T.trigger),y.push(T),s<=m.length&&_.progress(1)}},l;for(l in e)r[l]=l.substr(0,2)==="on"&&Xr(e[l])&&l!=="onRefreshInit"?o(l,e[l]):e[l];return Xr(s)&&(s=s(),mr(ft,"refresh",function(){return s=e.batchMax()})),up(n).forEach(function(c){var h={};for(l in r)h[l]=r[l];h.trigger=c,t.push(ft.create(h))}),t};var VA=function(e,t,r,i){return t>i?e(i):t<0&&e(0),r>i?(i-t)/(r-t):r<0?t/(t-r):1},Aw=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Bn.isTouch?" pinch-zoom":""):"none",e===ts&&n(Vt,t)},jg={auto:1,scroll:1},m9=function(e){var t=e.event,r=e.target,i=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||Ce.core.getCache(s),l=Wr(),c;if(!o._isScrollT||l-o._isScrollT>2e3){for(;s&&s!==Vt&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(jg[(c=xs(s)).overflowY]||jg[c.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==r&&!$u(s)&&(jg[(c=xs(s)).overflowY]||jg[c.overflowX]),o._isScrollT=l}(o._isScroll||i==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},tM=function(e,t,r,i){return Bn.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:i=i&&m9,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&mr(tn,Bn.eventTypes[0],FA,!1,!0)},onDisable:function(){return pr(tn,Bn.eventTypes[0],FA,!0)}})},g9=/(input|label|select|textarea)/i,jA,FA=function(e){var t=g9.test(e.target.tagName);(t||jA)&&(e._gsapAllow=!0,jA=t)},y9=function(e){mu(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,r=t.normalizeScrollX,i=t.momentum,s=t.allowNestedScroll,o=t.onRelease,l,c,h=Ri(e.target)||ts,f=Ce.core.globals().ScrollSmoother,m=f&&f.get(),y=el&&(e.content&&Ri(e.content)||m&&e.content!==!1&&!m.smooth()&&m.content()),_=Sl(h,rr),T=Sl(h,gi),w=1,C=(Bn.isTouch&&ct.visualViewport?ct.visualViewport.scale*ct.visualViewport.width:ct.outerWidth)/ct.innerWidth,b=0,O=Xr(i)?function(){return i(l)}:function(){return i||2.8},L,V,U=tM(h,e.type,!0,s),W=function(){return V=!1},k=_o,R=_o,P=function(){c=Eo(h,rr),R=Df(el?1:0,c),r&&(k=Df(0,Eo(h,gi))),L=Mu},N=function(){y._gsap.y=mf(parseFloat(y._gsap.y)+_.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",_.offset=_.cacheID=0},j=function(){if(V){requestAnimationFrame(W);var te=mf(l.deltaY/2),ue=R(_.v-te);if(y&&ue!==_.v+_.offset){_.offset=ue-_.v;var $=mf((parseFloat(y&&y._gsap.y)||0)-_.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+$+", 0, 1)",y._gsap.y=$+"px",_.cacheID=ht.cache,da()}return!0}_.offset&&N(),V=!0},B,M,ne,ae,fe=function(){P(),B.isActive()&&B.vars.scrollY>c&&(_()>c?B.progress(1)&&_(c):B.resetTo("scrollY",c))};return y&&Ce.set(y,{y:"+=0"}),e.ignoreCheck=function(re){return el&&re.type==="touchmove"&&j()||w>1.05&&re.type!=="touchstart"||l.isGesturing||re.touches&&re.touches.length>1},e.onPress=function(){V=!1;var re=w;w=mf((ct.visualViewport&&ct.visualViewport.scale||1)/C),B.pause(),re!==w&&Aw(h,w>1.01?!0:r?!1:"x"),M=T(),ne=_(),P(),L=Mu},e.onRelease=e.onGestureStart=function(re,te){if(_.offset&&N(),!te)ae.restart(!0);else{ht.cache++;var ue=O(),$,H;r&&($=T(),H=$+ue*.05*-re.velocityX/.227,ue*=VA(T,$,H,Eo(h,gi)),B.vars.scrollX=k(H)),$=_(),H=$+ue*.05*-re.velocityY/.227,ue*=VA(_,$,H,Eo(h,rr)),B.vars.scrollY=R(H),B.invalidate().duration(ue).play(.01),(el&&B.vars.scrollY>=c||$>=c-1)&&Ce.to({},{onUpdate:fe,duration:ue})}o&&o(re)},e.onWheel=function(){B._ts&&B.pause(),Wr()-b>1e3&&(L=0,b=Wr())},e.onChange=function(re,te,ue,$,H){if(Mu!==L&&P(),te&&r&&T(k($[2]===te?M+(re.startX-re.x):T()+te-$[1])),ue){_.offset&&N();var Z=H[2]===ue,ge=Z?ne+re.startY-re.y:_()+ue-H[1],_e=R(ge);Z&&ge!==_e&&(ne+=_e-ge),_(_e)}(ue||te)&&da()},e.onEnable=function(){Aw(h,r?!1:"x"),ft.addEventListener("refresh",fe),mr(ct,"resize",fe),_.smooth&&(_.target.style.scrollBehavior="auto",_.smooth=T.smooth=!1),U.enable()},e.onDisable=function(){Aw(h,!0),pr(ct,"resize",fe),ft.removeEventListener("refresh",fe),U.kill()},e.lockAxis=e.lockAxis!==!1,l=new Bn(e),l.iOS=el,el&&!_()&&_(1),el&&Ce.ticker.add(_o),ae=l._dc,B=Ce.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:eM(_,_(),function(){return B.pause()})},onUpdate:da,onComplete:ae.vars.onComplete}),l};ft.sort=function(n){if(Xr(n))return at.sort(n);var e=ct.pageYOffset||0;return ft.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+ct.innerHeight}),at.sort(n||function(t,r){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};ft.observe=function(n){return new Bn(n)};ft.normalizeScroll=function(n){if(typeof n>"u")return di;if(n===!0&&di)return di.enable();if(n===!1){di&&di.kill(),di=n;return}var e=n instanceof Bn?n:y9(n);return di&&di.target===e.target&&di.kill(),$u(e.target)&&(di=e),e};ft.core={_getVelocityProp:JT,_inputObserver:tM,_scrollers:ht,_proxies:bo,bridge:{ss:function(){As||Wu("scrollStart"),As=Wr()},ref:function(){return Br}}};WO()&&Ce.registerPlugin(ft);r1.registerPlugin(ft);const _9=()=>E.jsxs("section",{className:"py-12 px-4",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-8 text-black",children:"ON VOUS GARANTIT"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{emoji:"🐶🐱",title:"Une garderie de haute qualité exclusive",desc:"pour les animaux d’un seul propriétaire à la fois"},{emoji:"🏞️",title:"Au minimum 3 longues promenades",desc:"dans de grands espaces verts au pied de notre immeuble"},{emoji:"📷",title:"Photos quotidiennes et communication 7j/7",desc:"Pour suivre leur bonheur jour après jour"}].map((n,e)=>E.jsxs("div",{className:"feature-card bg-white border border-blue-500 p-4 rounded-2xl shadow-lg transform hover:rotate-2 hover:scale-105 transition duration-300",children:[E.jsx("div",{className:"text-4xl md:text-5xl mb-3",children:n.emoji}),E.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-800 mb-1",children:n.title}),E.jsx("p",{className:"text-gray-600 text-sm",children:n.desc})]},e))})]});function nM({review:n}){const e=new Date(n.date).toLocaleDateString("fr-FR");return E.jsxs("div",{className:"flex flex-col justify-between h-full bg-white rounded-2xl shadow-md p-4 text-left sm:p-6 transition-transform duration-300 ease-in-out hover:scale-[1.02] animate-fade-in",children:[E.jsx("div",{className:"flex-grow",children:E.jsx("p",{className:"text-gray-800 text-base sm:text-lg whitespace-pre-line",children:n.text})}),E.jsxs("div",{className:"mt-4",children:[E.jsx("div",{className:"flex items-center mb-2",children:Array.from({length:5}).map((t,r)=>E.jsx("span",{className:"text-yellow-400 text-lg sm:text-xl",children:"★"},r))}),E.jsxs("div",{className:"text-sm sm:text-md text-gray-500",children:["Par ",E.jsx("span",{className:"font-semibold text-gray-700",children:n.author})," le ",e]})]})]})}const v9=()=>{const[n,e]=A.useState([]),[t,r]=A.useState(!0);return A.useEffect(()=>{fetch("https://api.maisonpourpets.com/reviews").then(i=>i.json()).then(i=>{e(i),r(!1)})},[]),E.jsxs("section",{className:"relative overflow-hidden py-8",children:[E.jsx("div",{className:"absolute inset-0 bg-fixed bg-center bg-cover z-0",style:{backgroundImage:"url('/parallax.jpg')"}}),E.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),E.jsxs("div",{className:"relative z-20 flex flex-col items-center justify-center h-full text-center text-white px-4",children:[E.jsx("h2",{className:"text-2xl md:text-4xl lg:text-5xl font-bold mb-4",children:"Retours d'expérience"}),E.jsxs("p",{className:"text-base md:text-xl lg:text-2xl max-w-xl mx-auto mb-6",children:["Partez l'esprit tranquille et faites-nous confiance: ",E.jsx("br",{}),"votre boule d'amour sera chouchoutée !"]}),E.jsx("div",{className:"w-full max-w-6xl mx-auto mb-6",children:t?E.jsx("p",{children:"Chargement..."}):n.length===0?E.jsx("p",{children:"Aucun avis trouvé."}):E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.slice(0,3).map(i=>E.jsx(nM,{review:i},i._id))})}),E.jsxs("div",{className:"flex sm:flex-col md:flex-row gap-4",children:[" ",E.jsx(Bu,{label:"Contactez-nous",alt:"Aller à la page de contact",variant:"primary",to:"/contact"}),E.jsx(Bu,{label:"Laissez un commentaire",alt:"Aller à la page de Avis",variant:"primary",to:"/tarifs"})]})]})]})};var Rw={exports:{}},Pw,UA;function w9(){if(UA)return Pw;UA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Pw=n,Pw}var kw,BA;function T9(){if(BA)return kw;BA=1;var n=w9();function e(){}function t(){}return t.resetWarningCache=e,kw=function(){function r(o,l,c,h,f,m){if(m!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},kw}var $A;function E9(){return $A||($A=1,Rw.exports=T9()()),Rw.exports}var x9=E9();const gn=Fo(x9);var Nw,zA;function S9(){if(zA)return Nw;zA=1;function n(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=k_(),t=n(e);function r(l,c,h){return c in l?Object.defineProperty(l,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[c]=h,l}function i(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,c,h){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof h<"u"&&typeof h!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(m){return m.displayName||m.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var _=[],T;function w(){T=l(_.map(function(b){return b.props})),C.canUseDOM?c(T):h&&(T=h(T))}var C=function(b){i(O,b);function O(){return b.apply(this,arguments)||this}O.peek=function(){return T},O.rewind=function(){if(O.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var U=T;return T=void 0,_=[],U};var L=O.prototype;return L.UNSAFE_componentWillMount=function(){_.push(this),w()},L.componentDidUpdate=function(){w()},L.componentWillUnmount=function(){var U=_.indexOf(this);_.splice(U,1),w()},L.render=function(){return t.createElement(y,this.props)},O}(e.PureComponent);return r(C,"displayName","SideEffect("+f(y)+")"),r(C,"canUseDOM",s),C}}return Nw=o,Nw}var C9=S9();const b9=Fo(C9);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Dw,WA;function I9(){if(WA)return Dw;WA=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var c=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(c.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(f){h[f]=f}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Dw=i()?Object.assign:function(s,o){for(var l,c=r(s),h,f=1;f<arguments.length;f++){l=Object(arguments[f]);for(var m in l)e.call(l,m)&&(c[m]=l[m]);if(n){h=n(l);for(var y=0;y<h.length;y++)t.call(l,h[y])&&(c[h[y]]=l[h[y]])}}return c},Dw}var A9=I9();const R9=Fo(A9);var Lu={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},tt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(tt).map(function(n){return tt[n]});var yn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},qy={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},hp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},P9=Object.keys(qy).reduce(function(n,e){return n[qy[e]]=e,n},{}),k9=[tt.NOSCRIPT,tt.SCRIPT,tt.STYLE],Qs="data-react-helmet",N9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},D9=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},O9=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Ai=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},M9=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},HA=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},L9=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},oE=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},V9=function(e){var t=Ch(e,tt.TITLE),r=Ch(e,hp.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var i=Ch(e,hp.DEFAULT_TITLE);return t||i||void 0},j9=function(e){return Ch(e,hp.ON_CHANGE_CLIENT_STATE)||function(){}},Ow=function(e,t){return t.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return Ai({},r,i)},{})},F9=function(e,t){return t.filter(function(r){return typeof r[tt.BASE]<"u"}).map(function(r){return r[tt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var l=s[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},nf=function(e,t,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&z9("Helmet: "+e+' should be of type "Array". Instead found type "'+N9(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var l={};o.filter(function(y){for(var _=void 0,T=Object.keys(y),w=0;w<T.length;w++){var C=T[w],b=C.toLowerCase();t.indexOf(b)!==-1&&!(_===yn.REL&&y[_].toLowerCase()==="canonical")&&!(b===yn.REL&&y[b].toLowerCase()==="stylesheet")&&(_=b),t.indexOf(C)!==-1&&(C===yn.INNER_HTML||C===yn.CSS_TEXT||C===yn.ITEM_PROP)&&(_=C)}if(!_||!y[_])return!1;var O=y[_].toLowerCase();return i[_]||(i[_]={}),l[_]||(l[_]={}),i[_][O]?!1:(l[_][O]=!0,!0)}).reverse().forEach(function(y){return s.push(y)});for(var c=Object.keys(l),h=0;h<c.length;h++){var f=c[h],m=R9({},i[f],l[f]);i[f]=m}return s},[]).reverse()},Ch=function(e,t){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(t))return i[t]}return null},U9=function(e){return{baseTag:F9([yn.HREF,yn.TARGET],e),bodyAttributes:Ow(Lu.BODY,e),defer:Ch(e,hp.DEFER),encode:Ch(e,hp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ow(Lu.HTML,e),linkTags:nf(tt.LINK,[yn.REL,yn.HREF],e),metaTags:nf(tt.META,[yn.NAME,yn.CHARSET,yn.HTTPEQUIV,yn.PROPERTY,yn.ITEM_PROP],e),noscriptTags:nf(tt.NOSCRIPT,[yn.INNER_HTML],e),onChangeClientState:j9(e),scriptTags:nf(tt.SCRIPT,[yn.SRC,yn.INNER_HTML],e),styleTags:nf(tt.STYLE,[yn.CSS_TEXT],e),title:V9(e),titleAttributes:Ow(Lu.TITLE,e)}},aE=function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){aE(e)},0)}}(),qA=function(e){return clearTimeout(e)},B9=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||aE:global.requestAnimationFrame||aE,$9=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||qA:global.cancelAnimationFrame||qA,z9=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},rf=null,W9=function(e){rf&&$9(rf),e.defer?rf=B9(function(){GA(e,function(){rf=null})}):(GA(e),rf=null)},GA=function(e,t){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,h=e.onChangeClientState,f=e.scriptTags,m=e.styleTags,y=e.title,_=e.titleAttributes;lE(tt.BODY,i),lE(tt.HTML,s),H9(y,_);var T={baseTag:Yc(tt.BASE,r),linkTags:Yc(tt.LINK,o),metaTags:Yc(tt.META,l),noscriptTags:Yc(tt.NOSCRIPT,c),scriptTags:Yc(tt.SCRIPT,f),styleTags:Yc(tt.STYLE,m)},w={},C={};Object.keys(T).forEach(function(b){var O=T[b],L=O.newTags,V=O.oldTags;L.length&&(w[b]=L),V.length&&(C[b]=T[b].oldTags)}),t&&t(),h(e,w,C)},rM=function(e){return Array.isArray(e)?e.join(""):e},H9=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=rM(e)),lE(tt.TITLE,t)},lE=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Qs),s=i?i.split(","):[],o=[].concat(s),l=Object.keys(t),c=0;c<l.length;c++){var h=l[c],f=t[h]||"";r.getAttribute(h)!==f&&r.setAttribute(h,f),s.indexOf(h)===-1&&s.push(h);var m=o.indexOf(h);m!==-1&&o.splice(m,1)}for(var y=o.length-1;y>=0;y--)r.removeAttribute(o[y]);s.length===o.length?r.removeAttribute(Qs):r.getAttribute(Qs)!==l.join(",")&&r.setAttribute(Qs,l.join(","))}},Yc=function(e,t){var r=document.head||document.querySelector(tt.HEAD),i=r.querySelectorAll(e+"["+Qs+"]"),s=Array.prototype.slice.call(i),o=[],l=void 0;return t&&t.length&&t.forEach(function(c){var h=document.createElement(e);for(var f in c)if(c.hasOwnProperty(f))if(f===yn.INNER_HTML)h.innerHTML=c.innerHTML;else if(f===yn.CSS_TEXT)h.styleSheet?h.styleSheet.cssText=c.cssText:h.appendChild(document.createTextNode(c.cssText));else{var m=typeof c[f]>"u"?"":c[f];h.setAttribute(f,m)}h.setAttribute(Qs,"true"),s.some(function(y,_){return l=_,h.isEqualNode(y)})?s.splice(l,1):o.push(h)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:s,newTags:o}},iM=function(e){return Object.keys(e).reduce(function(t,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return t?t+" "+i:i},"")},q9=function(e,t,r,i){var s=iM(r),o=rM(t);return s?"<"+e+" "+Qs+'="true" '+s+">"+oE(o,i)+"</"+e+">":"<"+e+" "+Qs+'="true">'+oE(o,i)+"</"+e+">"},G9=function(e,t,r){return t.reduce(function(i,s){var o=Object.keys(s).filter(function(h){return!(h===yn.INNER_HTML||h===yn.CSS_TEXT)}).reduce(function(h,f){var m=typeof s[f]>"u"?f:f+'="'+oE(s[f],r)+'"';return h?h+" "+m:m},""),l=s.innerHTML||s.cssText||"",c=k9.indexOf(e)===-1;return i+"<"+e+" "+Qs+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},sM=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[qy[i]||i]=e[i],r},t)},Y9=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[P9[i]||i]=e[i],r},t)},K9=function(e,t,r){var i,s=(i={key:t},i[Qs]=!0,i),o=sM(r,s);return[Mn.createElement(tt.TITLE,o,t)]},X9=function(e,t){return t.map(function(r,i){var s,o=(s={key:i},s[Qs]=!0,s);return Object.keys(r).forEach(function(l){var c=qy[l]||l;if(c===yn.INNER_HTML||c===yn.CSS_TEXT){var h=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:h}}else o[c]=r[l]}),Mn.createElement(e,o)})},ra=function(e,t,r){switch(e){case tt.TITLE:return{toComponent:function(){return K9(e,t.title,t.titleAttributes)},toString:function(){return q9(e,t.title,t.titleAttributes,r)}};case Lu.BODY:case Lu.HTML:return{toComponent:function(){return sM(t)},toString:function(){return iM(t)}};default:return{toComponent:function(){return X9(e,t)},toString:function(){return G9(e,t,r)}}}},oM=function(e){var t=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,h=e.scriptTags,f=e.styleTags,m=e.title,y=m===void 0?"":m,_=e.titleAttributes;return{base:ra(tt.BASE,t,i),bodyAttributes:ra(Lu.BODY,r,i),htmlAttributes:ra(Lu.HTML,s,i),link:ra(tt.LINK,o,i),meta:ra(tt.META,l,i),noscript:ra(tt.NOSCRIPT,c,i),script:ra(tt.SCRIPT,h,i),style:ra(tt.STYLE,f,i),title:ra(tt.TITLE,{title:y,titleAttributes:_},i)}},Q9=function(e){var t,r;return r=t=function(i){M9(s,i);function s(){return D9(this,s),L9(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!oD(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case tt.SCRIPT:case tt.NOSCRIPT:return{innerHTML:c};case tt.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var c,h=l.child,f=l.arrayTypeChildren,m=l.newChildProps,y=l.nestedChildren;return Ai({},f,(c={},c[h.type]=[].concat(f[h.type]||[],[Ai({},m,this.mapNestedChildrenToProps(h,y))]),c))},s.prototype.mapObjectTypeChildren=function(l){var c,h,f=l.child,m=l.newProps,y=l.newChildProps,_=l.nestedChildren;switch(f.type){case tt.TITLE:return Ai({},m,(c={},c[f.type]=_,c.titleAttributes=Ai({},y),c));case tt.BODY:return Ai({},m,{bodyAttributes:Ai({},y)});case tt.HTML:return Ai({},m,{htmlAttributes:Ai({},y)})}return Ai({},m,(h={},h[f.type]=Ai({},y),h))},s.prototype.mapArrayTypeChildrenToProps=function(l,c){var h=Ai({},c);return Object.keys(l).forEach(function(f){var m;h=Ai({},h,(m={},m[f]=l[f],m))}),h},s.prototype.warnOnInvalidChildren=function(l,c){return!0},s.prototype.mapChildrenToProps=function(l,c){var h=this,f={};return Mn.Children.forEach(l,function(m){if(!(!m||!m.props)){var y=m.props,_=y.children,T=HA(y,["children"]),w=Y9(T);switch(h.warnOnInvalidChildren(m,_),m.type){case tt.LINK:case tt.META:case tt.NOSCRIPT:case tt.SCRIPT:case tt.STYLE:f=h.flattenArrayTypeChildren({child:m,arrayTypeChildren:f,newChildProps:w,nestedChildren:_});break;default:c=h.mapObjectTypeChildren({child:m,newProps:c,newChildProps:w,nestedChildren:_});break}}}),c=this.mapArrayTypeChildrenToProps(f,c),c},s.prototype.render=function(){var l=this.props,c=l.children,h=HA(l,["children"]),f=Ai({},h);return c&&(f=this.mapChildrenToProps(c,f)),Mn.createElement(e,f)},O9(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s}(Mn.Component),t.propTypes={base:gn.object,bodyAttributes:gn.object,children:gn.oneOfType([gn.arrayOf(gn.node),gn.node]),defaultTitle:gn.string,defer:gn.bool,encodeSpecialCharacters:gn.bool,htmlAttributes:gn.object,link:gn.arrayOf(gn.object),meta:gn.arrayOf(gn.object),noscript:gn.arrayOf(gn.object),onChangeClientState:gn.func,script:gn.arrayOf(gn.object),style:gn.arrayOf(gn.object),title:gn.string,titleAttributes:gn.object,titleTemplate:gn.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var i=e.rewind();return i||(i=oM({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},J9=function(){return null},Z9=b9(U9,W9,oM)(J9),Hu=Q9(Z9);Hu.renderStatic=Hu.rewind;const e$=()=>E.jsxs(E.Fragment,{children:[E.jsxs(Hu,{children:[E.jsx("title",{children:"PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:title",content:"PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsx(JB,{}),E.jsx(_9,{}),E.jsx(v9,{})]}),d1=A.createContext({});function f1(n){const e=A.useRef(null);return e.current===null&&(e.current=n()),e.current}const p1=typeof window<"u",aM=p1?A.useLayoutEffect:A.useEffect,j_=A.createContext(null);function m1(n,e){n.indexOf(e)===-1&&n.push(e)}function g1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const va=(n,e,t)=>t>e?e:t<n?n:t;let y1=()=>{};const wa={},lM=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function uM(n){return typeof n=="object"&&n!==null}const cM=n=>/^0[^.\s]+$/u.test(n);function _1(n){let e;return()=>(e===void 0&&(e=n()),e)}const Rs=n=>n,t$=(n,e)=>t=>e(n(t)),Up=(...n)=>n.reduce(t$),dp=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class v1{constructor(){this.subscriptions=[]}add(e){return m1(this.subscriptions,e),()=>g1(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Io=n=>n*1e3,Ao=n=>n/1e3;function hM(n,e){return e?n*(1e3/e):0}const dM=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,n$=1e-7,r$=12;function i$(n,e,t,r,i){let s,o,l=0;do o=e+(t-e)/2,s=dM(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>n$&&++l<r$);return o}function Bp(n,e,t,r){if(n===e&&t===r)return Rs;const i=s=>i$(s,0,1,n,t);return s=>s===0||s===1?s:dM(i(s),e,r)}const fM=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,pM=n=>e=>1-n(1-e),mM=Bp(.33,1.53,.69,.99),w1=pM(mM),gM=fM(w1),yM=n=>(n*=2)<1?.5*w1(n):.5*(2-Math.pow(2,-10*(n-1))),T1=n=>1-Math.sin(Math.acos(n)),_M=pM(T1),vM=fM(T1),s$=Bp(.42,0,1,1),o$=Bp(0,0,.58,1),wM=Bp(.42,0,.58,1),a$=n=>Array.isArray(n)&&typeof n[0]!="number",TM=n=>Array.isArray(n)&&typeof n[0]=="number",l$={linear:Rs,easeIn:s$,easeInOut:wM,easeOut:o$,circIn:T1,circInOut:vM,circOut:_M,backIn:w1,backInOut:gM,backOut:mM,anticipate:yM},u$=n=>typeof n=="string",YA=n=>{if(TM(n)){y1(n.length===4);const[e,t,r,i]=n;return Bp(e,t,r,i)}else if(u$(n))return l$[n];return n},Fg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],KA={value:null};function c$(n,e){let t=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function h(m){o.has(m)&&(f.schedule(m),n()),c++,m(l)}const f={schedule:(m,y=!1,_=!1)=>{const w=_&&i?t:r;return y&&o.add(m),w.has(m)||w.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(l=m,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(h),e&&KA.value&&KA.value.frameloop[e].push(c),c=0,t.clear(),i=!1,s&&(s=!1,f.process(m))}};return f}const h$=40;function EM(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Fg.reduce((L,V)=>(L[V]=c$(s,e?V:void 0),L),{}),{setup:l,read:c,resolveKeyframes:h,preUpdate:f,update:m,preRender:y,render:_,postRender:T}=o,w=()=>{const L=wa.useManualTiming?i.timestamp:performance.now();t=!1,wa.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(L-i.timestamp,h$),1)),i.timestamp=L,i.isProcessing=!0,l.process(i),c.process(i),h.process(i),f.process(i),m.process(i),y.process(i),_.process(i),T.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(w))},C=()=>{t=!0,r=!0,i.isProcessing||n(w)};return{schedule:Fg.reduce((L,V)=>{const U=o[V];return L[V]=(W,k=!1,R=!1)=>(t||C(),U.schedule(W,k,R)),L},{}),cancel:L=>{for(let V=0;V<Fg.length;V++)o[Fg[V]].cancel(L)},state:i,steps:o}}const{schedule:In,cancel:Cl,state:Ar,steps:Mw}=EM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rs,!0);let my;function d$(){my=void 0}const Oi={now:()=>(my===void 0&&Oi.set(Ar.isProcessing||wa.useManualTiming?Ar.timestamp:performance.now()),my),set:n=>{my=n,queueMicrotask(d$)}},xM=n=>e=>typeof e=="string"&&e.startsWith(n),E1=xM("--"),f$=xM("var(--"),x1=n=>f$(n)?p$.test(n.split("/*")[0].trim()):!1,p$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,td={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},fp={...td,transform:n=>va(0,1,n)},Ug={...td,default:1},Ff=n=>Math.round(n*1e5)/1e5,S1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function m$(n){return n==null}const g$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,C1=(n,e)=>t=>!!(typeof t=="string"&&g$.test(t)&&t.startsWith(n)||e&&!m$(t)&&Object.prototype.hasOwnProperty.call(t,e)),SM=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(S1);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},y$=n=>va(0,255,n),Lw={...td,transform:n=>Math.round(y$(n))},xu={test:C1("rgb","red"),parse:SM("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Lw.transform(n)+", "+Lw.transform(e)+", "+Lw.transform(t)+", "+Ff(fp.transform(r))+")"};function _$(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const uE={test:C1("#"),parse:_$,transform:xu.transform},$p=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),tl=$p("deg"),Ro=$p("%"),Ke=$p("px"),v$=$p("vh"),w$=$p("vw"),XA={...Ro,parse:n=>Ro.parse(n)/100,transform:n=>Ro.transform(n*100)},ah={test:C1("hsl","hue"),parse:SM("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ro.transform(Ff(e))+", "+Ro.transform(Ff(t))+", "+Ff(fp.transform(r))+")"},zr={test:n=>xu.test(n)||uE.test(n)||ah.test(n),parse:n=>xu.test(n)?xu.parse(n):ah.test(n)?ah.parse(n):uE.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?xu.transform(n):ah.transform(n)},T$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function E$(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(S1))==null?void 0:e.length)||0)+(((t=n.match(T$))==null?void 0:t.length)||0)>0}const CM="number",bM="color",x$="var",S$="var(",QA="${}",C$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pp(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(C$,c=>(zr.test(c)?(r.color.push(s),i.push(bM),t.push(zr.parse(c))):c.startsWith(S$)?(r.var.push(s),i.push(x$),t.push(c)):(r.number.push(s),i.push(CM),t.push(parseFloat(c))),++s,QA)).split(QA);return{values:t,split:l,indexes:r,types:i}}function IM(n){return pp(n).values}function AM(n){const{split:e,types:t}=pp(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=t[o];l===CM?s+=Ff(i[o]):l===bM?s+=zr.transform(i[o]):s+=i[o]}return s}}const b$=n=>typeof n=="number"?0:n;function I$(n){const e=IM(n);return AM(n)(e.map(b$))}const bl={test:E$,parse:IM,createTransformer:AM,getAnimatableNone:I$};function Vw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function A$({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;i=Vw(c,l,n+1/3),s=Vw(c,l,n),o=Vw(c,l,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Gy(n,e){return t=>t>0?e:n}const Cn=(n,e,t)=>n+(e-n)*t,jw=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},R$=[uE,xu,ah],P$=n=>R$.find(e=>e.test(n));function JA(n){const e=P$(n);if(!e)return!1;let t=e.parse(n);return e===ah&&(t=A$(t)),t}const ZA=(n,e)=>{const t=JA(n),r=JA(e);if(!t||!r)return Gy(n,e);const i={...t};return s=>(i.red=jw(t.red,r.red,s),i.green=jw(t.green,r.green,s),i.blue=jw(t.blue,r.blue,s),i.alpha=Cn(t.alpha,r.alpha,s),xu.transform(i))},cE=new Set(["none","hidden"]);function k$(n,e){return cE.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function N$(n,e){return t=>Cn(n,e,t)}function b1(n){return typeof n=="number"?N$:typeof n=="string"?x1(n)?Gy:zr.test(n)?ZA:M$:Array.isArray(n)?RM:typeof n=="object"?zr.test(n)?ZA:D$:Gy}function RM(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>b1(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function D$(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=b1(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function O$(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=n.indexes[s][r[s]],l=n.values[o]??0;t[i]=l,r[s]++}return t}const M$=(n,e)=>{const t=bl.createTransformer(e),r=pp(n),i=pp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?cE.has(n)&&!i.values.length||cE.has(e)&&!r.values.length?k$(n,e):Up(RM(O$(r,i),i.values),t):Gy(n,e)};function PM(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Cn(n,e,t):b1(n)(n,e)}const L$=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>In.update(e,t),stop:()=>Cl(e),now:()=>Ar.isProcessing?Ar.timestamp:Oi.now()}},kM=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Yy=2e4;function I1(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Yy;)e+=t,r=n.next(e);return e>=Yy?1/0:e}function V$(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(I1(r),Yy);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ao(i)}}const j$=5;function NM(n,e,t){const r=Math.max(e-j$,0);return hM(t-n(r),e-r)}const On={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eR=.001;function F$({duration:n=On.duration,bounce:e=On.bounce,velocity:t=On.velocity,mass:r=On.mass}){let i,s,o=1-e;o=va(On.minDamping,On.maxDamping,o),n=va(On.minDuration,On.maxDuration,Ao(n)),o<1?(i=h=>{const f=h*o,m=f*n,y=f-t,_=hE(h,o),T=Math.exp(-m);return eR-y/_*T},s=h=>{const m=h*o*n,y=m*t+t,_=Math.pow(o,2)*Math.pow(h,2)*n,T=Math.exp(-m),w=hE(Math.pow(h,2),o);return(-i(h)+eR>0?-1:1)*((y-_)*T)/w}):(i=h=>{const f=Math.exp(-h*n),m=(h-t)*n+1;return-.001+f*m},s=h=>{const f=Math.exp(-h*n),m=(t-h)*(n*n);return f*m});const l=5/n,c=B$(i,s,l);if(n=Io(n),isNaN(c))return{stiffness:On.stiffness,damping:On.damping,duration:n};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:n}}}const U$=12;function B$(n,e,t){let r=t;for(let i=1;i<U$;i++)r=r-n(r)/e(r);return r}function hE(n,e){return n*Math.sqrt(1-e*e)}const $$=["duration","bounce"],z$=["stiffness","damping","mass"];function tR(n,e){return e.some(t=>n[t]!==void 0)}function W$(n){let e={velocity:On.velocity,stiffness:On.stiffness,damping:On.damping,mass:On.mass,isResolvedFromDuration:!1,...n};if(!tR(n,z$)&&tR(n,$$))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*va(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:On.mass,stiffness:i,damping:s}}else{const t=F$(n);e={...e,...t,mass:On.mass},e.isResolvedFromDuration=!0}return e}function Ky(n=On.visualDuration,e=On.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:h,mass:f,duration:m,velocity:y,isResolvedFromDuration:_}=W$({...t,velocity:-Ao(t.velocity||0)}),T=y||0,w=h/(2*Math.sqrt(c*f)),C=o-s,b=Ao(Math.sqrt(c/f)),O=Math.abs(C)<5;r||(r=O?On.restSpeed.granular:On.restSpeed.default),i||(i=O?On.restDelta.granular:On.restDelta.default);let L;if(w<1){const U=hE(b,w);L=W=>{const k=Math.exp(-w*b*W);return o-k*((T+w*b*C)/U*Math.sin(U*W)+C*Math.cos(U*W))}}else if(w===1)L=U=>o-Math.exp(-b*U)*(C+(T+b*C)*U);else{const U=b*Math.sqrt(w*w-1);L=W=>{const k=Math.exp(-w*b*W),R=Math.min(U*W,300);return o-k*((T+w*b*C)*Math.sinh(R)+U*C*Math.cosh(R))/U}}const V={calculatedDuration:_&&m||null,next:U=>{const W=L(U);if(_)l.done=U>=m;else{let k=U===0?T:0;w<1&&(k=U===0?Io(T):NM(L,U,W));const R=Math.abs(k)<=r,P=Math.abs(o-W)<=i;l.done=R&&P}return l.value=l.done?o:W,l},toString:()=>{const U=Math.min(I1(V),Yy),W=kM(k=>V.next(U*k).value,U,30);return U+"ms "+W},toTransition:()=>{}};return V}Ky.applyToOptions=n=>{const e=V$(n,100,Ky);return n.ease=e.ease,n.duration=Io(e.duration),n.type="keyframes",n};function dE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:h=.5,restSpeed:f}){const m=n[0],y={done:!1,value:m},_=R=>l!==void 0&&R<l||c!==void 0&&R>c,T=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let w=t*e;const C=m+w,b=o===void 0?C:o(C);b!==C&&(w=b-m);const O=R=>-w*Math.exp(-R/r),L=R=>b+O(R),V=R=>{const P=O(R),N=L(R);y.done=Math.abs(P)<=h,y.value=y.done?b:N};let U,W;const k=R=>{_(y.value)&&(U=R,W=Ky({keyframes:[y.value,T(y.value)],velocity:NM(L,R,y.value),damping:i,stiffness:s,restDelta:h,restSpeed:f}))};return k(0),{calculatedDuration:null,next:R=>{let P=!1;return!W&&U===void 0&&(P=!0,V(R),k(R)),U!==void 0&&R>=U?W.next(R-U):(!P&&V(R),y)}}}function H$(n,e,t){const r=[],i=t||wa.mix||PM,s=n.length-1;for(let o=0;o<s;o++){let l=i(n[o],n[o+1]);if(e){const c=Array.isArray(e)?e[o]||Rs:e;l=Up(c,l)}r.push(l)}return r}function q$(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(y1(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=H$(e,r,i),c=l.length,h=f=>{if(o&&f<n[0])return e[0];let m=0;if(c>1)for(;m<n.length-2&&!(f<n[m+1]);m++);const y=dp(n[m],n[m+1],f);return l[m](y)};return t?f=>h(va(n[0],n[s-1],f)):h}function G$(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=dp(0,e,r);n.push(Cn(t,1,i))}}function Y$(n){const e=[0];return G$(e,n.length-1),e}function K$(n,e){return n.map(t=>t*e)}function X$(n,e){return n.map(()=>e||wM).splice(0,n.length-1)}function Uf({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=a$(r)?r.map(YA):YA(r),s={done:!1,value:e[0]},o=K$(t&&t.length===e.length?t:Y$(e),n),l=q$(o,e,{ease:Array.isArray(i)?i:X$(e,i)});return{calculatedDuration:n,next:c=>(s.value=l(c),s.done=c>=n,s)}}const Q$=n=>n!==null;function A1(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(Q$),l=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const J$={decay:dE,inertia:dE,tween:Uf,keyframes:Uf,spring:Ky};function DM(n){typeof n.type=="string"&&(n.type=J$[n.type])}class R1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Z$=n=>n/100;class P1 extends R1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(t=!0)=>{var r,i;if(t){const{motionValue:s}=this.options;s&&s.updatedAt!==Oi.now()&&this.tick(Oi.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DM(e);const{type:t=Uf,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=t||Uf;c!==Uf&&typeof l[0]!="number"&&(this.mixKeyframes=Up(Z$,PM(l[0],l[1])),l=[0,100]);const h=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=I1(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:y,repeatDelay:_,type:T,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const b=this.currentTime-h*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let L=this.currentTime,V=r;if(m){const R=Math.min(this.currentTime,i)/l;let P=Math.floor(R),N=R%1;!N&&R>=1&&(N=1),N===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(y==="reverse"?(N=1-N,_&&(N-=_/l)):y==="mirror"&&(V=o)),L=va(0,1,N)*l}const U=O?{done:!1,value:f[0]}:V.next(L);s&&(U.value=s(U.value));let{done:W}=U;!O&&c!==null&&(W=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return k&&T!==dE&&(U.value=A1(f,this.options,C,this.speed)),w&&w(U.value),k&&this.finish(),U}then(e,t){return this.finished.then(e,t)}get duration(){return Ao(this.calculatedDuration)}get time(){return Ao(this.currentTime)}set time(e){var t;e=Io(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Oi.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ao(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=L$,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Oi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function ez(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Su=n=>n*180/Math.PI,fE=n=>{const e=Su(Math.atan2(n[1],n[0]));return pE(e)},tz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:fE,rotateZ:fE,skewX:n=>Su(Math.atan(n[1])),skewY:n=>Su(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},pE=n=>(n=n%360,n<0&&(n+=360),n),nR=fE,rR=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),iR=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),nz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rR,scaleY:iR,scale:n=>(rR(n)+iR(n))/2,rotateX:n=>pE(Su(Math.atan2(n[6],n[5]))),rotateY:n=>pE(Su(Math.atan2(-n[2],n[0]))),rotateZ:nR,rotate:nR,skewX:n=>Su(Math.atan(n[4])),skewY:n=>Su(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function mE(n){return n.includes("scale")?1:0}function gE(n,e){if(!n||n==="none")return mE(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=nz,i=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=tz,i=l}if(!i)return mE(e);const s=r[e],o=i[1].split(",").map(iz);return typeof s=="function"?s(o):o[s]}const rz=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return gE(t,e)};function iz(n){return parseFloat(n.trim())}const nd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rd=new Set(nd),sR=n=>n===td||n===Ke,sz=new Set(["x","y","z"]),oz=nd.filter(n=>!sz.has(n));function az(n){const e=[];return oz.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Vu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>gE(e,"x"),y:(n,{transform:e})=>gE(e,"y")};Vu.translateX=Vu.x;Vu.translateY=Vu.y;const ju=new Set;let yE=!1,_E=!1,vE=!1;function OM(){if(_E){const n=Array.from(ju).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=az(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_E=!1,yE=!1,ju.forEach(n=>n.complete(vE)),ju.clear()}function MM(){ju.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(_E=!0)})}function lz(){vE=!0,MM(),OM(),vE=!1}class k1{constructor(e,t,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ju.add(this),yE||(yE=!0,In.read(MM),In.resolveKeyframes(OM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const l=r.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}ez(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ju.delete(this)}cancel(){this.state==="scheduled"&&(ju.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uz=n=>n.startsWith("--");function cz(n,e,t){uz(e)?n.style.setProperty(e,t):n.style[e]=t}const hz=_1(()=>window.ScrollTimeline!==void 0),dz={};function fz(n,e){const t=_1(n);return()=>dz[e]??t()}const LM=fz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_f=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,oR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_f([0,.65,.55,1]),circOut:_f([.55,0,1,.45]),backIn:_f([.31,.01,.66,-.59]),backOut:_f([.33,1.53,.69,.99])};function VM(n,e){if(n)return typeof n=="function"?LM()?kM(n,e):"ease-out":TM(n)?_f(n):Array.isArray(n)?n.map(t=>VM(t,e)||oR.easeOut):oR[n]}function pz(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},h=void 0){const f={[e]:t};c&&(f.offset=c);const m=VM(l,i);Array.isArray(m)&&(f.easing=m);const y={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),n.animate(f,y)}function jM(n){return typeof n=="function"&&"applyToOptions"in n}function mz({type:n,...e}){return jM(n)&&LM()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gz extends R1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,y1(typeof e.type!="string");const h=mz(e);this.animation=pz(t,r,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=A1(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):cz(t,r,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Ao(Number(e))}get time(){return Ao(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Io(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&hz()?(this.animation.timeline=e,Rs):t(this)}}const FM={anticipate:yM,backInOut:gM,circInOut:vM};function yz(n){return n in FM}function _z(n){typeof n.ease=="string"&&yz(n.ease)&&(n.ease=FM[n.ease])}const aR=10;class vz extends gz{constructor(e){_z(e),DM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new P1({...o,autoplay:!1}),c=Io(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-aR).value,l.sample(c).value,aR),l.stop()}}const lR=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(bl.test(n)||n==="0")&&!n.startsWith("url("));function wz(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Tz(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=lR(i,e),l=lR(s,e);return!o||!l?!1:wz(n)||(t==="spring"||jM(t))&&r}function N1(n){return uM(n)&&"offsetHeight"in n}const Ez=new Set(["opacity","clipPath","filter","transform"]),xz=_1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Sz(n){var h;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:o}=n;if(!N1((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return xz()&&t&&Ez.has(t)&&(t!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const Cz=40;class bz extends R1{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:h,element:f,...m}){var T;super(),this.stop=()=>{var w,C;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Oi.now();const y={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:h,element:f,...m},_=(f==null?void 0:f.KeyframeResolver)||k1;this.keyframeResolver=new _(l,(w,C,b)=>this.onKeyframesResolved(w,C,y,!b),c,h,f),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:h,onUpdate:f}=r;this.resolvedAt=Oi.now(),Tz(e,s,o,l)||((wa.instantAnimations||!c)&&(f==null||f(A1(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Cz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},_=!h&&Sz(y)?new vz({...y,element:y.motionValue.owner.current}):new P1(y);_.finished.then(()=>this.notifyFinished()).catch(Rs),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),lz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Iz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Az(n){const e=Iz.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function UM(n,e,t=1){const[r,i]=Az(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return lM(o)?parseFloat(o):o}return x1(i)?UM(i,e,t+1):i}function D1(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const BM=new Set(["width","height","top","left","right","bottom",...nd]),Rz={test:n=>n==="auto",parse:n=>n},$M=n=>e=>e.test(n),zM=[td,Ke,Ro,tl,w$,v$,Rz],uR=n=>zM.find($M(n));function Pz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||cM(n):!0}const kz=new Set(["brightness","contrast","saturate","opacity"]);function Nz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(S1)||[];if(!r)return n;const i=t.replace(r,"");let s=kz.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Dz=/\b([a-z-]*)\(.*?\)/gu,wE={...bl,getAnimatableNone:n=>{const e=n.match(Dz);return e?e.map(Nz).join(" "):n}},cR={...td,transform:Math.round},Oz={rotate:tl,rotateX:tl,rotateY:tl,rotateZ:tl,scale:Ug,scaleX:Ug,scaleY:Ug,scaleZ:Ug,skew:tl,skewX:tl,skewY:tl,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:fp,originX:XA,originY:XA,originZ:Ke},O1={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke,...Oz,zIndex:cR,fillOpacity:fp,strokeOpacity:fp,numOctaves:cR},Mz={...O1,color:zr,backgroundColor:zr,outlineColor:zr,fill:zr,stroke:zr,borderColor:zr,borderTopColor:zr,borderRightColor:zr,borderBottomColor:zr,borderLeftColor:zr,filter:wE,WebkitFilter:wE},WM=n=>Mz[n];function HM(n,e){let t=WM(n);return t!==wE&&(t=bl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Lz=new Set(["auto","none","0"]);function Vz(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!Lz.has(s)&&pp(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=HM(t,i)}class jz extends k1{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),x1(h))){const f=UM(h,t.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!BM.has(r)||e.length!==2)return;const[i,s]=e,o=uR(i),l=uR(s);if(o!==l)if(sR(o)&&sR(l))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else Vu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Pz(e[i]))&&r.push(i);r.length&&Vz(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Vu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function Fz(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const hR=30,Uz=n=>!isNaN(parseFloat(n));class Bz{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,l;const s=Oi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Oi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Uz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new v1);const r=this.events[e].add(t);return e==="change"?()=>{r(),In.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Oi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hR)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,hR);return hM(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fh(n,e){return new Bz(n,e)}const qM=(n,e)=>e&&typeof n=="number"?e.transform(n):n,{schedule:M1}=EM(queueMicrotask,!1),Gs={x:!1,y:!1};function GM(){return Gs.x||Gs.y}function $z(n){return n==="x"||n==="y"?Gs[n]?null:(Gs[n]=!0,()=>{Gs[n]=!1}):Gs.x||Gs.y?null:(Gs.x=Gs.y=!0,()=>{Gs.x=Gs.y=!1})}function YM(n,e){const t=Fz(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function dR(n){return!(n.pointerType==="touch"||GM())}function zz(n,e,t={}){const[r,i,s]=YM(n,t),o=l=>{if(!dR(l))return;const{target:c}=l,h=e(c,l);if(typeof h!="function"||!c)return;const f=m=>{dR(m)&&(h(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const KM=(n,e)=>e?n===e?!0:KM(n,e.parentElement):!1,L1=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Wz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Hz(n){return Wz.has(n.tagName)||n.tabIndex!==-1}const gy=new WeakSet;function fR(n){return e=>{e.key==="Enter"&&n(e)}}function Fw(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qz=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=fR(()=>{if(gy.has(t))return;Fw(t,"down");const i=fR(()=>{Fw(t,"up")}),s=()=>Fw(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function pR(n){return L1(n)&&!GM()}function Gz(n,e,t={}){const[r,i,s]=YM(n,t),o=l=>{const c=l.currentTarget;if(!pR(l))return;gy.add(c);const h=e(c,l),f=(_,T)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),gy.has(c)&&gy.delete(c),pR(_)&&typeof h=="function"&&h(_,{success:T})},m=_=>{f(_,c===window||c===document||t.useGlobalTarget||KM(c,_.target))},y=_=>{f(_,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",y,i)};return r.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),N1(l)&&(l.addEventListener("focus",h=>qz(h,i)),!Hz(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function XM(n){return uM(n)&&"ownerSVGElement"in n}function Yz(n){return XM(n)&&n.tagName==="svg"}const Jr=n=>!!(n&&n.getVelocity),Kz=[...zM,zr,bl],Xz=n=>Kz.find($M(n)),V1=A.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Qz extends A.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=N1(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Jz({children:n,isPresent:e,anchorX:t}){const r=A.useId(),i=A.useRef(null),s=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=A.useContext(V1);return A.useInsertionEffect(()=>{const{width:l,height:c,top:h,left:f,right:m}=s.current;if(e||!i.current||!l||!c)return;const y=t==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=r;const _=document.createElement("style");return o&&(_.nonce=o),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(_)&&document.head.removeChild(_)}},[e]),E.jsx(Qz,{isPresent:e,childRef:i,sizeRef:s,children:A.cloneElement(n,{ref:i})})}const Zz=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l})=>{const c=f1(eW),h=A.useId();let f=!0,m=A.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:t,custom:i,onExitComplete:y=>{c.set(y,!0);for(const _ of c.values())if(!_)return;r&&r()},register:y=>(c.set(y,!1),()=>c.delete(y))}),[t,c,r]);return s&&f&&(m={...m}),A.useMemo(()=>{c.forEach((y,_)=>c.set(_,!1))},[t]),A.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),o==="popLayout"&&(n=E.jsx(Jz,{isPresent:t,anchorX:l,children:n})),E.jsx(j_.Provider,{value:m,children:n})};function eW(){return new Map}function QM(n=!0){const e=A.useContext(j_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=A.useId();A.useEffect(()=>{if(n)return i(s)},[n]);const o=A.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,o]:[!0]}const Bg=n=>n.key||"";function mR(n){const e=[];return A.Children.forEach(n,t=>{A.isValidElement(t)&&e.push(t)}),e}const TE=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,h]=QM(o),f=A.useMemo(()=>mR(n),[n]),m=o&&!c?[]:f.map(Bg),y=A.useRef(!0),_=A.useRef(f),T=f1(()=>new Map),[w,C]=A.useState(f),[b,O]=A.useState(f);aM(()=>{y.current=!1,_.current=f;for(let U=0;U<b.length;U++){const W=Bg(b[U]);m.includes(W)?T.delete(W):T.get(W)!==!0&&T.set(W,!1)}},[b,m.length,m.join("-")]);const L=[];if(f!==w){let U=[...f];for(let W=0;W<b.length;W++){const k=b[W],R=Bg(k);m.includes(R)||(U.splice(W,0,k),L.push(k))}return s==="wait"&&L.length&&(U=L),O(mR(U)),C(f),null}const{forceRender:V}=A.useContext(d1);return E.jsx(E.Fragment,{children:b.map(U=>{const W=Bg(U),k=o&&!c?!1:f===b||m.includes(W),R=()=>{if(T.has(W))T.set(W,!0);else return;let P=!0;T.forEach(N=>{N||(P=!1)}),P&&(V==null||V(),O(_.current),o&&(h==null||h()),r&&r())};return E.jsx(Zz,{isPresent:k,initial:!y.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:k?void 0:R,anchorX:l,children:U},W)})})},JM=A.createContext({strict:!1}),gR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uh={};for(const n in gR)Uh[n]={isEnabled:e=>gR[n].some(t=>!!e[t])};function tW(n){for(const e in n)Uh[e]={...Uh[e],...n[e]}}const nW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xy(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||nW.has(n)}let ZM=n=>!Xy(n);function rW(n){n&&(ZM=e=>e.startsWith("on")?!Xy(e):n(e))}try{rW(require("@emotion/is-prop-valid").default)}catch{}function iW(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(ZM(i)||t===!0&&Xy(i)||!e&&!Xy(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function sW(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const F_=A.createContext({});function U_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function mp(n){return typeof n=="string"||Array.isArray(n)}const j1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],F1=["initial",...j1];function B_(n){return U_(n.animate)||F1.some(e=>mp(n[e]))}function e2(n){return!!(B_(n)||n.variants)}function oW(n,e){if(B_(n)){const{initial:t,animate:r}=n;return{initial:t===!1||mp(t)?t:void 0,animate:mp(r)?r:void 0}}return n.inherit!==!1?e:{}}function aW(n){const{initial:e,animate:t}=oW(n,A.useContext(F_));return A.useMemo(()=>({initial:e,animate:t}),[yR(e),yR(t)])}function yR(n){return Array.isArray(n)?n.join(" "):n}const lW=Symbol.for("motionComponentSymbol");function lh(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function uW(n,e,t){return A.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):lh(t)&&(t.current=r))},[e])}const U1=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cW="framerAppearId",t2="data-"+U1(cW),n2=A.createContext({});function hW(n,e,t,r,i){var w,C;const{visualElement:s}=A.useContext(F_),o=A.useContext(JM),l=A.useContext(j_),c=A.useContext(V1).reducedMotion,h=A.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=h.current,m=A.useContext(n2);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&dW(h.current,t,i,m);const y=A.useRef(!1);A.useInsertionEffect(()=>{f&&y.current&&f.update(t,l)});const _=t[t2],T=A.useRef(!!_&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,_))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,_)));return aM(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),M1.render(f.render),T.current&&f.animationState&&f.animationState.animateChanges())}),A.useEffect(()=>{f&&(!T.current&&f.animationState&&f.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,_)}),T.current=!1))}),f}function dW(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:h,layoutCrossfade:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:r2(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&lh(l),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:h})}function r2(n){if(n)return n.options.allowProjection!==!1?n.projection:r2(n.parent)}function fW({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&tW(n);function s(l,c){let h;const f={...A.useContext(V1),...l,layoutId:pW(l)},{isStatic:m}=f,y=aW(l),_=r(l,m);if(!m&&p1){mW();const T=gW(f);h=T.MeasureLayout,y.visualElement=hW(i,_,f,e,T.ProjectionNode)}return E.jsxs(F_.Provider,{value:y,children:[h&&y.visualElement?E.jsx(h,{visualElement:y.visualElement,...f}):null,t(i,l,uW(_,y.visualElement,c),_,m,y.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=A.forwardRef(s);return o[lW]=i,o}function pW({layoutId:n}){const e=A.useContext(d1).id;return e&&n!==void 0?e+"-"+n:n}function mW(n,e){A.useContext(JM).strict}function gW(n){const{drag:e,layout:t}=Uh;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const gp={};function yW(n){for(const e in n)gp[e]=n[e],E1(e)&&(gp[e].isCSSVariable=!0)}function i2(n,{layout:e,layoutId:t}){return rd.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!gp[n]||n==="opacity")}const _W={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vW=nd.length;function wW(n,e,t){let r="",i=!0;for(let s=0;s<vW;s++){const o=nd[s],l=n[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const h=qM(l,O1[o]);if(!c){i=!1;const f=_W[o]||o;r+=`${f}(${h}) `}t&&(e[o]=h)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function B1(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,l=!1;for(const c in e){const h=e[c];if(rd.has(c)){o=!0;continue}else if(E1(c)){i[c]=h;continue}else{const f=qM(h,O1[c]);c.startsWith("origin")?(l=!0,s[c]=f):r[c]=f}}if(e.transform||(o||t?r.transform=wW(e,n.transform,t):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:h="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${h} ${f}`}}const $1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function s2(n,e,t){for(const r in e)!Jr(e[r])&&!i2(r,t)&&(n[r]=e[r])}function TW({transformTemplate:n},e){return A.useMemo(()=>{const t=$1();return B1(t,e,n),Object.assign({},t.vars,t.style)},[e])}function EW(n,e){const t=n.style||{},r={};return s2(r,t,n),Object.assign(r,TW(n,e)),r}function xW(n,e){const t={},r=EW(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const SW={offset:"stroke-dashoffset",array:"stroke-dasharray"},CW={offset:"strokeDashoffset",array:"strokeDasharray"};function bW(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?SW:CW;n[s.offset]=Ke.transform(-r);const o=Ke.transform(e),l=Ke.transform(t);n[s.array]=`${o} ${l}`}function o2(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,h,f){if(B1(n,l,h),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y}=n;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),i!==void 0&&bW(m,i,s,o,!1)}const a2=()=>({...$1(),attrs:{}}),l2=n=>typeof n=="string"&&n.toLowerCase()==="svg";function IW(n,e,t,r){const i=A.useMemo(()=>{const s=a2();return o2(s,e,l2(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};s2(s,n.style,n),i.style={...s,...i.style}}return i}const AW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function z1(n){return typeof n!="string"||n.includes("-")?!1:!!(AW.indexOf(n)>-1||/[A-Z]/u.test(n))}function RW(n=!1){return(t,r,i,{latestValues:s},o)=>{const c=(z1(t)?IW:xW)(r,s,o,t),h=iW(r,typeof t=="string",n),f=t!==A.Fragment?{...h,...c,ref:i}:{},{children:m}=r,y=A.useMemo(()=>Jr(m)?m.get():m,[m]);return A.createElement(t,{...f,children:y})}}function _R(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function W1(n,e,t,r){if(typeof e=="function"){const[i,s]=_R(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=_R(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function yy(n){return Jr(n)?n.get():n}function PW({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:kW(t,r,i,n),renderState:e()}}const u2=n=>(e,t)=>{const r=A.useContext(F_),i=A.useContext(j_),s=()=>PW(n,e,r,i);return t?s():f1(s)};function kW(n,e,t,r){const i={},s=r(n,{});for(const y in s)i[y]=yy(s[y]);let{initial:o,animate:l}=n;const c=B_(n),h=e2(n);e&&h&&!c&&n.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!U_(m)){const y=Array.isArray(m)?m:[m];for(let _=0;_<y.length;_++){const T=W1(n,y[_]);if(T){const{transitionEnd:w,transition:C,...b}=T;for(const O in b){let L=b[O];if(Array.isArray(L)){const V=f?L.length-1:0;L=L[V]}L!==null&&(i[O]=L)}for(const O in w)i[O]=w[O]}}}return i}function H1(n,e,t){var s;const{style:r}=n,i={};for(const o in r)(Jr(r[o])||e.style&&Jr(e.style[o])||i2(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const NW={useVisualState:u2({scrapeMotionValuesFromProps:H1,createRenderState:$1})};function c2(n,e,t){const r=H1(n,e,t);for(const i in n)if(Jr(n[i])||Jr(e[i])){const s=nd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const DW={useVisualState:u2({scrapeMotionValuesFromProps:c2,createRenderState:a2})};function OW(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...z1(r)?DW:NW,preloadedFeatures:n,useRender:RW(i),createVisualElement:e,Component:r};return fW(o)}}function yp(n,e,t){const r=n.getProps();return W1(r,e,t!==void 0?t:r.custom,n)}const EE=n=>Array.isArray(n);function MW(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Fh(t))}function LW(n){return EE(n)?n[n.length-1]||0:n}function VW(n,e){const t=yp(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const l=LW(s[o]);MW(n,o,l)}}function jW(n){return!!(Jr(n)&&n.add)}function xE(n,e){const t=n.getValue("willChange");if(jW(t))return t.add(e);if(!t&&wa.WillChange){const r=new wa.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function h2(n){return n.props[t2]}const FW=n=>n!==null;function UW(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(FW),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const BW={type:"spring",stiffness:500,damping:25,restSpeed:10},$W=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),zW={type:"keyframes",duration:.8},WW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HW=(n,{keyframes:e})=>e.length>2?zW:rd.has(n)?n.startsWith("scale")?$W(e[1]):BW:WW;function qW({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:h,...f}){return!!Object.keys(f).length}const q1=(n,e,t,r={},i,s)=>o=>{const l=D1(r,n)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Io(c);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:s?void 0:i};qW(l)||Object.assign(f,HW(n,f)),f.duration&&(f.duration=Io(f.duration)),f.repeatDelay&&(f.repeatDelay=Io(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(m=!0)),(wa.instantAnimations||wa.skipAnimations)&&(m=!0,f.duration=0,f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const y=UW(f.keyframes,l);if(y!==void 0){In.update(()=>{f.onUpdate(y),f.onComplete()});return}}return l.isSync?new P1(f):new bz(f)};function GW({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function d2(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],h=i&&n.animationState&&n.animationState.getState()[i];for(const f in l){const m=n.getValue(f,n.latestValues[f]??null),y=l[f];if(y===void 0||h&&GW(h,f))continue;const _={delay:t,...D1(s||{},f)},T=m.get();if(T!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===T&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const b=h2(n);if(b){const O=window.MotionHandoffAnimation(b,f,In);O!==null&&(_.startTime=O,w=!0)}}xE(n,f),m.start(q1(f,m,y,n.shouldReduceMotion&&BM.has(f)?{type:!1}:_,n,w));const C=m.animation;C&&c.push(C)}return o&&Promise.all(c).then(()=>{In.update(()=>{o&&VW(n,o)})}),c}function SE(n,e,t={}){var c;const r=yp(n,e,t.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(d2(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:y}=i;return YW(n,e,f+h,m,y,t)}:()=>Promise.resolve(),{when:l}=i;if(l){const[h,f]=l==="beforeChildren"?[s,o]:[o,s];return h().then(()=>f())}else return Promise.all([s(),o(t.delay)])}function YW(n,e,t=0,r=0,i=1,s){const o=[],l=(n.variantChildren.size-1)*r,c=i===1?(h=0)=>h*r:(h=0)=>l-h*r;return Array.from(n.variantChildren).sort(KW).forEach((h,f)=>{h.notify("AnimationStart",e),o.push(SE(h,e,{...s,delay:t+c(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function KW(n,e){return n.sortNodePosition(e)}function XW(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>SE(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=SE(n,e,t);else{const i=typeof e=="function"?yp(n,e,t.custom):e;r=Promise.all(d2(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function f2(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const QW=F1.length;function p2(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?p2(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<QW;t++){const r=F1[t],i=n.props[r];(mp(i)||i===!1)&&(e[r]=i)}return e}const JW=[...j1].reverse(),ZW=j1.length;function e8(n){return e=>Promise.all(e.map(({animation:t,options:r})=>XW(n,t,r)))}function t8(n){let e=e8(n),t=vR(),r=!0;const i=c=>(h,f)=>{var y;const m=yp(n,f,c==="exit"?(y=n.presenceContext)==null?void 0:y.custom:void 0);if(m){const{transition:_,transitionEnd:T,...w}=m;h={...h,...w,...T}}return h};function s(c){e=c(n)}function o(c){const{props:h}=n,f=p2(n.parent)||{},m=[],y=new Set;let _={},T=1/0;for(let C=0;C<ZW;C++){const b=JW[C],O=t[b],L=h[b]!==void 0?h[b]:f[b],V=mp(L),U=b===c?O.isActive:null;U===!1&&(T=C);let W=L===f[b]&&L!==h[b]&&V;if(W&&r&&n.manuallyAnimateOnMount&&(W=!1),O.protectedKeys={..._},!O.isActive&&U===null||!L&&!O.prevProp||U_(L)||typeof L=="boolean")continue;const k=n8(O.prevProp,L);let R=k||b===c&&O.isActive&&!W&&V||C>T&&V,P=!1;const N=Array.isArray(L)?L:[L];let j=N.reduce(i(b),{});U===!1&&(j={});const{prevResolvedValues:B={}}=O,M={...B,...j},ne=re=>{R=!0,y.has(re)&&(P=!0,y.delete(re)),O.needsAnimating[re]=!0;const te=n.getValue(re);te&&(te.liveStyle=!1)};for(const re in M){const te=j[re],ue=B[re];if(_.hasOwnProperty(re))continue;let $=!1;EE(te)&&EE(ue)?$=!f2(te,ue):$=te!==ue,$?te!=null?ne(re):y.add(re):te!==void 0&&y.has(re)?ne(re):O.protectedKeys[re]=!0}O.prevProp=L,O.prevResolvedValues=j,O.isActive&&(_={..._,...j}),r&&n.blockInitialAnimation&&(R=!1),R&&(!(W&&k)||P)&&m.push(...N.map(re=>({animation:re,options:{type:b}})))}if(y.size){const C={};if(typeof h.initial!="boolean"){const b=yp(n,Array.isArray(h.initial)?h.initial[0]:h.initial);b&&b.transition&&(C.transition=b.transition)}y.forEach(b=>{const O=n.getBaseTarget(b),L=n.getValue(b);L&&(L.liveStyle=!0),C[b]=O??null}),m.push({animation:C})}let w=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(m):Promise.resolve()}function l(c,h){var m;if(t[c].isActive===h)return Promise.resolve();(m=n.variantChildren)==null||m.forEach(y=>{var _;return(_=y.animationState)==null?void 0:_.setActive(c,h)}),t[c].isActive=h;const f=o(c);for(const y in t)t[y].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>t,reset:()=>{t=vR(),r=!0}}}function n8(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!f2(e,n):!1}function hu(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vR(){return{animate:hu(!0),whileInView:hu(),whileHover:hu(),whileTap:hu(),whileDrag:hu(),whileFocus:hu(),exit:hu()}}class Vl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class r8 extends Vl{constructor(e){super(e),e.animationState||(e.animationState=t8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();U_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let i8=0;class s8 extends Vl{constructor(){super(...arguments),this.id=i8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const o8={animation:{Feature:r8},exit:{Feature:s8}};function _p(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function zp(n){return{point:{x:n.pageX,y:n.pageY}}}const a8=n=>e=>L1(e)&&n(e,zp(e));function Bf(n,e,t,r){return _p(n,e,a8(t),r)}function m2({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function l8({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function u8(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const g2=1e-4,c8=1-g2,h8=1+g2,y2=.01,d8=0-y2,f8=0+y2;function yi(n){return n.max-n.min}function p8(n,e,t){return Math.abs(n-e)<=t}function wR(n,e,t,r=.5){n.origin=r,n.originPoint=Cn(e.min,e.max,n.origin),n.scale=yi(t)/yi(e),n.translate=Cn(t.min,t.max,n.origin)-n.originPoint,(n.scale>=c8&&n.scale<=h8||isNaN(n.scale))&&(n.scale=1),(n.translate>=d8&&n.translate<=f8||isNaN(n.translate))&&(n.translate=0)}function $f(n,e,t,r){wR(n.x,e.x,t.x,r?r.originX:void 0),wR(n.y,e.y,t.y,r?r.originY:void 0)}function TR(n,e,t){n.min=t.min+e.min,n.max=n.min+yi(e)}function m8(n,e,t){TR(n.x,e.x,t.x),TR(n.y,e.y,t.y)}function ER(n,e,t){n.min=e.min-t.min,n.max=n.min+yi(e)}function zf(n,e,t){ER(n.x,e.x,t.x),ER(n.y,e.y,t.y)}const xR=()=>({translate:0,scale:1,origin:0,originPoint:0}),uh=()=>({x:xR(),y:xR()}),SR=()=>({min:0,max:0}),jn=()=>({x:SR(),y:SR()});function ws(n){return[n("x"),n("y")]}function Uw(n){return n===void 0||n===1}function CE({scale:n,scaleX:e,scaleY:t}){return!Uw(n)||!Uw(e)||!Uw(t)}function gu(n){return CE(n)||_2(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function _2(n){return CR(n.x)||CR(n.y)}function CR(n){return n&&n!=="0%"}function Qy(n,e,t){const r=n-t,i=e*r;return t+i}function bR(n,e,t,r,i){return i!==void 0&&(n=Qy(n,i,r)),Qy(n,t,r)+e}function bE(n,e=0,t=1,r,i){n.min=bR(n.min,e,t,r,i),n.max=bR(n.max,e,t,r,i)}function v2(n,{x:e,y:t}){bE(n.x,e.translate,e.scale,e.originPoint),bE(n.y,t.translate,t.scale,t.originPoint)}const IR=.999999999999,AR=1.0000000000001;function g8(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=t[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hh(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,v2(n,o)),r&&gu(s.latestValues)&&hh(n,s.latestValues))}e.x<AR&&e.x>IR&&(e.x=1),e.y<AR&&e.y>IR&&(e.y=1)}function ch(n,e){n.min=n.min+e,n.max=n.max+e}function RR(n,e,t,r,i=.5){const s=Cn(n.min,n.max,i);bE(n,e,t,s,r)}function hh(n,e){RR(n.x,e.x,e.scaleX,e.scale,e.originX),RR(n.y,e.y,e.scaleY,e.scale,e.originY)}function w2(n,e){return m2(u8(n.getBoundingClientRect(),e))}function y8(n,e,t){const r=w2(n,t),{scroll:i}=e;return i&&(ch(r.x,i.offset.x),ch(r.y,i.offset.y)),r}const T2=({current:n})=>n?n.ownerDocument.defaultView:null,PR=(n,e)=>Math.abs(n-e);function _8(n,e){const t=PR(n.x,e.x),r=PR(n.y,e.y);return Math.sqrt(t**2+r**2)}class E2{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=$w(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=_8(m.offset,{x:0,y:0})>=3;if(!y&&!_)return;const{point:T}=m,{timestamp:w}=Ar;this.history.push({...T,timestamp:w});const{onStart:C,onMove:b}=this.handlers;y||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Bw(y,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=$w(m.type==="pointercancel"?this.lastMoveEventInfo:Bw(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(m,C),T&&T(m,C)},!L1(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=zp(e),l=Bw(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=Ar;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=t;f&&f(e,$w(l,this.history)),this.removeListeners=Up(Bf(this.contextWindow,"pointermove",this.handlePointerMove),Bf(this.contextWindow,"pointerup",this.handlePointerUp),Bf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cl(this.updatePoint)}}function Bw(n,e){return e?{point:e(n.point)}:n}function kR(n,e){return{x:n.x-e.x,y:n.y-e.y}}function $w({point:n},e){return{point:n,delta:kR(n,x2(e)),offset:kR(n,v8(e)),velocity:w8(e,.1)}}function v8(n){return n[0]}function x2(n){return n[n.length-1]}function w8(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=x2(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Io(e)));)t--;if(!r)return{x:0,y:0};const s=Ao(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function T8(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Cn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Cn(t,n,r.max):Math.min(n,t)),n}function NR(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function E8(n,{top:e,left:t,bottom:r,right:i}){return{x:NR(n.x,t,i),y:NR(n.y,e,r)}}function DR(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function x8(n,e){return{x:DR(n.x,e.x),y:DR(n.y,e.y)}}function S8(n,e){let t=.5;const r=yi(n),i=yi(e);return i>r?t=dp(e.min,e.max-r,n.min):r>i&&(t=dp(n.min,n.max-i,e.min)),va(0,1,t)}function C8(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const IE=.35;function b8(n=IE){return n===!1?n=0:n===!0&&(n=IE),{x:OR(n,"left","right"),y:OR(n,"top","bottom")}}function OR(n,e,t){return{min:MR(n,e),max:MR(n,t)}}function MR(n,e){return typeof n=="number"?n:n[e]||0}const I8=new WeakMap;class A8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(zp(f).point)},s=(f,m)=>{const{drag:y,dragPropagation:_,onDragStart:T}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$z(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ws(C=>{let b=this.getAxisMotionValue(C).get()||0;if(Ro.test(b)){const{projection:O}=this.visualElement;if(O&&O.layout){const L=O.layout.layoutBox[C];L&&(b=yi(L)*(parseFloat(b)/100))}}this.originPoint[C]=b}),T&&In.postRender(()=>T(f,m)),xE(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(f,m)=>{const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:T,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=m;if(_&&this.currentDirection===null){this.currentDirection=R8(C),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),w&&w(f,m)},l=(f,m)=>this.stop(f,m),c=()=>ws(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new E2(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:T2(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&In.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!$g(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=T8(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&lh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=E8(r.layoutBox,e):this.constraints=!1,this.elastic=b8(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ws(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=C8(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!lh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=y8(r,i.root,this.visualElement.getTransformPagePoint());let o=x8(i.layout.layoutBox,s);if(t){const l=t(l8(o));this.hasMutatedConstraints=!!l,l&&(o=m2(l))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=ws(f=>{if(!$g(f,t,this.currentDirection))return;let m=c&&c[f]||{};o&&(m={min:0,max:0});const y=i?200:1e6,_=i?40:1e7,T={type:"inertia",velocity:r?e[f]:0,bounceStiffness:y,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,T)});return Promise.all(h).then(l)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return xE(this.visualElement,e),r.start(q1(e,r,0,t,this.visualElement,!1))}stopAnimation(){ws(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ws(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ws(t=>{const{drag:r}=this.getProps();if(!$g(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[t];s.set(e[t]-Cn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!lh(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ws(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=S8({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ws(o=>{if(!$g(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:h}=this.constraints[o];l.set(Cn(c,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;I8.set(this.visualElement,this);const e=this.visualElement.current,t=Bf(e,"pointerdown",c=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();lh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),In.read(r);const o=_p(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(ws(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=IE,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function $g(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function R8(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class P8 extends Vl{constructor(e){super(e),this.removeGroupControls=Rs,this.removeListeners=Rs,this.controls=new A8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const LR=n=>(e,t)=>{n&&In.postRender(()=>n(e,t))};class k8 extends Vl{constructor(){super(...arguments),this.removePointerDownListener=Rs}onPointerDown(e){this.session=new E2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:LR(e),onStart:LR(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&In.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Bf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _y={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VR(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const sf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ke.test(n))n=parseFloat(n);else return n;const t=VR(n,e.target.x),r=VR(n,e.target.y);return`${t}% ${r}%`}},N8={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=bl.parse(n);if(i.length>5)return r;const s=bl.createTransformer(n),o=typeof i[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const h=Cn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),s(i)}};class D8 extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;yW(O8),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),_y.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||In.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),M1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function S2(n){const[e,t]=QM(),r=A.useContext(d1);return E.jsx(D8,{...n,layoutGroup:r,switchLayoutGroup:A.useContext(n2),isPresent:e,safeToRemove:t})}const O8={borderRadius:{...sf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sf,borderTopRightRadius:sf,borderBottomLeftRadius:sf,borderBottomRightRadius:sf,boxShadow:N8};function M8(n,e,t){const r=Jr(n)?n:Fh(n);return r.start(q1("",r,e,t)),r.animation}const L8=(n,e)=>n.depth-e.depth;class V8{constructor(){this.children=[],this.isDirty=!1}add(e){m1(this.children,e),this.isDirty=!0}remove(e){g1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(L8),this.isDirty=!1,this.children.forEach(e)}}function j8(n,e){const t=Oi.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Cl(r),n(s-e))};return In.setup(r,!0),()=>Cl(r)}const C2=["TopLeft","TopRight","BottomLeft","BottomRight"],F8=C2.length,jR=n=>typeof n=="string"?parseFloat(n):n,FR=n=>typeof n=="number"||Ke.test(n);function U8(n,e,t,r,i,s){i?(n.opacity=Cn(0,t.opacity??1,B8(r)),n.opacityExit=Cn(e.opacity??1,0,$8(r))):s&&(n.opacity=Cn(e.opacity??1,t.opacity??1,r));for(let o=0;o<F8;o++){const l=`border${C2[o]}Radius`;let c=UR(e,l),h=UR(t,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||FR(c)===FR(h)?(n[l]=Math.max(Cn(jR(c),jR(h),r),0),(Ro.test(h)||Ro.test(c))&&(n[l]+="%")):n[l]=h}(e.rotate||t.rotate)&&(n.rotate=Cn(e.rotate||0,t.rotate||0,r))}function UR(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const B8=b2(0,.5,_M),$8=b2(.5,.95,Rs);function b2(n,e,t){return r=>r<n?0:r>e?1:t(dp(n,e,r))}function BR(n,e){n.min=e.min,n.max=e.max}function _s(n,e){BR(n.x,e.x),BR(n.y,e.y)}function $R(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function zR(n,e,t,r,i){return n-=e,n=Qy(n,1/t,r),i!==void 0&&(n=Qy(n,1/i,r)),n}function z8(n,e=0,t=1,r=.5,i,s=n,o=n){if(Ro.test(e)&&(e=parseFloat(e),e=Cn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Cn(s.min,s.max,r);n===s&&(l-=e),n.min=zR(n.min,e,t,l,i),n.max=zR(n.max,e,t,l,i)}function WR(n,e,[t,r,i],s,o){z8(n,e[t],e[r],e[i],e.scale,s,o)}const W8=["x","scaleX","originX"],H8=["y","scaleY","originY"];function HR(n,e,t,r){WR(n.x,e,W8,t?t.x:void 0,r?r.x:void 0),WR(n.y,e,H8,t?t.y:void 0,r?r.y:void 0)}function qR(n){return n.translate===0&&n.scale===1}function I2(n){return qR(n.x)&&qR(n.y)}function GR(n,e){return n.min===e.min&&n.max===e.max}function q8(n,e){return GR(n.x,e.x)&&GR(n.y,e.y)}function YR(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function A2(n,e){return YR(n.x,e.x)&&YR(n.y,e.y)}function KR(n){return yi(n.x)/yi(n.y)}function XR(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class G8{constructor(){this.members=[]}add(e){m1(this.members,e),e.scheduleRender()}remove(e){if(g1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y8(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:y,skewX:_,skewY:T}=t;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),_&&(r+=`skewX(${_}deg) `),T&&(r+=`skewY(${T}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const zw=["","X","Y","Z"],K8={visibility:"hidden"},X8=1e3;let Q8=0;function Ww(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function R2(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=h2(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",In,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&R2(r)}function P2({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Q8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eH),this.nodes.forEach(sH),this.nodes.forEach(oH),this.nodes.forEach(tH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new V8)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new v1),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=XM(o)&&!Yz(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const m=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=j8(m,250),_y.hasAnimatedSinceResize&&(_y.hasAnimatedSinceResize=!1,this.nodes.forEach(JR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||hH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=h.getProps(),b=!this.targetLayout||!A2(this.targetLayout,_),O=!m&&y;if(this.options.layoutRoot||this.resumeFrom||O||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,O);const L={...D1(T,"layout"),onPlay:w,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else m||JR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&R2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QR);return}this.isUpdating||this.nodes.forEach(rH),this.isUpdating=!1,this.nodes.forEach(iH),this.nodes.forEach(J8),this.nodes.forEach(Z8),this.clearAllSnapshots();const l=Oi.now();Ar.delta=va(0,1e3/60,l-Ar.timestamp),Ar.timestamp=l,Ar.isProcessing=!0,Mw.update.process(Ar),Mw.preRender.process(Ar),Mw.render.process(Ar),Ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,M1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nH),this.sharedNodes.forEach(lH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yi(this.snapshot.measuredBox.x)&&!yi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!I2(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(l||gu(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),dH(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return jn();const l=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(fH))){const{scroll:f}=this.root;f&&(ch(l.x,f.offset.x),ch(l.y,f.offset.y))}return l}removeElementScroll(o){var c;const l=jn();if(_s(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:y}=f;f!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&_s(l,o),ch(l.x,m.offset.x),ch(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=jn();_s(c,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&hh(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),gu(f.latestValues)&&hh(c,f.latestValues)}return gu(this.latestValues)&&hh(c,this.latestValues),c}removeTransform(o){const l=jn();_s(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!gu(h.latestValues))continue;CE(h.latestValues)&&h.updateSnapshot();const f=jn(),m=h.measurePageBox();_s(f,m),HR(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return gu(this.latestValues)&&HR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Ar.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),zf(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jn(),this.targetWithTransforms=jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),v2(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jn(),this.relativeTargetOrigin=jn(),zf(this.relativeTargetOrigin,this.target,_.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||CE(this.parent.latestValues)||_2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ar.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;_s(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;g8(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=jn());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($R(this.prevProjectionDelta.x,this.projectionDelta.x),$R(this.prevProjectionDelta.y,this.projectionDelta.y)),$f(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!XR(this.projectionDelta.x,this.prevProjectionDelta.x)||!XR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uh(),this.projectionDelta=uh(),this.projectionDeltaWithTransform=uh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,h=c?c.latestValues:{},f={...this.latestValues},m=uh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=jn(),_=c?c.source:void 0,T=this.layout?this.layout.source:void 0,w=_!==T,C=this.getStack(),b=!C||C.members.length<=1,O=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(cH));this.animationProgress=0;let L;this.mixTargetDelta=V=>{const U=V/1e3;ZR(m.x,o.x,U),ZR(m.y,o.y,U),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zf(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uH(this.relativeTarget,this.relativeTargetOrigin,y,U),L&&q8(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=jn()),_s(L,this.relativeTarget)),w&&(this.animationValues=f,U8(f,h,this.latestValues,U,O,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,h;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(h=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||h.stop(!1),this.pendingAnimation&&(Cl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{_y.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fh(0)),this.currentAnimation=M8(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X8),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:f}=o;if(!(!l||!c||!h)){if(this!==o&&this.layout&&h&&k2(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||jn();const m=yi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const y=yi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+y}_s(l,c),hh(l,f),$f(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new G8),this.sharedNodes.get(o).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const h={};c.z&&Ww("z",o,h,this.animationValues);for(let f=0;f<zw.length;f++)Ww(`rotate${zw[f]}`,o,h,this.animationValues),Ww(`skew${zw[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return K8;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=yy(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=yy(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!gu(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=Y8(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?l.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in gp){if(f[_]===void 0)continue;const{correct:T,applyTo:w,isCSSVariable:C}=gp[_],b=l.transform==="none"?f[_]:T(f[_],h);if(w){const O=w.length;for(let L=0;L<O;L++)l[w[L]]=b}else C?this.options.visualElement.renderState.vars[_]=b:l[_]=b}return this.options.layoutId&&(l.pointerEvents=h===this?yy(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(QR),this.root.sharedNodes.clear()}}}function J8(n){n.updateLayout()}function Z8(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?ws(m=>{const y=o?e.measuredBox[m]:e.layoutBox[m],_=yi(y);y.min=r[m].min,y.max=y.min+_}):k2(s,e.layoutBox,r)&&ws(m=>{const y=o?e.measuredBox[m]:e.layoutBox[m],_=yi(r[m]);y.max=y.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+_)});const l=uh();$f(l,r,e.layoutBox);const c=uh();o?$f(c,n.applyTransform(i,!0),e.measuredBox):$f(c,r,e.layoutBox);const h=!I2(l);let f=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:_}=m;if(y&&_){const T=jn();zf(T,e.layoutBox,y.layoutBox);const w=jn();zf(w,r,_.layoutBox),A2(T,w)||(f=!0),m.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=T,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function eH(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function tH(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function nH(n){n.clearSnapshot()}function QR(n){n.clearMeasurements()}function rH(n){n.isLayoutDirty=!1}function iH(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function JR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function sH(n){n.resolveTargetDelta()}function oH(n){n.calcProjection()}function aH(n){n.resetSkewAndRotation()}function lH(n){n.removeLeadSnapshot()}function ZR(n,e,t){n.translate=Cn(e.translate,0,t),n.scale=Cn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function eP(n,e,t,r){n.min=Cn(e.min,t.min,r),n.max=Cn(e.max,t.max,r)}function uH(n,e,t,r){eP(n.x,e.x,t.x,r),eP(n.y,e.y,t.y,r)}function cH(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const hH={duration:.45,ease:[.4,0,.1,1]},tP=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),nP=tP("applewebkit/")&&!tP("chrome/")?Math.round:Rs;function rP(n){n.min=nP(n.min),n.max=nP(n.max)}function dH(n){rP(n.x),rP(n.y)}function k2(n,e,t){return n==="position"||n==="preserve-aspect"&&!p8(KR(e),KR(t),.2)}function fH(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const pH=P2({attachResizeListener:(n,e)=>_p(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hw={current:void 0},N2=P2({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Hw.current){const n=new pH({});n.mount(window),n.setOptions({layoutScroll:!0}),Hw.current=n}return Hw.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mH={pan:{Feature:k8},drag:{Feature:P8,ProjectionNode:N2,MeasureLayout:S2}};function iP(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&In.postRender(()=>s(e,zp(e)))}class gH extends Vl{mount(){const{current:e}=this.node;e&&(this.unmount=zz(e,(t,r)=>(iP(this.node,r,"Start"),i=>iP(this.node,i,"End"))))}unmount(){}}class yH extends Vl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Up(_p(this.node.current,"focus",()=>this.onFocus()),_p(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sP(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&In.postRender(()=>s(e,zp(e)))}class _H extends Vl{mount(){const{current:e}=this.node;e&&(this.unmount=Gz(e,(t,r)=>(sP(this.node,r,"Start"),(i,{success:s})=>sP(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AE=new WeakMap,qw=new WeakMap,vH=n=>{const e=AE.get(n.target);e&&e(n)},wH=n=>{n.forEach(vH)};function TH({root:n,...e}){const t=n||document;qw.has(t)||qw.set(t,{});const r=qw.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(wH,{root:n,...e})),r[i]}function EH(n,e,t){const r=TH(e);return AE.set(n,t),r.observe(n),()=>{AE.delete(n),r.unobserve(n)}}const xH={some:0,all:1};class SH extends Vl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xH[i]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),y=h?f:m;y&&y(c)};return EH(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(CH(e,t))&&this.startObserver()}unmount(){}}function CH({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const bH={inView:{Feature:SH},tap:{Feature:_H},focus:{Feature:yH},hover:{Feature:gH}},IH={layout:{ProjectionNode:N2,MeasureLayout:S2}},RE={current:null},D2={current:!1};function AH(){if(D2.current=!0,!!p1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>RE.current=n.matches;n.addListener(e),e()}else RE.current=!1}const RH=new WeakMap;function PH(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Jr(i))n.addValue(r,i);else if(Jr(s))n.addValue(r,Fh(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,Fh(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const oP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kH{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Oi.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,In.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=B_(t),this.isVariantNode=e2(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in m){const _=m[y];c[y]!==void 0&&Jr(_)&&_.set(c[y],!1)}}mount(e){this.current=e,RH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),D2.current||AH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:RE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cl(this.notifyUpdate),Cl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=rd.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&In.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Uh){const t=Uh[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<oP.length;r++){const i=oP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=PH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Fh(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(lM(r)||cM(r))?r=parseFloat(r):!Xz(r)&&bl.test(t)&&(r=HM(e,t)),this.setBaseTarget(e,Jr(r)?r.get():r)),Jr(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const o=W1(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Jr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new v1),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class O2 extends kH{constructor(){super(...arguments),this.KeyframeResolver=jz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function M2(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}function NH(n){return window.getComputedStyle(n)}class DH extends O2{constructor(){super(...arguments),this.type="html",this.renderInstance=M2}readValueFromInstance(e,t){var r;if(rd.has(t))return(r=this.projection)!=null&&r.isProjecting?mE(t):rz(e,t);{const i=NH(e),s=(E1(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return w2(e,t)}build(e,t,r){B1(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return H1(e,t,r)}}const L2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OH(n,e,t,r){M2(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(L2.has(i)?i:U1(i),e.attrs[i])}class MH extends O2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(rd.has(t)){const r=WM(t);return r&&r.default||0}return t=L2.has(t)?t:U1(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return c2(e,t,r)}build(e,t,r){o2(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){OH(e,t,r,i)}mount(e){this.isSVGTag=l2(e.tagName),super.mount(e)}}const LH=(n,e)=>z1(n)?new MH(e):new DH(e,{allowProjection:n!==A.Fragment}),VH=OW({...o8,...bH,...mH,...IH},LH),_n=sW(VH),jH=()=>{};var aP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=function(n,e){if(!n)throw id(e)},id=function(n){return new Error("Firebase Database ("+V2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},FH=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],l=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},G1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,l=o?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let y=(l&15)<<2|h>>6,_=h&63;c||(_=64,o||(y=64)),r.push(t[f],t[m],t[y],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(j2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):FH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||l==null||h==null||m==null)throw new UH;const y=s<<2|l>>4;if(r.push(y),h!==64){const _=l<<4&240|h>>2;if(r.push(_),m!==64){const T=h<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class UH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F2=function(n){const e=j2(n);return G1.encodeByteArray(e,!0)},Jy=function(n){return F2(n).replace(/\./g,"")},Zy=function(n){try{return G1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(n){return U2(void 0,n)}function U2(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!$H(t)||(n[t]=U2(n[t],e[t]));return n}function $H(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=()=>zH().__FIREBASE_DEFAULTS__,HH=()=>{if(typeof process>"u"||typeof aP>"u")return;const n=aP.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Zy(n[1]);return e&&JSON.parse(e)},$_=()=>{try{return jH()||WH()||HH()||qH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},B2=n=>{var e,t;return(t=(e=$_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Y1=n=>{const e=B2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$2=()=>{var n;return(n=$_())===null||n===void 0?void 0:n.config},z2=n=>{var e;return(e=$_())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(n){return n.endsWith(".cloudworkstations.dev")}async function z_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jy(JSON.stringify(t)),Jy(JSON.stringify(o)),""].join(".")}const Wf={};function GH(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wf))Wf[e]?n.emulator.push(e):n.prod.push(e);return n}function YH(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let lP=!1;function W_(n,e){if(typeof window>"u"||typeof document>"u"||!jl(window.location.host)||Wf[n]===e||Wf[n]||lP)return;Wf[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=GH().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{lP=!0,o()},y}function f(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=YH(r),_=t("text"),T=document.getElementById(_)||document.createElement("span"),w=t("learnmore"),C=document.getElementById(w)||document.createElement("a"),b=t("preprendIcon"),O=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const L=y.element;l(L),f(C,w);const V=h();c(O,b),L.append(O,T,C,V),document.body.appendChild(L)}s?(T.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function KH(){var n;const e=(n=$_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QH(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function W2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JH(){const n=ti();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZH(){return V2.NODE_ADMIN===!0}function e7(){return!KH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t7(){try{return typeof indexedDB=="object"}catch{return!1}}function n7(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7="FirebaseError";class Bo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=r7,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wp.prototype.create)}}class Wp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?i7(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Bo(i,l,r)}}function i7(n,e){return n.replace(s7,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n){return JSON.parse(n)}function Pr(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=vp(Zy(s[0])||""),t=vp(Zy(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},o7=function(n){const e=H2(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},a7=function(n){const e=H2(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Bh(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function PE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function e_(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Il(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(uP(s)&&uP(o)){if(!Il(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function uP(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let m=0;m<16;m++)r[m]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let m=16;m<80;m++){const y=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],h,f;for(let m=0;m<80;m++){m<40?m<20?(h=l^s&(o^l),f=1518500249):(h=s^o^l,f=1859775393):m<60?(h=s&o|l&(s|o),f=2400959708):(h=s^o^l,f=3395469782);const y=(i<<5|i>>>27)+h+c+f+r[m]&4294967295;c=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function u7(n,e){const t=new c7(n,e);return t.subscribe.bind(t)}class c7{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");h7(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Gw),i.error===void 0&&(i.error=Gw),i.complete===void 0&&(i.complete=Gw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h7(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gw(){}function d7(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ye(r<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},H_=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n){return n&&n._delegate?n._delegate:n}class Ta{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new K1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g7(e))try{this.getOrInitializeService({instanceIdentifier:yu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yu){return this.instances.has(e)}getOptions(e=yu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m7(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yu){return this.component?this.component.multipleInstances?e:yu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m7(n){return n===yu?void 0:n}function g7(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new p7(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(dt||(dt={}));const _7={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},v7=dt.INFO,w7={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},T7=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=w7[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q_{constructor(e){this.name=e,this._logLevel=v7,this._logHandler=T7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const E7=(n,e)=>e.some(t=>n instanceof t);let cP,hP;function x7(){return cP||(cP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S7(){return hP||(hP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q2=new WeakMap,kE=new WeakMap,G2=new WeakMap,Yw=new WeakMap,J1=new WeakMap;function C7(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ml(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&q2.set(t,n)}).catch(()=>{}),J1.set(e,n),e}function b7(n){if(kE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});kE.set(n,e)}let NE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||G2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ml(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function I7(n){NE=n(NE)}function A7(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Kw(this),e,...t);return G2.set(r,e.sort?e.sort():[e]),ml(r)}:S7().includes(n)?function(...e){return n.apply(Kw(this),e),ml(q2.get(this))}:function(...e){return ml(n.apply(Kw(this),e))}}function R7(n){return typeof n=="function"?A7(n):(n instanceof IDBTransaction&&b7(n),E7(n,x7())?new Proxy(n,NE):n)}function ml(n){if(n instanceof IDBRequest)return C7(n);if(Yw.has(n))return Yw.get(n);const e=R7(n);return e!==n&&(Yw.set(n,e),J1.set(e,n)),e}const Kw=n=>J1.get(n);function P7(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),l=ml(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ml(o.result),c.oldVersion,c.newVersion,ml(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const k7=["get","getKey","getAll","getAllKeys","count"],N7=["put","add","delete","clear"],Xw=new Map;function dP(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xw.get(e))return Xw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=N7.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||k7.includes(t)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),i&&c.done]))[0]};return Xw.set(e,s),s}I7(n=>({...n,get:(e,t,r)=>dP(e,t)||n.get(e,t,r),has:(e,t)=>!!dP(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(O7(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function O7(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const DE="@firebase/app",fP="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new q_("@firebase/app"),M7="@firebase/app-compat",L7="@firebase/analytics-compat",V7="@firebase/analytics",j7="@firebase/app-check-compat",F7="@firebase/app-check",U7="@firebase/auth",B7="@firebase/auth-compat",$7="@firebase/database",z7="@firebase/data-connect",W7="@firebase/database-compat",H7="@firebase/functions",q7="@firebase/functions-compat",G7="@firebase/installations",Y7="@firebase/installations-compat",K7="@firebase/messaging",X7="@firebase/messaging-compat",Q7="@firebase/performance",J7="@firebase/performance-compat",Z7="@firebase/remote-config",eq="@firebase/remote-config-compat",tq="@firebase/storage",nq="@firebase/storage-compat",rq="@firebase/firestore",iq="@firebase/ai",sq="@firebase/firestore-compat",oq="firebase",aq="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="[DEFAULT]",lq={[DE]:"fire-core",[M7]:"fire-core-compat",[V7]:"fire-analytics",[L7]:"fire-analytics-compat",[F7]:"fire-app-check",[j7]:"fire-app-check-compat",[U7]:"fire-auth",[B7]:"fire-auth-compat",[$7]:"fire-rtdb",[z7]:"fire-data-connect",[W7]:"fire-rtdb-compat",[H7]:"fire-fn",[q7]:"fire-fn-compat",[G7]:"fire-iid",[Y7]:"fire-iid-compat",[K7]:"fire-fcm",[X7]:"fire-fcm-compat",[Q7]:"fire-perf",[J7]:"fire-perf-compat",[Z7]:"fire-rc",[eq]:"fire-rc-compat",[tq]:"fire-gcs",[nq]:"fire-gcs-compat",[rq]:"fire-fst",[sq]:"fire-fst-compat",[iq]:"fire-vertex","fire-js":"fire-js",[oq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new Map,uq=new Map,ME=new Map;function pP(n,e){try{n.container.addComponent(e)}catch(t){Ea.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Al(n){const e=n.name;if(ME.has(e))return Ea.debug(`There were multiple attempts to register component ${e}.`),!1;ME.set(e,n);for(const t of t_.values())pP(t,n);for(const t of uq.values())pP(t,n);return!0}function Hp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Di(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gl=new Wp("app","Firebase",cq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=aq;function Y2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:OE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw gl.create("bad-app-name",{appName:String(i)});if(t||(t=$2()),!t)throw gl.create("no-options");const s=t_.get(i);if(s){if(Il(t,s.options)&&Il(r,s.config))return s;throw gl.create("duplicate-app",{appName:i})}const o=new y7(i);for(const c of ME.values())o.addComponent(c);const l=new hq(t,r,o);return t_.set(i,l),l}function G_(n=OE){const e=t_.get(n);if(!e&&n===OE&&$2())return Y2();if(!e)throw gl.create("no-app",{appName:n});return e}function Ps(n,e,t){var r;let i=(r=lq[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ea.warn(l.join(" "));return}Al(new Ta(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq="firebase-heartbeat-database",fq=1,wp="firebase-heartbeat-store";let Qw=null;function K2(){return Qw||(Qw=P7(dq,fq,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wp)}catch(t){console.warn(t)}}}}).catch(n=>{throw gl.create("idb-open",{originalErrorMessage:n.message})})),Qw}async function pq(n){try{const t=(await K2()).transaction(wp),r=await t.objectStore(wp).get(X2(n));return await t.done,r}catch(e){if(e instanceof Bo)Ea.warn(e.message);else{const t=gl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ea.warn(t.message)}}}async function mP(n,e){try{const r=(await K2()).transaction(wp,"readwrite");await r.objectStore(wp).put(e,X2(n)),await r.done}catch(t){if(t instanceof Bo)Ea.warn(t.message);else{const r=gl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ea.warn(r.message)}}}function X2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=1024,gq=30;class yq{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vq(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>gq){const o=wq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gP(),{heartbeatsToSend:r,unsentEntries:i}=_q(this._heartbeatsCache.heartbeats),s=Jy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ea.warn(t),""}}}function gP(){return new Date().toISOString().substring(0,10)}function _q(n,e=mq){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yP(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),yP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class vq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t7()?n7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pq(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return mP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return mP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yP(n){return Jy(JSON.stringify({version:2,heartbeats:n})).length}function wq(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(n){Al(new Ta("platform-logger",e=>new D7(e),"PRIVATE")),Al(new Ta("heartbeat",e=>new yq(e),"PRIVATE")),Ps(DE,fP,n),Ps(DE,fP,"esm2017"),Ps("fire-js","")}Tq("");var Eq="firebase",xq="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(Eq,xq,"app");function Z1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Q2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sq=Q2,J2=new Wp("auth","Firebase",Q2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new q_("@firebase/auth");function Cq(n,...e){n_.logLevel<=dt.WARN&&n_.warn(`Auth (${Fl}): ${n}`,...e)}function vy(n,...e){n_.logLevel<=dt.ERROR&&n_.error(`Auth (${Fl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(n,...e){throw eS(n,...e)}function Po(n,...e){return eS(n,...e)}function Z2(n,e,t){const r=Object.assign(Object.assign({},Sq()),{[e]:t});return new Wp("auth","Firebase",r).create(e,{appName:n.name})}function fa(n){return Z2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eS(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return J2.create(n,...e)}function He(n,e,...t){if(!n)throw eS(e,...t)}function la(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vy(e),new Error(e)}function xa(n,e){n||la(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function bq(){return _P()==="http:"||_P()==="https:"}function _P(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bq()||QH()||"connection"in navigator)?navigator.onLine:!0}function Aq(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.shortDelay=e,this.longDelay=t,xa(t>e,"Short delay should be less than long delay!"),this.isMobile=Q1()||W2()}get(){return Iq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n,e){xa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kq=new qp(3e4,6e4);function Ul(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Bl(n,e,t,r,i={}){return tL(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=sd(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},s);return XH()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&jl(n.emulatorConfig.host)&&(h.credentials="include"),eL.fetch()(await nL(n,n.config.apiHost,t,l),h)})}async function tL(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Rq),e);try{const i=new Dq(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw zg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zg(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zg(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw zg(n,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Z2(n,f,h);ro(n,f)}}catch(i){if(i instanceof Bo)throw i;ro(n,"network-request-failed",{message:String(i)})}}async function Gp(n,e,t,r,i={}){const s=await Bl(n,e,t,r,i);return"mfaPendingCredential"in s&&ro(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function nL(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?tS(n.config,i):`${n.config.apiScheme}://${i}`;return Pq.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Nq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Po(this.auth,"network-request-failed")),kq.get())})}}function zg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Po(n,e,r);return i.customData._tokenResponse=t,i}function vP(n){return n!==void 0&&n.enterprise!==void 0}class Oq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Nq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Mq(n,e){return Bl(n,"GET","/v2/recaptchaConfig",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lq(n,e){return Bl(n,"POST","/v1/accounts:delete",e)}async function r_(n,e){return Bl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vq(n,e=!1){const t=ni(n),r=await t.getIdToken(e),i=nS(r);He(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hf(Jw(i.auth_time)),issuedAtTime:Hf(Jw(i.iat)),expirationTime:Hf(Jw(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jw(n){return Number(n)*1e3}function nS(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zy(t);return i?JSON.parse(i):(vy("Failed to decode base64 JWT payload"),null)}catch(i){return vy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wP(n){const e=nS(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Bo&&jq(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function jq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hf(this.lastLoginAt),this.creationTime=Hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Tp(n,r_(t,{idToken:r}));He(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rL(s.providerUserInfo):[],l=Bq(n.providerData,o),c=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new VE(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,m)}async function Uq(n){const e=ni(n);await i_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rL(n){return n.map(e=>{var{providerId:t}=e,r=Z1(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $q(n,e){const t=await tL(n,{},async()=>{const r=sd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await nL(n,i,"/v1/token",`key=${s}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",eL.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zq(n,e){return Bl(n,"POST","/v2/accounts:revokeToken",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=wP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await $q(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new bh;return r&&(He(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(He(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bh,this.toJSON())}_performRefresh(){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Js{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Z1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new VE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Tp(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Vq(this,e)}reload(){return Uq(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await i_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Di(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await Tp(this,Lq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,l,c,h,f;const m=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,_=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=t.photoURL)!==null&&o!==void 0?o:void 0,w=(l=t.tenantId)!==null&&l!==void 0?l:void 0,C=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,b=(h=t.createdAt)!==null&&h!==void 0?h:void 0,O=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:L,emailVerified:V,isAnonymous:U,providerData:W,stsTokenManager:k}=t;He(L&&k,e,"internal-error");const R=bh.fromJSON(this.name,k);He(typeof L=="string",e,"internal-error"),Za(m,e.name),Za(y,e.name),He(typeof V=="boolean",e,"internal-error"),He(typeof U=="boolean",e,"internal-error"),Za(_,e.name),Za(T,e.name),Za(w,e.name),Za(C,e.name),Za(b,e.name),Za(O,e.name);const P=new Js({uid:L,auth:e,email:y,emailVerified:V,displayName:m,isAnonymous:U,photoURL:T,phoneNumber:_,tenantId:w,stsTokenManager:R,createdAt:b,lastLoginAt:O});return W&&Array.isArray(W)&&(P.providerData=W.map(N=>Object.assign({},N))),C&&(P._redirectEventId=C),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new bh;i.updateFromServerResponse(t);const s=new Js({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await i_(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];He(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?rL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new bh;l.updateFromIdToken(r);const c=new Js({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new VE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Map;function ua(n){xa(n instanceof Function,"Expected a class definition");let e=TP.get(n);return e?(xa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iL.type="NONE";const EP=iL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e,t){return`firebase:${n}:${e}:${t}`}class Ih{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wy(this.userKey,i.apiKey,s),this.fullPersistenceKey=wy("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await r_(this.auth,{idToken:e}).catch(()=>{});return t?Js._fromGetAccountInfoResponse(this.auth,t,e):null}return Js._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ih(ua(EP),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||ua(EP);const o=wy(r,e.config.apiKey,e.name);let l=null;for(const h of t)try{const f=await h._get(o);if(f){let m;if(typeof f=="string"){const y=await r_(e,{idToken:f}).catch(()=>{});if(!y)break;m=await Js._fromGetAccountInfoResponse(e,y,f)}else m=Js._fromJSON(e,f);h!==s&&(l=m),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ih(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Ih(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cL(e))return"Blackberry";if(hL(e))return"Webos";if(oL(e))return"Safari";if((e.includes("chrome/")||aL(e))&&!e.includes("edge/"))return"Chrome";if(uL(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sL(n=ti()){return/firefox\//i.test(n)}function oL(n=ti()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aL(n=ti()){return/crios\//i.test(n)}function lL(n=ti()){return/iemobile/i.test(n)}function uL(n=ti()){return/android/i.test(n)}function cL(n=ti()){return/blackberry/i.test(n)}function hL(n=ti()){return/webos/i.test(n)}function rS(n=ti()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Wq(n=ti()){var e;return rS(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Hq(){return JH()&&document.documentMode===10}function dL(n=ti()){return rS(n)||uL(n)||hL(n)||cL(n)||/windows phone/i.test(n)||lL(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(n,e=[]){let t;switch(n){case"Browser":t=xP(ti());break;case"Worker":t=`${xP(ti())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(n,e={}){return Bl(n,"GET","/v2/passwordPolicy",Ul(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=6;class Kq{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Yq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SP(this),this.idTokenSubscription=new SP(this),this.beforeStateQueue=new qq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ua(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ih.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await r_(this,{idToken:e}),r=await Js._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Di(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await i_(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Aq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Di(this.app))return Promise.reject(fa(this));const t=e?ni(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Di(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Di(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gq(this),t=new Kq(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await zq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ua(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Ih.create(this,[ua(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Cq(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ec(n){return ni(n)}class SP{constructor(e){this.auth=e,this.observer=null,this.addObserver=u7(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qq(n){Y_=n}function pL(n){return Y_.loadJS(n)}function Jq(){return Y_.recaptchaEnterpriseScript}function Zq(){return Y_.gapiScript}function eG(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class tG{constructor(){this.enterprise=new nG}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nG{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rG="recaptcha-enterprise",mL="NO_RECAPTCHA";class iG{constructor(e){this.type=rG,this.auth=ec(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Mq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new Oq(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;vP(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(mL)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tG().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!t&&vP(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Jq();c.length!==0&&(c+=l),pL(c).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function CP(n,e,t,r=!1,i=!1){const s=new iG(n);let o;if(i)o=mL;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function jE(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await CP(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await CP(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(n,e){const t=Hp(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Il(s,e??{}))return i;ro(i,"already-initialized")}return t.initialize({options:e})}function oG(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ua);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aG(n,e,t){const r=ec(n);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=gL(e),{host:o,port:l}=lG(e),c=l===null?"":`:${l}`,h={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Il(h,r.config.emulator)&&Il(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,jl(o)?(z_(`${s}//${o}${c}`),W_("Auth",!0)):uG()}function gL(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function lG(n){const e=gL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bP(o)}}}function bP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function uG(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return la("not implemented")}_getIdTokenResponse(e){return la("not implemented")}_linkToIdToken(e,t){return la("not implemented")}_getReauthenticationResolver(e){return la("not implemented")}}async function cG(n,e){return Bl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(n,e){return Gp(n,"POST","/v1/accounts:signInWithPassword",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dG(n,e){return Gp(n,"POST","/v1/accounts:signInWithEmailLink",Ul(n,e))}async function fG(n,e){return Gp(n,"POST","/v1/accounts:signInWithEmailLink",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends iS{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ep(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ep(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jE(e,t,"signInWithPassword",hG);case"emailLink":return dG(e,{email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jE(e,r,"signUpPassword",cG);case"emailLink":return fG(e,{idToken:t,email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(n,e){return Gp(n,"POST","/v1/accounts:signInWithIdp",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG="http://localhost";class qu extends iS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ro("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Z1(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Ah(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ah(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ah(e,t)}buildRequest(){const e={requestUri:pG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gG(n){const e=vf(wf(n)).link,t=e?vf(wf(e)).deep_link_id:null,r=vf(wf(n)).deep_link_id;return(r?vf(wf(r)).link:null)||r||t||e||n}class sS{constructor(e){var t,r,i,s,o,l;const c=vf(wf(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,m=mG((i=c.mode)!==null&&i!==void 0?i:null);He(h&&f&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=f,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=gG(e);try{return new sS(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.providerId=od.PROVIDER_ID}static credential(e,t){return Ep._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=sS.parseLink(t);return He(r,"argument-error"),Ep._fromEmailAndCode(e,r.code,r.tenantId)}}od.PROVIDER_ID="password";od.EMAIL_PASSWORD_SIGN_IN_METHOD="password";od.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends yL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends Yp{constructor(){super("facebook.com")}static credential(e){return qu._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nl.credentialFromTaggedObject(e)}static credentialFromError(e){return nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nl.credential(e.oauthAccessToken)}catch{return null}}}nl.FACEBOOK_SIGN_IN_METHOD="facebook.com";nl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Yp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qu._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return rl.credential(t,r)}catch{return null}}}rl.GOOGLE_SIGN_IN_METHOD="google.com";rl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Yp{constructor(){super("github.com")}static credential(e){return qu._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return il.credential(e.oauthAccessToken)}catch{return null}}}il.GITHUB_SIGN_IN_METHOD="github.com";il.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Yp{constructor(){super("twitter.com")}static credential(e,t){return qu._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return sl.credential(t,r)}catch{return null}}}sl.TWITTER_SIGN_IN_METHOD="twitter.com";sl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yG(n,e){return Gp(n,"POST","/v1/accounts:signUp",Ul(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Js._fromIdTokenResponse(e,r,i),o=IP(r);return new Gu({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=IP(r);return new Gu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function IP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends Bo{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,s_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new s_(e,t,r,i)}}function _L(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?s_._fromErrorAndOperation(n,s,e,r):s})}async function _G(n,e,t=!1){const r=await Tp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vG(n,e,t=!1){const{auth:r}=n;if(Di(r.app))return Promise.reject(fa(r));const i="reauthenticate";try{const s=await Tp(n,_L(r,i,e,n),t);He(s.idToken,r,"internal-error");const o=nS(s.idToken);He(o,r,"internal-error");const{sub:l}=o;return He(n.uid===l,r,"user-mismatch"),Gu._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ro(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(n,e,t=!1){if(Di(n.app))return Promise.reject(fa(n));const r="signIn",i=await _L(n,r,e),s=await Gu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function wG(n,e){return vL(ec(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(n){const e=ec(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TG(n,e,t){if(Di(n.app))return Promise.reject(fa(n));const r=ec(n),o=await jE(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yG).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&wL(n),c}),l=await Gu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function EG(n,e,t){return Di(n.app)?Promise.reject(fa(n)):wG(ni(n),od.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wL(n),r})}function xG(n,e,t,r){return ni(n).onIdTokenChanged(e,t,r)}function SG(n,e,t){return ni(n).beforeAuthStateChanged(e,t)}const o_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(o_,"1"),this.storage.removeItem(o_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=1e3,bG=10;class EL extends TL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Hq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bG):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},CG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}EL.type="LOCAL";const IG=EL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL extends TL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xL.type="SESSION";const SL=xL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new K_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(t.origin,s)),c=await AG(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}K_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const h=oS("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(){return window}function PG(n){ko().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return typeof ko().WorkerGlobalScope<"u"&&typeof ko().importScripts=="function"}async function kG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NG(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DG(){return CL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="firebaseLocalStorageDb",OG=1,a_="firebaseLocalStorage",IL="fbase_key";class Kp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function X_(n,e){return n.transaction([a_],e?"readwrite":"readonly").objectStore(a_)}function MG(){const n=indexedDB.deleteDatabase(bL);return new Kp(n).toPromise()}function FE(){const n=indexedDB.open(bL,OG);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(a_,{keyPath:IL})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(a_)?e(r):(r.close(),await MG(),e(await FE()))})})}async function AP(n,e,t){const r=X_(n,!0).put({[IL]:e,value:t});return new Kp(r).toPromise()}async function LG(n,e){const t=X_(n,!1).get(e),r=await new Kp(t).toPromise();return r===void 0?null:r.value}function RP(n,e){const t=X_(n,!0).delete(e);return new Kp(t).toPromise()}const VG=800,jG=3;class AL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await FE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=K_._getInstance(DG()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await kG(),!this.activeServiceWorker)return;this.sender=new RG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await FE();return await AP(e,o_,"1"),await RP(e,o_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>AP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>LG(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>RP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=X_(i,!1).getAll();return new Kp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AL.type="LOCAL";const FG=AL;new qp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(n,e){return e?ua(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends iS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ah(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ah(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ah(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BG(n){return vL(n.auth,new aS(n),n.bypassAuthState)}function $G(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),vG(t,new aS(n),n.bypassAuthState)}async function zG(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),_G(t,new aS(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BG;case"linkViaPopup":case"linkViaRedirect":return zG;case"reauthViaPopup":case"reauthViaRedirect":return $G;default:ro(this.auth,"internal-error")}}resolve(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=new qp(2e3,1e4);class dh extends RL{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,dh.currentPopupAction&&dh.currentPopupAction.cancel(),dh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){xa(this.filter.length===1,"Popup operations only handle one event");const e=oS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WG.get())};e()}}dh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG="pendingRedirect",Ty=new Map;class qG extends RL{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ty.get(this.auth._key());if(!e){try{const r=await GG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ty.set(this.auth._key(),e)}return this.bypassAuthState||Ty.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GG(n,e){const t=XG(e),r=KG(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function YG(n,e){Ty.set(n._key(),e)}function KG(n){return ua(n._redirectPersistence)}function XG(n){return wy(HG,n.config.apiKey,n.name)}async function QG(n,e,t=!1){if(Di(n.app))return Promise.reject(fa(n));const r=ec(n),i=UG(r,e),o=await new qG(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=10*60*1e3;class ZG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eY(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!PL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Po(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JG&&this.cachedEventUids.clear(),this.cachedEventUids.has(PP(e))}saveEventToCache(e){this.cachedEventUids.add(PP(e)),this.lastProcessedEventTime=Date.now()}}function PP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PL({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eY(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PL(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tY(n,e={}){return Bl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rY=/^https?/;async function iY(n){if(n.config.emulator)return;const{authorizedDomains:e}=await tY(n);for(const t of e)try{if(sY(t))return}catch{}ro(n,"unauthorized-domain")}function sY(n){const e=LE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!rY.test(t))return!1;if(nY.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=new qp(3e4,6e4);function kP(){const n=ko().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function aY(n){return new Promise((e,t)=>{var r,i,s;function o(){kP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kP(),t(Po(n,"network-request-failed"))},timeout:oY.get()})}if(!((i=(r=ko().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ko().gapi)===null||s===void 0)&&s.load)o();else{const l=eG("iframefcb");return ko()[l]=()=>{gapi.load?o():t(Po(n,"network-request-failed"))},pL(`${Zq()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw Ey=null,e})}let Ey=null;function lY(n){return Ey=Ey||aY(n),Ey}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=new qp(5e3,15e3),cY="__/auth/iframe",hY="emulator/auth/iframe",dY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pY(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tS(e,hY):`https://${n.config.authDomain}/${cY}`,r={apiKey:e.apiKey,appName:n.name,v:Fl},i=fY.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${sd(r).slice(1)}`}async function mY(n){const e=await lY(n),t=ko().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:pY(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dY,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Po(n,"network-request-failed"),l=ko().setTimeout(()=>{s(o)},uY.get());function c(){ko().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yY=500,_Y=600,vY="_blank",wY="http://localhost";class NP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TY(n,e,t,r=yY,i=_Y){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},gY),{width:r.toString(),height:i.toString(),top:s,left:o}),h=ti().toLowerCase();t&&(l=aL(h)?vY:t),sL(h)&&(e=e||wY,c.scrollbars="yes");const f=Object.entries(c).reduce((y,[_,T])=>`${y}${_}=${T},`,"");if(Wq(h)&&l!=="_self")return EY(e||"",l),new NP(null);const m=window.open(e||"",l,f);He(m,n,"popup-blocked");try{m.focus()}catch{}return new NP(m)}function EY(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY="__/auth/handler",SY="emulator/auth/handler",CY=encodeURIComponent("fac");async function DP(n,e,t,r,i,s){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fl,eventId:i};if(e instanceof yL){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",PE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Yp){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await n._getAppCheckToken(),h=c?`#${CY}=${encodeURIComponent(c)}`:"";return`${bY(n)}?${sd(l).slice(1)}${h}`}function bY({config:n}){return n.emulator?tS(n,SY):`https://${n.authDomain}/${xY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="webStorageSupport";class IY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SL,this._completeRedirectFn=QG,this._overrideRedirectResult=YG}async _openPopup(e,t,r,i){var s;xa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await DP(e,t,r,LE(),i);return TY(e,o,oS())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await DP(e,t,r,LE(),i);return PG(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(xa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await mY(e),r=new ZG(e);return t.register("authEvent",i=>(He(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zw,{type:Zw},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Zw];o!==void 0&&t(!!o),ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iY(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dL()||oL()||rS()}}const AY=IY;var OP="@firebase/auth",MP="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kY(n){Al(new Ta("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;He(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fL(n)},h=new Xq(r,i,s,c);return oG(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Al(new Ta("auth-internal",e=>{const t=ec(e.getProvider("auth").getImmediate());return(r=>new RY(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(OP,MP,PY(n)),Ps(OP,MP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY=5*60,DY=z2("authIdTokenMaxAge")||NY;let LP=null;const OY=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>DY)return;const i=t==null?void 0:t.token;LP!==i&&(LP=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MY(n=G_()){const e=Hp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=sG(n,{popupRedirectResolver:AY,persistence:[FG,IG,SL]}),r=z2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=OY(s.toString());SG(t,o,()=>o(t.currentUser)),xG(t,l=>o(l))}}const i=B2("auth");return i&&aG(t,`http://${i}`),t}function LY(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Qq({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Po("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",LY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kY("Browser");var VP={};const jP="@firebase/database",FP="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kL="";function VY(n){kL=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:vp(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Aa(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jY(e)}}catch{}return new FY},Cu=NL("localStorage"),UY=NL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new q_("@firebase/database"),BY=function(){let n=1;return function(){return n++}}(),DL=function(n){const e=f7(n),t=new l7;t.update(e);const r=t.digest();return G1.encodeByteArray(r)},Xp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Xp.apply(null,r):typeof r=="object"?e+=Pr(r):e+=r,e+=" "}return e};let qf=null,UP=!0;const $Y=function(n,e){ye(!0,"Can't turn on custom loggers persistently."),Rh.logLevel=dt.VERBOSE,qf=Rh.log.bind(Rh)},qr=function(...n){if(UP===!0&&(UP=!1,qf===null&&UY.get("logging_enabled")===!0&&$Y()),qf){const e=Xp.apply(null,n);qf(e)}},Qp=function(n){return function(...e){qr(n,...e)}},UE=function(...n){const e="FIREBASE INTERNAL ERROR: "+Xp(...n);Rh.error(e)},Sa=function(...n){const e=`FIREBASE FATAL ERROR: ${Xp(...n)}`;throw Rh.error(e),new Error(e)},os=function(...n){const e="FIREBASE WARNING: "+Xp(...n);Rh.warn(e)},zY=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&os("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},OL=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},WY=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},$h="[MIN_NAME]",Yu="[MAX_NAME]",ad=function(n,e){if(n===e)return 0;if(n===$h||e===Yu)return-1;if(e===$h||n===Yu)return 1;{const t=BP(n),r=BP(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},HY=function(n,e){return n===e?0:n<e?-1:1},of=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Pr(e))},lS=function(n){if(typeof n!="object"||n===null)return Pr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Pr(e[r]),t+=":",t+=lS(n[e[r]]);return t+="}",t},ML=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Ns(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const LL=function(n){ye(!OL(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,o,l,c;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=l+r,o=Math.round(n*Math.pow(2,t-l)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));const h=[];for(c=t;c;c-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const f=h.join("");let m="";for(c=0;c<64;c+=8){let y=parseInt(f.substr(c,8),2).toString(16);y.length===1&&(y="0"+y),m=m+y}return m.toLowerCase()},qY=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GY=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},YY=new RegExp("^-?(0*)\\d{1,10}$"),KY=-2147483648,XY=2147483647,BP=function(n){if(YY.test(n)){const e=Number(n);if(e>=KY&&e<=XY)return e}return null},Jp=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw os("Exception was thrown by user callback.",t),e},Math.floor(0))}},QY=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gf=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Di(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){os(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(qr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',os(e)}}class xy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="5",VL="v",jL="s",FL="r",UL="f",BL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$L="ls",zL="p",BE="ac",WL="websocket",HL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,t,r,i,s=!1,o="",l=!1,c=!1,h=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cu.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function eK(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function GL(n,e,t){ye(typeof e=="string","typeof type must == string"),ye(typeof t=="object","typeof params must == object");let r;if(e===WL)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===HL)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);eK(n)&&(t.ns=n.namespace);const i=[];return Ns(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(){this.counters_={}}incrementCounter(e,t=1){Aa(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return BH(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={},tT={};function cS(n){const e=n.toString();return eT[e]||(eT[e]=new tK),eT[e]}function nK(n,e){const t=n.toString();return tT[t]||(tT[t]=e()),tT[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="start",iK="close",sK="pLPCommand",oK="pRTLPCB",YL="id",KL="pw",XL="ser",aK="cb",lK="seg",uK="ts",cK="d",hK="dframe",QL=1870,JL=30,dK=QL-JL,fK=25e3,pK=3e4;class fh{constructor(e,t,r,i,s,o,l){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qp(e),this.stats_=cS(t),this.urlFn=c=>(this.appCheckToken&&(c[BE]=this.appCheckToken),GL(t,HL,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new rK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pK)),WY(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hS((...s)=>{const[o,l,c,h,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$P)this.id=l,this.password=c;else if(o===iK)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[$P]="t",r[XL]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[aK]=this.scriptTagHolder.uniqueCallbackIdentifier),r[VL]=uS,this.transportSessionId&&(r[jL]=this.transportSessionId),this.lastSessionId&&(r[$L]=this.lastSessionId),this.applicationId&&(r[zL]=this.applicationId),this.appCheckToken&&(r[BE]=this.appCheckToken),typeof location<"u"&&location.hostname&&BL.test(location.hostname)&&(r[FL]=UL);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fh.forceAllow_=!0}static forceDisallow(){fh.forceDisallow_=!0}static isAvailable(){return fh.forceAllow_?!0:!fh.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!qY()&&!GY()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Pr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=F2(t),i=ML(r,dK);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[hK]="t",r[YL]=e,r[KL]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Pr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class hS{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BY(),window[sK+this.uniqueCallbackIdentifier]=e,window[oK+this.uniqueCallbackIdentifier]=t,this.myIFrame=hS.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){qr("frame writing exception"),l.stack&&qr(l.stack),qr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[YL]=this.myID,e[KL]=this.myPW,e[XL]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+JL+r.length<=QL;){const o=this.pendingSegs.shift();r=r+"&"+lK+i+"="+o.seg+"&"+uK+i+"="+o.ts+"&"+cK+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(fK)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{qr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK=16384,gK=45e3;let l_=null;typeof MozWebSocket<"u"?l_=MozWebSocket:typeof WebSocket<"u"&&(l_=WebSocket);class Ks{constructor(e,t,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qp(this.connId),this.stats_=cS(t),this.connURL=Ks.connectionURL_(t,o,l,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,s){const o={};return o[VL]=uS,typeof location<"u"&&location.hostname&&BL.test(location.hostname)&&(o[FL]=UL),t&&(o[jL]=t),r&&(o[$L]=r),i&&(o[BE]=i),s&&(o[zL]=s),GL(e,WL,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cu.set("previous_websocket_failure",!0);try{let r;ZH(),this.mySock=new l_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ks.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&l_!==null&&!Ks.forceDisallow_}static previouslyFailed(){return Cu.isInMemoryStorage||Cu.get("previous_websocket_failure")===!0}markConnectionHealthy(){Cu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=vp(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ye(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Pr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=ML(t,mK);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gK))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ks.responsesRequiredToBeHealthy=2;Ks.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static get ALL_TRANSPORTS(){return[fh,Ks]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Ks&&Ks.isAvailable();let r=t&&!Ks.previouslyFailed();if(e.webSocketOnly&&(t||os("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ks];else{const i=this.transports_=[];for(const s of xp.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);xp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=6e4,_K=5e3,vK=10*1024,wK=100*1024,nT="t",zP="d",TK="s",WP="r",EK="e",HP="o",qP="a",GP="n",YP="p",xK="h";class SK{constructor(e,t,r,i,s,o,l,c,h,f){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qp("c:"+this.id+":"),this.transportManager_=new xp(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Gf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wK?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>vK?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(nT in e){const t=e[nT];t===qP?this.upgradeIfSecondaryHealthy_():t===WP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===HP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=of("t",e),r=of("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:YP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:GP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=of("t",e),r=of("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=of(nT,e);if(zP in e){const r=e[zP];if(t===xK){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===GP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===TK?this.onConnectionShutdown_(r):t===WP?this.onReset_(r):t===EK?UE("Server Error: "+r):t===HP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):UE("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),uS!==r&&os("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Gf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yK))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_K))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:YP,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.allowedEvents_=e,this.listeners_={},ye(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ye(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends eV{static getInstance(){return new u_}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Q1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ye(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=32,XP=768;class un{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Yt(){return new un("")}function bt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Rl(n){return n.pieces_.length-n.pieceNum_}function an(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new un(n.pieces_,e)}function tV(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function CK(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function nV(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function rV(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new un(e,0)}function vr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new un(t,0)}function Tt(n){return n.pieceNum_>=n.pieces_.length}function Is(n,e){const t=bt(n),r=bt(e);if(t===null)return e;if(t===r)return Is(an(n),an(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function iV(n,e){if(Rl(n)!==Rl(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Zs(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Rl(n)>Rl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class bK{constructor(e,t){this.errorPrefix_=t,this.parts_=nV(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=H_(this.parts_[r]);sV(this)}}function IK(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=H_(e),sV(n)}function AK(n){const e=n.parts_.pop();n.byteLength_-=H_(e),n.parts_.length>0&&(n.byteLength_-=1)}function sV(n){if(n.byteLength_>XP)throw new Error(n.errorPrefix_+"has a key path longer than "+XP+" bytes ("+n.byteLength_+").");if(n.parts_.length>KP)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+KP+") or object contains a cycle "+_u(n))}function _u(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends eV{static getInstance(){return new dS}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ye(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=1e3,RK=60*5*1e3,QP=30*1e3,PK=1.3,kK=3e4,NK="server_kill",JP=3;class pa extends ZL{constructor(e,t,r,i,s,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=pa.nextPersistentConnectionId_++,this.log_=Qp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=af,this.maxReconnectDelay_=RK,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dS.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&u_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(Pr(s)),ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new K1,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?t.resolve(l):t.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ye(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const c=l.d,h=l.s;pa.warnOnListenWarnings_(c,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(h,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Aa(e,"w")){const r=Bh(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();os(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||a7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=QP)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=o7(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const o={p:t,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pr(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):UE("Unrecognized action received from server: "+Pr(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=af,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=af,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kK&&(this.reconnectDelay_=af),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*PK)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+pa.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},h=function(m){ye(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)};this.realtime_={close:c,sendRequest:h};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,y]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?qr("getToken() completed but was canceled"):(qr("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,l=new SK(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,_=>{os(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(NK)},s))}catch(m){this.log_("Failed to get token: "+m),o||(this.repoInfo_.nodeAdmin&&os(m),c())}}}interrupt(e){qr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],PE(this.interruptReasons_)&&(this.reconnectDelay_=af,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>lS(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){qr("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=JP&&(this.reconnectDelay_=QP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){qr("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=JP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+kL.replace(/\./g,"-")]=1,Q1()?e["framework.cordova"]=1:W2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=u_.getInstance().currentlyOnline();return PE(this.interruptReasons_)&&e}}pa.nextPersistentConnectionId_=0;pa.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new It(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new It($h,e),i=new It($h,t);return this.compare(r,i)!==0}minPost(){return It.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg;class oV extends Q_{static get __EMPTY_NODE(){return Wg}static set __EMPTY_NODE(e){Wg=e}compare(e,t){return ad(e.name,t.name)}isDefinedOn(e){throw id("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return It.MIN}maxPost(){return new It(Yu,Wg)}makePost(e,t){return ye(typeof e=="string","KeyIndex indexValue must always be a string."),new It(e,Wg)}toString(){return".key"}}const Ph=new oV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg=class{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Ji=class Tf{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Tf.RED,this.left=i??xo.EMPTY_NODE,this.right=s??xo.EMPTY_NODE}copy(e,t,r,i,s){return new Tf(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return xo.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Tf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Tf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Ji.RED=!0;Ji.BLACK=!1;class DK{copy(e,t,r,i,s){return this}insert(e,t,r){return new Ji(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let xo=class Sy{constructor(e,t=Sy.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Sy(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ji.BLACK,null,null))}remove(e){return new Sy(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ji.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Hg(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Hg(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Hg(this.root_,null,this.comparator_,!0,e)}};xo.EMPTY_NODE=new DK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(n,e){return ad(n.name,e.name)}function fS(n,e){return ad(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E;function MK(n){$E=n}const aV=function(n){return typeof n=="number"?"number:"+LL(n):"string:"+n},lV=function(n){if(n.isLeafNode()){const e=n.val();ye(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Aa(e,".sv"),"Priority must be a string or number.")}else ye(n===$E||n.isEmpty(),"priority of unexpected type.");ye(n===$E||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZP;class gr{static set __childrenNodeConstructor(e){ZP=e}static get __childrenNodeConstructor(){return ZP}constructor(e,t=gr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ye(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lV(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new gr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:gr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tt(e)?this:bt(e)===".priority"?this.priorityNode_:gr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:gr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=bt(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(ye(r!==".priority"||Rl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,gr.__childrenNodeConstructor.EMPTY_NODE.updateChild(an(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+aV(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=LL(this.value_):e+=this.value_,this.lazyHash_=DL(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===gr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof gr.__childrenNodeConstructor?-1:(ye(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=gr.VALUE_TYPE_ORDER.indexOf(t),s=gr.VALUE_TYPE_ORDER.indexOf(r);return ye(i>=0,"Unknown leaf type: "+t),ye(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}gr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uV,cV;function LK(n){uV=n}function VK(n){cV=n}class jK extends Q_{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?ad(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return It.MIN}maxPost(){return new It(Yu,new gr("[PRIORITY-POST]",cV))}makePost(e,t){const r=uV(e);return new It(t,new gr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Zr=new jK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=Math.log(2);class UK{constructor(e){const t=s=>parseInt(Math.log(s)/FK,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const c_=function(n,e,t,r){n.sort(e);const i=function(c,h){const f=h-c;let m,y;if(f===0)return null;if(f===1)return m=n[c],y=t?t(m):m,new Ji(y,m.node,Ji.BLACK,null,null);{const _=parseInt(f/2,10)+c,T=i(c,_),w=i(_+1,h);return m=n[_],y=t?t(m):m,new Ji(y,m.node,Ji.BLACK,T,w)}},s=function(c){let h=null,f=null,m=n.length;const y=function(T,w){const C=m-T,b=m;m-=T;const O=i(C+1,b),L=n[C],V=t?t(L):L;_(new Ji(V,L.node,w,null,O))},_=function(T){h?(h.left=T,h=T):(f=T,h=T)};for(let T=0;T<c.count;++T){const w=c.nextBitIsOne(),C=Math.pow(2,c.count-(T+1));w?y(C,Ji.BLACK):(y(C,Ji.BLACK),y(C,Ji.RED))}return f},o=new UK(n.length),l=s(o);return new xo(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rT;const Kc={};class ca{static get Default(){return ye(Kc&&Zr,"ChildrenNode.ts has not been loaded"),rT=rT||new ca({".priority":Kc},{".priority":Zr}),rT}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Bh(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof xo?t:null}hasIndex(e){return Aa(this.indexSet_,e.toString())}addIndex(e,t){ye(e!==Ph,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(It.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=c_(r,e.getCompare()):l=Kc;const c=e.toString(),h=Object.assign({},this.indexSet_);h[c]=e;const f=Object.assign({},this.indexes_);return f[c]=l,new ca(f,h)}addToIndexes(e,t){const r=e_(this.indexes_,(i,s)=>{const o=Bh(this.indexSet_,s);if(ye(o,"Missing index implementation for "+s),i===Kc)if(o.isDefinedOn(e.node)){const l=[],c=t.getIterator(It.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&l.push(h),h=c.getNext();return l.push(e),c_(l,o.getCompare())}else return Kc;else{const l=t.get(e.name);let c=i;return l&&(c=c.remove(new It(e.name,l))),c.insert(e,e.node)}});return new ca(r,this.indexSet_)}removeFromIndexes(e,t){const r=e_(this.indexes_,i=>{if(i===Kc)return i;{const s=t.get(e.name);return s?i.remove(new It(e.name,s)):i}});return new ca(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf;class Ft{static get EMPTY_NODE(){return lf||(lf=new Ft(new xo(fS),null,ca.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lV(this.priorityNode_),this.children_.isEmpty()&&ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||lf}updatePriority(e){return this.children_.isEmpty()?this:new Ft(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?lf:t}}getChild(e){const t=bt(e);return t===null?this:this.getImmediateChild(t).getChild(an(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ye(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new It(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?lf:this.priorityNode_;return new Ft(i,o,s)}}updateChild(e,t){const r=bt(e);if(r===null)return t;{ye(bt(e)!==".priority"||Rl(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(an(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(Zr,(o,l)=>{t[o]=l.val(e),r++,s&&Ft.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in t)o[l]=t[l];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+aV(this.getPriority().val())+":"),this.forEachChild(Zr,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":DL(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new It(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new It(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new It(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,It.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,It.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zp?-1:0}withIndex(e){if(e===Ph||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ft(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ph||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(Zr),i=t.getIterator(Zr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ph?null:this.indexMap_.get(e.toString())}}Ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class BK extends Ft{constructor(){super(new xo(fS),Ft.EMPTY_NODE,ca.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ft.EMPTY_NODE}isEmpty(){return!1}}const Zp=new BK;Object.defineProperties(It,{MIN:{value:new It($h,Ft.EMPTY_NODE)},MAX:{value:new It(Yu,Zp)}});oV.__EMPTY_NODE=Ft.EMPTY_NODE;gr.__childrenNodeConstructor=Ft;MK(Zp);VK(Zp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=!0;function Gr(n,e=null){if(n===null)return Ft.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ye(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new gr(t,Gr(e))}if(!(n instanceof Array)&&$K){const t=[];let r=!1;if(Ns(n,(o,l)=>{if(o.substring(0,1)!=="."){const c=Gr(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new It(o,c)))}}),t.length===0)return Ft.EMPTY_NODE;const s=c_(t,OK,o=>o.name,fS);if(r){const o=c_(t,Zr.getCompare());return new Ft(s,Gr(e),new ca({".priority":o},{".priority":Zr}))}else return new Ft(s,Gr(e),ca.Default)}else{let t=Ft.EMPTY_NODE;return Ns(n,(r,i)=>{if(Aa(n,r)&&r.substring(0,1)!=="."){const s=Gr(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Gr(e))}}LK(Gr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK extends Q_{constructor(e){super(),this.indexPath_=e,ye(!Tt(e)&&bt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?ad(e.name,t.name):s}makePost(e,t){const r=Gr(e),i=Ft.EMPTY_NODE.updateChild(this.indexPath_,r);return new It(t,i)}maxPost(){const e=Ft.EMPTY_NODE.updateChild(this.indexPath_,Zp);return new It(Yu,e)}toString(){return nV(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK extends Q_{compare(e,t){const r=e.node.compareTo(t.node);return r===0?ad(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return It.MIN}maxPost(){return It.MAX}makePost(e,t){const r=Gr(e);return new It(t,r)}toString(){return".value"}}const HK=new WK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(n){return{type:"value",snapshotNode:n}}function GK(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function YK(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ek(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function KK(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$h}hasEnd(){return this.endSet_}getIndexEndValue(){return ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zr}copy(){const e=new pS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tk(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Zr?t="$priority":n.index_===HK?t="$value":n.index_===Ph?t="$key":(ye(n.index_ instanceof zK,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Pr(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Pr(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Pr(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Pr(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Pr(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function nk(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Zr&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends ZL{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ye(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qp("p:rest:"),this.listens_={}}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=h_.getListenId_(e,r),l={};this.listens_[o]=l;const c=tk(e._queryParams);this.restRequest_(s+".json",c,(h,f)=>{let m=f;if(h===404&&(m=null,h=null),h===null&&this.onDataUpdate_(s,m,!1,r),Bh(this.listens_,o)===l){let y;h?h===401?y="permission_denied":y="rest_error:"+h:y="ok",i(y,null)}})}unlisten(e,t){const r=h_.getListenId_(e,t);delete this.listens_[r]}get(e){const t=tk(e._queryParams),r=e._path.toString(),i=new K1;return this.restRequest_(r+".json",t,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+sd(t);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=vp(l.responseText)}catch{os("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&os("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(){return{value:null,children:new Map}}function hV(n,e,t){if(Tt(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=bt(e);n.children.has(r)||n.children.set(r,d_());const i=n.children.get(r);e=an(e),hV(i,e,t)}}function zE(n,e,t){n.value!==null?t(e,n.value):QK(n,(r,i)=>{const s=new un(e.toString()+"/"+r);zE(i,s,t)})}function QK(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ns(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=10*1e3,ZK=30*1e3,eX=5*60*1e3;class tX{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new JK(e);const r=rk+(ZK-rk)*Math.random();Gf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Ns(e,(i,s)=>{s>0&&Aa(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Gf(this.reportStats_.bind(this),Math.floor(Math.random()*2*eX))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(So||(So={}));function dV(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fV(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pV(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=So.ACK_USER_WRITE,this.source=dV()}operationForChild(e){if(Tt(this.path)){if(this.affectedTree.value!=null)return ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new un(e));return new f_(Yt(),t,this.revert)}}else return ye(bt(this.path)===e,"operationForChild called for unrelated child."),new f_(an(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=So.OVERWRITE}operationForChild(e){return Tt(this.path)?new Ku(this.source,Yt(),this.snap.getImmediateChild(e)):new Ku(this.source,an(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=So.MERGE}operationForChild(e){if(Tt(this.path)){const t=this.children.subtree(new un(e));return t.isEmpty()?null:t.value?new Ku(this.source,Yt(),t.value):new Sp(this.source,Yt(),t)}else return ye(bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Sp(this.source,an(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Tt(e))return this.isFullyInitialized()&&!this.filtered_;const t=bt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function nX(n,e,t,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(KK(o.childName,o.snapshotNode))}),uf(n,i,"child_removed",e,r,t),uf(n,i,"child_added",e,r,t),uf(n,i,"child_moved",s,r,t),uf(n,i,"child_changed",e,r,t),uf(n,i,"value",e,r,t),i}function uf(n,e,t,r,i,s){const o=r.filter(l=>l.type===t);o.sort((l,c)=>iX(n,l,c)),o.forEach(l=>{const c=rX(n,l,s);i.forEach(h=>{h.respondsTo(l.type)&&e.push(h.createEvent(c,n.query_))})})}function rX(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function iX(n,e,t){if(e.childName==null||t.childName==null)throw id("Should only compare child_ events.");const r=new It(e.childName,e.snapshotNode),i=new It(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(n,e){return{eventCache:n,serverCache:e}}function Yf(n,e,t,r){return mV(new mS(e,t,r),n.serverCache)}function gV(n,e,t,r){return mV(n.eventCache,new mS(e,t,r))}function WE(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iT;const sX=()=>(iT||(iT=new xo(HY)),iT);class on{static fromObject(e){let t=new on(null);return Ns(e,(r,i)=>{t=t.set(new un(r),i)}),t}constructor(e,t=sX()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Yt(),value:this.value};if(Tt(e))return null;{const r=bt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(an(e),t);return s!=null?{path:vr(new un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Tt(e))return this;{const t=bt(e),r=this.children.get(t);return r!==null?r.subtree(an(e)):new on(null)}}set(e,t){if(Tt(e))return new on(t,this.children);{const r=bt(e),s=(this.children.get(r)||new on(null)).set(an(e),t),o=this.children.insert(r,s);return new on(this.value,o)}}remove(e){if(Tt(e))return this.children.isEmpty()?new on(null):new on(null,this.children);{const t=bt(e),r=this.children.get(t);if(r){const i=r.remove(an(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new on(null):new on(this.value,s)}else return this}}get(e){if(Tt(e))return this.value;{const t=bt(e),r=this.children.get(t);return r?r.get(an(e)):null}}setTree(e,t){if(Tt(e))return t;{const r=bt(e),s=(this.children.get(r)||new on(null)).setTree(an(e),t);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new on(this.value,o)}}fold(e){return this.fold_(Yt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(vr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Yt(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(Tt(e))return null;{const s=bt(e),o=this.children.get(s);return o?o.findOnPath_(an(e),vr(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Yt(),t)}foreachOnPath_(e,t,r){if(Tt(e))return this;{this.value&&r(t,this.value);const i=bt(e),s=this.children.get(i);return s?s.foreachOnPath_(an(e),vr(t,i),r):new on(null)}}foreach(e){this.foreach_(Yt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(vr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.writeTree_=e}static empty(){return new no(new on(null))}}function Kf(n,e,t){if(Tt(e))return new no(new on(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Is(i,e);return s=s.updateChild(o,t),new no(n.writeTree_.set(i,s))}else{const i=new on(t),s=n.writeTree_.setTree(e,i);return new no(s)}}}function ik(n,e,t){let r=n;return Ns(t,(i,s)=>{r=Kf(r,vr(e,i),s)}),r}function sk(n,e){if(Tt(e))return no.empty();{const t=n.writeTree_.setTree(e,new on(null));return new no(t)}}function HE(n,e){return tc(n,e)!=null}function tc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Is(t.path,e)):null}function ok(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Zr,(r,i)=>{e.push(new It(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new It(r,i.value))}),e}function yl(n,e){if(Tt(e))return n;{const t=tc(n,e);return t!=null?new no(new on(t)):new no(n.writeTree_.subtree(e))}}function qE(n){return n.writeTree_.isEmpty()}function zh(n,e){return yV(Yt(),n.writeTree_,e)}function yV(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ye(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=yV(vr(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(vr(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(n,e){return xV(e,n)}function oX(n,e,t,r,i){ye(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Kf(n.visibleWrites,e,t)),n.lastWriteId=r}function aX(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function lX(n,e){const t=n.allWrites.findIndex(l=>l.writeId===e);ye(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const l=n.allWrites[o];l.visible&&(o>=t&&uX(l,r.path)?i=!1:Zs(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return cX(n),!0;if(r.snap)n.visibleWrites=sk(n.visibleWrites,r.path);else{const l=r.children;Ns(l,c=>{n.visibleWrites=sk(n.visibleWrites,vr(r.path,c))})}return!0}else return!1}function uX(n,e){if(n.snap)return Zs(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Zs(vr(n.path,t),e))return!0;return!1}function cX(n){n.visibleWrites=vV(n.allWrites,hX,Yt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function hX(n){return n.visible}function vV(n,e,t){let r=no.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let l;if(s.snap)Zs(t,o)?(l=Is(t,o),r=Kf(r,l,s.snap)):Zs(o,t)&&(l=Is(o,t),r=Kf(r,Yt(),s.snap.getChild(l)));else if(s.children){if(Zs(t,o))l=Is(t,o),r=ik(r,l,s.children);else if(Zs(o,t))if(l=Is(o,t),Tt(l))r=ik(r,Yt(),s.children);else{const c=Bh(s.children,bt(l));if(c){const h=c.getChild(an(l));r=Kf(r,Yt(),h)}}}else throw id("WriteRecord should have .snap or .children")}}return r}function wV(n,e,t,r,i){if(!r&&!i){const s=tc(n.visibleWrites,e);if(s!=null)return s;{const o=yl(n.visibleWrites,e);if(qE(o))return t;if(t==null&&!HE(o,Yt()))return null;{const l=t||Ft.EMPTY_NODE;return zh(o,l)}}}else{const s=yl(n.visibleWrites,e);if(!i&&qE(s))return t;if(!i&&t==null&&!HE(s,Yt()))return null;{const o=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(Zs(h.path,e)||Zs(e,h.path))},l=vV(n.allWrites,o,e),c=t||Ft.EMPTY_NODE;return zh(l,c)}}}function dX(n,e,t){let r=Ft.EMPTY_NODE;const i=tc(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Zr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=yl(n.visibleWrites,e);return t.forEachChild(Zr,(o,l)=>{const c=zh(yl(s,new un(o)),l);r=r.updateImmediateChild(o,c)}),ok(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=yl(n.visibleWrites,e);return ok(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function fX(n,e,t,r,i){ye(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=vr(e,t);if(HE(n.visibleWrites,s))return null;{const o=yl(n.visibleWrites,s);return qE(o)?i.getChild(t):zh(o,i.getChild(t))}}function pX(n,e,t,r){const i=vr(e,t),s=tc(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const o=yl(n.visibleWrites,i);return zh(o,r.getNode().getImmediateChild(t))}else return null}function mX(n,e){return tc(n.visibleWrites,e)}function gX(n,e,t,r,i,s,o){let l;const c=yl(n.visibleWrites,e),h=tc(c,Yt());if(h!=null)l=h;else if(t!=null)l=zh(c,t);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],m=o.getCompare(),y=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=y.getNext();for(;_&&f.length<i;)m(_,r)!==0&&f.push(_),_=y.getNext();return f}else return[]}function yX(){return{visibleWrites:no.empty(),allWrites:[],lastWriteId:-1}}function GE(n,e,t,r){return wV(n.writeTree,n.treePath,e,t,r)}function TV(n,e){return dX(n.writeTree,n.treePath,e)}function ak(n,e,t,r){return fX(n.writeTree,n.treePath,e,t,r)}function p_(n,e){return mX(n.writeTree,vr(n.treePath,e))}function _X(n,e,t,r,i,s){return gX(n.writeTree,n.treePath,e,t,r,i,s)}function gS(n,e,t){return pX(n.writeTree,n.treePath,e,t)}function EV(n,e){return xV(vr(n.treePath,e),n.writeTree)}function xV(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;ye(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ye(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,ek(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,YK(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,GK(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,ek(r,e.snapshotNode,i.oldSnap));else throw id("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const SV=new wX;class yS{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new mS(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gS(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xu(this.viewCache_),s=_X(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}function TX(n,e){ye(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ye(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function EX(n,e,t,r,i){const s=new vX;let o,l;if(t.type===So.OVERWRITE){const h=t;h.source.fromUser?o=YE(n,e,h.path,h.snap,r,i,s):(ye(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered()&&!Tt(h.path),o=m_(n,e,h.path,h.snap,r,i,l,s))}else if(t.type===So.MERGE){const h=t;h.source.fromUser?o=SX(n,e,h.path,h.children,r,i,s):(ye(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered(),o=KE(n,e,h.path,h.children,r,i,l,s))}else if(t.type===So.ACK_USER_WRITE){const h=t;h.revert?o=IX(n,e,h.path,r,i,s):o=CX(n,e,h.path,h.affectedTree,r,i,s)}else if(t.type===So.LISTEN_COMPLETE)o=bX(n,e,t.path,r,s);else throw id("Unknown operation type: "+t.type);const c=s.getChanges();return xX(e,o,c),{viewCache:o,changes:c}}function xX(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=WE(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(qK(WE(e)))}}function CV(n,e,t,r,i,s){const o=e.eventCache;if(p_(r,t)!=null)return e;{let l,c;if(Tt(t))if(ye(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Xu(e),f=h instanceof Ft?h:Ft.EMPTY_NODE,m=TV(r,f);l=n.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const h=GE(r,Xu(e));l=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=bt(t);if(h===".priority"){ye(Rl(t)===1,"Can't have a priority with additional path components");const f=o.getNode();c=e.serverCache.getNode();const m=ak(r,t,f,c);m!=null?l=n.filter.updatePriority(f,m):l=o.getNode()}else{const f=an(t);let m;if(o.isCompleteForChild(h)){c=e.serverCache.getNode();const y=ak(r,t,o.getNode(),c);y!=null?m=o.getNode().getImmediateChild(h).updateChild(f,y):m=o.getNode().getImmediateChild(h)}else m=gS(r,h,e.serverCache);m!=null?l=n.filter.updateChild(o.getNode(),h,m,f,i,s):l=o.getNode()}}return Yf(e,l,o.isFullyInitialized()||Tt(t),n.filter.filtersNodes())}}function m_(n,e,t,r,i,s,o,l){const c=e.serverCache;let h;const f=o?n.filter:n.filter.getIndexedFilter();if(Tt(t))h=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){const _=c.getNode().updateChild(t,r);h=f.updateFullNode(c.getNode(),_,null)}else{const _=bt(t);if(!c.isCompleteForPath(t)&&Rl(t)>1)return e;const T=an(t),C=c.getNode().getImmediateChild(_).updateChild(T,r);_===".priority"?h=f.updatePriority(c.getNode(),C):h=f.updateChild(c.getNode(),_,C,T,SV,null)}const m=gV(e,h,c.isFullyInitialized()||Tt(t),f.filtersNodes()),y=new yS(i,m,s);return CV(n,m,t,i,y,l)}function YE(n,e,t,r,i,s,o){const l=e.eventCache;let c,h;const f=new yS(i,e,s);if(Tt(t))h=n.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Yf(e,h,!0,n.filter.filtersNodes());else{const m=bt(t);if(m===".priority")h=n.filter.updatePriority(e.eventCache.getNode(),r),c=Yf(e,h,l.isFullyInitialized(),l.isFiltered());else{const y=an(t),_=l.getNode().getImmediateChild(m);let T;if(Tt(y))T=r;else{const w=f.getCompleteChild(m);w!=null?tV(y)===".priority"&&w.getChild(rV(y)).isEmpty()?T=w:T=w.updateChild(y,r):T=Ft.EMPTY_NODE}if(_.equals(T))c=e;else{const w=n.filter.updateChild(l.getNode(),m,T,y,f,o);c=Yf(e,w,l.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function lk(n,e){return n.eventCache.isCompleteForChild(e)}function SX(n,e,t,r,i,s,o){let l=e;return r.foreach((c,h)=>{const f=vr(t,c);lk(e,bt(f))&&(l=YE(n,l,f,h,i,s,o))}),r.foreach((c,h)=>{const f=vr(t,c);lk(e,bt(f))||(l=YE(n,l,f,h,i,s,o))}),l}function uk(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function KE(n,e,t,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,h;Tt(t)?h=r:h=new on(null).setTree(t,r);const f=e.serverCache.getNode();return h.children.inorderTraversal((m,y)=>{if(f.hasChild(m)){const _=e.serverCache.getNode().getImmediateChild(m),T=uk(n,_,y);c=m_(n,c,new un(m),T,i,s,o,l)}}),h.children.inorderTraversal((m,y)=>{const _=!e.serverCache.isCompleteForChild(m)&&y.value===null;if(!f.hasChild(m)&&!_){const T=e.serverCache.getNode().getImmediateChild(m),w=uk(n,T,y);c=m_(n,c,new un(m),w,i,s,o,l)}}),c}function CX(n,e,t,r,i,s,o){if(p_(i,t)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Tt(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return m_(n,e,t,c.getNode().getChild(t),i,s,l,o);if(Tt(t)){let h=new on(null);return c.getNode().forEachChild(Ph,(f,m)=>{h=h.set(new un(f),m)}),KE(n,e,t,h,i,s,l,o)}else return e}else{let h=new on(null);return r.foreach((f,m)=>{const y=vr(t,f);c.isCompleteForPath(y)&&(h=h.set(f,c.getNode().getChild(y)))}),KE(n,e,t,h,i,s,l,o)}}function bX(n,e,t,r,i){const s=e.serverCache,o=gV(e,s.getNode(),s.isFullyInitialized()||Tt(t),s.isFiltered());return CV(n,o,t,r,SV,i)}function IX(n,e,t,r,i,s){let o;if(p_(r,t)!=null)return e;{const l=new yS(r,e,i),c=e.eventCache.getNode();let h;if(Tt(t)||bt(t)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=GE(r,Xu(e));else{const m=e.serverCache.getNode();ye(m instanceof Ft,"serverChildren would be complete if leaf node"),f=TV(r,m)}f=f,h=n.filter.updateFullNode(c,f,s)}else{const f=bt(t);let m=gS(r,f,e.serverCache);m==null&&e.serverCache.isCompleteForChild(f)&&(m=c.getImmediateChild(f)),m!=null?h=n.filter.updateChild(c,f,m,an(t),l,s):e.eventCache.getNode().hasChild(f)?h=n.filter.updateChild(c,f,Ft.EMPTY_NODE,an(t),l,s):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=GE(r,Xu(e)),o.isLeafNode()&&(h=n.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||p_(r,Yt())!=null,Yf(e,h,o,n.filter.filtersNodes())}}function AX(n,e){const t=Xu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Tt(e)&&!t.getImmediateChild(bt(e)).isEmpty())?t.getChild(e):null}function ck(n,e,t,r){e.type===So.MERGE&&e.source.queryId!==null&&(ye(Xu(n.viewCache_),"We should always have a full cache before handling merges"),ye(WE(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=EX(n.processor_,i,e,t,r);return TX(n.processor_,s.viewCache),ye(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,RX(n,s.changes,s.viewCache.eventCache.getNode())}function RX(n,e,t,r){const i=n.eventRegistrations_;return nX(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hk;function PX(n){ye(!hk,"__referenceConstructor has already been defined"),hk=n}function _S(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return ye(s!=null,"SyncTree gave us an op for an invalid query."),ck(s,e,t,r)}else{let s=[];for(const o of n.views.values())s=s.concat(ck(o,e,t,r));return s}}function vS(n,e){let t=null;for(const r of n.views.values())t=t||AX(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dk;function kX(n){ye(!dk,"__referenceConstructor has already been defined"),dk=n}class fk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new on(null),this.pendingWriteTree_=yX(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NX(n,e,t,r,i){return oX(n.pendingWriteTree_,e,t,r,i),i?Z_(n,new Ku(dV(),e,t)):[]}function ph(n,e,t=!1){const r=aX(n.pendingWriteTree_,e);if(lX(n.pendingWriteTree_,e)){let s=new on(null);return r.snap!=null?s=s.set(Yt(),!0):Ns(r.children,o=>{s=s.set(new un(o),!0)}),Z_(n,new f_(r.path,s,t))}else return[]}function J_(n,e,t){return Z_(n,new Ku(fV(),e,t))}function DX(n,e,t){const r=on.fromObject(t);return Z_(n,new Sp(fV(),e,r))}function OX(n,e,t,r){const i=RV(n,r);if(i!=null){const s=PV(i),o=s.path,l=s.queryId,c=Is(o,e),h=new Ku(pV(l),c,t);return kV(n,o,h)}else return[]}function MX(n,e,t,r){const i=RV(n,r);if(i){const s=PV(i),o=s.path,l=s.queryId,c=Is(o,e),h=on.fromObject(t),f=new Sp(pV(l),c,h);return kV(n,o,f)}else return[]}function bV(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,l)=>{const c=Is(o,e),h=vS(l,c);if(h)return h});return wV(i,e,s,t,!0)}function Z_(n,e){return IV(e,n.syncPointTree_,null,_V(n.pendingWriteTree_,Yt()))}function IV(n,e,t,r){if(Tt(n.path))return AV(n,e,t,r);{const i=e.get(Yt());t==null&&i!=null&&(t=vS(i,Yt()));let s=[];const o=bt(n.path),l=n.operationForChild(o),c=e.children.get(o);if(c&&l){const h=t?t.getImmediateChild(o):null,f=EV(r,o);s=s.concat(IV(l,c,h,f))}return i&&(s=s.concat(_S(i,n,r,t))),s}}function AV(n,e,t,r){const i=e.get(Yt());t==null&&i!=null&&(t=vS(i,Yt()));let s=[];return e.children.inorderTraversal((o,l)=>{const c=t?t.getImmediateChild(o):null,h=EV(r,o),f=n.operationForChild(o);f&&(s=s.concat(AV(f,l,c,h)))}),i&&(s=s.concat(_S(i,n,r,t))),s}function RV(n,e){return n.tagToQueryMap.get(e)}function PV(n){const e=n.indexOf("$");return ye(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new un(n.substr(0,e))}}function kV(n,e,t){const r=n.syncPointTree_.get(e);ye(r,"Missing sync point for query tag that we're tracking");const i=_V(n.pendingWriteTree_,e);return _S(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new wS(t)}node(){return this.node_}}class TS{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=vr(this.path_,e);return new TS(this.syncTree_,t)}node(){return bV(this.syncTree_,this.path_)}}const LX=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},pk=function(n,e,t){if(!n||typeof n!="object")return n;if(ye(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return VX(n[".sv"],e,t);if(typeof n[".sv"]=="object")return jX(n[".sv"],e);ye(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},VX=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ye(!1,"Unexpected server value: "+n)}},jX=function(n,e,t){n.hasOwnProperty("increment")||ye(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&ye(!1,"Unexpected increment value: "+r);const i=e.node();if(ye(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},FX=function(n,e,t,r){return ES(e,new TS(t,n),r)},UX=function(n,e,t){return ES(n,new wS(e),t)};function ES(n,e,t){const r=n.getPriority().val(),i=pk(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,l=pk(o.getValue(),e,t);return l!==o.getValue()||i!==o.getPriority().val()?new gr(l,Gr(i)):n}else{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new gr(i))),o.forEachChild(Zr,(l,c)=>{const h=ES(c,e.getImmediateChild(l),t);h!==c&&(s=s.updateImmediateChild(l,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function SS(n,e){let t=e instanceof un?e:new un(e),r=n,i=bt(t);for(;i!==null;){const s=Bh(r.node.children,i)||{children:{},childCount:0};r=new xS(i,r,s),t=an(t),i=bt(t)}return r}function ld(n){return n.node.value}function NV(n,e){n.node.value=e,XE(n)}function DV(n){return n.node.childCount>0}function BX(n){return ld(n)===void 0&&!DV(n)}function ev(n,e){Ns(n.node.children,(t,r)=>{e(new xS(t,n,r))})}function OV(n,e,t,r){t&&e(n),ev(n,i=>{OV(i,e,!0)})}function $X(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function em(n){return new un(n.parent===null?n.name:em(n.parent)+"/"+n.name)}function XE(n){n.parent!==null&&zX(n.parent,n.name,n)}function zX(n,e,t){const r=BX(t),i=Aa(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,XE(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,XE(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WX=/[\[\].#$\/\u0000-\u001F\u007F]/,HX=/[\[\].#$\u0000-\u001F\u007F]/,sT=10*1024*1024,MV=function(n){return typeof n=="string"&&n.length!==0&&!WX.test(n)},qX=function(n){return typeof n=="string"&&n.length!==0&&!HX.test(n)},GX=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qX(n)},LV=function(n,e,t){const r=t instanceof un?new bK(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+_u(r));if(typeof e=="function")throw new Error(n+"contains a function "+_u(r)+" with contents = "+e.toString());if(OL(e))throw new Error(n+"contains "+e.toString()+" "+_u(r));if(typeof e=="string"&&e.length>sT/3&&H_(e)>sT)throw new Error(n+"contains a string greater than "+sT+" utf8 bytes "+_u(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ns(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!MV(o)))throw new Error(n+" contains an invalid key ("+o+") "+_u(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);IK(r,o),LV(n,l,r),AK(r)}),i&&s)throw new Error(n+' contains ".value" child '+_u(r)+" in addition to actual children.")}},YX=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!MV(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!GX(t))throw new Error(d7(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function XX(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!iV(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function nc(n,e,t){XX(n,t),QX(n,r=>Zs(r,e)||Zs(e,r))}function QX(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(JX(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function JX(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();qf&&qr("event: "+t.toString()),Jp(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX="repo_interrupt",eQ=25;class tQ{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=d_(),this.transactionQueueTree_=new xS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nQ(n,e,t){if(n.stats_=cS(n.repoInfo_),n.forceRestClient_||QY())n.server_=new h_(n.repoInfo_,(r,i,s,o)=>{mk(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>gk(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new pa(n.repoInfo_,e,(r,i,s,o)=>{mk(n,r,i,s,o)},r=>{gk(n,r)},r=>{iQ(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=nK(n.repoInfo_,()=>new tX(n.stats_,n.server_)),n.infoData_=new XK,n.infoSyncTree_=new fk({startListening:(r,i,s,o)=>{let l=[];const c=n.infoData_.getNode(r._path);return c.isEmpty()||(l=J_(n.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),CS(n,"connected",!1),n.serverSyncTree_=new fk({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(l,c)=>{const h=o(l,c);nc(n.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function rQ(n){const t=n.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function VV(n){return LX({timestamp:rQ(n)})}function mk(n,e,t,r,i){n.dataUpdateCount++;const s=new un(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const c=e_(t,h=>Gr(h));o=MX(n.serverSyncTree_,s,c,i)}else{const c=Gr(t);o=OX(n.serverSyncTree_,s,c,i)}else if(r){const c=e_(t,h=>Gr(h));o=DX(n.serverSyncTree_,s,c)}else{const c=Gr(t);o=J_(n.serverSyncTree_,s,c)}let l=s;o.length>0&&(l=IS(n,s)),nc(n.eventQueue_,l,o)}function gk(n,e){CS(n,"connected",e),e===!1&&oQ(n)}function iQ(n,e){Ns(e,(t,r)=>{CS(n,t,r)})}function CS(n,e,t){const r=new un("/.info/"+e),i=Gr(t);n.infoData_.updateSnapshot(r,i);const s=J_(n.infoSyncTree_,r,i);nc(n.eventQueue_,r,s)}function sQ(n){return n.nextWriteId_++}function oQ(n){jV(n,"onDisconnectEvents");const e=VV(n),t=d_();zE(n.onDisconnect_,Yt(),(i,s)=>{const o=FX(i,s,n.serverSyncTree_,e);hV(t,i,o)});let r=[];zE(t,Yt(),(i,s)=>{r=r.concat(J_(n.serverSyncTree_,i,s));const o=cQ(n,i);IS(n,o)}),n.onDisconnect_=d_(),nc(n.eventQueue_,Yt(),r)}function aQ(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ZX)}function jV(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),qr(t,...e)}function FV(n,e,t){return bV(n.serverSyncTree_,e,t)||Ft.EMPTY_NODE}function bS(n,e=n.transactionQueueTree_){if(e||tv(n,e),ld(e)){const t=BV(n,e);ye(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&lQ(n,em(e),t)}else DV(e)&&ev(e,t=>{bS(n,t)})}function lQ(n,e,t){const r=t.map(h=>h.currentWriteId),i=FV(n,e,r);let s=i;const o=i.hash();for(let h=0;h<t.length;h++){const f=t[h];ye(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const m=Is(e,f.path);s=s.updateChild(m,f.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;n.server_.put(c.toString(),l,h=>{jV(n,"transaction put response",{path:c.toString(),status:h});let f=[];if(h==="ok"){const m=[];for(let y=0;y<t.length;y++)t[y].status=2,f=f.concat(ph(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&m.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();tv(n,SS(n.transactionQueueTree_,e)),bS(n,n.transactionQueueTree_),nc(n.eventQueue_,e,f);for(let y=0;y<m.length;y++)Jp(m[y])}else{if(h==="datastale")for(let m=0;m<t.length;m++)t[m].status===3?t[m].status=4:t[m].status=0;else{os("transaction at "+c.toString()+" failed: "+h);for(let m=0;m<t.length;m++)t[m].status=4,t[m].abortReason=h}IS(n,e)}},o)}function IS(n,e){const t=UV(n,e),r=em(t),i=BV(n,t);return uQ(n,i,r),r}function uQ(n,e,t){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],h=Is(t,c.path);let f=!1,m;if(ye(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)f=!0,m=c.abortReason,i=i.concat(ph(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=eQ)f=!0,m="maxretry",i=i.concat(ph(n.serverSyncTree_,c.currentWriteId,!0));else{const y=FV(n,c.path,o);c.currentInputSnapshot=y;const _=e[l].update(y.val());if(_!==void 0){LV("transaction failed: Data returned ",_,c.path);let T=Gr(_);typeof _=="object"&&_!=null&&Aa(_,".priority")||(T=T.updatePriority(y.getPriority()));const C=c.currentWriteId,b=VV(n),O=UX(T,y,b);c.currentOutputSnapshotRaw=T,c.currentOutputSnapshotResolved=O,c.currentWriteId=sQ(n),o.splice(o.indexOf(C),1),i=i.concat(NX(n.serverSyncTree_,c.path,O,c.currentWriteId,c.applyLocally)),i=i.concat(ph(n.serverSyncTree_,C,!0))}else f=!0,m="nodata",i=i.concat(ph(n.serverSyncTree_,c.currentWriteId,!0))}nc(n.eventQueue_,t,i),i=[],f&&(e[l].status=2,function(y){setTimeout(y,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(m==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(m),!1,null))))}tv(n,n.transactionQueueTree_);for(let l=0;l<r.length;l++)Jp(r[l]);bS(n,n.transactionQueueTree_)}function UV(n,e){let t,r=n.transactionQueueTree_;for(t=bt(e);t!==null&&ld(r)===void 0;)r=SS(r,t),e=an(e),t=bt(e);return r}function BV(n,e){const t=[];return $V(n,e,t),t.sort((r,i)=>r.order-i.order),t}function $V(n,e,t){const r=ld(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);ev(e,i=>{$V(n,i,t)})}function tv(n,e){const t=ld(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,NV(e,t.length>0?t:void 0)}ev(e,r=>{tv(n,r)})}function cQ(n,e){const t=em(UV(n,e)),r=SS(n.transactionQueueTree_,e);return $X(r,i=>{oT(n,i)}),oT(n,r),OV(r,i=>{oT(n,i)}),t}function oT(n,e){const t=ld(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(ye(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(ye(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(ph(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?NV(e,void 0):t.length=s+1,nc(n.eventQueue_,em(e),i);for(let o=0;o<r.length;o++)Jp(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hQ(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function dQ(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):os(`Invalid query segment '${t}' in query '${n}'`)}return e}const yk=function(n,e){const t=fQ(n),r=t.namespace;t.domain==="firebase.com"&&Sa(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Sa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||zY();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new qL(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new un(t.pathString)}},fQ=function(n){let e="",t="",r="",i="",s="",o=!0,l="https",c=443;if(typeof n=="string"){let h=n.indexOf("//");h>=0&&(l=n.substring(0,h-1),n=n.substring(h+2));let f=n.indexOf("/");f===-1&&(f=n.length);let m=n.indexOf("?");m===-1&&(m=n.length),e=n.substring(0,Math.min(f,m)),f<m&&(i=hQ(n.substring(f,m)));const y=dQ(n.substring(Math.min(n.length,m)));h=e.indexOf(":"),h>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;const _=e.slice(0,h);if(_.toLowerCase()==="localhost")t="localhost";else if(_.split(".").length<=2)t=_;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),t=e.substring(T+1),s=r}"ns"in y&&(s=y.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Tt(this._path)?null:tV(this._path)}get ref(){return new ud(this._repo,this._path)}get _queryIdentifier(){const e=nk(this._queryParams),t=lS(e);return t==="{}"?"default":t}get _queryObject(){return nk(this._queryParams)}isEqual(e){if(e=ni(e),!(e instanceof AS))return!1;const t=this._repo===e._repo,r=iV(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+CK(this._path)}}class ud extends AS{constructor(e,t){super(e,t,new pS,!1)}get parent(){const e=rV(this._path);return e===null?null:new ud(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}PX(ud);kX(ud);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ="FIREBASE_DATABASE_EMULATOR_HOST",QE={};let mQ=!1;function gQ(n,e,t,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=jl(s);n.repoInfo_=new qL(e,o,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function yQ(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||Sa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=yk(s,i),l=o.repoInfo,c;typeof process<"u"&&VP&&(c=VP[pQ]),c?(s=`http://${c}?ns=${l.namespace}`,o=yk(s,i),l=o.repoInfo):o.repoInfo.secure;const h=new ZY(n.name,n.options,e);YX("Invalid Firebase Database URL",o),Tt(o.path)||Sa("Database URL must point to the root of a Firebase Database (not including a child path).");const f=vQ(l,n,h,new JY(n,t));return new wQ(f,n)}function _Q(n,e){const t=QE[e];(!t||t[n.key]!==n)&&Sa(`Database ${e}(${n.repoInfo_}) has already been deleted.`),aQ(n),delete t[n.key]}function vQ(n,e,t,r){let i=QE[e.name];i||(i={},QE[e.name]=i);let s=i[n.toURLString()];return s&&Sa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new tQ(n,mQ,t,r),i[n.toURLString()]=s,s}class wQ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nQ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ud(this._repo,Yt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_Q(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Sa("Cannot call "+e+" on a deleted database.")}}function TQ(n=G_(),e){const t=Hp(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=Y1("database");r&&EQ(t,...r)}return t}function EQ(n,e,t,r={}){n=ni(n),n._checkNotDeleted("useEmulator");const i=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&Il(r,s.repoInfo_.emulatorOptions))return;Sa("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Sa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xy(xy.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:X1(r.mockUserToken,n.app.options.projectId);o=new xy(l)}jl(e)&&(z_(e),W_("Database",!0)),gQ(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(n){VY(Fl),Al(new Ta("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return yQ(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),Ps(jP,FP,n),Ps(jP,FP,"esm2017")}pa.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};pa.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};xQ();var _k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _l,zV;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function P(){}P.prototype=R.prototype,k.D=R.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(N,j,B){for(var M=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)M[ne-2]=arguments[ne];return R.prototype[j].apply(N,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,P){P||(P=0);var N=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)N[j]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(j=0;16>j;++j)N[j]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=k.g[0],P=k.g[1],j=k.g[2];var B=k.g[3],M=R+(B^P&(j^B))+N[0]+3614090360&4294967295;R=P+(M<<7&4294967295|M>>>25),M=B+(j^R&(P^j))+N[1]+3905402710&4294967295,B=R+(M<<12&4294967295|M>>>20),M=j+(P^B&(R^P))+N[2]+606105819&4294967295,j=B+(M<<17&4294967295|M>>>15),M=P+(R^j&(B^R))+N[3]+3250441966&4294967295,P=j+(M<<22&4294967295|M>>>10),M=R+(B^P&(j^B))+N[4]+4118548399&4294967295,R=P+(M<<7&4294967295|M>>>25),M=B+(j^R&(P^j))+N[5]+1200080426&4294967295,B=R+(M<<12&4294967295|M>>>20),M=j+(P^B&(R^P))+N[6]+2821735955&4294967295,j=B+(M<<17&4294967295|M>>>15),M=P+(R^j&(B^R))+N[7]+4249261313&4294967295,P=j+(M<<22&4294967295|M>>>10),M=R+(B^P&(j^B))+N[8]+1770035416&4294967295,R=P+(M<<7&4294967295|M>>>25),M=B+(j^R&(P^j))+N[9]+2336552879&4294967295,B=R+(M<<12&4294967295|M>>>20),M=j+(P^B&(R^P))+N[10]+4294925233&4294967295,j=B+(M<<17&4294967295|M>>>15),M=P+(R^j&(B^R))+N[11]+2304563134&4294967295,P=j+(M<<22&4294967295|M>>>10),M=R+(B^P&(j^B))+N[12]+1804603682&4294967295,R=P+(M<<7&4294967295|M>>>25),M=B+(j^R&(P^j))+N[13]+4254626195&4294967295,B=R+(M<<12&4294967295|M>>>20),M=j+(P^B&(R^P))+N[14]+2792965006&4294967295,j=B+(M<<17&4294967295|M>>>15),M=P+(R^j&(B^R))+N[15]+1236535329&4294967295,P=j+(M<<22&4294967295|M>>>10),M=R+(j^B&(P^j))+N[1]+4129170786&4294967295,R=P+(M<<5&4294967295|M>>>27),M=B+(P^j&(R^P))+N[6]+3225465664&4294967295,B=R+(M<<9&4294967295|M>>>23),M=j+(R^P&(B^R))+N[11]+643717713&4294967295,j=B+(M<<14&4294967295|M>>>18),M=P+(B^R&(j^B))+N[0]+3921069994&4294967295,P=j+(M<<20&4294967295|M>>>12),M=R+(j^B&(P^j))+N[5]+3593408605&4294967295,R=P+(M<<5&4294967295|M>>>27),M=B+(P^j&(R^P))+N[10]+38016083&4294967295,B=R+(M<<9&4294967295|M>>>23),M=j+(R^P&(B^R))+N[15]+3634488961&4294967295,j=B+(M<<14&4294967295|M>>>18),M=P+(B^R&(j^B))+N[4]+3889429448&4294967295,P=j+(M<<20&4294967295|M>>>12),M=R+(j^B&(P^j))+N[9]+568446438&4294967295,R=P+(M<<5&4294967295|M>>>27),M=B+(P^j&(R^P))+N[14]+3275163606&4294967295,B=R+(M<<9&4294967295|M>>>23),M=j+(R^P&(B^R))+N[3]+4107603335&4294967295,j=B+(M<<14&4294967295|M>>>18),M=P+(B^R&(j^B))+N[8]+1163531501&4294967295,P=j+(M<<20&4294967295|M>>>12),M=R+(j^B&(P^j))+N[13]+2850285829&4294967295,R=P+(M<<5&4294967295|M>>>27),M=B+(P^j&(R^P))+N[2]+4243563512&4294967295,B=R+(M<<9&4294967295|M>>>23),M=j+(R^P&(B^R))+N[7]+1735328473&4294967295,j=B+(M<<14&4294967295|M>>>18),M=P+(B^R&(j^B))+N[12]+2368359562&4294967295,P=j+(M<<20&4294967295|M>>>12),M=R+(P^j^B)+N[5]+4294588738&4294967295,R=P+(M<<4&4294967295|M>>>28),M=B+(R^P^j)+N[8]+2272392833&4294967295,B=R+(M<<11&4294967295|M>>>21),M=j+(B^R^P)+N[11]+1839030562&4294967295,j=B+(M<<16&4294967295|M>>>16),M=P+(j^B^R)+N[14]+4259657740&4294967295,P=j+(M<<23&4294967295|M>>>9),M=R+(P^j^B)+N[1]+2763975236&4294967295,R=P+(M<<4&4294967295|M>>>28),M=B+(R^P^j)+N[4]+1272893353&4294967295,B=R+(M<<11&4294967295|M>>>21),M=j+(B^R^P)+N[7]+4139469664&4294967295,j=B+(M<<16&4294967295|M>>>16),M=P+(j^B^R)+N[10]+3200236656&4294967295,P=j+(M<<23&4294967295|M>>>9),M=R+(P^j^B)+N[13]+681279174&4294967295,R=P+(M<<4&4294967295|M>>>28),M=B+(R^P^j)+N[0]+3936430074&4294967295,B=R+(M<<11&4294967295|M>>>21),M=j+(B^R^P)+N[3]+3572445317&4294967295,j=B+(M<<16&4294967295|M>>>16),M=P+(j^B^R)+N[6]+76029189&4294967295,P=j+(M<<23&4294967295|M>>>9),M=R+(P^j^B)+N[9]+3654602809&4294967295,R=P+(M<<4&4294967295|M>>>28),M=B+(R^P^j)+N[12]+3873151461&4294967295,B=R+(M<<11&4294967295|M>>>21),M=j+(B^R^P)+N[15]+530742520&4294967295,j=B+(M<<16&4294967295|M>>>16),M=P+(j^B^R)+N[2]+3299628645&4294967295,P=j+(M<<23&4294967295|M>>>9),M=R+(j^(P|~B))+N[0]+4096336452&4294967295,R=P+(M<<6&4294967295|M>>>26),M=B+(P^(R|~j))+N[7]+1126891415&4294967295,B=R+(M<<10&4294967295|M>>>22),M=j+(R^(B|~P))+N[14]+2878612391&4294967295,j=B+(M<<15&4294967295|M>>>17),M=P+(B^(j|~R))+N[5]+4237533241&4294967295,P=j+(M<<21&4294967295|M>>>11),M=R+(j^(P|~B))+N[12]+1700485571&4294967295,R=P+(M<<6&4294967295|M>>>26),M=B+(P^(R|~j))+N[3]+2399980690&4294967295,B=R+(M<<10&4294967295|M>>>22),M=j+(R^(B|~P))+N[10]+4293915773&4294967295,j=B+(M<<15&4294967295|M>>>17),M=P+(B^(j|~R))+N[1]+2240044497&4294967295,P=j+(M<<21&4294967295|M>>>11),M=R+(j^(P|~B))+N[8]+1873313359&4294967295,R=P+(M<<6&4294967295|M>>>26),M=B+(P^(R|~j))+N[15]+4264355552&4294967295,B=R+(M<<10&4294967295|M>>>22),M=j+(R^(B|~P))+N[6]+2734768916&4294967295,j=B+(M<<15&4294967295|M>>>17),M=P+(B^(j|~R))+N[13]+1309151649&4294967295,P=j+(M<<21&4294967295|M>>>11),M=R+(j^(P|~B))+N[4]+4149444226&4294967295,R=P+(M<<6&4294967295|M>>>26),M=B+(P^(R|~j))+N[11]+3174756917&4294967295,B=R+(M<<10&4294967295|M>>>22),M=j+(R^(B|~P))+N[2]+718787259&4294967295,j=B+(M<<15&4294967295|M>>>17),M=P+(B^(j|~R))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+B&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var P=R-this.blockSize,N=this.B,j=this.h,B=0;B<R;){if(j==0)for(;B<=P;)i(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<R;)if(N[j++]=k.charCodeAt(B++),j==this.blockSize){i(this,N),j=0;break}}else for(;B<R;)if(N[j++]=k[B++],j==this.blockSize){i(this,N),j=0;break}}this.h=j,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var P=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=P&255,P/=256;for(this.u(k),k=Array(16),R=P=0;4>R;++R)for(var N=0;32>N;N+=8)k[P++]=this.g[R]>>>N&255;return k};function s(k,R){var P=l;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=R(k)}function o(k,R){this.h=R;for(var P=[],N=!0,j=k.length-1;0<=j;j--){var B=k[j]|0;N&&B==R||(P[j]=B,N=!1)}this.g=P}var l={};function c(k){return-128<=k&&128>k?s(k,function(R){return new o([R|0],0>R?-1:0)}):new o([k|0],0>k?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return m;if(0>k)return C(h(-k));for(var R=[],P=1,N=0;k>=P;N++)R[N]=k/P|0,P*=4294967296;return new o(R,0)}function f(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return C(f(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=h(Math.pow(R,8)),N=m,j=0;j<k.length;j+=8){var B=Math.min(8,k.length-j),M=parseInt(k.substring(j,j+B),R);8>B?(B=h(Math.pow(R,B)),N=N.j(B).add(h(M))):(N=N.j(P),N=N.add(h(M)))}return N}var m=c(0),y=c(1),_=c(16777216);n=o.prototype,n.m=function(){if(w(this))return-C(this).m();for(var k=0,R=1,P=0;P<this.g.length;P++){var N=this.i(P);k+=(0<=N?N:4294967296+N)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(w(this))return"-"+C(this).toString(k);for(var R=h(Math.pow(k,6)),P=this,N="";;){var j=V(P,R).g;P=b(P,j.j(R));var B=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=j,T(P))return B+N;for(;6>B.length;)B="0"+B;N=B+N}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function w(k){return k.h==-1}n.l=function(k){return k=b(this,k),w(k)?-1:T(k)?0:1};function C(k){for(var R=k.g.length,P=[],N=0;N<R;N++)P[N]=~k.g[N];return new o(P,~k.h).add(y)}n.abs=function(){return w(this)?C(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),P=[],N=0,j=0;j<=R;j++){var B=N+(this.i(j)&65535)+(k.i(j)&65535),M=(B>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);N=M>>>16,B&=65535,M&=65535,P[j]=M<<16|B}return new o(P,P[P.length-1]&-2147483648?-1:0)};function b(k,R){return k.add(C(R))}n.j=function(k){if(T(this)||T(k))return m;if(w(this))return w(k)?C(this).j(C(k)):C(C(this).j(k));if(w(k))return C(this.j(C(k)));if(0>this.l(_)&&0>k.l(_))return h(this.m()*k.m());for(var R=this.g.length+k.g.length,P=[],N=0;N<2*R;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var j=0;j<k.g.length;j++){var B=this.i(N)>>>16,M=this.i(N)&65535,ne=k.i(j)>>>16,ae=k.i(j)&65535;P[2*N+2*j]+=M*ae,O(P,2*N+2*j),P[2*N+2*j+1]+=B*ae,O(P,2*N+2*j+1),P[2*N+2*j+1]+=M*ne,O(P,2*N+2*j+1),P[2*N+2*j+2]+=B*ne,O(P,2*N+2*j+2)}for(N=0;N<R;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=R;N<2*R;N++)P[N]=0;return new o(P,0)};function O(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function L(k,R){this.g=k,this.h=R}function V(k,R){if(T(R))throw Error("division by zero");if(T(k))return new L(m,m);if(w(k))return R=V(C(k),R),new L(C(R.g),C(R.h));if(w(R))return R=V(k,C(R)),new L(C(R.g),R.h);if(30<k.g.length){if(w(k)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var P=y,N=R;0>=N.l(k);)P=U(P),N=U(N);var j=W(P,1),B=W(N,1);for(N=W(N,2),P=W(P,2);!T(N);){var M=B.add(N);0>=M.l(k)&&(j=j.add(P),B=M),N=W(N,1),P=W(P,1)}return R=b(k,j.j(R)),new L(j,R)}for(j=m;0<=k.l(R);){for(P=Math.max(1,Math.floor(k.m()/R.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),B=h(P),M=B.j(R);w(M)||0<M.l(k);)P-=N,B=h(P),M=B.j(R);T(B)&&(B=y),j=j.add(B),k=b(k,M)}return new L(j,k)}n.A=function(k){return V(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),P=[],N=0;N<R;N++)P[N]=this.i(N)&k.i(N);return new o(P,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),P=[],N=0;N<R;N++)P[N]=this.i(N)|k.i(N);return new o(P,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),P=[],N=0;N<R;N++)P[N]=this.i(N)^k.i(N);return new o(P,this.h^k.h)};function U(k){for(var R=k.g.length+1,P=[],N=0;N<R;N++)P[N]=k.i(N)<<1|k.i(N-1)>>>31;return new o(P,k.h)}function W(k,R){var P=R>>5;R%=32;for(var N=k.g.length-P,j=[],B=0;B<N;B++)j[B]=0<R?k.i(B+P)>>>R|k.i(B+P+1)<<32-R:k.i(B+P);return new o(j,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zV=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,_l=o}).apply(typeof _k<"u"?_k:typeof self<"u"?self:typeof window<"u"?window:{});var qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WV,Ef,HV,Cy,JE,qV,GV,YV;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,x,I){return p==Array.prototype||p==Object.prototype||(p[x]=I.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof qg=="object"&&qg];for(var x=0;x<p.length;++x){var I=p[x];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(p,x){if(x)e:{var I=r;p=p.split(".");for(var F=0;F<p.length-1;F++){var Y=p[F];if(!(Y in I))break e;I=I[Y]}p=p[p.length-1],F=I[p],x=x(F),x!=F&&x!=null&&e(I,p,{configurable:!0,writable:!0,value:x})}}function s(p,x){p instanceof String&&(p+="");var I=0,F=!1,Y={next:function(){if(!F&&I<p.length){var ee=I++;return{value:x(ee,p[ee]),done:!1}}return F=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return s(this,function(x,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(p){var x=typeof p;return x=x!="object"?x:p?Array.isArray(p)?"array":x:"null",x=="array"||x=="object"&&typeof p.length=="number"}function h(p){var x=typeof p;return x=="object"&&p!=null||x=="function"}function f(p,x,I){return p.call.apply(p.bind,arguments)}function m(p,x,I){if(!p)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,F),p.apply(x,Y)}}return function(){return p.apply(x,arguments)}}function y(p,x,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,y.apply(null,arguments)}function _(p,x){var I=Array.prototype.slice.call(arguments,1);return function(){var F=I.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function T(p,x){function I(){}I.prototype=x.prototype,p.aa=x.prototype,p.prototype=new I,p.prototype.constructor=p,p.Qb=function(F,Y,ee){for(var me=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)me[Wt-2]=arguments[Wt];return x.prototype[Y].apply(F,me)}}function w(p){const x=p.length;if(0<x){const I=Array(x);for(let F=0;F<x;F++)I[F]=p[F];return I}return[]}function C(p,x){for(let I=1;I<arguments.length;I++){const F=arguments[I];if(c(F)){const Y=p.length||0,ee=F.length||0;p.length=Y+ee;for(let me=0;me<ee;me++)p[Y+me]=F[me]}else p.push(F)}}class b{constructor(x,I){this.i=x,this.j=I,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function O(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=l.navigator;return p&&(p=p.userAgent)?p:""}function V(p){return V[" "](p),p}V[" "]=function(){};var U=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function W(p,x,I){for(const F in p)x.call(I,p[F],F,p)}function k(p,x){for(const I in p)x.call(void 0,p[I],I,p)}function R(p){const x={};for(const I in p)x[I]=p[I];return x}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(p,x){let I,F;for(let Y=1;Y<arguments.length;Y++){F=arguments[Y];for(I in F)p[I]=F[I];for(let ee=0;ee<P.length;ee++)I=P[ee],Object.prototype.hasOwnProperty.call(F,I)&&(p[I]=F[I])}}function j(p){var x=1;p=p.split(":");const I=[];for(;0<x&&p.length;)I.push(p.shift()),x--;return p.length&&I.push(p.join(":")),I}function B(p){l.setTimeout(()=>{throw p},0)}function M(){var p=ue;let x=null;return p.g&&(x=p.g,p.g=p.g.next,p.g||(p.h=null),x.next=null),x}class ne{constructor(){this.h=this.g=null}add(x,I){const F=ae.get();F.set(x,I),this.h?this.h.next=F:this.g=F,this.h=F}}var ae=new b(()=>new fe,p=>p.reset());class fe{constructor(){this.next=this.g=this.h=null}set(x,I){this.h=x,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let re,te=!1,ue=new ne,$=()=>{const p=l.Promise.resolve(void 0);re=()=>{p.then(H)}};var H=()=>{for(var p;p=M();){try{p.h.call(p.g)}catch(I){B(I)}var x=ae;x.j(p),100>x.h&&(x.h++,p.next=x.g,x.g=p)}te=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(p,x){this.type=p,this.g=this.target=x,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,x=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};l.addEventListener("test",I,x),l.removeEventListener("test",I,x)}catch{}return p}();function Ee(p,x){if(ge.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var I=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=x,x=p.relatedTarget){if(U){e:{try{V(x.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(x=null)}}else I=="mouseover"?x=p.fromElement:I=="mouseout"&&(x=p.toElement);this.relatedTarget=x,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Re[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ee.aa.h.call(this)}}T(Ee,ge);var Re={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ve(p,x,I,F,Y){this.listener=p,this.proxy=null,this.src=x,this.type=I,this.capture=!!F,this.ha=Y,this.key=++Oe,this.da=this.fa=!1}function _t(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Mt(p){this.src=p,this.g={},this.h=0}Mt.prototype.add=function(p,x,I,F,Y){var ee=p.toString();p=this.g[ee],p||(p=this.g[ee]=[],this.h++);var me=Ge(p,x,F,Y);return-1<me?(x=p[me],I||(x.fa=!1)):(x=new Ve(x,this.src,ee,!!F,Y),x.fa=I,p.push(x)),x};function Bt(p,x){var I=x.type;if(I in p.g){var F=p.g[I],Y=Array.prototype.indexOf.call(F,x,void 0),ee;(ee=0<=Y)&&Array.prototype.splice.call(F,Y,1),ee&&(_t(x),p.g[I].length==0&&(delete p.g[I],p.h--))}}function Ge(p,x,I,F){for(var Y=0;Y<p.length;++Y){var ee=p[Y];if(!ee.da&&ee.listener==x&&ee.capture==!!I&&ee.ha==F)return Y}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),At={};function vt(p,x,I,F,Y){if(Array.isArray(x)){for(var ee=0;ee<x.length;ee++)vt(p,x[ee],I,F,Y);return null}return I=st(I),p&&p[xe]?p.K(x,I,h(F)?!!F.capture:!1,Y):J(p,x,I,!1,F,Y)}function J(p,x,I,F,Y,ee){if(!x)throw Error("Invalid event type");var me=h(Y)?!!Y.capture:!!Y,Wt=xt(p);if(Wt||(p[ze]=Wt=new Mt(p)),I=Wt.add(x,I,F,me,ee),I.proxy)return I;if(F=cn(),I.proxy=F,F.src=p,F.listener=I,p.addEventListener)_e||(Y=me),Y===void 0&&(Y=!1),p.addEventListener(x.toString(),F,Y);else if(p.attachEvent)p.attachEvent(ce(x.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return I}function cn(){function p(I){return x.call(p.src,p.listener,I)}const x=nt;return p}function Rn(p,x,I,F,Y){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)Rn(p,x[ee],I,F,Y);else F=h(F)?!!F.capture:!!F,I=st(I),p&&p[xe]?(p=p.i,x=String(x).toString(),x in p.g&&(ee=p.g[x],I=Ge(ee,I,F,Y),-1<I&&(_t(ee[I]),Array.prototype.splice.call(ee,I,1),ee.length==0&&(delete p.g[x],p.h--)))):p&&(p=xt(p))&&(x=p.g[x.toString()],p=-1,x&&(p=Ge(x,I,F,Y)),(I=-1<p?x[p]:null)&&Pn(I))}function Pn(p){if(typeof p!="number"&&p&&!p.da){var x=p.src;if(x&&x[xe])Bt(x.i,p);else{var I=p.type,F=p.proxy;x.removeEventListener?x.removeEventListener(I,F,p.capture):x.detachEvent?x.detachEvent(ce(I),F):x.addListener&&x.removeListener&&x.removeListener(F),(I=xt(x))?(Bt(I,p),I.h==0&&(I.src=null,x[ze]=null)):_t(p)}}}function ce(p){return p in At?At[p]:At[p]="on"+p}function nt(p,x){if(p.da)p=!0;else{x=new Ee(x,this);var I=p.listener,F=p.ha||p.src;p.fa&&Pn(p),p=I.call(F,x)}return p}function xt(p){return p=p[ze],p instanceof Mt?p:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(p){return typeof p=="function"?p:(p[Kt]||(p[Kt]=function(x){return p.handleEvent(x)}),p[Kt])}function pt(){Z.call(this),this.i=new Mt(this),this.M=this,this.F=null}T(pt,Z),pt.prototype[xe]=!0,pt.prototype.removeEventListener=function(p,x,I,F){Rn(this,p,x,I,F)};function Ye(p,x){var I,F=p.F;if(F)for(I=[];F;F=F.F)I.push(F);if(p=p.M,F=x.type||x,typeof x=="string")x=new ge(x,p);else if(x instanceof ge)x.target=x.target||p;else{var Y=x;x=new ge(F,p),N(x,Y)}if(Y=!0,I)for(var ee=I.length-1;0<=ee;ee--){var me=x.g=I[ee];Y=Ht(me,F,!0,x)&&Y}if(me=x.g=p,Y=Ht(me,F,!0,x)&&Y,Y=Ht(me,F,!1,x)&&Y,I)for(ee=0;ee<I.length;ee++)me=x.g=I[ee],Y=Ht(me,F,!1,x)&&Y}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var p=this.i,x;for(x in p.g){for(var I=p.g[x],F=0;F<I.length;F++)_t(I[F]);delete p.g[x],p.h--}}this.F=null},pt.prototype.K=function(p,x,I,F){return this.i.add(String(p),x,!1,I,F)},pt.prototype.L=function(p,x,I,F){return this.i.add(String(p),x,!0,I,F)};function Ht(p,x,I,F){if(x=p.i.g[String(x)],!x)return!0;x=x.concat();for(var Y=!0,ee=0;ee<x.length;++ee){var me=x[ee];if(me&&!me.da&&me.capture==I){var Wt=me.listener,Zn=me.ha||me.src;me.fa&&Bt(p.i,me),Y=Wt.call(Zn,F)!==!1&&Y}}return Y&&!F.defaultPrevented}function Jt(p,x,I){if(typeof p=="function")I&&(p=y(p,I));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:l.setTimeout(p,x||0)}function Nt(p){p.g=Jt(()=>{p.g=null,p.i&&(p.i=!1,Nt(p))},p.l);const x=p.h;p.h=null,p.m.apply(null,x)}class $n extends Z{constructor(x,I){super(),this.m=x,this.l=I,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mt(p){Z.call(this),this.h=p,this.g={}}T(mt,Z);var ar=[];function kn(p){W(p.g,function(x,I){this.g.hasOwnProperty(I)&&Pn(x)},p),p.g={}}mt.prototype.N=function(){mt.aa.N.call(this),kn(this)},mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _i=l.JSON.stringify,ri=l.JSON.parse,Tr=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function Jn(){}Jn.prototype.h=null;function Qe(p){return p.h||(p.h=p.i())}function Er(){}var Zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nn(){ge.call(this,"d")}T(nn,ge);function Rt(){ge.call(this,"c")}T(Rt,ge);var Pt={},xr=null;function rt(){return xr=xr||new pt}Pt.La="serverreachability";function Nn(p){ge.call(this,Pt.La,p)}T(Nn,ge);function Fe(p){const x=rt();Ye(x,new Nn(x))}Pt.STAT_EVENT="statevent";function ke(p,x){ge.call(this,Pt.STAT_EVENT,p),this.stat=x}T(ke,ge);function Me(p){const x=rt();Ye(x,new ke(x,p))}Pt.Ma="timingevent";function pe(p,x){ge.call(this,Pt.Ma,p),this.size=x}T(pe,ge);function Ne(p,x){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},x)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function je(p,x,I,F,Y,ee){p.info(function(){if(p.g)if(ee)for(var me="",Wt=ee.split("&"),Zn=0;Zn<Wt.length;Zn++){var St=Wt[Zn].split("=");if(1<St.length){var cr=St[0];St=St[1];var zn=cr.split("_");me=2<=zn.length&&zn[1]=="type"?me+(cr+"="+St+"&"):me+(cr+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+F+") [attempt "+Y+"]: "+x+`
`+I+`
`+me})}function $t(p,x,I,F,Y,ee,me){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+Y+"]: "+x+`
`+I+`
`+ee+" "+me})}function We(p,x,I,F){p.info(function(){return"XMLHTTP TEXT ("+x+"): "+hn(p,I)+(F?" "+F:"")})}function zt(p,x){p.info(function(){return"TIMEOUT: "+x})}Se.prototype.info=function(){};function hn(p,x){if(!p.g)return x;if(!x)return null;try{var I=JSON.parse(x);if(I){for(p=0;p<I.length;p++)if(Array.isArray(I[p])){var F=I[p];if(!(2>F.length)){var Y=F[1];if(Array.isArray(Y)&&!(1>Y.length)){var ee=Y[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<Y.length;me++)Y[me]=""}}}}return _i(I)}catch{return x}}var Dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},it;function Le(){}T(Le,Jn),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},it=new Le;function De(p,x,I,F){this.j=p,this.i=x,this.l=I,this.R=F||1,this.U=new mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}var qt={},gt={};function Gt(p,x,I){p.L=1,p.v=Oa(zi(x)),p.m=I,p.P=!0,dn(p,null)}function dn(p,x){p.F=Date.now(),et(p),p.A=zi(p.v);var I=p.A,F=p.R;Array.isArray(F)||(F=[String(F)]),La(I.i,"t",F),p.C=0,I=p.j.J,p.h=new ot,p.g=Am(p.j,I?x:null,!p.m),0<p.O&&(p.M=new $n(y(p.Y,p,p.g),p.O)),x=p.U,I=p.g,F=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ar[0]=Y.toString()),Y=ar);for(var ee=0;ee<Y.length;ee++){var me=vt(I,Y[ee],F||x.handleEvent,!1,x.h||x);if(!me)break;x.g[me.key]=me}x=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,x)):(p.u="GET",p.g.ea(p.A,p.u,null,x)),Fe(),je(p.i,p.u,p.A,p.l,p.R,p.m)}De.prototype.ca=function(p){p=p.target;const x=this.M;x&&Ti(p)==3?x.j():this.Y(p)},De.prototype.Y=function(p){try{if(p==this.g)e:{const zn=Ti(this.g);var x=this.g.Ba();const hs=this.g.Z();if(!(3>zn)&&(zn!=3||this.g&&(this.h.h||this.g.oa()||Td(this.g)))){this.J||zn!=4||x==7||(x==8||0>=hs?Fe(3):Fe(2)),lr(this);var I=this.g.Z();this.X=I;t:if(vi(this)){var F=Td(this.g);p="";var Y=F.length,ee=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),us(this);var me="";break t}this.h.i=new l.TextDecoder}for(x=0;x<Y;x++)this.h.h=!0,p+=this.h.i.decode(F[x],{stream:!(ee&&x==Y-1)});F.length=0,this.h.g+=p,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=I==200,$t(this.i,this.u,this.A,this.l,this.R,zn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,Zn=this.g;if((Wt=Zn.g?Zn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Wt)){var St=Wt;break t}}St=null}if(I=St)We(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,I);else{this.o=!1,this.s=3,Me(12),ii(this),us(this);break e}}if(this.P){I=!0;let Hi;for(;!this.J&&this.C<me.length;)if(Hi=Pa(this,me),Hi==gt){zn==4&&(this.s=4,Me(14),I=!1),We(this.i,this.l,null,"[Incomplete Response]");break}else if(Hi==qt){this.s=4,Me(15),We(this.i,this.l,me,"[Invalid Chunk]"),I=!1;break}else We(this.i,this.l,Hi,null),Os(this,Hi);if(vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zn!=4||me.length!=0||this.h.h||(this.s=1,Me(16),I=!1),this.o=this.o&&I,!I)We(this.i,this.l,me,"[Invalid Chunked Response]"),ii(this),us(this);else if(0<me.length&&!this.W){this.W=!0;var cr=this.j;cr.g==this&&cr.ba&&!cr.M&&(cr.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),xd(cr),cr.M=!0,Me(11))}}else We(this.i,this.l,me,null),Os(this,me);zn==4&&ii(this),this.o&&!this.J&&(zn==4?Tc(this.j,this):(this.o=!1,et(this)))}else gc(this.g),I==400&&0<me.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),ii(this),us(this)}}}catch{}finally{}};function vi(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Pa(p,x){var I=p.C,F=x.indexOf(`
`,I);return F==-1?gt:(I=Number(x.substring(I,F)),isNaN(I)?qt:(F+=1,F+I>x.length?gt:(x=x.slice(F,F+I),p.C=F+I,x)))}De.prototype.cancel=function(){this.J=!0,ii(this)};function et(p){p.S=Date.now()+p.I,fn(p,p.I)}function fn(p,x){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ne(y(p.ba,p),x)}function lr(p){p.B&&(l.clearTimeout(p.B),p.B=null)}De.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(zt(this.i,this.A),this.L!=2&&(Fe(),Me(17)),ii(this),this.s=2,us(this)):fn(this,this.S-p)};function us(p){p.j.G==0||p.J||Tc(p.j,p)}function ii(p){lr(p);var x=p.M;x&&typeof x.ma=="function"&&x.ma(),p.M=null,kn(p.U),p.g&&(x=p.g,p.g=null,x.abort(),x.ma())}function Os(p,x){try{var I=p.j;if(I.G!=0&&(I.g==p||oi(I.h,p))){if(!p.K&&oi(I.h,p)&&I.G==3){try{var F=I.Da.g.parse(x)}catch{F=null}if(Array.isArray(F)&&F.length==3){var Y=F;if(Y[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<p.F)wc(I),Fs(I);else break e;vc(I),Me(18)}}else I.za=Y[1],0<I.za-I.T&&37500>Y[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ne(y(I.Za,I),6e3));if(1>=$i(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Go(I,11)}else if((p.K||I.g==p)&&wc(I),!O(x))for(Y=I.Da.g.parse(x),x=0;x<Y.length;x++){let St=Y[x];if(I.T=St[0],St=St[1],I.G==2)if(St[0]=="c"){I.K=St[1],I.ia=St[2];const cr=St[3];cr!=null&&(I.la=cr,I.j.info("VER="+I.la));const zn=St[4];zn!=null&&(I.Aa=zn,I.j.info("SVER="+I.Aa));const hs=St[5];hs!=null&&typeof hs=="number"&&0<hs&&(F=1.5*hs,I.L=F,I.j.info("backChannelRequestTimeoutMs_="+F)),F=I;const Hi=p.g;if(Hi){const Xl=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xl){var ee=F.h;ee.g||Xl.indexOf("spdy")==-1&&Xl.indexOf("quic")==-1&&Xl.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(yd(ee,ee.h),ee.h=null))}if(F.D){const xc=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;xc&&(F.ya=xc,Xt(F.I,F.D,xc))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-p.F,I.j.info("Handshake RTT: "+I.R+"ms")),F=I;var me=p;if(F.qa=Im(F,F.J?F.ia:null,F.W),me.K){mm(F.h,me);var Wt=me,Zn=F.L;Zn&&(Wt.I=Zn),Wt.B&&(lr(Wt),et(Wt)),F.g=me}else Kl(F);0<I.i.length&&uo(I)}else St[0]!="stop"&&St[0]!="close"||Go(I,7);else I.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Go(I,7):Cr(I):St[0]!="noop"&&I.l&&I.l.ta(St),I.v=0)}}Fe(4)}catch{}}var si=class{constructor(p,x){this.g=p,this.map=x}};function Bi(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ur(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function $i(p){return p.h?1:p.g?p.g.size:0}function oi(p,x){return p.h?p.h==x:p.g?p.g.has(x):!1}function yd(p,x){p.g?p.g.add(x):p.h=x}function mm(p,x){p.h&&p.h==x?p.h=null:p.g&&p.g.has(x)&&p.g.delete(x)}Bi.prototype.cancel=function(){if(this.i=gm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function gm(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let x=p.i;for(const I of p.g.values())x=x.concat(I.D);return x}return w(p.i)}function hc(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var x=[],I=p.length,F=0;F<I;F++)x.push(p[F]);return x}x=[],I=0;for(F in p)x[I++]=p[F];return x}function dc(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var x=[];p=p.length;for(var I=0;I<p;I++)x.push(I);return x}x=[],I=0;for(const F in p)x[I++]=F;return x}}}function ka(p,x){if(p.forEach&&typeof p.forEach=="function")p.forEach(x,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,x,void 0);else for(var I=dc(p),F=hc(p),Y=F.length,ee=0;ee<Y;ee++)x.call(void 0,F[ee],I&&I[ee],p)}var Hl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kv(p,x){if(p){p=p.split("&");for(var I=0;I<p.length;I++){var F=p[I].indexOf("="),Y=null;if(0<=F){var ee=p[I].substring(0,F);Y=p[I].substring(F+1)}else ee=p[I];x(ee,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function zo(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof zo){this.h=p.h,ql(this,p.j),this.o=p.o,this.g=p.g,Na(this,p.s),this.l=p.l;var x=p.i,I=new oo;I.i=x.i,x.g&&(I.g=new Map(x.g),I.h=x.h),Da(this,I),this.m=p.m}else p&&(x=String(p).match(Hl))?(this.h=!1,ql(this,x[1]||"",!0),this.o=wt(x[2]||""),this.g=wt(x[3]||"",!0),Na(this,x[4]),this.l=wt(x[5]||"",!0),Da(this,x[6]||"",!0),this.m=wt(x[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}zo.prototype.toString=function(){var p=[],x=this.j;x&&p.push(Ma(x,fc,!0),":");var I=this.g;return(I||x=="file")&&(p.push("//"),(x=this.o)&&p.push(Ma(x,fc,!0),"@"),p.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&p.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(Ma(I,I.charAt(0)=="/"?vm:_m,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",Ma(I,_d)),p.join("")};function zi(p){return new zo(p)}function ql(p,x,I){p.j=I?wt(x,!0):x,p.j&&(p.j=p.j.replace(/:$/,""))}function Na(p,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);p.s=x}else p.s=null}function Da(p,x,I){x instanceof oo?(p.i=x,ao(p.i,p.h)):(I||(x=Ma(x,wm)),p.i=new oo(x,p.h))}function Xt(p,x,I){p.i.set(x,I)}function Oa(p){return Xt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function wt(p,x){return p?x?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ma(p,x,I){return typeof p=="string"?(p=encodeURI(p).replace(x,ym),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ym(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var fc=/[#\/\?@]/g,_m=/[#\?:]/g,vm=/[#\?]/g,wm=/[#\?@]/g,_d=/#/g;function oo(p,x){this.h=this.g=null,this.i=p||null,this.j=!!x}function Sr(p){p.g||(p.g=new Map,p.h=0,p.i&&kv(p.i,function(x,I){p.add(decodeURIComponent(x.replace(/\+/g," ")),I)}))}n=oo.prototype,n.add=function(p,x){Sr(this),this.i=null,p=cs(this,p);var I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(x),this.h+=1,this};function Ms(p,x){Sr(p),x=cs(p,x),p.g.has(x)&&(p.i=null,p.h-=p.g.get(x).length,p.g.delete(x))}function Ls(p,x){return Sr(p),x=cs(p,x),p.g.has(x)}n.forEach=function(p,x){Sr(this),this.g.forEach(function(I,F){I.forEach(function(Y){p.call(x,Y,F,this)},this)},this)},n.na=function(){Sr(this);const p=Array.from(this.g.values()),x=Array.from(this.g.keys()),I=[];for(let F=0;F<x.length;F++){const Y=p[F];for(let ee=0;ee<Y.length;ee++)I.push(x[F])}return I},n.V=function(p){Sr(this);let x=[];if(typeof p=="string")Ls(this,p)&&(x=x.concat(this.g.get(cs(this,p))));else{p=Array.from(this.g.values());for(let I=0;I<p.length;I++)x=x.concat(p[I])}return x},n.set=function(p,x){return Sr(this),this.i=null,p=cs(this,p),Ls(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[x]),this.h+=1,this},n.get=function(p,x){return p?(p=this.V(p),0<p.length?String(p[0]):x):x};function La(p,x,I){Ms(p,x),0<I.length&&(p.i=null,p.g.set(cs(p,x),w(I)),p.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],x=Array.from(this.g.keys());for(var I=0;I<x.length;I++){var F=x[I];const ee=encodeURIComponent(String(F)),me=this.V(F);for(F=0;F<me.length;F++){var Y=ee;me[F]!==""&&(Y+="="+encodeURIComponent(String(me[F]))),p.push(Y)}}return this.i=p.join("&")};function cs(p,x){return x=String(x),p.j&&(x=x.toLowerCase()),x}function ao(p,x){x&&!p.j&&(Sr(p),p.i=null,p.g.forEach(function(I,F){var Y=F.toLowerCase();F!=Y&&(Ms(this,F),La(this,Y,I))},p)),p.j=x}function Nv(p,x){const I=new Se;if(l.Image){const F=new Image;F.onload=_(wi,I,"TestLoadImage: loaded",!0,x,F),F.onerror=_(wi,I,"TestLoadImage: error",!1,x,F),F.onabort=_(wi,I,"TestLoadImage: abort",!1,x,F),F.ontimeout=_(wi,I,"TestLoadImage: timeout",!1,x,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else x(!1)}function Tm(p,x){const I=new Se,F=new AbortController,Y=setTimeout(()=>{F.abort(),wi(I,"TestPingServer: timeout",!1,x)},1e4);fetch(p,{signal:F.signal}).then(ee=>{clearTimeout(Y),ee.ok?wi(I,"TestPingServer: ok",!0,x):wi(I,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),wi(I,"TestPingServer: error",!1,x)})}function wi(p,x,I,F,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),F(I)}catch{}}function Dv(){this.g=new Tr}function Em(p,x,I){const F=I||"";try{ka(p,function(Y,ee){let me=Y;h(Y)&&(me=_i(Y)),x.push(F+ee+"="+encodeURIComponent(me))})}catch(Y){throw x.push(F+"type="+encodeURIComponent("_badmap")),Y}}function Wo(p){this.l=p.Ub||null,this.j=p.eb||!1}T(Wo,Jn),Wo.prototype.g=function(){return new Gl(this.l,this.j)},Wo.prototype.i=function(p){return function(){return p}}({});function Gl(p,x){pt.call(this),this.D=p,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Gl,pt),n=Gl.prototype,n.open=function(p,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=x,this.readyState=1,js(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(x.body=p),(this.D||l).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xm(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function xm(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var x=p.value?p.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!p.done}))&&(this.response=this.responseText+=x)}p.done?Vs(this):js(this),this.readyState==3&&xm(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Vs(this))},n.Qa=function(p){this.g&&(this.response=p,Vs(this))},n.ga=function(){this.g&&Vs(this)};function Vs(p){p.readyState=4,p.l=null,p.j=null,p.v=null,js(p)}n.setRequestHeader=function(p,x){this.u.append(p,x)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],x=this.h.entries();for(var I=x.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=x.next();return p.join(`\r
`)};function js(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ho(p){let x="";return W(p,function(I,F){x+=F,x+=":",x+=I,x+=`\r
`}),x}function Va(p,x,I){e:{for(F in I){var F=!1;break e}F=!0}F||(I=Ho(I),typeof p=="string"?I!=null&&encodeURIComponent(String(I)):Xt(p,x,I))}function pn(p){pt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(pn,pt);var Ov=/^https?$/i,vd=["POST","PUT"];n=pn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,x,I,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);x=x?x.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():it.g(),this.v=this.o?Qe(this.o):Qe(it),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(x,String(p),!0),this.B=!1}catch(ee){Yl(this,ee);return}if(p=I||"",I=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var Y in F)I.set(Y,F[Y]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ee of F.keys())I.set(ee,F.get(ee));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(I.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=l.FormData&&p instanceof l.FormData,!(0<=Array.prototype.indexOf.call(vd,x,void 0))||F||Y||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of I)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mc(this),this.u=!0,this.g.send(p),this.u=!1}catch(ee){Yl(this,ee)}};function Yl(p,x){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=x,p.m=5,pc(p),Wi(p)}function pc(p){p.A||(p.A=!0,Ye(p,"complete"),Ye(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ye(this,"complete"),Ye(this,"abort"),Wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),pn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wd(this):this.bb())},n.bb=function(){wd(this)};function wd(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Ti(p)!=4||p.Z()!=2)){if(p.u&&Ti(p)==4)Jt(p.Ea,0,p);else if(Ye(p,"readystatechange"),Ti(p)==4){p.h=!1;try{const me=p.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var I;if(!(I=x)){var F;if(F=me===0){var Y=String(p.D).match(Hl)[1]||null;!Y&&l.self&&l.self.location&&(Y=l.self.location.protocol.slice(0,-1)),F=!Ov.test(Y?Y.toLowerCase():"")}I=F}if(I)Ye(p,"complete"),Ye(p,"success");else{p.m=6;try{var ee=2<Ti(p)?p.g.statusText:""}catch{ee=""}p.l=ee+" ["+p.Z()+"]",pc(p)}}finally{Wi(p)}}}}function Wi(p,x){if(p.g){mc(p);const I=p.g,F=p.v[0]?()=>{}:null;p.g=null,p.v=null,x||Ye(p,"ready");try{I.onreadystatechange=F}catch{}}}function mc(p){p.I&&(l.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Ti(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var x=this.g.responseText;return p&&x.indexOf(p)==0&&(x=x.substring(p.length)),ri(x)}};function Td(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function gc(p){const x={};p=(p.g&&2<=Ti(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(O(p[F]))continue;var I=j(p[F]);const Y=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ee=x[Y]||[];x[Y]=ee,ee.push(I)}k(x,function(F){return F.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lo(p,x,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||x}function Ed(p){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,p),this.cb=lo("retryDelaySeedMs",1e4,p),this.Wa=lo("forwardChannelMaxRetries",2,p),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(p&&p.concurrentRequestLimit),this.Da=new Dv,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ed.prototype,n.la=8,n.G=1,n.connect=function(p,x,I,F){Me(0),this.W=p,this.H=x||{},I&&F!==void 0&&(this.H.OSID=I,this.H.OAID=F),this.F=this.X,this.I=Im(this,null,this.W),uo(this)};function Cr(p){if(yc(p),p.G==3){var x=p.U++,I=zi(p.I);if(Xt(I,"SID",p.K),Xt(I,"RID",x),Xt(I,"TYPE","terminate"),qo(p,I),x=new De(p,p.j,x),x.L=2,x.v=Oa(zi(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(x.v.toString(),"")}catch{}!I&&l.Image&&(new Image().src=x.v,I=!0),I||(x.g=Am(x.j,null),x.g.ea(x.v)),x.F=Date.now(),et(x)}bm(p)}function Fs(p){p.g&&(xd(p),p.g.cancel(),p.g=null)}function yc(p){Fs(p),p.u&&(l.clearTimeout(p.u),p.u=null),wc(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&l.clearTimeout(p.s),p.s=null)}function uo(p){if(!ur(p.h)&&!p.s){p.s=!0;var x=p.Ga;re||$(),te||(re(),te=!0),ue.add(x,p),p.B=0}}function Mv(p,x){return $i(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=x.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ne(y(p.Ga,p,x),Cm(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new De(this,this.j,p);let ee=this.o;if(this.S&&(ee?(ee=R(ee),N(ee,this.S)):ee=this.S),this.m!==null||this.O||(Y.H=ee,ee=null),this.P)e:{for(var x=0,I=0;I<this.i.length;I++){t:{var F=this.i[I];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(x+=F,4096<x){x=I;break e}if(x===4096||I===this.i.length-1){x=I+1;break e}}x=1e3}else x=1e3;x=ja(this,Y,x),I=zi(this.I),Xt(I,"RID",p),Xt(I,"CVER",22),this.D&&Xt(I,"X-HTTP-Session-Id",this.D),qo(this,I),ee&&(this.O?x="headers="+encodeURIComponent(String(Ho(ee)))+"&"+x:this.m&&Va(I,this.m,ee)),yd(this.h,Y),this.Ua&&Xt(I,"TYPE","init"),this.P?(Xt(I,"$req",x),Xt(I,"SID","null"),Y.T=!0,Gt(Y,I,null)):Gt(Y,I,x),this.G=2}}else this.G==3&&(p?_c(this,p):this.i.length==0||ur(this.h)||_c(this))};function _c(p,x){var I;x?I=x.l:I=p.U++;const F=zi(p.I);Xt(F,"SID",p.K),Xt(F,"RID",I),Xt(F,"AID",p.T),qo(p,F),p.m&&p.o&&Va(F,p.m,p.o),I=new De(p,p.j,I,p.B+1),p.m===null&&(I.H=p.o),x&&(p.i=x.D.concat(p.i)),x=ja(p,I,1e3),I.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),yd(p.h,I),Gt(I,F,x)}function qo(p,x){p.H&&W(p.H,function(I,F){Xt(x,F,I)}),p.l&&ka({},function(I,F){Xt(x,F,I)})}function ja(p,x,I){I=Math.min(p.i.length,I);var F=p.l?y(p.l.Na,p.l,p):null;e:{var Y=p.i;let ee=-1;for(;;){const me=["count="+I];ee==-1?0<I?(ee=Y[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let Wt=!0;for(let Zn=0;Zn<I;Zn++){let St=Y[Zn].g;const cr=Y[Zn].map;if(St-=ee,0>St)ee=Math.max(0,Y[Zn].g-100),Wt=!1;else try{Em(cr,me,"req"+St+"_")}catch{F&&F(cr)}}if(Wt){F=me.join("&");break e}}}return p=p.i.splice(0,I),x.D=p,F}function Kl(p){if(!p.g&&!p.u){p.Y=1;var x=p.Fa;re||$(),te||(re(),te=!0),ue.add(x,p),p.v=0}}function vc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ne(y(p.Fa,p),Cm(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Sm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ne(y(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),Fs(this),Sm(this))};function xd(p){p.A!=null&&(l.clearTimeout(p.A),p.A=null)}function Sm(p){p.g=new De(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var x=zi(p.qa);Xt(x,"RID","rpc"),Xt(x,"SID",p.K),Xt(x,"AID",p.T),Xt(x,"CI",p.F?"0":"1"),!p.F&&p.ja&&Xt(x,"TO",p.ja),Xt(x,"TYPE","xmlhttp"),qo(p,x),p.m&&p.o&&Va(x,p.m,p.o),p.L&&(p.g.I=p.L);var I=p.g;p=p.ia,I.L=1,I.v=Oa(zi(x)),I.m=null,I.P=!0,dn(I,p)}n.Za=function(){this.C!=null&&(this.C=null,Fs(this),vc(this),Me(19))};function wc(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function Tc(p,x){var I=null;if(p.g==x){wc(p),xd(p),p.g=null;var F=2}else if(oi(p.h,x))I=x.D,mm(p.h,x),F=1;else return;if(p.G!=0){if(x.o)if(F==1){I=x.m?x.m.length:0,x=Date.now()-x.F;var Y=p.B;F=rt(),Ye(F,new pe(F,I)),uo(p)}else Kl(p);else if(Y=x.s,Y==3||Y==0&&0<x.X||!(F==1&&Mv(p,x)||F==2&&vc(p)))switch(I&&0<I.length&&(x=p.h,x.i=x.i.concat(I)),Y){case 1:Go(p,5);break;case 4:Go(p,10);break;case 3:Go(p,6);break;default:Go(p,2)}}}function Cm(p,x){let I=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(I*=2),I*x}function Go(p,x){if(p.j.info("Error code "+x),x==2){var I=y(p.fb,p),F=p.Xa;const Y=!F;F=new zo(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ql(F,"https"),Oa(F),Y?Nv(F.toString(),I):Tm(F.toString(),I)}else Me(2);p.G=0,p.l&&p.l.sa(x),bm(p),yc(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function bm(p){if(p.G=0,p.ka=[],p.l){const x=gm(p.h);(x.length!=0||p.i.length!=0)&&(C(p.ka,x),C(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function Im(p,x,I){var F=I instanceof zo?zi(I):new zo(I);if(F.g!="")x&&(F.g=x+"."+F.g),Na(F,F.s);else{var Y=l.location;F=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;var ee=new zo(null);F&&ql(ee,F),x&&(ee.g=x),Y&&Na(ee,Y),I&&(ee.l=I),F=ee}return I=p.D,x=p.ya,I&&x&&Xt(F,I,x),Xt(F,"VER",p.la),qo(p,F),F}function Am(p,x,I){if(x&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=p.Ca&&!p.pa?new pn(new Wo({eb:I})):new pn(p.pa),x.Ha(p.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sd(){}n=Sd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ec(){}Ec.prototype.g=function(p,x){return new ai(p,x)};function ai(p,x){pt.call(this),this.g=new Ed(x),this.l=p,this.h=x&&x.messageUrlParams||null,p=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(p?p["X-WebChannel-Content-Type"]=x.messageContentType:p={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(p?p["X-WebChannel-Client-Profile"]=x.va:p={"X-WebChannel-Client-Profile":x.va}),this.g.S=p,(p=x&&x.Sb)&&!O(p)&&(this.g.m=p),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.D=x,p=this.h,p!==null&&x in p&&(p=this.h,x in p&&delete p[x])),this.j=new co(this)}T(ai,pt),ai.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){Cr(this.g)},ai.prototype.o=function(p){var x=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.u&&(I={},I.__data__=_i(p),p=I);x.i.push(new si(x.Ya++,p)),x.G==3&&uo(x)},ai.prototype.N=function(){this.g.l=null,delete this.j,Cr(this.g),delete this.g,ai.aa.N.call(this)};function Rm(p){nn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var x=p.__sm__;if(x){e:{for(const I in x){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,x=x!==null&&p in x?x[p]:void 0),this.data=x}else this.data=p}T(Rm,nn);function Pm(){Rt.call(this),this.status=1}T(Pm,Rt);function co(p){this.g=p}T(co,Sd),co.prototype.ua=function(){Ye(this.g,"a")},co.prototype.ta=function(p){Ye(this.g,new Rm(p))},co.prototype.sa=function(p){Ye(this.g,new Pm)},co.prototype.ra=function(){Ye(this.g,"b")},Ec.prototype.createWebChannel=Ec.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,YV=function(){return new Ec},GV=function(){return rt()},qV=Pt,JE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,Cy=Dt,Lt.COMPLETE="complete",HV=Lt,Er.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ef=Er,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,WV=pn}).apply(typeof qg<"u"?qg:typeof self<"u"?self:typeof window<"u"?window:{});const vk="@firebase/firestore",wk="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new q_("@firebase/firestore");function eh(){return Qu.logLevel}function we(n,...e){if(Qu.logLevel<=dt.DEBUG){const t=e.map(RS);Qu.debug(`Firestore (${cd}): ${n}`,...t)}}function Ca(n,...e){if(Qu.logLevel<=dt.ERROR){const t=e.map(RS);Qu.error(`Firestore (${cd}): ${n}`,...t)}}function Wh(n,...e){if(Qu.logLevel<=dt.WARN){const t=e.map(RS);Qu.warn(`Firestore (${cd}): ${n}`,...t)}}function RS(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,KV(n,r,t)}function KV(n,e,t){let r=`FIRESTORE (${cd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ca(r),new Error(r)}function Ut(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||KV(e,i,r)}function Ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Bo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hr.UNAUTHENTICATED))}shutdown(){}}class CQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bQ{constructor(e){this.t=e,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ut(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new vl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vl)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut(typeof r.accessToken=="string",31837,{l:r}),new XV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ut(e===null||typeof e=="string",2055,{h:e}),new Hr(e)}}class IQ{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AQ{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new IQ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RQ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ut(this.o===void 0,3512);const r=s=>{s.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=PQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function lt(n,e){return n<e?-1:n>e?1:0}function ZE(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return lt(r,i);{const s=QV(),o=kQ(s.encode(Ek(n,t)),s.encode(Ek(e,t)));return o!==0?o:lt(r,i)}}t+=r>65535?2:1}return lt(n.length,e.length)}function Ek(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function kQ(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return lt(n[t],e[t]);return lt(n.length,e.length)}function Hh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=-62135596800,Sk=1e6;class ir{static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Sk);return new ir(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xk)throw new Ie(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sk}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new ir(0,0))}static max(){return new Je(new ir(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="__name__";class vo{constructor(e,t,r){t===void 0?t=0:t>e.length&&qe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&qe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return vo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=vo.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return lt(e.length,t.length)}static compareSegments(e,t){const r=vo.isNumericId(e),i=vo.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?vo.extractNumericId(e).compare(vo.extractNumericId(t)):ZE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _l.fromString(e.substring(4,e.length-2))}}class ln extends vo{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const NQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends vo{construct(e,t,r){return new kr(e,t,r)}static isValidIdentifier(e){return NQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ck}static keyField(){return new kr([Ck])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ie(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ie(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Ie(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kr(t)}static emptyPath(){return new kr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(ln.fromString(e))}static fromName(e){return new Ue(ln.fromString(e).popFirst(5))}static empty(){return new Ue(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new ln(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function DQ(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new ir(t+1,0):new ir(t,r));return new Pl(i,Ue.empty(),e)}function OQ(n){return new Pl(n.readTime,n.key,Cp)}class Pl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pl(Je.min(),Ue.empty(),Cp)}static max(){return new Pl(Je.max(),Ue.empty(),Cp)}}function MQ(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:lt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==LQ)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;t(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new ie((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function jQ(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}nv.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=-1;function rv(n){return n==null}function g_(n){return n===0&&1/n==-1/0}function FQ(n){return typeof n=="number"&&Number.isInteger(n)&&!g_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="";function UQ(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bk(e)),e=BQ(n.get(t),e);return bk(e)}function BQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case ZV:t+="";break;default:t+=s}}return t}function bk(n){return n+ZV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ej(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t){this.comparator=e,this.root=t||Rr.EMPTY}insert(e,t){return new An(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(e){return new An(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gg(this.root,e,this.comparator,!0)}}class Gg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Rr.RED,this.left=i??Rr.EMPTY,this.right=s??Rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Rr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1;Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Rr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ak(this.data.getIterator())}getIteratorFrom(e){return new Ak(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sr(this.comparator);return t.data=e,t}}class Ak{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.fields=e,e.sort(kr.comparator)}static empty(){return new eo([])}unionWith(e){let t=new sr(kr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new eo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tj("Invalid base64 string: "+s):s}}(e);return new Mr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const $Q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kl(n){if(Ut(!!n,39018),typeof n=="string"){let e=0;const t=$Q.exec(n);if(Ut(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nl(n){return typeof n=="string"?Mr.fromBase64String(n):Mr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="server_timestamp",rj="__type__",ij="__previous_value__",sj="__local_write_time__";function kS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rj])===null||t===void 0?void 0:t.stringValue)===nj}function iv(n){const e=n.mapValue.fields[ij];return kS(e)?iv(e):e}function bp(n){const e=kl(n.mapValue.fields[sj].timestampValue);return new ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e,t,r,i,s,o,l,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f}}const y_="(default)";class Ip{constructor(e,t){this.projectId=e,this.database=t||y_}static empty(){return new Ip("","")}get isDefaultDatabase(){return this.database===y_}isEqual(e){return e instanceof Ip&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="__type__",WQ="__max__",Yg={mapValue:{}},aj="__vector__",__="value";function Dl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kS(n)?4:qQ(n)?9007199254740991:HQ(n)?10:11:qe(28295,{value:n})}function Vo(n,e){if(n===e)return!0;const t=Dl(n);if(t!==Dl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bp(n).isEqual(bp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=kl(i.timestampValue),l=kl(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Nl(i.bytesValue).isEqual(Nl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Un(i.geoPointValue.latitude)===Un(s.geoPointValue.latitude)&&Un(i.geoPointValue.longitude)===Un(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Un(i.integerValue)===Un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Un(i.doubleValue),l=Un(s.doubleValue);return o===l?g_(o)===g_(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return Hh(n.arrayValue.values||[],e.arrayValue.values||[],Vo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Ik(o)!==Ik(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Vo(o[c],l[c])))return!1;return!0}(n,e);default:return qe(52216,{left:n})}}function Ap(n,e){return(n.values||[]).find(t=>Vo(t,e))!==void 0}function qh(n,e){if(n===e)return 0;const t=Dl(n),r=Dl(e);if(t!==r)return lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Un(s.integerValue||s.doubleValue),c=Un(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,e);case 3:return Rk(n.timestampValue,e.timestampValue);case 4:return Rk(bp(n),bp(e));case 5:return ZE(n.stringValue,e.stringValue);case 6:return function(s,o){const l=Nl(s),c=Nl(o);return l.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=lt(l[h],c[h]);if(f!==0)return f}return lt(l.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const l=lt(Un(s.latitude),Un(o.latitude));return l!==0?l:lt(Un(s.longitude),Un(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Pk(n.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,h,f;const m=s.fields||{},y=o.fields||{},_=(l=m[__])===null||l===void 0?void 0:l.arrayValue,T=(c=y[__])===null||c===void 0?void 0:c.arrayValue,w=lt(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:Pk(_,T)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Yg.mapValue&&o===Yg.mapValue)return 0;if(s===Yg.mapValue)return 1;if(o===Yg.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const y=ZE(c[m],f[m]);if(y!==0)return y;const _=qh(l[c[m]],h[f[m]]);if(_!==0)return _}return lt(c.length,f.length)}(n.mapValue,e.mapValue);default:throw qe(23264,{Pe:t})}}function Rk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return lt(n,e);const t=kl(n),r=kl(e),i=lt(t.seconds,r.seconds);return i!==0?i:lt(t.nanos,r.nanos)}function Pk(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=qh(t[i],r[i]);if(s)return s}return lt(t.length,r.length)}function Gh(n){return ex(n)}function ex(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=kl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Nl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=ex(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ex(t.fields[o])}`;return i+"}"}(n.mapValue):qe(61005,{value:n})}function by(n){switch(Dl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=iv(n);return e?16+by(e):16;case 5:return 2*n.stringValue.length;case 6:return Nl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+by(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return rc(r.fields,(s,o)=>{i+=s.length+by(o)}),i}(n.mapValue);default:throw qe(13486,{value:n})}}function kk(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tx(n){return!!n&&"integerValue"in n}function NS(n){return!!n&&"arrayValue"in n}function Nk(n){return!!n&&"nullValue"in n}function Dk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Iy(n){return!!n&&"mapValue"in n}function HQ(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[oj])===null||t===void 0?void 0:t.stringValue)===aj}function Xf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qQ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.value=e}static empty(){return new Ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Iy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xf(t)}setAll(e){let t=kr.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=l.popLast()}o?r[l.lastSegment()]=Xf(o):i.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ss(Xf(this.value))}}function lj(n){const e=[];return rc(n.fields,(t,r)=>{const i=new kr([t]);if(Iy(r)){const s=lj(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new eo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,t,r,i,s,o,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Yr(e,0,Je.min(),Je.min(),Je.min(),Ss.empty(),0)}static newFoundDocument(e,t,r,i){return new Yr(e,1,t,Je.min(),r,i,0)}static newNoDocument(e,t){return new Yr(e,2,t,Je.min(),Je.min(),Ss.empty(),0)}static newUnknownDocument(e,t){return new Yr(e,3,t,Je.min(),Je.min(),Ss.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t){this.position=e,this.inclusive=t}}function Ok(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Ue.comparator(Ue.fromName(o.referenceValue),t.key):r=qh(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t="asc"){this.field=e,this.dir=t}}function GQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{}class Qn extends uj{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new KQ(e,t,r):t==="array-contains"?new JQ(e,r):t==="in"?new ZQ(e,r):t==="not-in"?new eJ(e,r):t==="array-contains-any"?new tJ(e,r):new Qn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new XQ(e,r):new QQ(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(qh(t,this.value)):t!==null&&Dl(this.value)===Dl(t)&&this.matchesComparison(qh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class io extends uj{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new io(e,t)}matches(e){return cj(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cj(n){return n.op==="and"}function hj(n){return YQ(n)&&cj(n)}function YQ(n){for(const e of n.filters)if(e instanceof io)return!1;return!0}function nx(n){if(n instanceof Qn)return n.field.canonicalString()+n.op.toString()+Gh(n.value);if(hj(n))return n.filters.map(e=>nx(e)).join(",");{const e=n.filters.map(t=>nx(t)).join(",");return`${n.op}(${e})`}}function dj(n,e){return n instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.field.isEqual(i.field)&&Vo(r.value,i.value)}(n,e):n instanceof io?function(r,i){return i instanceof io&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&dj(o,i.filters[l]),!0):!1}(n,e):void qe(19439)}function fj(n){return n instanceof Qn?function(t){return`${t.field.canonicalString()} ${t.op} ${Gh(t.value)}`}(n):n instanceof io?function(t){return t.op.toString()+" {"+t.getFilters().map(fj).join(" ,")+"}"}(n):"Filter"}class KQ extends Qn{constructor(e,t,r){super(e,t,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class XQ extends Qn{constructor(e,t){super(e,"in",t),this.keys=pj("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QQ extends Qn{constructor(e,t){super(e,"not-in",t),this.keys=pj("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pj(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class JQ extends Qn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return NS(t)&&Ap(t.arrayValue,this.value)}}class ZQ extends Qn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ap(this.value.arrayValue,t)}}class eJ extends Qn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ap(this.value.arrayValue,t)}}class tJ extends Qn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!NS(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ap(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,t=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Ie=null}}function Lk(n,e=null,t=[],r=[],i=null,s=null,o=null){return new nJ(n,e,t,r,i,s,o)}function DS(n){const e=Ze(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gh(r)).join(",")),e.Ie=t}return e.Ie}function OS(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GQ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mk(n.startAt,e.startAt)&&Mk(n.endAt,e.endAt)}function rx(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rJ(n,e,t,r,i,s,o,l){return new tm(n,e,t,r,i,s,o,l)}function mj(n){return new tm(n)}function Vk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gj(n){return n.collectionGroup!==null}function Qf(n){const e=Ze(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new sr(kr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new w_(s,r))}),t.has(kr.keyField().canonicalString())||e.Ee.push(new w_(kr.keyField(),r))}return e.Ee}function No(n){const e=Ze(n);return e.de||(e.de=iJ(e,Qf(n))),e.de}function iJ(n,e){if(n.limitType==="F")return Lk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new w_(i.field,s)});const t=n.endAt?new v_(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new v_(n.startAt.position,n.startAt.inclusive):null;return Lk(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ix(n,e){const t=n.filters.concat([e]);return new tm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sx(n,e,t){return new tm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sv(n,e){return OS(No(n),No(e))&&n.limitType===e.limitType}function yj(n){return`${DS(No(n))}|lt:${n.limitType}`}function th(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fj(i)).join(", ")}]`),rv(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Gh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Gh(i)).join(",")),`Target(${r})`}(No(n))}; limitType=${n.limitType})`}function ov(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Qf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=Ok(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Qf(r),i)||r.endAt&&!function(o,l,c){const h=Ok(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Qf(r),i))}(n,e)}function sJ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _j(n){return(e,t)=>{let r=!1;for(const i of Qf(n)){const s=oJ(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oJ(n,e,t){const r=n.field.isKeyField()?Ue.comparator(e.key,t.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?qh(c,h):qe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ej(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ=new An(Ue.comparator);function ba(){return aJ}const vj=new An(Ue.comparator);function xf(...n){let e=vj;for(const t of n)e=e.insert(t.key,t);return e}function wj(n){let e=vj;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bu(){return Jf()}function Tj(){return Jf()}function Jf(){return new ic(n=>n.toString(),(n,e)=>n.isEqual(e))}const lJ=new An(Ue.comparator),uJ=new sr(Ue.comparator);function yt(...n){let e=uJ;for(const t of n)e=e.add(t);return e}const cJ=new sr(lt);function hJ(){return cJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:g_(e)?"-0":e}}function Ej(n){return{integerValue:""+n}}function dJ(n,e){return FQ(e)?Ej(e):MS(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this._=void 0}}function fJ(n,e,t){return n instanceof Rp?function(i,s){const o={fields:{[rj]:{stringValue:nj},[sj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kS(s)&&(s=iv(s)),s&&(o.fields[ij]=s),{mapValue:o}}(t,e):n instanceof Pp?Sj(n,e):n instanceof kp?Cj(n,e):function(i,s){const o=xj(i,s),l=jk(o)+jk(i.Re);return tx(o)&&tx(i.Re)?Ej(l):MS(i.serializer,l)}(n,e)}function pJ(n,e,t){return n instanceof Pp?Sj(n,e):n instanceof kp?Cj(n,e):t}function xj(n,e){return n instanceof T_?function(r){return tx(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Rp extends av{}class Pp extends av{constructor(e){super(),this.elements=e}}function Sj(n,e){const t=bj(e);for(const r of n.elements)t.some(i=>Vo(i,r))||t.push(r);return{arrayValue:{values:t}}}class kp extends av{constructor(e){super(),this.elements=e}}function Cj(n,e){let t=bj(e);for(const r of n.elements)t=t.filter(i=>!Vo(i,r));return{arrayValue:{values:t}}}class T_ extends av{constructor(e,t){super(),this.serializer=e,this.Re=t}}function jk(n){return Un(n.integerValue||n.doubleValue)}function bj(n){return NS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e,t){this.field=e,this.transform=t}}function gJ(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Pp&&i instanceof Pp||r instanceof kp&&i instanceof kp?Hh(r.elements,i.elements,Vo):r instanceof T_&&i instanceof T_?Vo(r.Re,i.Re):r instanceof Rp&&i instanceof Rp}(n.transform,e.transform)}class yJ{constructor(e,t){this.version=e,this.transformResults=t}}class Do{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Do}static exists(e){return new Do(void 0,e)}static updateTime(e){return new Do(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ay(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class lv{}function Ij(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new LS(n.key,Do.none()):new nm(n.key,n.data,Do.none());{const t=n.data,r=Ss.empty();let i=new sr(kr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new sc(n.key,r,new eo(i.toArray()),Do.none())}}function _J(n,e,t){n instanceof nm?function(i,s,o){const l=i.value.clone(),c=Uk(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof sc?function(i,s,o){if(!Ay(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Uk(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Aj(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Zf(n,e,t,r){return n instanceof nm?function(s,o,l,c){if(!Ay(s.precondition,o))return l;const h=s.value.clone(),f=Bk(s.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof sc?function(s,o,l,c){if(!Ay(s.precondition,o))return l;const h=Bk(s.fieldTransforms,c,o),f=o.data;return f.setAll(Aj(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(s,o,l){return Ay(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(n,e,t)}function vJ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=xj(r.transform,i||null);s!=null&&(t===null&&(t=Ss.empty()),t.set(r.field,s))}return t||null}function Fk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hh(r,i,(s,o)=>gJ(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class nm extends lv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sc extends lv{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Aj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Uk(n,e,t){const r=new Map;Ut(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,pJ(o,l,t[i]))}return r}function Bk(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,fJ(s,o,e))}return r}class LS extends lv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wJ extends lv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_J(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Tj();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(i.key)?null:l;const c=Ij(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yt())}isEqual(e){return this.batchId===e.batchId&&Hh(this.mutations,e.mutations,(t,r)=>Fk(t,r))&&Hh(this.baseMutations,e.baseMutations,(t,r)=>Fk(t,r))}}class VS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ut(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return lJ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new VS(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,Ct;function SJ(n){switch(n){case se.OK:return qe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return qe(15467,{code:n})}}function Rj(n){if(n===void 0)return Ca("GRPC error has no .code"),se.UNKNOWN;switch(n){case Hn.OK:return se.OK;case Hn.CANCELLED:return se.CANCELLED;case Hn.UNKNOWN:return se.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return se.INTERNAL;case Hn.UNAVAILABLE:return se.UNAVAILABLE;case Hn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Hn.NOT_FOUND:return se.NOT_FOUND;case Hn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Hn.ABORTED:return se.ABORTED;case Hn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Hn.DATA_LOSS:return se.DATA_LOSS;default:return qe(39323,{code:n})}}(Ct=Hn||(Hn={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=new _l([4294967295,4294967295],0);function $k(n){const e=QV().encode(n),t=new zV;return t.update(e),new Uint8Array(t.digest())}function zk(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _l([t,r],0),new _l([i,s],0)]}class jS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sf(`Invalid padding: ${t}`);if(r<0)throw new Sf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sf(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=_l.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(_l.fromNumber(r)));return i.compare(CJ)===1&&(i=new _l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=$k(e),[r,i]=zk(t);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new jS(s,i,t);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const t=$k(e),[r,i]=zk(t);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,rm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new uv(Je.min(),i,new An(lt),ba(),yt())}}class rm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new rm(r,t,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class Pj{constructor(e,t){this.targetId=e,this.Ce=t}}class kj{constructor(e,t,r=Mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Wk{constructor(){this.Fe=0,this.Me=Hk(),this.xe=Mr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=yt(),t=yt(),r=yt();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:qe(38017,{changeType:s})}}),new rm(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Hk()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ut(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bJ{constructor(e){this.ze=e,this.je=new Map,this.He=ba(),this.Je=Kg(),this.Ye=Kg(),this.Ze=new An(lt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(rx(s))if(r===0){const o=new Ue(s.path);this.tt(t,o,Yr.newNoDocument(o,Je.min()))}else Ut(r===1,20013,{expectedCount:r});else{const o=this.ut(t);if(o!==r){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,l;try{o=Nl(r).toUint8Array()}catch(c){if(c instanceof tj)return Wh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new jS(o,i,s)}catch(c){return Wh(c instanceof Sf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,o)=>{const l=this._t(o);if(l){if(s.current&&rx(l.target)){const c=new Ue(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Yr.newNoDocument(c,e))}s.Le&&(t.set(o,s.qe()),s.Qe())}});let r=yt();this.Ye.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new uv(e,t,this.Ze,this.He,r);return this.He=ba(),this.Je=Kg(),this.Ye=Kg(),this.Ze=new An(lt),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Wk,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new sr(lt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new sr(lt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Wk),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Kg(){return new An(Ue.comparator)}function Hk(){return new An(Ue.comparator)}const IJ={asc:"ASCENDING",desc:"DESCENDING"},AJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RJ={and:"AND",or:"OR"};class PJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ox(n,e){return n.useProto3Json||rv(e)?e:{value:e}}function E_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nj(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kJ(n,e){return E_(n,e.toTimestamp())}function Oo(n){return Ut(!!n,49232),Je.fromTimestamp(function(t){const r=kl(t);return new ir(r.seconds,r.nanos)}(n))}function FS(n,e){return ax(n,e).canonicalString()}function ax(n,e){const t=function(i){return new ln(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Dj(n){const e=ln.fromString(n);return Ut(jj(e),10190,{key:e.toString()}),e}function lx(n,e){return FS(n.databaseId,e.path)}function aT(n,e){const t=Dj(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(Mj(t))}function Oj(n,e){return FS(n.databaseId,e)}function NJ(n){const e=Dj(n);return e.length===4?ln.emptyPath():Mj(e)}function ux(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Mj(n){return Ut(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function qk(n,e,t){return{name:lx(n,e),fields:t.value.mapValue.fields}}function DJ(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:qe(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Ut(f===void 0||typeof f=="string",58123),Mr.fromBase64String(f||"")):(Ut(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Mr.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?se.UNKNOWN:Rj(h.code);return new Ie(f,h.message||"")}(o);t=new kj(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=aT(n,r.document.name),s=Oo(r.document.updateTime),o=r.document.createTime?Oo(r.document.createTime):Je.min(),l=new Ss({mapValue:{fields:r.document.fields}}),c=Yr.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];t=new Ry(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=aT(n,r.document),s=r.readTime?Oo(r.readTime):Je.min(),o=Yr.newNoDocument(i,s),l=r.removedTargetIds||[];t=new Ry([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=aT(n,r.document),s=r.removedTargetIds||[];t=new Ry([],s,i,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new xJ(i,s),l=r.targetId;t=new Pj(l,o)}}return t}function OJ(n,e){let t;if(e instanceof nm)t={update:qk(n,e.key,e.value)};else if(e instanceof LS)t={delete:lx(n,e.key)};else if(e instanceof sc)t={update:qk(n,e.key,e.data),updateMask:zJ(e.fieldMask)};else{if(!(e instanceof wJ))return qe(16599,{ft:e.type});t={verify:lx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Rp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof kp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof T_)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw qe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kJ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:qe(27497)}(n,e.precondition)),t}function MJ(n,e){return n&&n.length>0?(Ut(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?Oo(i.updateTime):Oo(s);return o.isEqual(Je.min())&&(o=Oo(s)),new yJ(o,i.transformResults||[])}(t,e))):[]}function LJ(n,e){return{documents:[Oj(n,e.path)]}}function VJ(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Oj(n,i);const s=function(h){if(h.length!==0)return Vj(io.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(y){return{field:nh(y.field),direction:UJ(y.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=ox(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function jJ(n){let e=NJ(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ut(r===1,65062);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(m){const y=Lj(m);return y instanceof io&&hj(y)?y.getFilters():[y]}(t.where));let o=[];t.orderBy&&(o=function(m){return m.map(y=>function(T){return new w_(rh(T.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(t.orderBy));let l=null;t.limit&&(l=function(m){let y;return y=typeof m=="object"?m.value:m,rv(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(m){const y=!!m.before,_=m.values||[];return new v_(_,y)}(t.startAt));let h=null;return t.endAt&&(h=function(m){const y=!m.before,_=m.values||[];return new v_(_,y)}(t.endAt)),rJ(e,i,o,s,l,"F",c,h)}function FJ(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Lj(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rh(t.unaryFilter.field);return Qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rh(t.unaryFilter.field);return Qn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rh(t.unaryFilter.field);return Qn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rh(t.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Qn.create(rh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return io.create(t.compositeFilter.filters.map(r=>Lj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(t.compositeFilter.op))}(n):qe(30097,{filter:n})}function UJ(n){return IJ[n]}function BJ(n){return AJ[n]}function $J(n){return RJ[n]}function nh(n){return{fieldPath:n.canonicalString()}}function rh(n){return kr.fromServerFormat(n.fieldPath)}function Vj(n){return n instanceof Qn?function(t){if(t.op==="=="){if(Dk(t.value))return{unaryFilter:{field:nh(t.field),op:"IS_NAN"}};if(Nk(t.value))return{unaryFilter:{field:nh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Dk(t.value))return{unaryFilter:{field:nh(t.field),op:"IS_NOT_NAN"}};if(Nk(t.value))return{unaryFilter:{field:nh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nh(t.field),op:BJ(t.op),value:t.value}}}(n):n instanceof io?function(t){const r=t.getFilters().map(i=>Vj(i));return r.length===1?r[0]:{compositeFilter:{op:$J(t.op),filters:r}}}(n):qe(54877,{filter:n})}function zJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jj(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t,r,i,s=Je.min(),o=Je.min(),l=Mr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e){this.wt=e}}function HJ(n){const e=jJ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(){this.Cn=new GJ}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Pl.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Pl.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class GJ{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new sr(ln.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sr(ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fj=41943040;class Pi{static withCacheSize(e){return new Pi(e,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(Fj,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Yh(0)}static lr(){return new Yh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="LruGarbageCollector",YJ=1048576;function Kk([n,e],[t,r]){const i=lt(n,t);return i===0?lt(e,r):i}class KJ{constructor(e){this.Er=e,this.buffer=new sr(Kk),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Kk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XJ{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(Yk,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dd(t)?we(Yk,"Ignoring IndexedDB error during garbage collection: ",t):await hd(t)}await this.mr(3e5)})}}class QJ{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(nv.le);const r=new KJ(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Gk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gk):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,s,o,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),eh()<=dt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function JJ(n,e){return new QJ(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(){this.changes=new ic(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Zf(r.mutation,i,eo.empty(),ir.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,yt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=yt()){const i=bu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=xf();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=bu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,yt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,r,i){let s=ba();const o=Jf(),l=function(){return Jf()}();return t.forEach((c,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof sc)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Zf(f.mutation,h,f.mutation.getFieldMask(),ir.now())):o.set(h.key,eo.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>o.set(h,f)),t.forEach((h,f)=>{var m;return l.set(h,new eZ(f,(m=o.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,t){const r=Jf();let i=new An((o,l)=>o-l),s=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let f=r.get(c)||eo.empty();f=l.applyToLocalView(h,f),r.set(c,f);const m=(i.get(l.batchId)||yt()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,m=Tj();f.forEach(y=>{if(!s.has(y)){const _=Ij(t.get(y),r.get(y));_!==null&&m.set(y,_),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ie.resolve(bu());let l=Cp,c=s;return o.next(h=>ie.forEach(h,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?ie.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,yt())).next(f=>({batchId:l,changes:wj(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next(r=>{let i=xf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=xf();return this.indexManager.getCollectionParents(e,s).next(l=>ie.forEach(l,c=>{const h=function(m,y){return new tm(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,Yr.newInvalidDocument(f)))});let l=xf();return o.forEach((c,h)=>{const f=s.get(c);f!==void 0&&Zf(f.mutation,h,eo.empty(),ir.now()),ov(t,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ie.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Oo(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:HJ(i.bundledQuery),readTime:Oo(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(){this.overlays=new An(Ue.comparator),this.Qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bu();return ie.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.bt(e,t,s)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=bu(),s=t.length+1,o=new Ue(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new An((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=bu(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=bu(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return ie.resolve(l)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new EJ(t,r));let s=this.Qr.get(t);s===void 0&&(s=yt(),this.Qr.set(t,s)),this.Qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(){this.sessionToken=Mr.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.$r=new sr(_r.Ur),this.Kr=new sr(_r.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new _r(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new _r(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Ue(new ln([])),r=new _r(t,e),i=new _r(t,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ue(new ln([])),r=new _r(t,e),i=new _r(t,e+1);let s=yt();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new _r(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class _r{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ue.comparator(e.key,t.key)||lt(e.Zr,t.Zr)}static Wr(e,t){return lt(e.Zr,t.Zr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new sr(_r.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TJ(s,t,r,i);this.mutationQueue.push(o);for(const l of i)this.Xr=this.Xr.add(new _r(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ie.resolve(o)}lookupMutationBatch(e,t){return ie.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?PS:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _r(t,0),i=new _r(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const l=this.ei(o.Zr);s.push(l)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new sr(lt);return t.forEach(i=>{const s=new _r(i,0),o=new _r(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],l=>{r=r.add(l.Zr)})}),ie.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ue.isDocumentKey(s)||(s=s.child(""));const o=new _r(new Ue(s),0);let l=new sr(lt);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.Zr)),!0)},o),ie.resolve(this.ni(l))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ut(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ie.forEach(t.mutations,i=>{const s=new _r(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new _r(t,0),i=this.Xr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e){this.ii=e,this.docs=function(){return new An(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Yr.newInvalidDocument(t))}getEntries(e,t){let r=ba();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yr.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ba();const o=t.path,l=new Ue(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||MQ(OQ(f),r)<=0||(i.has(f.key)||ov(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,t,r,i){qe(9500)}si(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new aZ(this)}getSize(e){return ie.resolve(this.size)}}class aZ extends ZJ{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e){this.persistence=e,this.oi=new ic(t=>DS(t),OS),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this._i=0,this.ai=new US,this.targetCount=0,this.ui=Yh.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ie.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Yh(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Tr(t),ie.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ie.waitFor(s).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,t){this.ci={},this.overlays={},this.li=new nv(0),this.hi=!1,this.hi=!0,this.Pi=new iZ,this.referenceDelegate=e(this),this.Ti=new lZ(this),this.indexManager=new qJ,this.remoteDocumentCache=function(i){return new oZ(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new WJ(t),this.Ei=new nZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rZ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new sZ(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const i=new uZ(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,t){return ie.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class uZ extends VQ{constructor(e){super(),this.currentSequenceNumber=e}}class BS{constructor(e){this.persistence=e,this.Vi=new US,this.mi=null}static fi(e){return new BS(e)}get gi(){if(this.mi)return this.mi;throw qe(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,r=>{const i=Ue.fromPath(r);return this.pi(e,i).next(s=>{s||t.removeEntry(i,Je.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ie.or([()=>ie.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class x_{constructor(e,t){this.persistence=e,this.yi=new ic(r=>UQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=JJ(this,t)}static fi(e,t){return new x_(e,t)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ie.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,t).next(l=>{l||(r++,s.removeEntry(o,Je.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ie.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=by(e.data.value)),t}Dr(e,t,r){return ie.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=yt(),i=yt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $S(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return e7()?8:jQ(ti())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ws(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cZ;return this.bs(e,t,o).next(l=>{if(s.result=l,this.fs)return this.Ds(e,t,o,l.size)})}).next(()=>s.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(eh()<=dt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",th(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(eh()<=dt.DEBUG&&we("QueryEngine","Query:",th(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(eh()<=dt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",th(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,No(t))):ie.resolve())}ws(e,t){if(Vk(t))return ie.resolve(null);let r=No(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=sx(t,null,"F"),r=No(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=yt(...s);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.vs(t,l);return this.Cs(t,h,o,c.readTime)?this.ws(e,sx(t,null,"F")):this.Fs(e,h,t,c)}))})))}Ss(e,t,r,i){return Vk(t)||i.isEqual(Je.min())?ie.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(t,s);return this.Cs(t,o,r,i)?ie.resolve(null):(eh()<=dt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),th(t)),this.Fs(e,o,t,DQ(i,Cp)).next(l=>l))})}vs(e,t){let r=new sr(_j(e));return t.forEach((i,s)=>{ov(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,t,r){return eh()<=dt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",th(t)),this.ys.getDocumentsMatchingQuery(e,t,Pl.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="LocalStore",dZ=3e8;class fZ{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new An(lt),this.Os=new ic(s=>DS(s),OS),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tZ(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function pZ(n,e,t,r){return new fZ(n,e,t,r)}async function Bj(n,e){const t=Ze(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=yt();for(const h of i){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(h=>({ks:h,removedBatchIds:o,addedBatchIds:l}))})})}function mZ(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const m=h.batch,y=m.keys();let _=ie.resolve();return y.forEach(T=>{_=_.next(()=>f.getEntry(c,T)).next(w=>{const C=h.docVersions.get(T);Ut(C!==null,48541),w.version.compareTo(C)<0&&(m.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),f.addEntry(w)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=yt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function $j(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function gZ(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const l=[];e.targetChanges.forEach((f,m)=>{const y=i.get(m);if(!y)return;l.push(t.Ti.removeMatchingKeys(s,f.removedDocuments,m).next(()=>t.Ti.addMatchingKeys(s,f.addedDocuments,m)));let _=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(Mr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(m,_),function(w,C,b){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=dZ?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(y,_,f)&&l.push(t.Ti.updateTargetData(s,_))});let c=ba(),h=yt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(yZ(s,o,e.documentUpdates).next(f=>{c=f.qs,h=f.Qs})),!r.isEqual(Je.min())){const f=t.Ti.getLastRemoteSnapshotVersion(s).next(m=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return ie.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(t.xs=i,s))}function yZ(n,e,t){let r=yt(),i=yt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=ba();return t.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Je.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):we(zS,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function _Z(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=PS),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vZ(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(s=>s?(i=s,ie.resolve(i)):t.Ti.allocateTargetId(r).next(o=>(i=new hl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function cx(n,e,t){const r=Ze(n),i=r.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!dd(o))throw o;we(zS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Xk(n,e,t){const r=Ze(n);let i=Je.min(),s=yt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,f){const m=Ze(c),y=m.Os.get(f);return y!==void 0?ie.resolve(m.xs.get(y)):m.Ti.getTargetData(h,f)}(r,o,No(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,t?i:Je.min(),t?s:yt())).next(l=>(wZ(r,sJ(e),l),{documents:l,$s:s})))}function wZ(n,e,t){let r=n.Ns.get(e)||Je.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ns.set(e,r)}class Qk{constructor(){this.activeTargetIds=hJ()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TZ{constructor(){this.xo=new Qk,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Qk,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="ConnectivityMonitor";class Zk{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(Jk,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(Jk,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg=null;function hx(){return Xg===null?Xg=function(){return 268435456+Math.round(2147483648*Math.random())}():Xg++,"0x"+Xg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="RestConnection",xZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SZ{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===y_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,s){const o=hx(),l=this.jo(e,t.toUriEncodedString());we(lT,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:h}=new URL(l),f=jl(h);return this.Jo(e,l,c,r,f).then(m=>(we(lT,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Wh(lT,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}Yo(e,t,r,i,s,o){return this.zo(e,t,r,i,s)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,t){const r=xZ[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class bZ extends SZ{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const o=hx();return new Promise((l,c)=>{const h=new WV;h.setWithCredentials(!0),h.listenOnce(HV.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Cy.NO_ERROR:const m=h.getResponseJson();we(Ur,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Cy.TIMEOUT:we(Ur,`RPC '${e}' ${o} timed out`),c(new Ie(se.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:const y=h.getStatus();if(we(Ur,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const w=function(b){const O=b.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(O)>=0?O:se.UNKNOWN}(T.status);c(new Ie(w,T.message))}else c(new Ie(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ie(se.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{we(Ur,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);we(Ur,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",f,r,15)})}T_(e,t,r){const i=hx(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YV(),l=GV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const f=s.join("");we(Ur,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);let y=!1,_=!1;const T=new CZ({Zo:C=>{_?we(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(y||(we(Ur,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),we(Ur,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Xo:()=>m.close()}),w=(C,b,O)=>{C.listen(b,L=>{try{O(L)}catch(V){setTimeout(()=>{throw V},0)}})};return w(m,Ef.EventType.OPEN,()=>{_||(we(Ur,`RPC '${e}' stream ${i} transport opened.`),T.__())}),w(m,Ef.EventType.CLOSE,()=>{_||(_=!0,we(Ur,`RPC '${e}' stream ${i} transport closed`),T.u_())}),w(m,Ef.EventType.ERROR,C=>{_||(_=!0,Wh(Ur,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),T.u_(new Ie(se.UNAVAILABLE,"The operation could not be completed")))}),w(m,Ef.EventType.MESSAGE,C=>{var b;if(!_){const O=C.data[0];Ut(!!O,16349);const L=O,V=(L==null?void 0:L.error)||((b=L[0])===null||b===void 0?void 0:b.error);if(V){we(Ur,`RPC '${e}' stream ${i} received error:`,V);const U=V.status;let W=function(P){const N=Hn[P];if(N!==void 0)return Rj(N)}(U),k=V.message;W===void 0&&(W=se.INTERNAL,k="Unknown error status: "+U+" with message "+V.message),_=!0,T.u_(new Ie(W,k)),m.close()}else we(Ur,`RPC '${e}' stream ${i} received:`,O),T.c_(O)}}),w(l,qV.STAT_EVENT,C=>{C.stat===JE.PROXY?we(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===JE.NOPROXY&&we(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}}function uT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(n){return new PJ(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,t,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="PersistentStream";class Wj{constructor(e,t,r,i,s,o,l,c){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new zj(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Ca(t.toString()),Ca("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new Ie(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return we(eN,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(we(eN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IZ extends Wj{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=DJ(this.serializer,e),r=function(s){if(!("targetChange"in s))return Je.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Je.min():o.readTime?Oo(o.readTime):Je.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=ux(this.serializer),t.addTarget=function(s,o){let l;const c=o.target;if(l=rx(c)?{documents:LJ(s,c)}:{query:VJ(s,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Nj(s,o.resumeToken);const h=ox(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Je.min())>0){l.readTime=E_(s,o.snapshotVersion.toTimestamp());const h=ox(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=FJ(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=ux(this.serializer),t.removeTarget=e,this.L_(t)}}class AZ extends Wj{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=MJ(e.writeResults,e.commitTime),r=Oo(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=ux(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>OJ(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{}class PZ extends RZ{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Ie(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,ax(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(se.UNKNOWN,s.toString())})}Yo(e,t,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,ax(t,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(se.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class kZ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ca(t),this.oa=!1):we("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="RemoteStore";class NZ{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{oc(this)&&(we(Ju,"Restarting streams for network reachability change."),await async function(c){const h=Ze(c);h.Ta.add(4),await im(h),h.da.set("Unknown"),h.Ta.delete(4),await hv(h)}(this))})}),this.da=new kZ(r,i)}}async function hv(n){if(oc(n))for(const e of n.Ia)await e(!0)}async function im(n){for(const e of n.Ia)await e(!1)}function Hj(n,e){const t=Ze(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),GS(t)?qS(t):fd(t).M_()&&HS(t,e))}function WS(n,e){const t=Ze(n),r=fd(t);t.Pa.delete(e),r.M_()&&qj(t,e),t.Pa.size===0&&(r.M_()?r.N_():oc(t)&&t.da.set("Unknown"))}function HS(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fd(n).H_(e)}function qj(n,e){n.Aa.Ke(e),fd(n).J_(e)}function qS(n){n.Aa=new bJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),fd(n).start(),n.da._a()}function GS(n){return oc(n)&&!fd(n).F_()&&n.Pa.size>0}function oc(n){return Ze(n).Ta.size===0}function Gj(n){n.Aa=void 0}async function DZ(n){n.da.set("Online")}async function OZ(n){n.Pa.forEach((e,t)=>{HS(n,e)})}async function MZ(n,e){Gj(n),GS(n)?(n.da.ca(e),qS(n)):n.da.set("Unknown")}async function LZ(n,e,t){if(n.da.set("Online"),e instanceof kj&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Pa.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Pa.delete(l),i.Aa.removeTarget(l))}(n,e)}catch(r){we(Ju,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await S_(n,r)}else if(e instanceof Ry?n.Aa.Xe(e):e instanceof Pj?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Je.min()))try{const r=await $j(n.localStore);t.compareTo(r)>=0&&await function(s,o){const l=s.Aa.It(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Pa.get(h);f&&s.Pa.set(h,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const f=s.Pa.get(c);if(!f)return;s.Pa.set(c,f.withResumeToken(Mr.EMPTY_BYTE_STRING,f.snapshotVersion)),qj(s,c);const m=new hl(f.target,c,h,f.sequenceNumber);HS(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){we(Ju,"Failed to raise snapshot:",r),await S_(n,r)}}async function S_(n,e,t){if(!dd(e))throw e;n.Ta.add(1),await im(n),n.da.set("Offline"),t||(t=()=>$j(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(Ju,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await hv(n)})}function Yj(n,e){return e().catch(t=>S_(n,t,e))}async function dv(n){const e=Ze(n),t=Ol(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:PS;for(;VZ(e);)try{const i=await _Z(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,jZ(e,i)}catch(i){await S_(e,i)}Kj(e)&&Xj(e)}function VZ(n){return oc(n)&&n.ha.length<10}function jZ(n,e){n.ha.push(e);const t=Ol(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function Kj(n){return oc(n)&&!Ol(n).F_()&&n.ha.length>0}function Xj(n){Ol(n).start()}async function FZ(n){Ol(n).ta()}async function UZ(n){const e=Ol(n);for(const t of n.ha)e.Z_(t.mutations)}async function BZ(n,e,t){const r=n.ha.shift(),i=VS.from(r,e,t);await Yj(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await dv(n)}async function $Z(n,e){e&&Ol(n).Y_&&await async function(r,i){if(function(o){return SJ(o)&&o!==se.ABORTED}(i.code)){const s=r.ha.shift();Ol(r).O_(),await Yj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await dv(r)}}(n,e),Kj(n)&&Xj(n)}async function tN(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),we(Ju,"RemoteStore received new credentials");const r=oc(t);t.Ta.add(3),await im(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await hv(t)}async function zZ(n,e){const t=Ze(n);e?(t.Ta.delete(2),await hv(t)):e||(t.Ta.add(2),await im(t),t.da.set("Unknown"))}function fd(n){return n.Ra||(n.Ra=function(t,r,i){const s=Ze(t);return s.ra(),new IZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:DZ.bind(null,n),n_:OZ.bind(null,n),i_:MZ.bind(null,n),j_:LZ.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),GS(n)?qS(n):n.da.set("Unknown")):(await n.Ra.stop(),Gj(n))})),n.Ra}function Ol(n){return n.Va||(n.Va=function(t,r,i){const s=Ze(t);return s.ra(),new AZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:FZ.bind(null,n),i_:$Z.bind(null,n),X_:UZ.bind(null,n),ea:BZ.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await dv(n)):(await n.Va.stop(),n.ha.length>0&&(we(Ju,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,l=new YS(e,t,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KS(n,e){if(Ca("AsyncQueue",`${e}: ${n}`),dd(n))return new Ie(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{static emptySet(e){return new kh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ue.comparator(t.key,r.key):(t,r)=>Ue.comparator(t.key,r.key),this.keyedMap=xf(),this.sortedSet=new An(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new kh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.ma=new An(Ue.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):qe(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Kh{constructor(e,t,r,i,s,o,l,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new Kh(e,t,kh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class HZ{constructor(){this.queries=rN(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ze(t),s=i.queries;i.queries=rN(),s.forEach((o,l)=>{for(const c of l.ya)c.onError(r)})})(this,new Ie(se.ABORTED,"Firestore shutting down"))}}function rN(){return new ic(n=>yj(n),sv)}async function qZ(n,e){const t=Ze(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new WZ,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await t.onListen(i,!0);break;case 1:s.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const l=KS(o,`Initialization of query '${th(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.ya.push(e),e.Da(t.onlineState),s.pa&&e.va(s.pa)&&XS(t)}async function GZ(n,e){const t=Ze(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function YZ(n,e){const t=Ze(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const l of o.ya)l.va(i)&&(r=!0);o.pa=i}}r&&XS(t)}function KZ(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(t);r.queries.delete(e)}function XS(n){n.ba.forEach(e=>{e.next()})}var dx,iN;(iN=dx||(dx={})).Ca="default",iN.Cache="cache";class XZ{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Kh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==dx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.key=e}}class Jj{constructor(e){this.key=e}}class QZ{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=yt(),this.mutatedKeys=yt(),this.Ha=_j(e),this.Ja=new kh(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new nN,i=t?t.Ja:this.Ja;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const y=i.get(f),_=ov(this.query,m)?m:null,T=!!y&&this.mutatedKeys.has(y.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;y&&_?y.data.isEqual(_.data)?T!==w&&(r.track({type:3,doc:_}),C=!0):this.eu(y,_)||(r.track({type:2,doc:_}),C=!0,(c&&this.Ha(_,c)>0||h&&this.Ha(_,h)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),C=!0):y&&!_&&(r.track({type:1,doc:y}),C=!0,(c||h)&&(l=!0)),C&&(_?(o=o.add(_),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ja:o,Xa:r,Cs:l,mutatedKeys:s}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((f,m)=>function(_,T){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:C})}};return w(_)-w(T)}(f.type,m.type)||this.Ha(f.doc,m.doc)),this.tu(r),i=i!=null&&i;const l=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,h=c!==this.za;return this.za=c,o.length!==0||h?{snapshot:new Kh(this.query,e.Ja,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:l}:{ru:l}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new nN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=yt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new Jj(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Qj(r))}),t}su(e){this.Ga=e.$s,this.ja=yt();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Kh.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const QS="SyncEngine";class JZ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ZZ{constructor(e){this.key=e,this._u=!1}}class eee{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new ic(l=>yj(l),sv),this.cu=new Map,this.lu=new Set,this.hu=new An(Ue.comparator),this.Pu=new Map,this.Tu=new US,this.Iu={},this.Eu=new Map,this.du=Yh.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function tee(n,e,t=!0){const r=iF(n);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await Zj(r,e,t,!0),i}async function nee(n,e){const t=iF(n);await Zj(t,e,!0,!1)}async function Zj(n,e,t,r){const i=await vZ(n.localStore,No(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let l;return r&&(l=await ree(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&Hj(n.remoteStore,i),l}async function ree(n,e,t,r,i){n.Ru=(m,y,_)=>async function(w,C,b,O){let L=C.view.Za(b);L.Cs&&(L=await Xk(w.localStore,C.query,!1).then(({documents:k})=>C.view.Za(k,L)));const V=O&&O.targetChanges.get(C.targetId),U=O&&O.targetMismatches.get(C.targetId)!=null,W=C.view.applyChanges(L,w.isPrimaryClient,V,U);return oN(w,C.targetId,W.ru),W.snapshot}(n,m,y,_);const s=await Xk(n.localStore,e,!0),o=new QZ(e,s.$s),l=o.Za(s.documents),c=rm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=o.applyChanges(l,n.isPrimaryClient,c);oN(n,t,h.ru);const f=new JZ(e,t,o);return n.uu.set(e,f),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function iee(n,e,t){const r=Ze(n),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!sv(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&WS(r.remoteStore,i.targetId),fx(r,i.targetId)}).catch(hd)):(fx(r,i.targetId),await cx(r.localStore,i.targetId,!0))}async function see(n,e){const t=Ze(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),WS(t.remoteStore,r.targetId))}async function oee(n,e,t){const r=fee(n);try{const i=await function(o,l){const c=Ze(o),h=ir.now(),f=l.reduce((_,T)=>_.add(T.key),yt());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=ba(),w=yt();return c.Bs.getEntries(_,f).next(C=>{T=C,T.forEach((b,O)=>{O.isValidDocument()||(w=w.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,T)).next(C=>{m=C;const b=[];for(const O of l){const L=vJ(O,m.get(O.key).overlayedDocument);L!=null&&b.push(new sc(O.key,L,lj(L.value.mapValue),Do.exists(!0)))}return c.mutationQueue.addMutationBatch(_,h,b,l)}).next(C=>{y=C;const b=C.applyToLocalDocumentSet(m,w);return c.documentOverlayCache.saveOverlays(_,C.batchId,b)})}).then(()=>({batchId:y.batchId,changes:wj(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Iu[o.currentUser.toKey()];h||(h=new An(lt)),h=h.insert(l,c),o.Iu[o.currentUser.toKey()]=h}(r,i.batchId,t),await sm(r,i.changes),await dv(r.remoteStore)}catch(i){const s=KS(i,"Failed to persist write");t.reject(s)}}async function eF(n,e){const t=Ze(n);try{const r=await gZ(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Pu.get(s);o&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?Ut(o._u,14607):i.removedDocuments.size>0&&(Ut(o._u,42227),o._u=!1))}),await sm(t,r,e)}catch(r){await hd(r)}}function sN(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((s,o)=>{const l=o.view.Da(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Ze(o);c.onlineState=l;let h=!1;c.queries.forEach((f,m)=>{for(const y of m.ya)y.Da(l)&&(h=!0)}),h&&XS(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aee(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new An(Ue.comparator);o=o.insert(s,Yr.newNoDocument(s,Je.min()));const l=yt().add(s),c=new uv(Je.min(),new Map,new An(lt),o,l);await eF(r,c),r.hu=r.hu.remove(s),r.Pu.delete(e),JS(r)}else await cx(r.localStore,e,!1).then(()=>fx(r,e,t)).catch(hd)}async function lee(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=await mZ(t.localStore,e);nF(t,r,null),tF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await sm(t,i)}catch(i){await hd(i)}}async function uee(n,e,t){const r=Ze(n);try{const i=await function(o,l){const c=Ze(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(m=>(Ut(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,e);nF(r,e,t),tF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await sm(r,i)}catch(i){await hd(i)}}function tF(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function nF(n,e,t){const r=Ze(n);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function fx(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||rF(n,r)})}function rF(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(WS(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),JS(n))}function oN(n,e,t){for(const r of t)r instanceof Qj?(n.Tu.addReference(r.key,e),cee(n,r)):r instanceof Jj?(we(QS,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||rF(n,r.key)):qe(19791,{mu:r})}function cee(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(we(QS,"New document in limbo: "+t),n.lu.add(r),JS(n))}function JS(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Ue(ln.fromString(e)),r=n.du.next();n.Pu.set(r,new ZZ(t)),n.hu=n.hu.insert(t,r),Hj(n.remoteStore,new hl(No(mj(t.path)),r,"TargetPurposeLimboResolution",nv.le))}}async function sm(n,e,t){const r=Ze(n),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((l,c)=>{o.push(r.Ru(c,e,t).then(h=>{var f;if((h||t)&&r.isPrimaryClient){const m=h?!h.fromCache:(f=t==null?void 0:t.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){i.push(h);const m=$S.Rs(c.targetId,h);s.push(m)}}))}),await Promise.all(o),r.au.j_(i),await async function(c,h){const f=Ze(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ie.forEach(h,y=>ie.forEach(y.ds,_=>f.persistence.referenceDelegate.addReference(m,y.targetId,_)).next(()=>ie.forEach(y.As,_=>f.persistence.referenceDelegate.removeReference(m,y.targetId,_)))))}catch(m){if(!dd(m))throw m;we(zS,"Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const _=f.xs.get(y),T=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(T);f.xs=f.xs.insert(y,w)}}}(r.localStore,s))}async function hee(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){we(QS,"User change. New user:",e.toKey());const r=await Bj(t.localStore,e);t.currentUser=e,function(s,o){s.Eu.forEach(l=>{l.forEach(c=>{c.reject(new Ie(se.CANCELLED,o))})}),s.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sm(t,r.ks)}}function dee(n,e){const t=Ze(n),r=t.Pu.get(e);if(r&&r._u)return yt().add(r.key);{let i=yt();const s=t.cu.get(e);if(!s)return i;for(const o of s){const l=t.uu.get(o);i=i.unionWith(l.view.Ya)}return i}}function iF(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aee.bind(null,e),e.au.j_=YZ.bind(null,e.eventManager),e.au.Vu=KZ.bind(null,e.eventManager),e}function fee(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uee.bind(null,e),e}class C_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cv(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return pZ(this.persistence,new hZ,e.initialUser,this.serializer)}yu(e){return new Uj(BS.fi,this.serializer)}pu(e){return new TZ}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}C_.provider={build:()=>new C_};class pee extends C_{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ut(this.persistence.referenceDelegate instanceof x_,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XJ(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Pi.withCacheSize(this.cacheSizeBytes):Pi.DEFAULT;return new Uj(r=>x_.fi(r,t),this.serializer)}}class px{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hee.bind(null,this.syncEngine),await zZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HZ}()}createDatastore(e){const t=cv(e.databaseInfo.databaseId),r=function(s){return new bZ(s)}(e.databaseInfo);return function(s,o,l,c){return new PZ(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,l){return new NZ(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>sN(this.syncEngine,t,0),function(){return Zk.C()?new Zk:new EZ}())}createSyncEngine(e,t){return function(i,s,o,l,c,h,f){const m=new eee(i,s,o,l,c,h);return f&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ze(i);we(Ju,"RemoteStore shutting down."),s.Ta.add(5),await im(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}px.provider={build:()=>new px};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ca("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="FirestoreClient";class gee{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Hr.UNAUTHENTICATED,this.clientId=JV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{we(Ml,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(we(Ml,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=KS(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cT(n,e){n.asyncQueue.verifyOperationInProgress(),we(Ml,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Bj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function aN(n,e){n.asyncQueue.verifyOperationInProgress();const t=await yee(n);we(Ml,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>tN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>tN(e.remoteStore,i)),n._onlineComponents=e}async function yee(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(Ml,"Using user provided OfflineComponentProvider");try{await cT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wh("Error using user provided cache. Falling back to memory cache: "+t),await cT(n,new C_)}}else we(Ml,"Using default OfflineComponentProvider"),await cT(n,new pee(void 0));return n._offlineComponents}async function sF(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(Ml,"Using user provided OnlineComponentProvider"),await aN(n,n._uninitializedComponentsProvider._online)):(we(Ml,"Using default OnlineComponentProvider"),await aN(n,new px))),n._onlineComponents}function _ee(n){return sF(n).then(e=>e.syncEngine)}async function vee(n){const e=await sF(n),t=e.eventManager;return t.onListen=tee.bind(null,e.syncEngine),t.onUnlisten=iee.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nee.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=see.bind(null,e.syncEngine),t}function wee(n,e,t={}){const r=new vl;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new mee({next:y=>{f.Cu(),o.enqueueAndForget(()=>GZ(s,m)),y.fromCache&&c.source==="server"?h.reject(new Ie(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new XZ(l,f,{includeMetadataChanges:!0,La:!0});return qZ(s,m)}(await vee(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(n,e,t){if(!t)throw new Ie(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Tee(n,e,t,r){if(e===!0&&r===!0)throw new Ie(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uN(n){if(!Ue.isDocumentKey(n))throw new Ie(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cN(n){if(Ue.isDocumentKey(n))throw new Ie(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":qe(12329,{type:typeof n})}function Np(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fv(n);throw new Ie(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="firestore.googleapis.com",hN=!0;class dN{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lF,this.ssl=hN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:hN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YJ)throw new Ie(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SQ;switch(r.type){case"firstParty":return new AQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=lN.get(t);r&&(we("ComponentProvider","Removing Datastore"),lN.delete(t),r.terminate())}(this),Promise.resolve()}}function Eee(n,e,t,r={}){var i;n=Np(n,pv);const s=jl(e),o=n._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(z_(`https://${c}`),W_("Firestore",!0)),o.host!==lF&&o.host!==c&&Wh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!Il(h,l)&&(n._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=Hr.MOCK_USER;else{f=X1(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ie(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Hr(y)}n._authCredentials=new CQ(new XV(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pd(this.firestore,e,this._query)}}class ks{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ks(this.firestore,e,this._key)}}class wl extends pd{constructor(e,t,r){super(e,t,mj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ks(this.firestore,null,new Ue(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function Ds(n,e,...t){if(n=ni(n),aF("collection","path",e),n instanceof pv){const r=ln.fromString(e,...t);return cN(r),new wl(n,null,r)}{if(!(n instanceof ks||n instanceof wl))throw new Ie(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return cN(r),new wl(n.firestore,null,r)}}function ZS(n,e,...t){if(n=ni(n),arguments.length===1&&(e=JV.newId()),aF("doc","path",e),n instanceof pv){const r=ln.fromString(e,...t);return uN(r),new ks(n,null,new Ue(r))}{if(!(n instanceof ks||n instanceof wl))throw new Ie(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return uN(r),new ks(n.firestore,n instanceof wl?n.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="AsyncQueue";class pN{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new zj(this,"async_queue_retry"),this.ec=()=>{const r=uT();r&&we(fN,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=uT();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=uT();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new vl;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!dd(e))throw e;we(fN,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Ca("INTERNAL UNHANDLED ERROR: ",mN(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=YS.createAndSchedule(this,e,t,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&qe(47125,{_c:mN(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function mN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class mv extends pv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pN(e),this._firestoreClient=void 0,await e}}}function xee(n,e){const t=typeof n=="object"?n:G_(),r=typeof n=="string"?n:y_,i=Hp(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Y1("firestore");s&&Eee(i,...s)}return i}function uF(n){if(n._terminated)throw new Ie(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||See(n),n._firestoreClient}function See(n){var e,t,r;const i=n._freezeSettings(),s=function(l,c,h,f){return new zQ(l,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,oF(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new gee(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xh(Mr.fromBase64String(e))}catch(t){throw new Ie(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xh(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee=/^__.*__$/;class bee{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sc(e,this.data,this.fieldMask,t,this.fieldTransforms):new nm(e,this.data,t,this.fieldTransforms)}}function cF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{hc:n})}}class iC{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new iC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return b_(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(cF(this.hc)&&Cee.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Iee{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cv(e)}gc(e,t,r,i=!1){return new iC({hc:e,methodName:t,fc:r,path:kr.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hF(n){const e=n._freezeSettings(),t=cv(n._databaseId);return new Iee(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Aee(n,e,t,r,i,s={}){const o=n.gc(s.merge||s.mergeFields?2:0,e,t,i);pF("Data must be an object, but it was:",o,r);const l=dF(r,o);let c,h;if(s.merge)c=new eo(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const y=Pee(e,m,t);if(!o.contains(y))throw new Ie(se.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Nee(f,y)||f.push(y)}c=new eo(f),h=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=o.fieldTransforms;return new bee(new Ss(l),c,h)}class sC extends tC{_toFieldTransform(e){return new mJ(e.path,new Rp)}isEqual(e){return e instanceof sC}}function Ree(n,e,t,r=!1){return oC(t,n.gc(r?4:3,e))}function oC(n,e){if(fF(n=ni(n)))return pF("Unsupported field value:",e,n),dF(n,e);if(n instanceof tC)return function(r,i){if(!cF(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=oC(l,i.Rc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=ni(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ir.fromDate(r);return{timestampValue:E_(i.serializer,s)}}if(r instanceof ir){const s=new ir(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:E_(i.serializer,s)}}if(r instanceof nC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xh)return{bytesValue:Nj(i.serializer,r._byteString)};if(r instanceof ks){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:FS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rC)return function(o,l){return{mapValue:{fields:{[oj]:{stringValue:aj},[__]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Vc("VectorValues must only contain numeric values.");return MS(l.serializer,h)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${fv(r)}`)}(n,e)}function dF(n,e){const t={};return ej(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rc(n,(r,i)=>{const s=oC(i,e.Ic(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function fF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ir||n instanceof nC||n instanceof Xh||n instanceof ks||n instanceof tC||n instanceof rC)}function pF(n,e,t){if(!fF(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=fv(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function Pee(n,e,t){if((e=ni(e))instanceof eC)return e._internalPath;if(typeof e=="string")return mF(n,e);throw b_("Field path arguments must be of type string or ",n,!1,void 0,t)}const kee=new RegExp("[~\\*/\\[\\]]");function mF(n,e,t){if(e.search(kee)>=0)throw b_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new eC(...e.split("."))._internalPath}catch{throw b_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function b_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Ie(se.INVALID_ARGUMENT,l+n+c)}function Nee(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ks(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Dee extends gF{data(){return super.data()}}function aC(n,e){return typeof e=="string"?mF(n,e):e instanceof eC?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lC{}class Mee extends lC{}function Lee(n,e,...t){let r=[];e instanceof lC&&r.push(e),r=r.concat(t),function(s){const o=s.filter(c=>c instanceof uC).length,l=s.filter(c=>c instanceof gv).length;if(o>1||o>0&&l>0)throw new Ie(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class gv extends Mee{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gv(e,t,r)}_apply(e){const t=this._parse(e);return yF(e._query,t),new pd(e.firestore,e.converter,ix(e._query,t))}_parse(e){const t=hF(e.firestore);return function(s,o,l,c,h,f,m){let y;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ie(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){yN(m,f);const T=[];for(const w of m)T.push(gN(c,s,w));y={arrayValue:{values:T}}}else y=gN(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||yN(m,f),y=Ree(l,o,m,f==="in"||f==="not-in");return Qn.create(h,f,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Vee(n,e,t){const r=e,i=aC("where",n);return gv._create(i,r,t)}class uC extends lC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new uC(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:io.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)yF(o,c),o=ix(o,c)}(e._query,t),new pd(e.firestore,e.converter,ix(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gN(n,e,t){if(typeof(t=ni(t))=="string"){if(t==="")throw new Ie(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gj(e)&&t.indexOf("/")!==-1)throw new Ie(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!Ue.isDocumentKey(r))throw new Ie(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kk(n,new Ue(r))}if(t instanceof ks)return kk(n,t._key);throw new Ie(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fv(t)}.`)}function yN(n,e){if(!Array.isArray(n)||n.length===0)throw new Ie(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yF(n,e){const t=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ie(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jee{convertValue(e,t="none"){switch(Dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return rc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[__].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Un(o.doubleValue));return new rC(s)}convertGeoPoint(e){return new nC(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=iv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bp(e));default:return null}}convertTimestamp(e){const t=kl(e);return new ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);Ut(jj(r),9688,{name:e});const i=new Ip(r.get(1),r.get(3)),s=new Ue(r.popFirst(5));return i.isEqual(t)||Ca(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fee(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uee extends gF{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(aC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Py extends Uee{data(e={}){return super.data(e)}}class Bee{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Py(this._firestore,this._userDataWriter,r.key,r,new Qg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Py(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Py(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Qg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:$ee(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $ee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:n})}}class zee extends jee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ks(this.firestore,null,t)}}function $l(n){n=Np(n,pd);const e=Np(n.firestore,mv),t=uF(e),r=new zee(e);return Oee(n._query),wee(t,n._query).then(i=>new Bee(e,r,n,i))}function _F(n){return vF(Np(n.firestore,mv),[new LS(n._key,Do.none())])}function yv(n,e){const t=Np(n.firestore,mv),r=ZS(n),i=Fee(n.converter,e);return vF(t,[Aee(hF(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Do.exists(!1))]).then(()=>r)}function vF(n,e){return function(r,i){const s=new vl;return r.asyncQueue.enqueueAndForget(async()=>oee(await _ee(r),i,s)),s.promise}(uF(n),e)}function Wee(){return new sC("serverTimestamp")}(function(e,t=!0){(function(i){cd=i})(Fl),Al(new Ta("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new mv(new bQ(r.getProvider("auth-internal")),new RQ(o,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ie(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ip(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ps(vk,wk,e),Ps(vk,wk,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="firebasestorage.googleapis.com",Hee="storageBucket",qee=2*60*1e3,Gee=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Bo{constructor(e,t,r=0){super(hT(e),`Firebase Storage: ${t} (${hT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$o.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jo;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jo||(jo={}));function hT(n){return"storage/"+n}function Yee(){const n="An unknown error occurred, please check the error payload for server response.";return new $o(jo.UNKNOWN,n)}function Kee(){return new $o(jo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xee(){return new $o(jo.CANCELED,"User canceled the upload/download.")}function Qee(n){return new $o(jo.INVALID_URL,"Invalid URL '"+n+"'.")}function Jee(n){return new $o(jo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function _N(n){return new $o(jo.INVALID_ARGUMENT,n)}function TF(){return new $o(jo.APP_DELETED,"The Firebase app was deleted.")}function Zee(n){return new $o(jo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=to.makeFromUrl(e,t)}catch{return new to(e,"")}if(r.path==="")return r;throw Jee(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function h(V){V.path_=decodeURIComponent(V.path)}const f="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${m}/${f}/b/${i}/o${y}`,"i"),T={bucket:1,path:3},w=t===wF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",b=new RegExp(`^https?://${w}/${i}/${C}`,"i"),L=[{regex:l,indices:c,postModify:s},{regex:_,indices:T,postModify:h},{regex:b,indices:{bucket:1,path:2},postModify:h}];for(let V=0;V<L.length;V++){const U=L[V],W=U.regex.exec(e);if(W){const k=W[U.indices.bucket];let R=W[U.indices.path];R||(R=""),r=new to(k,R),U.postModify(r);break}}if(r==null)throw Qee(e);return r}}class ete{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tte(n,e,t){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let h=!1;function f(...C){h||(h=!0,e.apply(null,C))}function m(C){i=setTimeout(()=>{i=null,n(_,c())},C)}function y(){s&&clearTimeout(s)}function _(C,...b){if(h){y();return}if(C){y(),f.call(null,C,...b);return}if(c()||o){y(),f.call(null,C,...b);return}r<64&&(r*=2);let L;l===1?(l=2,L=0):L=(r+Math.random())*1e3,m(L)}let T=!1;function w(C){T||(T=!0,y(),!h&&(i!==null?(C||(l=2),clearTimeout(i),m(0)):C||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,w(!0)},t),w}function nte(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(n){return n!==void 0}function vN(n,e,t,r){if(r<e)throw _N(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw _N(`Invalid value for '${n}'. Expected ${t} or less.`)}function ite(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var I_;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(I_||(I_={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(e,t,r,i,s,o,l,c,h,f,m,y=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=m,this.retry=y,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,w)=>{this.resolve_=T,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Jg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===I_.NO_ERROR,c=s.getStatus();if(!l||ste(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===I_.ABORT;r(!1,new Jg(!1,null,f));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new Jg(h,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());rte(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=Yee();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?TF():Xee();o(c)}else{const c=Kee();o(c)}};this.canceled_?t(!1,new Jg(!1,null,!0)):this.backoffId_=tte(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function ate(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function lte(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ute(n,e){e&&(n["X-Firebase-GMPID"]=e)}function cte(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function hte(n,e,t,r,i,s,o=!0,l=!1){const c=ite(n.urlParams),h=n.url+c,f=Object.assign({},n.headers);return ute(f,e),ate(f,t),lte(f,s),cte(f,r),new ote(h,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dte(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function fte(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,t){this._service=e,t instanceof to?this._location=t:this._location=to.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new A_(e,t)}get root(){const e=new to(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fte(this._location.path)}get storage(){return this._service}get parent(){const e=dte(this._location.path);if(e===null)return null;const t=new to(this._location.bucket,e);return new A_(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Zee(e)}}function wN(n,e){const t=e==null?void 0:e[Hee];return t==null?null:to.makeFromBucketSpec(t,n)}function pte(n,e,t,r={}){n.host=`${e}:${t}`;const i=jl(e);i&&(z_(`https://${n.host}`),W_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:X1(s,n.app.options.projectId))}class mte{constructor(e,t,r,i,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=wF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qee,this._maxUploadRetryTime=Gee,this._requests=new Set,i!=null?this._bucket=to.makeFromBucketSpec(i,this._host):this._bucket=wN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=to.makeFromBucketSpec(this._url,e):this._bucket=wN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new A_(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new ete(TF());{const o=hte(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const TN="@firebase/storage",EN="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="storage";function gte(n=G_(),e){n=ni(n);const r=Hp(n,EF).getImmediate({identifier:e}),i=Y1("storage");return i&&yte(r,...i),r}function yte(n,e,t,r={}){pte(n,e,t,r)}function _te(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new mte(t,r,i,e,Fl)}function vte(){Al(new Ta(EF,_te,"PUBLIC").setMultipleInstances(!0)),Ps(TN,EN,""),Ps(TN,EN,"esm2017")}vte();const wte={apiKey:"AIzaSyC6euZm9Yp3ip0n1wyRjBi4Mkhi3vktBTs",authDomain:"pethome-db.firebaseapp.com",projectId:"pethome-db",storageBucket:"pethome-db.firebasestorage.app",messagingSenderId:"840399386049",appId:"1:840399386049:web:080a93aba15aa074e62b40"},_v=Y2(wte),Fi=xee(_v),ep=MY(_v);gte(_v);TQ(_v);function Tte(){const[n,e]=A.useState([]),[t,r]=A.useState(!0);return A.useEffect(()=>{async function i(){r(!0);const o=await(await fetch("https://api.maisonpourpets.com/reviews")).json(),c=(await $l(Ds(Fi,"reviews"))).docs.map(f=>{var y;const m=f.data();return{_id:f.id,author:m.author,dogName:m.dogName,text:m.text,starRating:m.starRating,sourceUrl:m.sourceUrl??"",date:((y=m.createdAt)==null?void 0:y.toDate().toISOString())||new Date().toISOString()}}),h=[...o,...c].sort((f,m)=>new Date(m.date).getTime()-new Date(f.date).getTime());e(h),r(!1)}i()},[]),t?E.jsx("p",{children:"Chargement..."}):n.length===0?E.jsx("p",{children:"Aucun avis trouvé."}):E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-10",children:n.map(i=>E.jsx(nM,{review:i},i._id??i.date))})}function xF(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=xF(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function vv(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=xF(n))&&(r&&(r+=" "),r+=e);return r}var dT,xN;function Ete(){if(xN)return dT;xN=1;const n=(c,h,f,m)=>{if(f==="length"||f==="prototype"||f==="arguments"||f==="caller")return;const y=Object.getOwnPropertyDescriptor(c,f),_=Object.getOwnPropertyDescriptor(h,f);!e(y,_)&&m||Object.defineProperty(c,f,_)},e=function(c,h){return c===void 0||c.configurable||c.writable===h.writable&&c.enumerable===h.enumerable&&c.configurable===h.configurable&&(c.writable||c.value===h.value)},t=(c,h)=>{const f=Object.getPrototypeOf(h);f!==Object.getPrototypeOf(c)&&Object.setPrototypeOf(c,f)},r=(c,h)=>`/* Wrapped ${c}*/
${h}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),s=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),o=(c,h,f)=>{const m=f===""?"":`with ${f.trim()}() `,y=r.bind(null,m,h.toString());Object.defineProperty(y,"name",s),Object.defineProperty(c,"toString",{...i,value:y})};return dT=(c,h,{ignoreNonConfigurable:f=!1}={})=>{const{name:m}=c;for(const y of Reflect.ownKeys(h))n(c,h,y,f);return t(c,h),o(c,h,m),c},dT}var Cf={exports:{}},fT,SN;function xte(){return SN||(SN=1,fT=()=>{const n={};return n.promise=new Promise((e,t)=>{n.resolve=e,n.reject=t}),n}),fT}var Zg=Cf.exports,CN;function Ste(){return CN||(CN=1,function(n,e){var t=Zg&&Zg.__awaiter||function(o,l,c,h){return new(c||(c=Promise))(function(f,m){function y(w){try{T(h.next(w))}catch(C){m(C)}}function _(w){try{T(h.throw(w))}catch(C){m(C)}}function T(w){w.done?f(w.value):new c(function(C){C(w.value)}).then(y,_)}T((h=h.apply(o,l||[])).next())})},r=Zg&&Zg.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(xte());function s(o,l="maxAge"){let c,h,f;const m=()=>t(this,void 0,void 0,function*(){if(c!==void 0)return;const T=w=>t(this,void 0,void 0,function*(){f=i.default();const C=w[1][l]-Date.now();if(C<=0){o.delete(w[0]),f.resolve();return}return c=w[0],h=setTimeout(()=>{o.delete(w[0]),f&&f.resolve()},C),typeof h.unref=="function"&&h.unref(),f.promise});try{for(const w of o)yield T(w)}catch{}c=void 0}),y=()=>{c=void 0,h!==void 0&&(clearTimeout(h),h=void 0),f!==void 0&&(f.reject(void 0),f=void 0)},_=o.set.bind(o);return o.set=(T,w)=>{o.has(T)&&o.delete(T);const C=_(T,w);return c&&c===T&&y(),m(),C},m(),o}e.default=s,n.exports=s,n.exports.default=s}(Cf,Cf.exports)),Cf.exports}var pT,bN;function Cte(){if(bN)return pT;bN=1;const n=Ete(),e=Ste(),t=new WeakMap,r=new WeakMap,i=(s,{cacheKey:o,cache:l=new Map,maxAge:c}={})=>{typeof c=="number"&&e(l);const h=function(...f){const m=o?o(f):f[0],y=l.get(m);if(y)return y.data;const _=s.apply(this,f);return l.set(m,{data:_,maxAge:c?Date.now()+c:Number.POSITIVE_INFINITY}),_};return n(h,s,{ignoreNonConfigurable:!0}),r.set(h,l),h};return i.decorator=(s={})=>(o,l,c)=>{const h=o[l];if(typeof h!="function")throw new TypeError("The decorated value must be a function");delete c.value,delete c.writable,c.get=function(){if(!t.has(this)){const f=i(h,s);return t.set(this,f),f}return t.get(this)}},i.clear=s=>{const o=r.get(s);if(!o)throw new TypeError("Can't clear a function that was not memoized!");if(typeof o.clear!="function")throw new TypeError("The cache Map can't be cleared!");o.clear()},pT=i,pT}var bte=Cte();const SF=Fo(bte);function Ite(n){return typeof n=="string"}function Ate(n,e,t){return t.indexOf(n)===e}function Rte(n){return n.toLowerCase()===n}function IN(n){return n.indexOf(",")===-1?n:n.split(",")}function mx(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return mx(t)}if(n.indexOf("@")!==-1){var r=n.split("@")[0],t=r===void 0?"":r;return mx(t)}if(n.indexOf("-")===-1||!Rte(n))return n;var i=n.split("-"),s=i[0],o=i[1],l=o===void 0?"":o;return"".concat(s,"-").concat(l.toUpperCase())}function Pte(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,r=t===void 0?!0:t,i=e.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],c=[],h=0,f=l;h<f.length;h++){var m=f[h];c=c.concat(IN(m))}var y=navigator.language,_=y&&IN(y);o=o.concat(c,_)}return r&&o.push(s),o.filter(Ite).map(mx).filter(Ate)}var kte=SF(Pte,{cacheKey:JSON.stringify});function Nte(n){return kte(n)[0]||null}var CF=SF(Nte,{cacheKey:JSON.stringify});function Ra(n,e,t){return function(i,s){s===void 0&&(s=t);var o=n(i)+s;return e(o)}}function om(n){return function(t){return new Date(n(t).getTime()-1)}}function am(n,e){return function(r){return[n(r),e(r)]}}function wn(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;var e=parseInt(n,10);if(typeof n=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(n,"."))}function zl(n){if(n instanceof Date)return n.getMonth();throw new Error("Failed to get month from date: ".concat(n,"."))}function wv(n){if(n instanceof Date)return n.getDate();throw new Error("Failed to get year from date: ".concat(n,"."))}function md(n){var e=wn(n),t=e+(-e+1)%100,r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var Dte=Ra(wn,md,-100),bF=Ra(wn,md,100),cC=om(bF),Ote=Ra(wn,cC,-100),IF=am(md,cC);function Wl(n){var e=wn(n),t=e+(-e+1)%10,r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var AF=Ra(wn,Wl,-10),hC=Ra(wn,Wl,10),Tv=om(hC),RF=Ra(wn,Tv,-10),PF=am(Wl,Tv);function gd(n){var e=wn(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}var kF=Ra(wn,gd,-1),dC=Ra(wn,gd,1),Ev=om(dC),NF=Ra(wn,Ev,-1),Mte=am(gd,Ev);function fC(n,e){return function(r,i){i===void 0&&(i=e);var s=wn(r),o=zl(r)+i,l=new Date;return l.setFullYear(s,o,1),l.setHours(0,0,0,0),n(l)}}function ac(n){var e=wn(n),t=zl(n),r=new Date;return r.setFullYear(e,t,1),r.setHours(0,0,0,0),r}var DF=fC(ac,-1),pC=fC(ac,1),lm=om(pC),OF=fC(lm,-1),Lte=am(ac,lm);function Vte(n,e){return function(r,i){i===void 0&&(i=e);var s=wn(r),o=zl(r),l=wv(r)+i,c=new Date;return c.setFullYear(s,o,l),c.setHours(0,0,0,0),n(c)}}function um(n){var e=wn(n),t=zl(n),r=wv(n),i=new Date;return i.setFullYear(e,t,r),i.setHours(0,0,0,0),i}var jte=Vte(um,1),mC=om(jte),Fte=am(um,mC);function MF(n){return wv(lm(n))}var Nr={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Ute={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},gC=[0,1,2,3,4,5,6],mT=new Map;function Bte(n){return function(t,r){var i=t||CF();mT.has(i)||mT.set(i,new Map);var s=mT.get(i);return s.has(n)||s.set(n,new Intl.DateTimeFormat(i||void 0,n).format),s.get(n)(r)}}function $te(n){var e=new Date(n);return new Date(e.setHours(12))}function lc(n){return function(e,t){return Bte(n)(e,$te(t))}}var zte={day:"numeric"},Wte={day:"numeric",month:"long",year:"numeric"},Hte={month:"long"},qte={month:"long",year:"numeric"},Gte={weekday:"short"},Yte={weekday:"long"},Kte={year:"numeric"},Xte=lc(zte),Qte=lc(Wte),Jte=lc(Hte),LF=lc(qte),Zte=lc(Gte),ene=lc(Yte),xv=lc(Kte),tne=gC[0],nne=gC[5],AN=gC[6];function Dp(n,e){e===void 0&&(e=Nr.ISO_8601);var t=n.getDay();switch(e){case Nr.ISO_8601:return(t+6)%7;case Nr.ISLAMIC:return(t+1)%7;case Nr.HEBREW:case Nr.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function rne(n){var e=md(n);return wn(e)}function ine(n){var e=Wl(n);return wn(e)}function gx(n,e){e===void 0&&(e=Nr.ISO_8601);var t=wn(n),r=zl(n),i=n.getDate()-Dp(n,e);return new Date(t,r,i)}function sne(n,e){e===void 0&&(e=Nr.ISO_8601);var t=e===Nr.GREGORY?Nr.GREGORY:Nr.ISO_8601,r=gx(n,e),i=wn(n)+1,s,o;do s=new Date(i,0,t===Nr.ISO_8601?4:1),o=gx(s,e),i-=1;while(n<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function Fu(n,e){switch(n){case"century":return md(e);case"decade":return Wl(e);case"year":return gd(e);case"month":return ac(e);case"day":return um(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function one(n,e){switch(n){case"century":return Dte(e);case"decade":return AF(e);case"year":return kF(e);case"month":return DF(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function VF(n,e){switch(n){case"century":return bF(e);case"decade":return hC(e);case"year":return dC(e);case"month":return pC(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function ane(n,e){switch(n){case"decade":return AF(e,-100);case"year":return kF(e,-10);case"month":return DF(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function lne(n,e){switch(n){case"decade":return hC(e,100);case"year":return dC(e,10);case"month":return pC(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function jF(n,e){switch(n){case"century":return cC(e);case"decade":return Tv(e);case"year":return Ev(e);case"month":return lm(e);case"day":return mC(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function une(n,e){switch(n){case"century":return Ote(e);case"decade":return RF(e);case"year":return NF(e);case"month":return OF(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function cne(n,e){switch(n){case"decade":return RF(e,-100);case"year":return NF(e,-10);case"month":return OF(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function RN(n,e){switch(n){case"century":return IF(e);case"decade":return PF(e);case"year":return Mte(e);case"month":return Lte(e);case"day":return Fte(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function hne(n,e,t){var r=[e,t].sort(function(i,s){return i.getTime()-s.getTime()});return[Fu(n,r[0]),jF(n,r[1])]}function FF(n,e,t){return t.map(function(r){return(e||xv)(n,r)}).join(" – ")}function dne(n,e,t){return FF(n,e,IF(t))}function UF(n,e,t){return FF(n,e,PF(t))}function fne(n){return n.getDay()===new Date().getDay()}function BF(n,e){e===void 0&&(e=Nr.ISO_8601);var t=n.getDay();switch(e){case Nr.ISLAMIC:case Nr.HEBREW:return t===nne||t===AN;case Nr.ISO_8601:case Nr.GREGORY:return t===AN||t===tne;default:throw new Error("Unsupported calendar type.")}}var go="react-calendar__navigation";function pne(n){var e=n.activeStartDate,t=n.drillUp,r=n.formatMonthYear,i=r===void 0?LF:r,s=n.formatYear,o=s===void 0?xv:s,l=n.locale,c=n.maxDate,h=n.minDate,f=n.navigationAriaLabel,m=f===void 0?"":f,y=n.navigationAriaLive,_=n.navigationLabel,T=n.next2AriaLabel,w=T===void 0?"":T,C=n.next2Label,b=C===void 0?"»":C,O=n.nextAriaLabel,L=O===void 0?"":O,V=n.nextLabel,U=V===void 0?"›":V,W=n.prev2AriaLabel,k=W===void 0?"":W,R=n.prev2Label,P=R===void 0?"«":R,N=n.prevAriaLabel,j=N===void 0?"":N,B=n.prevLabel,M=B===void 0?"‹":B,ne=n.setActiveStartDate,ae=n.showDoubleView,fe=n.view,re=n.views,te=re.indexOf(fe)>0,ue=fe!=="century",$=one(fe,e),H=ue?ane(fe,e):void 0,Z=VF(fe,e),ge=ue?lne(fe,e):void 0,_e=function(){if($.getFullYear()<0)return!0;var ze=une(fe,e);return h&&h>=ze}(),Ee=ue&&function(){if(H.getFullYear()<0)return!0;var ze=cne(fe,e);return h&&h>=ze}(),Re=c&&c<Z,xe=ue&&c&&c<ge;function Oe(){ne($,"prev")}function Ve(){ne(H,"prev2")}function _t(){ne(Z,"next")}function Mt(){ne(ge,"next2")}function Bt(ze){var At=function(){switch(fe){case"century":return dne(l,o,ze);case"decade":return UF(l,o,ze);case"year":return o(l,ze);case"month":return i(l,ze);default:throw new Error("Invalid view: ".concat(fe,"."))}}();return _?_({date:ze,label:At,locale:l||CF()||void 0,view:fe}):At}function Ge(){var ze="".concat(go,"__label");return E.jsxs("button",{"aria-label":m,"aria-live":y,className:ze,disabled:!te,onClick:t,style:{flexGrow:1},type:"button",children:[E.jsx("span",{className:"".concat(ze,"__labelText ").concat(ze,"__labelText--from"),children:Bt(e)}),ae?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"".concat(ze,"__divider"),children:" – "}),E.jsx("span",{className:"".concat(ze,"__labelText ").concat(ze,"__labelText--to"),children:Bt(Z)})]}):null]})}return E.jsxs("div",{className:go,children:[P!==null&&ue?E.jsx("button",{"aria-label":k,className:"".concat(go,"__arrow ").concat(go,"__prev2-button"),disabled:Ee,onClick:Ve,type:"button",children:P}):null,M!==null&&E.jsx("button",{"aria-label":j,className:"".concat(go,"__arrow ").concat(go,"__prev-button"),disabled:_e,onClick:Oe,type:"button",children:M}),Ge(),U!==null&&E.jsx("button",{"aria-label":L,className:"".concat(go,"__arrow ").concat(go,"__next-button"),disabled:Re,onClick:_t,type:"button",children:U}),b!==null&&ue?E.jsx("button",{"aria-label":w,className:"".concat(go,"__arrow ").concat(go,"__next2-button"),disabled:xe,onClick:Mt,type:"button",children:b}):null]})}var mh=function(){return mh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},mh.apply(this,arguments)},mne=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function PN(n){return"".concat(n,"%")}function yC(n){var e=n.children,t=n.className,r=n.count,i=n.direction,s=n.offset,o=n.style,l=n.wrap,c=mne(n,["children","className","count","direction","offset","style","wrap"]);return E.jsx("div",mh({className:t,style:mh({display:"flex",flexDirection:i,flexWrap:l?"wrap":"nowrap"},o)},c,{children:A.Children.map(e,function(h,f){var m=s&&f===0?PN(100*s/r):null;return A.cloneElement(h,mh(mh({},h.props),{style:{flexBasis:PN(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:m,marginInlineStart:m,marginInlineEnd:0}}))})}))}function gne(n,e,t){return e&&e>n?e:t&&t<n?t:n}function Op(n,e){return e[0]<=n&&e[1]>=n}function yne(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function $F(n,e){return Op(n[0],e)||Op(n[1],e)}function kN(n,e,t){var r=$F(e,n),i=[];if(r){i.push(t);var s=Op(n[0],e),o=Op(n[1],e);s&&i.push("".concat(t,"Start")),o&&i.push("".concat(t,"End")),s&&o&&i.push("".concat(t,"BothEnds"))}return i}function _ne(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function vne(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,r=n.hover,i="react-calendar__tile",s=[i];if(!t)return s;var o=new Date,l=function(){if(Array.isArray(t))return t;var _=n.dateType;if(!_)throw new Error("dateType is required when date is not an array of two dates");return RN(_,t)}();if(Op(o,l)&&s.push("".concat(i,"--now")),!e||!_ne(e))return s;var c=function(){if(Array.isArray(e))return e;var _=n.valueType;if(!_)throw new Error("valueType is required when value is not an array of two dates");return RN(_,e)}();yne(c,l)?s.push("".concat(i,"--active")):$F(c,l)&&s.push("".concat(i,"--hasActive"));var h=kN(c,l,"".concat(i,"--range"));s.push.apply(s,h);var f=Array.isArray(e)?e:[e];if(r&&f.length===1){var m=r>c[0]?[c[0],r]:[r,c[0]],y=kN(m,l,"".concat(i,"--hover"));s.push.apply(s,y)}return s}function Sv(n){for(var e=n.className,t=n.count,r=t===void 0?3:t,i=n.dateTransform,s=n.dateType,o=n.end,l=n.hover,c=n.offset,h=n.renderTile,f=n.start,m=n.step,y=m===void 0?1:m,_=n.value,T=n.valueType,w=[],C=f;C<=o;C+=y){var b=i(C);w.push(h({classes:vne({date:b,dateType:s,hover:l,value:_,valueType:T}),date:b}))}return E.jsx(yC,{className:e,count:r,offset:c,wrap:!0,children:w})}function Cv(n){var e=n.activeStartDate,t=n.children,r=n.classes,i=n.date,s=n.formatAbbr,o=n.locale,l=n.maxDate,c=n.maxDateTransform,h=n.minDate,f=n.minDateTransform,m=n.onClick,y=n.onMouseOver,_=n.style,T=n.tileClassName,w=n.tileContent,C=n.tileDisabled,b=n.view,O=A.useMemo(function(){var V={activeStartDate:e,date:i,view:b};return typeof T=="function"?T(V):T},[e,i,T,b]),L=A.useMemo(function(){var V={activeStartDate:e,date:i,view:b};return typeof w=="function"?w(V):w},[e,i,w,b]);return E.jsxs("button",{className:vv(r,O),disabled:h&&f(h)>i||l&&c(l)<i||(C==null?void 0:C({activeStartDate:e,date:i,view:b})),onClick:m?function(V){return m(i,V)}:void 0,onFocus:y?function(){return y(i)}:void 0,onMouseOver:y?function(){return y(i)}:void 0,style:_,type:"button",children:[s?E.jsx("abbr",{"aria-label":s(o,i),children:t}):t,L]})}var yx=function(){return yx=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},yx.apply(this,arguments)},wne=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},NN="react-calendar__century-view__decades__decade";function Tne(n){var e=n.classes,t=e===void 0?[]:e,r=n.currentCentury,i=n.formatYear,s=i===void 0?xv:i,o=wne(n,["classes","currentCentury","formatYear"]),l=o.date,c=o.locale,h=[];return t&&h.push.apply(h,t),h.push(NN),md(l).getFullYear()!==r&&h.push("".concat(NN,"--neighboringCentury")),E.jsx(Cv,yx({},o,{classes:h,maxDateTransform:Tv,minDateTransform:Wl,view:"century",children:UF(c,s,l)}))}var _x=function(){return _x=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},_x.apply(this,arguments)},DN=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Ene(n){var e=n.activeStartDate,t=n.hover,r=n.showNeighboringCentury,i=n.value,s=n.valueType,o=DN(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=rne(e),c=l+(r?119:99);return E.jsx(Sv,{className:"react-calendar__century-view__decades",dateTransform:Wl,dateType:"decade",end:c,hover:t,renderTile:function(h){var f=h.date,m=DN(h,["date"]);return E.jsx(Tne,_x({},o,m,{activeStartDate:e,currentCentury:l,date:f}),f.getTime())},start:l,step:10,value:i,valueType:s})}var vx=function(){return vx=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},vx.apply(this,arguments)};function xne(n){function e(){return E.jsx(Ene,vx({},n))}return E.jsx("div",{className:"react-calendar__century-view",children:e()})}var wx=function(){return wx=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},wx.apply(this,arguments)},Sne=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},ON="react-calendar__decade-view__years__year";function Cne(n){var e=n.classes,t=e===void 0?[]:e,r=n.currentDecade,i=n.formatYear,s=i===void 0?xv:i,o=Sne(n,["classes","currentDecade","formatYear"]),l=o.date,c=o.locale,h=[];return t&&h.push.apply(h,t),h.push(ON),Wl(l).getFullYear()!==r&&h.push("".concat(ON,"--neighboringDecade")),E.jsx(Cv,wx({},o,{classes:h,maxDateTransform:Ev,minDateTransform:gd,view:"decade",children:s(c,l)}))}var Tx=function(){return Tx=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Tx.apply(this,arguments)},MN=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function bne(n){var e=n.activeStartDate,t=n.hover,r=n.showNeighboringDecade,i=n.value,s=n.valueType,o=MN(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=ine(e),c=l+(r?11:9);return E.jsx(Sv,{className:"react-calendar__decade-view__years",dateTransform:gd,dateType:"year",end:c,hover:t,renderTile:function(h){var f=h.date,m=MN(h,["date"]);return E.jsx(Cne,Tx({},o,m,{activeStartDate:e,currentDecade:l,date:f}),f.getTime())},start:l,value:i,valueType:s})}var Ex=function(){return Ex=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ex.apply(this,arguments)};function Ine(n){function e(){return E.jsx(bne,Ex({},n))}return E.jsx("div",{className:"react-calendar__decade-view",children:e()})}var xx=function(){return xx=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},xx.apply(this,arguments)},Ane=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},LN=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},Rne="react-calendar__year-view__months__month";function Pne(n){var e=n.classes,t=e===void 0?[]:e,r=n.formatMonth,i=r===void 0?Jte:r,s=n.formatMonthYear,o=s===void 0?LF:s,l=Ane(n,["classes","formatMonth","formatMonthYear"]),c=l.date,h=l.locale;return E.jsx(Cv,xx({},l,{classes:LN(LN([],t,!0),[Rne],!1),formatAbbr:o,maxDateTransform:lm,minDateTransform:ac,view:"year",children:i(h,c)}))}var Sx=function(){return Sx=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Sx.apply(this,arguments)},VN=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function kne(n){var e=n.activeStartDate,t=n.hover,r=n.value,i=n.valueType,s=VN(n,["activeStartDate","hover","value","valueType"]),o=0,l=11,c=wn(e);return E.jsx(Sv,{className:"react-calendar__year-view__months",dateTransform:function(h){var f=new Date;return f.setFullYear(c,h,1),ac(f)},dateType:"month",end:l,hover:t,renderTile:function(h){var f=h.date,m=VN(h,["date"]);return E.jsx(Pne,Sx({},s,m,{activeStartDate:e,date:f}),f.getTime())},start:o,value:r,valueType:i})}var Cx=function(){return Cx=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Cx.apply(this,arguments)};function Nne(n){function e(){return E.jsx(kne,Cx({},n))}return E.jsx("div",{className:"react-calendar__year-view",children:e()})}var bx=function(){return bx=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},bx.apply(this,arguments)},Dne=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},gT="react-calendar__month-view__days__day";function One(n){var e=n.calendarType,t=n.classes,r=t===void 0?[]:t,i=n.currentMonthIndex,s=n.formatDay,o=s===void 0?Xte:s,l=n.formatLongDate,c=l===void 0?Qte:l,h=Dne(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),f=h.date,m=h.locale,y=[];return r&&y.push.apply(y,r),y.push(gT),BF(f,e)&&y.push("".concat(gT,"--weekend")),f.getMonth()!==i&&y.push("".concat(gT,"--neighboringMonth")),E.jsx(Cv,bx({},h,{classes:y,formatAbbr:c,maxDateTransform:mC,minDateTransform:um,view:"month",children:o(m,f)}))}var Ix=function(){return Ix=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ix.apply(this,arguments)},jN=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Mne(n){var e=n.activeStartDate,t=n.calendarType,r=n.hover,i=n.showFixedNumberOfWeeks,s=n.showNeighboringMonth,o=n.value,l=n.valueType,c=jN(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),h=wn(e),f=zl(e),m=i||s,y=Dp(e,t),_=m?0:y,T=(m?-y:0)+1,w=function(){if(i)return T+6*7-1;var C=MF(e);if(s){var b=new Date;b.setFullYear(h,f,C),b.setHours(0,0,0,0);var O=7-Dp(b,t)-1;return C+O}return C}();return E.jsx(Sv,{className:"react-calendar__month-view__days",count:7,dateTransform:function(C){var b=new Date;return b.setFullYear(h,f,C),um(b)},dateType:"day",hover:r,end:w,renderTile:function(C){var b=C.date,O=jN(C,["date"]);return E.jsx(One,Ix({},c,O,{activeStartDate:e,calendarType:t,currentMonthIndex:f,date:b}),b.getTime())},offset:_,start:T,value:o,valueType:l})}var zF="react-calendar__month-view__weekdays",yT="".concat(zF,"__weekday");function Lne(n){for(var e=n.calendarType,t=n.formatShortWeekday,r=t===void 0?Zte:t,i=n.formatWeekday,s=i===void 0?ene:i,o=n.locale,l=n.onMouseLeave,c=new Date,h=ac(c),f=wn(h),m=zl(h),y=[],_=1;_<=7;_+=1){var T=new Date(f,m,_-Dp(h,e)),w=s(o,T);y.push(E.jsx("div",{className:vv(yT,fne(T)&&"".concat(yT,"--current"),BF(T,e)&&"".concat(yT,"--weekend")),children:E.jsx("abbr",{"aria-label":w,title:w,children:r(o,T).replace(".","")})},_))}return E.jsx(yC,{className:zF,count:7,onFocus:l,onMouseOver:l,children:y})}var R_=function(){return R_=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},R_.apply(this,arguments)},FN=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},UN="react-calendar__tile";function Vne(n){var e=n.onClickWeekNumber,t=n.weekNumber,r=E.jsx("span",{children:t});if(e){var i=n.date,s=n.onClickWeekNumber,o=n.weekNumber,l=FN(n,["date","onClickWeekNumber","weekNumber"]);return E.jsx("button",R_({},l,{className:UN,onClick:function(c){return s(o,i,c)},type:"button",children:r}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var l=FN(n,["date","onClickWeekNumber","weekNumber"]);return E.jsx("div",R_({},l,{className:UN,children:r}))}}function jne(n){var e=n.activeStartDate,t=n.calendarType,r=n.onClickWeekNumber,i=n.onMouseLeave,s=n.showFixedNumberOfWeeks,o=function(){if(s)return 6;var h=MF(e),f=Dp(e,t),m=h-(7-f);return 1+Math.ceil(m/7)}(),l=function(){for(var h=wn(e),f=zl(e),m=wv(e),y=[],_=0;_<o;_+=1)y.push(gx(new Date(h,f,m+_*7),t));return y}(),c=l.map(function(h){return sne(h,t)});return E.jsx(yC,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map(function(h,f){var m=l[f];if(!m)throw new Error("date is not defined");return E.jsx(Vne,{date:m,onClickWeekNumber:r,weekNumber:h},h)})})}var Ax=function(){return Ax=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ax.apply(this,arguments)},Fne=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Une(n){if(n)for(var e=0,t=Object.entries(Ute);e<t.length;e++){var r=t[e],i=r[0],s=r[1];if(s.includes(n))return i}return Nr.ISO_8601}function Bne(n){var e=n.activeStartDate,t=n.locale,r=n.onMouseLeave,i=n.showFixedNumberOfWeeks,s=n.calendarType,o=s===void 0?Une(t):s,l=n.formatShortWeekday,c=n.formatWeekday,h=n.onClickWeekNumber,f=n.showWeekNumbers,m=Fne(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function y(){return E.jsx(Lne,{calendarType:o,formatShortWeekday:l,formatWeekday:c,locale:t,onMouseLeave:r})}function _(){return f?E.jsx(jne,{activeStartDate:e,calendarType:o,onClickWeekNumber:h,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function T(){return E.jsx(Mne,Ax({calendarType:o},m))}var w="react-calendar__month-view";return E.jsx("div",{className:vv(w,f?"".concat(w,"--weekNumbers"):""),children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[_(),E.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[y(),T()]})]})})}var gh=function(){return gh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},gh.apply(this,arguments)},ey="react-calendar",ky=["century","decade","year","month"],$ne=["decade","year","month","day"],_C=new Date;_C.setFullYear(1,0,1);_C.setHours(0,0,0,0);var zne=new Date(864e13);function bf(n){return n instanceof Date?n:new Date(n)}function WF(n,e){return ky.slice(ky.indexOf(n),ky.indexOf(e)+1)}function Wne(n,e,t){var r=WF(e,t);return r.indexOf(n)!==-1}function vC(n,e,t){return n&&Wne(n,e,t)?n:t}function HF(n){var e=ky.indexOf(n);return $ne[e]}function Hne(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var r=bf(t);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(n));return r}function qF(n,e){var t=n.value,r=n.minDate,i=n.maxDate,s=n.maxDetail,o=Hne(t,e);if(!o)return null;var l=HF(s),c=function(){switch(e){case 0:return Fu(l,o);case 1:return jF(l,o);default:throw new Error("Invalid index value: ".concat(e))}}();return gne(c,r,i)}var wC=function(n){return qF(n,0)},GF=function(n){return qF(n,1)},qne=function(n){return[wC,GF].map(function(e){return e(n)})};function YF(n){var e=n.maxDate,t=n.maxDetail,r=n.minDate,i=n.minDetail,s=n.value,o=n.view,l=vC(o,i,t),c=wC({value:s,minDate:r,maxDate:e,maxDetail:t})||new Date;return Fu(l,c)}function Gne(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,r=n.defaultValue,i=n.defaultView,s=n.maxDate,o=n.maxDetail,l=n.minDate,c=n.minDetail,h=n.value,f=n.view,m=vC(f,c,o),y=e||t;return y?Fu(m,y):YF({maxDate:s,maxDetail:o,minDate:l,minDetail:c,value:h||r,view:f||i})}function _T(n){return n&&(!Array.isArray(n)||n.length===1)}function ty(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var KF=A.forwardRef(function(e,t){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,o=e.className,l=e.defaultActiveStartDate,c=e.defaultValue,h=e.defaultView,f=e.formatDay,m=e.formatLongDate,y=e.formatMonth,_=e.formatMonthYear,T=e.formatShortWeekday,w=e.formatWeekday,C=e.formatYear,b=e.goToRangeStartOnSelect,O=b===void 0?!0:b,L=e.inputRef,V=e.locale,U=e.maxDate,W=U===void 0?zne:U,k=e.maxDetail,R=k===void 0?"month":k,P=e.minDate,N=P===void 0?_C:P,j=e.minDetail,B=j===void 0?"century":j,M=e.navigationAriaLabel,ne=e.navigationAriaLive,ae=e.navigationLabel,fe=e.next2AriaLabel,re=e.next2Label,te=e.nextAriaLabel,ue=e.nextLabel,$=e.onActiveStartDateChange,H=e.onChange,Z=e.onClickDay,ge=e.onClickDecade,_e=e.onClickMonth,Ee=e.onClickWeekNumber,Re=e.onClickYear,xe=e.onDrillDown,Oe=e.onDrillUp,Ve=e.onViewChange,_t=e.prev2AriaLabel,Mt=e.prev2Label,Bt=e.prevAriaLabel,Ge=e.prevLabel,ze=e.returnValue,At=ze===void 0?"start":ze,vt=e.selectRange,J=e.showDoubleView,cn=e.showFixedNumberOfWeeks,Rn=e.showNavigation,Pn=Rn===void 0?!0:Rn,ce=e.showNeighboringCentury,nt=e.showNeighboringDecade,xt=e.showNeighboringMonth,Kt=xt===void 0?!0:xt,st=e.showWeekNumbers,pt=e.tileClassName,Ye=e.tileContent,Ht=e.tileDisabled,Jt=e.value,Nt=e.view,$n=A.useState(l),mt=$n[0],ar=$n[1],kn=A.useState(null),_i=kn[0],ri=kn[1],Tr=A.useState(Array.isArray(c)?c.map(function(Le){return Le!==null?bf(Le):null}):c!=null?bf(c):null),Jn=Tr[0],Qe=Tr[1],Er=A.useState(h),Zt=Er[0],nn=Er[1],Rt=r||mt||Gne({activeStartDate:r,defaultActiveStartDate:l,defaultValue:c,defaultView:h,maxDate:W,maxDetail:R,minDate:N,minDetail:B,value:Jt,view:Nt}),Pt=function(){var Le=function(){return vt&&_T(Jn)?Jn:Jt!==void 0?Jt:Jn}();return Le?Array.isArray(Le)?Le.map(function(De){return De!==null?bf(De):null}):Le!==null?bf(Le):null:null}(),xr=HF(R),rt=vC(Nt||Zt,B,R),Nn=WF(B,R),Fe=vt?_i:null,ke=Nn.indexOf(rt)<Nn.length-1,Me=Nn.indexOf(rt)>0,pe=A.useCallback(function(Le){var De=function(){switch(At){case"start":return wC;case"end":return GF;case"range":return qne;default:throw new Error("Invalid returnValue.")}}();return De({maxDate:W,maxDetail:R,minDate:N,value:Le})},[W,R,N,At]),Ne=A.useCallback(function(Le,De){ar(Le);var ot={action:De,activeStartDate:Le,value:Pt,view:rt};$&&!ty(Rt,Le)&&$(ot)},[Rt,$,Pt,rt]),Se=A.useCallback(function(Le,De){var ot=function(){switch(rt){case"century":return ge;case"decade":return Re;case"year":return _e;case"month":return Z;default:throw new Error("Invalid view: ".concat(rt,"."))}}();ot&&ot(Le,De)},[Z,ge,_e,Re,rt]),je=A.useCallback(function(Le,De){if(ke){Se(Le,De);var ot=Nn[Nn.indexOf(rt)+1];if(!ot)throw new Error("Attempted to drill down from the lowest view.");ar(Le),nn(ot);var qt={action:"drillDown",activeStartDate:Le,value:Pt,view:ot};$&&!ty(Rt,Le)&&$(qt),Ve&&rt!==ot&&Ve(qt),xe&&xe(qt)}},[Rt,ke,$,Se,xe,Ve,Pt,rt,Nn]),$t=A.useCallback(function(){if(Me){var Le=Nn[Nn.indexOf(rt)-1];if(!Le)throw new Error("Attempted to drill up from the highest view.");var De=Fu(Le,Rt);ar(De),nn(Le);var ot={action:"drillUp",activeStartDate:De,value:Pt,view:Le};$&&!ty(Rt,De)&&$(ot),Ve&&rt!==Le&&Ve(ot),Oe&&Oe(ot)}},[Rt,Me,$,Oe,Ve,Pt,rt,Nn]),We=A.useCallback(function(Le,De){var ot=Pt;Se(Le,De);var qt=vt&&!_T(ot),gt;if(vt)if(qt)gt=Fu(xr,Le);else{if(!ot)throw new Error("previousValue is required");if(Array.isArray(ot))throw new Error("previousValue must not be an array");gt=hne(xr,ot,Le)}else gt=pe(Le);var Gt=!vt||qt||O?YF({maxDate:W,maxDetail:R,minDate:N,minDetail:B,value:gt,view:rt}):null;De.persist(),ar(Gt),Qe(gt);var dn={action:"onChange",activeStartDate:Gt,value:gt,view:rt};if($&&!ty(Rt,Gt)&&$(dn),H)if(vt){var vi=_T(gt);if(!vi)H(gt||null,De);else if(i){if(Array.isArray(gt))throw new Error("value must not be an array");H([gt||null,null],De)}}else H(gt||null,De)},[Rt,i,pe,O,W,R,N,B,$,H,Se,vt,Pt,xr,rt]);function zt(Le){ri(Le)}function hn(){ri(null)}A.useImperativeHandle(t,function(){return{activeStartDate:Rt,drillDown:je,drillUp:$t,onChange:We,setActiveStartDate:Ne,value:Pt,view:rt}},[Rt,je,$t,We,Ne,Pt,rt]);function Dt(Le){var De=Le?VF(rt,Rt):Fu(rt,Rt),ot=ke?je:We,qt={activeStartDate:De,hover:Fe,locale:V,maxDate:W,minDate:N,onClick:ot,onMouseOver:vt?zt:void 0,tileClassName:pt,tileContent:Ye,tileDisabled:Ht,value:Pt,valueType:xr};switch(rt){case"century":return E.jsx(xne,gh({formatYear:C,showNeighboringCentury:ce},qt));case"decade":return E.jsx(Ine,gh({formatYear:C,showNeighboringDecade:nt},qt));case"year":return E.jsx(Nne,gh({formatMonth:y,formatMonthYear:_},qt));case"month":return E.jsx(Bne,gh({calendarType:s,formatDay:f,formatLongDate:m,formatShortWeekday:T,formatWeekday:w,onClickWeekNumber:Ee,onMouseLeave:vt?hn:void 0,showFixedNumberOfWeeks:typeof cn<"u"?cn:J,showNeighboringMonth:Kt,showWeekNumbers:st},qt));default:throw new Error("Invalid view: ".concat(rt,"."))}}function Lt(){return Pn?E.jsx(pne,{activeStartDate:Rt,drillUp:$t,formatMonthYear:_,formatYear:C,locale:V,maxDate:W,minDate:N,navigationAriaLabel:M,navigationAriaLive:ne,navigationLabel:ae,next2AriaLabel:fe,next2Label:re,nextAriaLabel:te,nextLabel:ue,prev2AriaLabel:_t,prev2Label:Mt,prevAriaLabel:Bt,prevLabel:Ge,setActiveStartDate:Ne,showDoubleView:J,view:rt,views:Nn}):null}var it=Array.isArray(Pt)?Pt:[Pt];return E.jsxs("div",{className:vv(ey,vt&&it.length===1&&"".concat(ey,"--selectRange"),J&&"".concat(ey,"--doubleView"),o),ref:L,children:[Lt(),E.jsxs("div",{className:"".concat(ey,"__viewContainer"),onBlur:vt?hn:void 0,onMouseLeave:vt?hn:void 0,children:[Dt(),J?Dt(!0):null]})]})});const Yne="/images/dog_small.gif",Kne="/images/dog_large.gif",Xne="/images/cat.gif";function Qne(){const[n,e]=A.useState(""),[t,r]=A.useState(""),[i,s]=A.useState(""),[o,l]=A.useState(0),[c,h]=A.useState(""),[f,m]=A.useState(!1),[y,_]=A.useState(null),[T,w]=A.useState(!1),[C,b]=A.useState(!1),O=()=>n.trim()&&t.trim()&&i.trim()&&o>=1&&c.trim(),L=async V=>{if(V.preventDefault(),!O()){_("Veuillez remplir tous les champs et donner une note entre 1 et 5."),b(!0),setTimeout(()=>b(!1),500);return}_(null),m(!0);try{const U=Ds(Fi,"reviews"),W={author:n,dogName:t,email:i,text:c,starRating:o,sourceUrl:"",createdAt:Wee()};await yv(U,W),w(!0),e(""),r(""),s(""),l(0),h("")}catch{_("Une erreur est survenue lors de l'envoi, veuillez réessayer.")}finally{m(!1)}};return E.jsxs(_n.form,{onSubmit:L,className:"max-w-lg p-6 bg-white rounded-2xl space-y-4",animate:C?{x:[0,-10,10,-10,10,0]}:{},transition:{duration:.5},children:[E.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Laisser un avis"}),y&&E.jsx("p",{className:"text-red-600",children:y}),T&&E.jsx("p",{className:"text-green-600",children:"Merci pour votre avis !"}),E.jsxs(_n.div,{animate:y&&!n.trim()?{x:[0,-5,5,-5,5,0]}:{},transition:{duration:.4},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom complet"}),E.jsx("input",{type:"text",value:n,onChange:V=>e(V.target.value),required:!0,className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${y&&!n.trim()?"border-red-500":""}`})]}),E.jsxs(_n.div,{animate:y&&!t.trim()?{x:[0,-5,5,-5,5,0]}:{},transition:{duration:.4},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom du chien"}),E.jsx("input",{type:"text",value:t,onChange:V=>r(V.target.value),required:!0,className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${y&&!t.trim()?"border-red-500":""}`})]}),E.jsxs(_n.div,{animate:y&&!i.trim()?{x:[0,-5,5,-5,5,0]}:{},transition:{duration:.4},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),E.jsx("input",{type:"email",value:i,onChange:V=>s(V.target.value),required:!0,className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${y&&!i.trim()?"border-red-500":""}`})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Note"}),E.jsx("div",{className:"flex space-x-1 mt-1",children:Array.from({length:5},(V,U)=>U+1).map(V=>E.jsx("button",{type:"button",onClick:()=>l(V),className:`text-2xl ${V<=o?"text-yellow-400":"text-gray-300"}`,"aria-label":`${V} étoiles`,children:"★"},V))})]}),E.jsxs(_n.div,{animate:y&&!c.trim()?{x:[0,-5,5,-5,5,0]}:{},transition:{duration:.4},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Commentaire"}),E.jsx("textarea",{value:c,onChange:V=>h(V.target.value),required:!0,rows:4,className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${y&&!c.trim()?"border-red-500":""}`})]}),E.jsx(Bu,{label:f?"Envoi...":"Envoyer mon avis",alt:"Envoyer mon avis",variant:"primary",type:"submit"})]})}const XF=[{id:1,title:"FORMULE FLASH",subtitle:"Journée",description:"Parfait pour des escapades courtes",rates:["20€/jour (Chien jusqu'à 40kg)","Deux chiens : -10%"],icon:E.jsx(u6,{className:"h-10 w-10 text-yellow-500"}),type:"dog"},{id:2,title:"FORMULE SÉJOURS",subtitle:"2 nuits et plus",description:"Idéal pour des vacances",rates:["22€/Nuit (Chien jusqu'à 40kg)","Deux chiens : -10%"],icon:E.jsx(I6,{className:"h-10 w-10 text-pink-500"}),type:"dog"},{id:3,title:"FORMULE FÉLIN",subtitle:"Journée ou nuit",description:"Confort et câlins garantis",rates:["15€/jour (1 chat)","Deux chats : -10%"],icon:E.jsx(t6,{className:"h-10 w-10 text-purple-500"}),type:"cat"}],Jne={idle:{y:[0,-8,0],transition:{duration:1.5,repeat:1/0}}};function BN(){const[n,e]=A.useState(null),t=A.useRef(null);return A.useEffect(()=>{document.body.style.overflow=n?"hidden":""},[n]),E.jsxs("section",{className:"bg-gradient-to-br from-green-50 to-white py-12 px-4 mt-16",children:[E.jsxs(Hu,{children:[E.jsx("title",{children:"Nos services - PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez nos services de garde d'animaux, nos tarifs et notre engagement envers le bien-être de vos compagnons."}),E.jsx("meta",{property:"og:title",content:"Nos services - PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez nos services de garde d'animaux, nos tarifs et notre engagement envers le bien-être de vos compagnons."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-center text-blue-500 mb-12",children:"SERVICES ET TARIFS"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:XF.map(r=>E.jsxs(_n.article,{whileHover:{scale:1.04},className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition p-6 flex flex-col justify-between",role:"region","aria-labelledby":`service-${r.id}`,children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("div",{className:"flex justify-center mb-4",children:r.icon}),E.jsx("h3",{id:`service-${r.id}`,className:"text-xl font-bold uppercase text-gray-800 text-center mb-2",children:r.title}),E.jsx("p",{className:"text-sm uppercase font-semibold text-gray-500 text-center mb-4",children:r.subtitle}),E.jsx("p",{className:"text-base text-gray-600 mb-4 text-center",children:r.description}),E.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1 text-sm",children:r.rates.map((i,s)=>E.jsx("li",{children:i},s))})]}),E.jsx(Bu,{label:"Réservez",alt:"Réserver ce service",variant:"primary",onClick:()=>e(r)})]},r.id))}),E.jsx(TE,{children:n&&E.jsx(Zne,{service:n,onClose:()=>e(null),overlayRef:t})}),E.jsxs("div",{className:"mt-16",children:[E.jsx("h3",{className:"text-2xl font-semibold text-center text-gray-800 mb-8",children:"Avis des clients"}),E.jsx(Tte,{}),E.jsx("div",{className:"mt-12",id:"avis",children:E.jsx(Qne,{})})]})]})]})}function Zne({service:n,onClose:e,overlayRef:t}){const r=ed(),[i,s]=A.useState(1),[o,l]=A.useState(null),[c,h]=A.useState([]),[f,m]=A.useState(!0),[y,_]=A.useState(1),[T,w]=A.useState(["Petit & moyen chien"]),[C,b]=A.useState([{name:"",breed:"",age:""}]),[O,L]=A.useState([!1]);A.useEffect(()=>{async function N(){m(!0);const j=Lee(Ds(Fi,"bookings"),Vee("serviceId","==",n.id)),B=await $l(j);h(B.docs.map(M=>M.data().date)),m(!1)}N()},[n.id]),A.useEffect(()=>{const N=(j,B)=>{const M=[...j];return y>M.length?M.push(B):M.splice(y),M};w(j=>N(j,"Petit & moyen chien")),b(j=>N(j,{name:"",breed:"",age:""})),L(j=>N(j,!1))},[y]);const V=C.map((N,j)=>({name:!N.name.trim()&&O[j],breed:!N.breed.trim()&&O[j],age:!(Number(N.age)>0)&&O[j]})),U=T.filter(N=>N==="Gros chien").length,W=N=>n.type==="cat"?Xne:N==="Gros chien"?Kne:Yne,{icon:k,...R}=n,P=async N=>{if(N.preventDefault(),C.some(B=>!B.name.trim()||!B.breed.trim()||!(Number(B.age)>0))||!o||U>1){L(Array(y).fill(!0));return}r("/checkout",{state:{service:R,selectedRange:o,quantity:y,sizes:T,details:C}}),e()};return E.jsx(_n.div,{ref:t,className:"fixed inset-0 bg-blue-200 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:E.jsxs(_n.div,{className:"bg-white w-full max-w-lg mx-4 sm:mx-0 rounded-2xl p-8 shadow-xl max-h-[90vh] overflow-y-auto relative",role:"dialog","aria-modal":"true",initial:{scale:.8},animate:{scale:1},exit:{scale:.8},children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400","aria-label":"Fermer",children:E.jsx(ND,{className:"w-6 h-6 text-gray-700"})}),E.jsxs("h4",{className:"text-2xl font-bold mb-4 text-blue-500 text-center",children:["Réservation - ",n.title]}),i===1?E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"mb-4",children:"Sélectionnez un intervalle :"}),f?E.jsx("p",{children:"Chargement..."}):E.jsx(KF,{selectRange:!0,onChange:N=>Array.isArray(N)&&l(N),tileDisabled:({date:N})=>c.includes(N.toISOString().split("T")[0]),value:o||new Date}),E.jsx("button",{onClick:()=>s(2),disabled:!o,className:"mt-4 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white py-2 px-4 rounded",children:"Suivant"})]}):E.jsxs("form",{onSubmit:P,noValidate:!0,children:[E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:T.map((N,j)=>E.jsx(_n.img,{src:W(N),alt:N,className:N==="Gros chien"?"h-40 w-40":"h-28 w-28",variants:Jne,initial:"idle",animate:"idle"},j))}),n.type==="dog"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium",children:"Nombre de chiens"}),E.jsxs("select",{value:y,onChange:N=>_(Number(N.target.value)),className:"mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[E.jsx("option",{value:1,children:"1"}),E.jsx("option",{value:2,children:"2"})]})]}),T.map((N,j)=>E.jsxs("div",{className:"mb-4",children:[E.jsxs("label",{className:"block text-sm font-medium",children:["Taille chien ",j+1]}),E.jsxs("select",{value:N,onChange:B=>w(M=>M.map((ne,ae)=>ae===j?B.target.value:ne)),className:"mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[E.jsx("option",{children:"Petit & moyen chien"}),E.jsx("option",{children:"Gros chien"})]}),j===1&&U>1&&E.jsx("p",{className:"text-red-600 text-xs",children:"Un seul gros autorisé"})]},j))]}):E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium",children:"Nombre de chats"}),E.jsxs("select",{value:y,onChange:N=>_(Number(N.target.value)),className:"mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[E.jsx("option",{value:1,children:"1"}),E.jsx("option",{value:2,children:"2"})]})]}),C.map((N,j)=>E.jsxs("div",{className:"mb-4 space-y-2",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Nom complet"}),E.jsx("input",{type:"text",value:N.name,onChange:B=>b(M=>M.map((ne,ae)=>ae===j?{...ne,name:B.target.value}:ne)),onBlur:()=>L(B=>B.map((M,ne)=>ne===j?!0:M)),className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500 ${V[j].name&&O[j]?"border-red-500":""}`}),V[j].name&&O[j]&&E.jsx("p",{className:"text-red-600 text-xs",children:"Nom requis"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Race"}),E.jsx("input",{type:"text",value:N.breed,onChange:B=>b(M=>M.map((ne,ae)=>ae===j?{...ne,breed:B.target.value}:ne)),onBlur:()=>L(B=>B.map((M,ne)=>ne===j?!0:M)),className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500 ${V[j].breed&&O[j]?"border-red-500":""}`}),V[j].breed&&O[j]&&E.jsx("p",{className:"text-red-600 text-xs",children:"Race requise"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Âge"}),E.jsx("input",{type:"number",value:N.age,onChange:B=>b(M=>M.map((ne,ae)=>ae===j?{...ne,age:B.target.value}:ne)),onBlur:()=>L(B=>B.map((M,ne)=>ne===j?!0:M)),className:`mt-1 w-full border rounded p-2 focus:outline-none focus:ring-1 focus:ring-blue-500 ${V[j].age&&O[j]?"border-red-500":""}`}),V[j].age&&O[j]&&E.jsx("p",{className:"text-red-600 text-xs",children:"Âge valide requis"})]})]},j)),E.jsx("button",{type:"submit",className:"w-full py-3 rounded bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white",children:"Confirmer"})]})]})})}const vT=({alt:n,src:e,className:t,...r})=>{const[i,s]=A.useState(!1);return E.jsx("img",{src:e,alt:n,loading:"lazy",className:`transition-opacity duration-700 ease-in-out ${i?"opacity-100":"opacity-0"} ${t}`,onLoad:()=>s(!0),...r})},ere=()=>E.jsxs("main",{children:[E.jsxs(Hu,{children:[E.jsx("title",{children:"Qui sommes-nous ? - PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:title",content:"Qui sommes-nous ? - PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsxs("section",{className:"container mx-auto px-2 mt-12 lg:px-50 py-12","aria-labelledby":"about-heading",children:[E.jsx("header",{className:"text-center mb-12",children:E.jsx("h1",{id:"about-heading",className:"text-4xl font-extrabold text-blue-600",children:"Qui sommes-nous ?"})}),E.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-16 items-start",children:[E.jsxs("div",{className:"order-1 md:order-1 space-y-4 text-gray-800 leading-relaxed",children:[E.jsxs("p",{children:["Nous sommes un couple passionné avec de très longues années d’expérience dans la garde et le bien-être des animaux. ",E.jsx("br",{})," Mon mari, Andrew, a grandi dans une ferme au Costa Rica entouré de 7 chiens, 8 chats, des chevaux, des vaches, des poules… et a été assistant vétérinaire pendant son adolescence. Il a un vrai don pour comprendre et éduquer les animaux mais est aussi attentionné, doux et joueur.",E.jsx("br",{})," ",E.jsx("br",{}),"Quant à moi, je m’appelle Justine. J’ai grandi en région parisienne, toujours entourée de chiens et de chats. Je suis très câline, joueuse et attentive à leurs besoins. ",E.jsx("br",{})," ",E.jsx("br",{}),"Nous travaillons en télétravail ce qui nous permet d’être disponibles 24h/24 et 7j/7 pour les animaux que nous gardons."]}),E.jsx("p",{children:"Nous habitons dans un appartement de 60m² à Antony, Hauts-de-Seine, juste en face d’un grand parc traversé par la coulée verte. Ces espaces verts sont parfaits pour faire de belles et longues balades avec les chiens au minimum 3 fois par jour et 4 pour ceux avec beaucoup d'énergie."}),E.jsxs("p",{children:["Nous accueillons jusqu'à deux chiens/chats d'un SEUL propriétaire à la fois pour offrir toute notre attention et assurer un séjour exclusif de haute qualité. ",E.jsx("br",{})," ",E.jsx("br",{}),"N’hésitez pas à nous contacter si vous avez une question, nous serons ravis de vous répondre! On a hâte de rencontrer votre petite boule d’amour et de lui faire passer de merveilleuses vacances chez nous :)"]})]}),E.jsxs("div",{className:"order-2 md:order-2 grid grid-cols-2 grid-rows-2 gap-4",children:[E.jsx(vT,{src:"/carousel/1.jpg",alt:"Photo équipe 1",className:"w-full h-48 md:h-64 object-cover rounded-xl"}),E.jsx(vT,{src:"/carousel/2.jpg",alt:"Photo équipe 2",className:"w-full h-48 md:h-64 object-cover rounded-xl"}),E.jsx(vT,{src:"/carousel/3.jpg",alt:"Photo équipe 3",className:"col-span-2 w-full h-64 object-cover rounded-xl"})]})]}),E.jsxs("section",{className:"mb-16","aria-labelledby":"values-heading",children:[E.jsx("h2",{id:"values-heading",className:"text-2xl font-semibold text-center text-gray-800 mb-6",children:"Nos valeurs"}),E.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:m6,label:"Amour et respect",color:"text-red-500"},{icon:h6,label:"Transparence",color:"text-yellow-500"},{icon:f6,label:"Confiance",color:"text-green-500"},{icon:R6,label:"Expérience",color:"text-indigo-500"}].map(({icon:n,label:e,color:t})=>E.jsxs("li",{className:"flex items-center p-4 border rounded-xl shadow-sm",children:[E.jsx(n,{className:`w-6 h-6 ${t}`}),E.jsx("span",{className:"ml-3 text-gray-700",children:e})]},e))})]}),E.jsxs("section",{className:"text-center mb-12",children:[E.jsx("h3",{className:"text-2xl font-medium text-gray-800 mb-4",children:"Une question ?"}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[E.jsx(Bu,{label:"FAQ",alt:"Aller à la page FAQ",variant:"primary",to:"/FAQ"}),E.jsx(Bu,{label:"Contactez-nous",alt:"Aller à la page de contact",variant:"primary",to:"/contact"})]})]})]})]}),tre=({count:n=8})=>E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:n}).map((e,t)=>E.jsx("div",{className:"animate-pulse bg-gray-200 h-48 rounded-lg"},t))}),QF="carousel",JF="controller",nre="navigation",rre="no-scroll",TC="portal",ire="root",ZF="toolbar",wT="loading",TT="error",ET="complete",sre="placeholder",ore=n=>`active-slide-${n}`,e4="flex_center",are="no_scroll",t4="no_scroll_padding",EC="slide",lre="slide_wrapper",vu="prev",wu="next",$N="swipe",Qh="close",n4="onPointerDown",r4="onPointerMove",i4="onPointerUp",s4="onPointerLeave",o4="onPointerCancel",a4="onKeyDown",ure="onKeyUp",l4="onWheel",cre="Escape",hre="ArrowLeft",dre="ArrowRight",fre="button",Rx="icon",u4="contain",zN="cover",pre="Unknown action type",c4="yarl__";function ma(...n){return[...n].filter(Boolean).join(" ")}function jt(n){return`${c4}${n}`}function ki(n){return`--${c4}${n}`}function cm(n,e){return`${n}${e?`_${e}`:""}`}function xC(n){return e=>cm(n,e)}function mre(n,e){var t;return(t=n==null?void 0:n[e])!==null&&t!==void 0?t:e}function h4(...n){return()=>{n.forEach(e=>{e()})}}function uc(n,e,t){return()=>{const r=A.useContext(t);if(!r)throw new Error(`${n} must be used within a ${e}.Provider`);return r}}function d4(){return typeof window<"u"}function gre(n,e=0){const t=10**e;return Math.round((n+Number.EPSILON)*t)/t}function f4(n){return n.type===void 0||n.type==="image"}function yre(n,e){return n.imageFit===zN||n.imageFit!==u4&&e===zN}function bv(n){return typeof n=="string"?Number.parseInt(n,10):n}function P_(n){if(typeof n=="number")return{pixel:n};if(typeof n=="string"){const e=bv(n);return n.endsWith("%")?{percent:e}:{pixel:e}}return{pixel:0}}function _re(n,e){const t=P_(e),r=t.percent!==void 0?n.width/100*t.percent:t.pixel;return{width:Math.max(n.width-2*r,0),height:Math.max(n.height-2*r,0)}}function p4(n,e){return e>0?(n%e+e)%e:0}function m4(n){return n.length>0}function g4(n,e){return n[p4(e,n.length)]}function Px(n,e){return m4(n)?g4(n,e):void 0}function vre(n){return f4(n)?n.src:void 0}function wre(n,e,t=0){return Math.min(n.preload,Math.max(n.finite?e.length-1:Math.floor(e.length/2),t))}const Tre=Number(A.version.split(".")[0])>=19;function Ere(n){return{inert:Tre?n:n?"":void 0}}function xre(n){n.scrollTop}const kx={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Qh]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:u4,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function cc(n,e){return{name:n,component:e}}function yr(n,e){return{module:n,children:e}}function y4(n,e,t){return n.module.name===e?t(n):n.children?[yr(n.module,n.children.flatMap(r=>{var i;return(i=y4(r,e,t))!==null&&i!==void 0?i:[]}))]:[n]}function Xc(n,e,t){return n.flatMap(r=>{var i;return(i=y4(r,e,t))!==null&&i!==void 0?i:[]})}function Sre(n,e=[],t=[]){let r=n;const i=_=>{const T=[...r];for(;T.length>0;){const w=T.pop();if((w==null?void 0:w.module.name)===_)return!0;w!=null&&w.children&&T.push(...w.children)}return!1},s=(_,T)=>{if(_===""){r=[yr(T,r)];return}r=Xc(r,_,w=>[yr(T,[w])])},o=(_,T)=>{r=Xc(r,_,w=>[yr(w.module,[yr(T,w.children)])])},l=(_,T,w)=>{r=Xc(r,_,C=>{var b;return[yr(C.module,[...w?[yr(T)]:[],...(b=C.children)!==null&&b!==void 0?b:[],...w?[]:[yr(T)]])]})},c=(_,T,w)=>{r=Xc(r,_,C=>[...w?[yr(T)]:[],C,...w?[]:[yr(T)]])},h=_=>{o(JF,_)},f=(_,T)=>{r=Xc(r,_,w=>[yr(T,w.children)])},m=_=>{r=Xc(r,_,T=>T.children)},y=_=>{t.push(_)};return e.forEach(_=>{_({contains:i,addParent:s,append:o,addChild:l,addSibling:c,addModule:h,replace:f,remove:m,augment:y})}),{config:r,augmentation:_=>t.reduce((T,w)=>w(T),_)}}const _4=A.createContext(null),SC=uc("useDocument","DocumentContext",_4);function Cre({nodeRef:n,children:e}){const t=A.useMemo(()=>{const r=s=>{var o;return((o=s||n.current)===null||o===void 0?void 0:o.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:s=>{var o;return((o=r(s))===null||o===void 0?void 0:o.defaultView)||window}}},[n]);return A.createElement(_4.Provider,{value:t},e)}const v4=A.createContext(null),Iv=uc("useEvents","EventsContext",v4);function bre({children:n}){const[e]=A.useState({});A.useEffect(()=>()=>{Object.keys(e).forEach(r=>delete e[r])},[e]);const t=A.useMemo(()=>{const r=(o,l)=>{var c;(c=e[o])===null||c===void 0||c.splice(0,e[o].length,...e[o].filter(h=>h!==l))};return{publish:(...[o,l])=>{var c;(c=e[o])===null||c===void 0||c.forEach(h=>h(l))},subscribe:(o,l)=>(e[o]||(e[o]=[]),e[o].push(l),()=>r(o,l)),unsubscribe:r}},[e]);return A.createElement(v4.Provider,{value:t},n)}const w4=A.createContext(null),hm=uc("useLightboxProps","LightboxPropsContext",w4);function Ire({children:n,...e}){return A.createElement(w4.Provider,{value:e},n)}const T4=A.createContext(null),Av=uc("useLightboxState","LightboxStateContext",T4),E4=A.createContext(null),Are=uc("useLightboxDispatch","LightboxDispatchContext",E4);function Rre(n,e){switch(e.type){case"swipe":{const{slides:t}=n,r=(e==null?void 0:e.increment)||0,i=n.globalIndex+r,s=p4(i,t.length),o=Px(t,s),l=r||e.duration!==void 0?{increment:r,duration:e.duration,easing:e.easing}:void 0;return{slides:t,currentIndex:s,globalIndex:i,currentSlide:o,animation:l}}case"update":return e.slides!==n.slides||e.index!==n.currentIndex?{slides:e.slides,currentIndex:e.index,globalIndex:e.index,currentSlide:Px(e.slides,e.index)}:n;default:throw new Error(pre)}}function Pre({slides:n,index:e,children:t}){const[r,i]=A.useReducer(Rre,{slides:n,currentIndex:e,globalIndex:e,currentSlide:Px(n,e)});A.useEffect(()=>{i({type:"update",slides:n,index:e})},[n,e]);const s=A.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return A.createElement(E4.Provider,{value:i},A.createElement(T4.Provider,{value:s},t))}const x4=A.createContext(null),Rv=uc("useTimeouts","TimeoutsContext",x4);function kre({children:n}){const[e]=A.useState([]);A.useEffect(()=>()=>{e.forEach(r=>window.clearTimeout(r)),e.splice(0,e.length)},[e]);const t=A.useMemo(()=>{const r=o=>{e.splice(0,e.length,...e.filter(l=>l!==o))};return{setTimeout:(o,l)=>{const c=window.setTimeout(()=>{r(c),o()},l);return e.push(c),c},clearTimeout:o=>{o!==void 0&&(r(o),window.clearTimeout(o))}}},[e]);return A.createElement(x4.Provider,{value:t},n)}const S4=A.forwardRef(function({label:e,className:t,icon:r,renderIcon:i,onClick:s,style:o,...l},c){const{styles:h,labels:f}=hm(),m=mre(f,e);return A.createElement("button",{ref:c,type:"button",title:m,"aria-label":m,className:ma(jt(fre),t),onClick:s,style:{...o,...h.button},...l},i?i():A.createElement(r,{className:jt(Rx),style:h.icon}))});function Nre(n,e){const t=r=>A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},e);return t.displayName=n,t}function dm(n,e){return Nre(n,A.createElement("g",{fill:"currentColor"},A.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),e))}const Dre=dm("Close",A.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Ore=dm("Previous",A.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Mre=dm("Next",A.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Lre=dm("Loading",A.createElement(A.Fragment,null,Array.from({length:8}).map((n,e,t)=>A.createElement("line",{key:e,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/t.length*(e+1),transform:`rotate(${360/t.length*e}, 12, 12)`})))),Vre=dm("Error",A.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),fm=d4()?A.useLayoutEffect:A.useEffect;function C4(){const[n,e]=A.useState(!1);return A.useEffect(()=>{var t,r;const i=(t=window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-reduced-motion: reduce)");e(i==null?void 0:i.matches);const s=o=>e(o.matches);return(r=i==null?void 0:i.addEventListener)===null||r===void 0||r.call(i,"change",s),()=>{var o;return(o=i==null?void 0:i.removeEventListener)===null||o===void 0?void 0:o.call(i,"change",s)}},[]),n}function jre(n){let e=0,t=0,r=0;const s=window.getComputedStyle(n).transform.match(/matrix.*\((.+)\)/);if(s){const o=s[1].split(",").map(bv);o.length===6?(e=o[4],t=o[5]):o.length===16&&(e=o[12],t=o[13],r=o[14])}return{x:e,y:t,z:r}}function WN(n,e){const t=A.useRef(void 0),r=A.useRef(void 0),i=C4();return fm(()=>{var s,o,l;if(n.current&&t.current!==void 0&&!i){const{keyframes:c,duration:h,easing:f,onfinish:m}=e(t.current,n.current.getBoundingClientRect(),jre(n.current))||{};if(c&&h){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(l=(o=n.current).animate)===null||l===void 0?void 0:l.call(o,c,{duration:h,easing:f})}catch(y){console.error(y)}r.current&&(r.current.onfinish=()=>{r.current=void 0,m==null||m()})}}t.current=void 0}),{prepareAnimation:s=>{t.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function b4(){const n=A.useRef(null),e=A.useRef(void 0),[t,r]=A.useState();return{setContainerRef:A.useCallback(s=>{n.current=s,e.current&&(e.current.disconnect(),e.current=void 0);const o=()=>{if(s){const l=window.getComputedStyle(s),c=h=>parseFloat(h)||0;r({width:Math.round(s.clientWidth-c(l.paddingLeft)-c(l.paddingRight)),height:Math.round(s.clientHeight-c(l.paddingTop)-c(l.paddingBottom))})}else r(void 0)};o(),s&&typeof ResizeObserver<"u"&&(e.current=new ResizeObserver(o),e.current.observe(s))},[]),containerRef:n,containerRect:t}}function Ny(){const n=A.useRef(void 0),{setTimeout:e,clearTimeout:t}=Rv();return A.useCallback((r,i)=>{t(n.current),n.current=e(r,i>0?i:0)},[e,t])}function Xn(n){const e=A.useRef(n);return fm(()=>{e.current=n}),A.useCallback((...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function HN(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Nx(n,e){return A.useMemo(()=>n==null&&e==null?null:t=>{HN(n,t),HN(e,t)},[n,e])}function Fre(n,e=!1){const t=A.useRef(!1);fm(()=>{e&&t.current&&(t.current=!1,n())},[e,n]);const r=A.useCallback(()=>{t.current=!0},[]),i=A.useCallback(()=>{t.current=!1},[]);return{onFocus:r,onBlur:i}}function CC(){const[n,e]=A.useState(!1);return fm(()=>{e(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),n}function Ure(){const[n]=A.useState({}),e=A.useCallback((i,s)=>{var o;(o=n[i])===null||o===void 0||o.forEach(l=>{s.isPropagationStopped()||l(s)})},[n]),t=A.useMemo(()=>({onPointerDown:i=>e(n4,i),onPointerMove:i=>e(r4,i),onPointerUp:i=>e(i4,i),onPointerLeave:i=>e(s4,i),onPointerCancel:i=>e(o4,i),onKeyDown:i=>e(a4,i),onKeyUp:i=>e(ure,i),onWheel:i=>e(l4,i)}),[e]),r=A.useCallback((i,s)=>(n[i]||(n[i]=[]),n[i].unshift(s),()=>{const o=n[i];o&&o.splice(0,o.length,...o.filter(l=>l!==s))}),[n]);return{registerSensors:t,subscribeSensors:r}}function qN(n,e){const t=A.useRef(0),r=Ny(),i=Xn((...s)=>{t.current=Date.now(),n(s)});return A.useCallback((...s)=>{r(()=>{i(s)},e-(Date.now()-t.current))},[e,i,r])}const xT=xC("slide"),ST=xC("slide_image");function Bre({slide:n,offset:e,render:t,rect:r,imageFit:i,imageProps:s,onClick:o,onLoad:l,onError:c,style:h}){var f,m,y,_,T,w,C;const[b,O]=A.useState(wT),{publish:L}=Iv(),{setTimeout:V}=Rv(),U=A.useRef(null);A.useEffect(()=>{e===0&&L(ore(b))},[e,b,L]);const W=Xn(H=>{("decode"in H?H.decode():Promise.resolve()).catch(()=>{}).then(()=>{H.parentNode&&(O(ET),V(()=>{l==null||l(H)},0))})}),k=A.useCallback(H=>{U.current=H,H!=null&&H.complete&&W(H)},[W]),R=A.useCallback(H=>{W(H.currentTarget)},[W]),P=Xn(()=>{O(TT),c==null||c()}),N=yre(n,i),j=(H,Z)=>Number.isFinite(H)?H:Z,B=j(Math.max(...((m=(f=n.srcSet)===null||f===void 0?void 0:f.map(H=>H.width))!==null&&m!==void 0?m:[]).concat(n.width?[n.width]:[]).filter(Boolean)),((y=U.current)===null||y===void 0?void 0:y.naturalWidth)||0),M=j(Math.max(...((T=(_=n.srcSet)===null||_===void 0?void 0:_.map(H=>H.height))!==null&&T!==void 0?T:[]).concat(n.height?[n.height]:[]).filter(Boolean)),((w=U.current)===null||w===void 0?void 0:w.naturalHeight)||0),ne=B&&M?{maxWidth:`min(${B}px, 100%)`,maxHeight:`min(${M}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},ae=(C=n.srcSet)===null||C===void 0?void 0:C.sort((H,Z)=>H.width-Z.width).map(H=>`${H.src} ${H.width}w`).join(", "),fe=()=>r&&!N&&n.width&&n.height?r.height/n.height*n.width:Number.MAX_VALUE,re=ae&&r&&d4()?`${Math.round(Math.min(fe(),r.width))}px`:void 0,{style:te,className:ue,...$}=s||{};return A.createElement(A.Fragment,null,A.createElement("img",{ref:k,onLoad:R,onError:P,onClick:o,draggable:!1,className:ma(jt(ST()),N&&jt(ST("cover")),b!==ET&&jt(ST("loading")),ue),style:{...ne,...h,...te},...$,alt:n.alt,sizes:re,srcSet:ae,src:n.src}),b!==ET&&A.createElement("div",{className:jt(xT(sre))},b===wT&&(t!=null&&t.iconLoading?t.iconLoading():A.createElement(Lre,{className:ma(jt(Rx),jt(xT(wT)))})),b===TT&&(t!=null&&t.iconError?t.iconError():A.createElement(Vre,{className:ma(jt(Rx),jt(xT(TT)))}))))}const $re=A.forwardRef(function({className:e,children:t,...r},i){const s=A.useRef(null);return A.createElement(Cre,{nodeRef:s},A.createElement("div",{ref:Nx(i,s),className:ma(jt("root"),e),...r},t))});var $r;(function(n){n[n.NONE=0]="NONE",n[n.SWIPE=1]="SWIPE",n[n.PULL=2]="PULL",n[n.ANIMATION=3]="ANIMATION"})($r||($r={}));function zre(n,e,t,r,i){A.useEffect(()=>h4(n(n4,e),n(r4,t),n(i4,r),n(s4,r),n(o4,r)),[n,e,t,r,i])}var Ys;(function(n){n[n.NONE=0]="NONE",n[n.SWIPE=1]="SWIPE",n[n.PULL=2]="PULL"})(Ys||(Ys={}));const CT=30;function Wre({disableSwipeNavigation:n,closeOnBackdropClick:e},t,r,i,s,o,l,c,h,f,m,y,_,T,w,C){const b=A.useRef(0),O=A.useRef([]),L=A.useRef(void 0),V=A.useRef(0),U=A.useRef(Ys.NONE),W=A.useCallback(M=>{L.current===M.pointerId&&(L.current=void 0,U.current=Ys.NONE);const ne=O.current;ne.splice(0,ne.length,...ne.filter(ae=>ae.pointerId!==M.pointerId))},[]),k=A.useCallback(M=>{W(M),M.persist(),O.current.push(M)},[W]),R=A.useCallback(M=>O.current.find(({pointerId:ne})=>M.pointerId===ne),[]),P=Xn(M=>{k(M)}),N=(M,ne)=>m&&M>ne||f&&M<-ne,j=Xn(M=>{const ne=R(M);if(ne)if(L.current===M.pointerId){const ae=Date.now()-V.current,fe=b.current;U.current===Ys.SWIPE?Math.abs(fe)>.3*i||Math.abs(fe)>5&&ae<s?c(fe,ae):h(fe):U.current===Ys.PULL&&(N(fe,2*CT)?T(fe,ae):w(fe)),b.current=0,U.current=Ys.NONE}else{const{target:ae}=M;e&&ae instanceof HTMLElement&&ae===ne.target&&(ae.classList.contains(jt(EC))||ae.classList.contains(jt(lre)))&&C()}W(M)}),B=Xn(M=>{const ne=R(M);if(ne){const ae=L.current===M.pointerId;if(M.buttons===0){ae&&b.current!==0?j(M):W(ne);return}const fe=M.clientX-ne.clientX,re=M.clientY-ne.clientY;if(L.current===void 0){const te=ue=>{k(M),L.current=M.pointerId,V.current=Date.now(),U.current=ue};Math.abs(fe)>Math.abs(re)&&Math.abs(fe)>CT&&r(fe)?n||(te(Ys.SWIPE),o()):Math.abs(re)>Math.abs(fe)&&N(re,CT)&&(te(Ys.PULL),y())}else ae&&(U.current===Ys.SWIPE?(b.current=fe,l(fe)):U.current===Ys.PULL&&(b.current=re,_(re)))}});zre(t,P,B,j)}function Hre({preventDefaultWheelX:n,preventDefaultWheelY:e}){const t=A.useRef(null),r=Xn(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&n||!s&&e||i.ctrlKey)&&i.preventDefault()});return A.useCallback(i=>{var s;i?i.addEventListener("wheel",r,{passive:!1}):(s=t.current)===null||s===void 0||s.removeEventListener("wheel",r),t.current=i},[r])}function qre(n,e,t,r,i,s,o,l,c){const h=A.useRef(0),f=A.useRef(0),m=A.useRef(void 0),y=A.useRef(void 0),_=A.useRef(0),T=A.useRef(void 0),w=A.useRef(0),{setTimeout:C,clearTimeout:b}=Rv(),O=A.useCallback(()=>{m.current&&(b(m.current),m.current=void 0)},[b]),L=A.useCallback(()=>{y.current&&(b(y.current),y.current=void 0)},[b]),V=Xn(()=>{n!==$r.SWIPE&&(h.current=0,w.current=0,O(),L())});A.useEffect(V,[n,V]);const U=Xn(k=>{y.current=void 0,h.current===k&&c(h.current)}),W=Xn(k=>{if(k.ctrlKey||Math.abs(k.deltaY)>Math.abs(k.deltaX))return;const R=P=>{_.current=P,b(T.current),T.current=P>0?C(()=>{_.current=0,T.current=void 0},300):void 0};if(n===$r.NONE){if(Math.abs(k.deltaX)<=1.2*Math.abs(_.current)){R(k.deltaX);return}if(!t(-k.deltaX))return;if(f.current+=k.deltaX,O(),Math.abs(f.current)>30)f.current=0,R(0),w.current=Date.now(),s();else{const P=f.current;m.current=C(()=>{m.current=void 0,P===f.current&&(f.current=0)},i)}}else if(n===$r.SWIPE){let P=h.current-k.deltaX;if(P=Math.min(Math.abs(P),r)*Math.sign(P),h.current=P,o(P),L(),Math.abs(P)>.2*r){R(k.deltaX),l(P,Date.now()-w.current);return}y.current=C(()=>U(P),2*i)}else R(k.deltaX)});A.useEffect(()=>e(l4,W),[e,W])}const GN=xC("container"),I4=A.createContext(null),pm=uc("useController","ControllerContext",I4);function Gre({children:n,...e}){var t;const{carousel:r,animation:i,controller:s,on:o,styles:l,render:c}=e,{closeOnPullUp:h,closeOnPullDown:f,preventDefaultWheelX:m,preventDefaultWheelY:y}=s,[_,T]=A.useState(),w=Av(),C=Are(),[b,O]=A.useState($r.NONE),L=A.useRef(0),V=A.useRef(0),U=A.useRef(1),{registerSensors:W,subscribeSensors:k}=Ure(),{subscribe:R,publish:P}=Iv(),N=Ny(),j=Ny(),B=Ny(),{containerRef:M,setContainerRef:ne,containerRect:ae}=b4(),fe=Nx(Hre({preventDefaultWheelX:m,preventDefaultWheelY:y}),ne),re=A.useRef(null),te=Nx(re,void 0),{getOwnerDocument:ue}=SC(),$=CC(),H=ce=>($?-1:1)*(typeof ce=="number"?ce:1),Z=Xn(()=>{var ce;return(ce=M.current)===null||ce===void 0?void 0:ce.focus()}),ge=Xn(()=>e),_e=Xn(()=>w),Ee=A.useCallback(ce=>P(vu,ce),[P]),Re=A.useCallback(ce=>P(wu,ce),[P]),xe=A.useCallback(()=>P(Qh),[P]),Oe=ce=>!(r.finite&&(H(ce)>0&&w.currentIndex===0||H(ce)<0&&w.currentIndex===w.slides.length-1)),Ve=ce=>{var nt;L.current=ce,(nt=M.current)===null||nt===void 0||nt.style.setProperty(ki("swipe_offset"),`${Math.round(ce)}px`)},_t=ce=>{var nt,xt;V.current=ce,U.current=(()=>{const pt=f&&ce>0?ce:h&&ce<0?-ce:0;return Math.min(Math.max(gre(1-pt/60*(1-.5),2),.5),1)})(),(nt=M.current)===null||nt===void 0||nt.style.setProperty(ki("pull_offset"),`${Math.round(ce)}px`),(xt=M.current)===null||xt===void 0||xt.style.setProperty(ki("pull_opacity"),`${U.current}`)},{prepareAnimation:Mt}=WN(re,(ce,nt,xt)=>{if(re.current&&ae)return{keyframes:[{transform:`translate(0, ${ce.rect.y-nt.y+xt.y}px)`,opacity:ce.opacity},{transform:"translate(0, 0)",opacity:1}],duration:ce.duration,easing:i.easing.fade}}),Bt=(ce,nt)=>{if(h||f){_t(ce);let xt=0;re.current&&(xt=i.fade*(nt?2:1),Mt({rect:re.current.getBoundingClientRect(),opacity:U.current,duration:xt})),B(()=>{_t(0),O($r.NONE)},xt),O($r.ANIMATION),nt||xe()}},{prepareAnimation:Ge,isAnimationPlaying:ze}=WN(re,(ce,nt,xt)=>{var Kt;if(re.current&&ae&&(!((Kt=w.animation)===null||Kt===void 0)&&Kt.duration)){const st=P_(r.spacing),pt=(st.percent?st.percent*ae.width/100:st.pixel)||0;return{keyframes:[{transform:`translate(${H(w.globalIndex-ce.index)*(ae.width+pt)+ce.rect.x-nt.x+xt.x}px, 0)`},{transform:"translate(0, 0)"}],duration:w.animation.duration,easing:w.animation.easing}}}),At=Xn(ce=>{var nt,xt;const Kt=ce.offset||0,st=Kt?i.swipe:(nt=i.navigation)!==null&&nt!==void 0?nt:i.swipe,pt=!Kt&&!ze()?i.easing.navigation:i.easing.swipe;let{direction:Ye}=ce;const Ht=(xt=ce.count)!==null&&xt!==void 0?xt:1;let Jt=$r.ANIMATION,Nt=st*Ht;if(!Ye){const mt=ae==null?void 0:ae.width,ar=ce.duration||0,kn=mt?st/mt*Math.abs(Kt):st;Ht!==0?(ar<kn?Nt=Nt/kn*Math.max(ar,kn/5):mt&&(Nt=st/mt*(mt-Math.abs(Kt))),Ye=H(Kt)>0?vu:wu):Nt=st/2}let $n=0;Ye===vu?Oe(H(1))?$n=-Ht:(Jt=$r.NONE,Nt=st):Ye===wu&&(Oe(H(-1))?$n=Ht:(Jt=$r.NONE,Nt=st)),Nt=Math.round(Nt),j(()=>{Ve(0),O($r.NONE)},Nt),re.current&&Ge({rect:re.current.getBoundingClientRect(),index:w.globalIndex}),O(Jt),P($N,{type:"swipe",increment:$n,duration:Nt,easing:pt})});A.useEffect(()=>{var ce,nt;!((ce=w.animation)===null||ce===void 0)&&ce.increment&&(!((nt=w.animation)===null||nt===void 0)&&nt.duration)&&N(()=>C({type:"swipe",increment:0}),w.animation.duration)},[w.animation,C,N]);const vt=[k,Oe,(ae==null?void 0:ae.width)||0,i.swipe,()=>O($r.SWIPE),ce=>Ve(ce),(ce,nt)=>At({offset:ce,duration:nt,count:1}),ce=>At({offset:ce,count:0})],J=[()=>{f&&O($r.PULL)},ce=>_t(ce),ce=>Bt(ce),ce=>Bt(ce,!0)];Wre(s,...vt,h,f,...J,xe),qre(b,...vt);const cn=Xn(()=>{s.focus&&ue().querySelector(`.${jt(TC)} .${jt(GN())}`)&&Z()});A.useEffect(cn,[cn]);const Rn=Xn(()=>{var ce;(ce=o.view)===null||ce===void 0||ce.call(o,{index:w.currentIndex})});A.useEffect(Rn,[w.globalIndex,Rn]),A.useEffect(()=>h4(R(vu,ce=>At({direction:vu,...ce})),R(wu,ce=>At({direction:wu,...ce})),R($N,ce=>C(ce))),[R,At,C]);const Pn=A.useMemo(()=>({prev:Ee,next:Re,close:xe,focus:Z,slideRect:ae?_re(ae,r.padding):{width:0,height:0},containerRect:ae||{width:0,height:0},subscribeSensors:k,containerRef:M,setCarouselRef:te,toolbarWidth:_,setToolbarWidth:T}),[Ee,Re,xe,Z,k,ae,M,te,_,T,r.padding]);return A.useImperativeHandle(s.ref,()=>({prev:Ee,next:Re,close:xe,focus:Z,getLightboxProps:ge,getLightboxState:_e}),[Ee,Re,xe,Z,ge,_e]),A.createElement("div",{ref:fe,className:ma(jt(GN()),jt(e4)),style:{...b===$r.SWIPE?{[ki("swipe_offset")]:`${Math.round(L.current)}px`}:null,...b===$r.PULL?{[ki("pull_offset")]:`${Math.round(V.current)}px`,[ki("pull_opacity")]:`${U.current}`}:null,...s.touchAction!=="none"?{[ki("controller_touch_action")]:s.touchAction}:null,...l.container},...s.aria?{role:"region","aria-live":"polite","aria-roledescription":"carousel"}:null,tabIndex:-1,...W},ae&&A.createElement(I4.Provider,{value:Pn},n,(t=c.controls)===null||t===void 0?void 0:t.call(c)))}const Yre=cc(JF,Gre);function du(n){return cm(QF,n)}function YN(n){return cm(EC,n)}function Kre({slide:n,offset:e}){const t=A.useRef(null),{currentIndex:r}=Av(),{slideRect:i,focus:s}=pm(),{render:o,carousel:{imageFit:l,imageProps:c},on:{click:h},styles:{slide:f}}=hm(),{getOwnerDocument:m}=SC(),y=e!==0;A.useEffect(()=>{var T;y&&(!((T=t.current)===null||T===void 0)&&T.contains(m().activeElement))&&s()},[y,s,m]);const _=()=>{var T,w,C,b;let O=(T=o.slide)===null||T===void 0?void 0:T.call(o,{slide:n,offset:e,rect:i});return!O&&f4(n)&&(O=A.createElement(Bre,{slide:n,offset:e,render:o,rect:i,imageFit:l,imageProps:c,onClick:y?void 0:()=>h==null?void 0:h({index:r})})),O?A.createElement(A.Fragment,null,(w=o.slideHeader)===null||w===void 0?void 0:w.call(o,{slide:n}),((C=o.slideContainer)!==null&&C!==void 0?C:({children:L})=>L)({slide:n,children:O}),(b=o.slideFooter)===null||b===void 0?void 0:b.call(o,{slide:n})):null};return A.createElement("div",{ref:t,className:ma(jt(YN()),!y&&jt(YN("current")),jt(e4)),...Ere(y),style:f,role:"region","aria-roledescription":"slide"},_())}function Xre(){const n=hm().styles.slide;return A.createElement("div",{className:jt(EC),style:n})}function Qre({carousel:n}){const{slides:e,currentIndex:t,globalIndex:r}=Av(),{setCarouselRef:i}=pm(),s=P_(n.spacing),o=P_(n.padding),l=wre(n,e,1),c=[];if(m4(e))for(let h=t-l;h<=t+l;h+=1){const f=g4(e,h),m=r-t+h,y=n.finite&&(h<0||h>e.length-1);c.push(y?{key:m}:{key:[`${m}`,vre(f)].filter(Boolean).join("|"),offset:h-t,slide:f})}return A.createElement("div",{ref:i,className:ma(jt(du()),c.length>0&&jt(du("with_slides"))),style:{[`${ki(du("slides_count"))}`]:c.length,[`${ki(du("spacing_px"))}`]:s.pixel||0,[`${ki(du("spacing_percent"))}`]:s.percent||0,[`${ki(du("padding_px"))}`]:o.pixel||0,[`${ki(du("padding_percent"))}`]:o.percent||0}},c.map(({key:h,slide:f,offset:m})=>f?A.createElement(Kre,{key:h,slide:f,offset:m}):A.createElement(Xre,{key:h})))}const Jre=cc(QF,Qre);function A4(){const{carousel:n}=hm(),{slides:e,currentIndex:t}=Av(),r=e.length===0||n.finite&&t===0,i=e.length===0||n.finite&&t===e.length-1;return{prevDisabled:r,nextDisabled:i}}function Zre(n){var e;const t=CC(),{publish:r}=Iv(),{animation:i}=hm(),{prevDisabled:s,nextDisabled:o}=A4(),l=((e=i.navigation)!==null&&e!==void 0?e:i.swipe)/2,c=qN(()=>r(vu),l),h=qN(()=>r(wu),l),f=Xn(m=>{switch(m.key){case cre:r(Qh);break;case hre:(t?o:s)||(t?h:c)();break;case dre:(t?s:o)||(t?c:h)();break}});A.useEffect(()=>n(a4,f),[n,f])}function KN({label:n,icon:e,renderIcon:t,action:r,onClick:i,disabled:s,style:o}){return A.createElement(S4,{label:n,icon:e,renderIcon:t,className:jt(`navigation_${r}`),disabled:s,onClick:i,style:o,...Fre(pm().focus,s)})}function eie({render:{buttonPrev:n,buttonNext:e,iconPrev:t,iconNext:r},styles:i}){const{prev:s,next:o,subscribeSensors:l}=pm(),{prevDisabled:c,nextDisabled:h}=A4();return Zre(l),A.createElement(A.Fragment,null,n?n():A.createElement(KN,{label:"Previous",action:vu,icon:Ore,renderIcon:t,style:i.navigationPrev,disabled:c,onClick:s}),e?e():A.createElement(KN,{label:"Next",action:wu,icon:Mre,renderIcon:r,style:i.navigationNext,disabled:h,onClick:o}))}const tie=cc(nre,eie),XN=jt(are),nie=jt(t4);function rie(n){return"style"in n}function QN(n,e,t){const r=window.getComputedStyle(n),i=t?"padding-left":"padding-right",s=t?r.paddingLeft:r.paddingRight,o=n.style.getPropertyValue(i);return n.style.setProperty(i,`${(bv(s)||0)+e}px`),()=>{o?n.style.setProperty(i,o):n.style.removeProperty(i)}}function iie({noScroll:{disabled:n},children:e}){const t=CC(),{getOwnerDocument:r,getOwnerWindow:i}=SC();return A.useEffect(()=>{if(n)return()=>{};const s=[],o=i(),{body:l,documentElement:c}=r(),h=Math.round(o.innerWidth-c.clientWidth);if(h>0){s.push(QN(l,h,t));const f=l.getElementsByTagName("*");for(let m=0;m<f.length;m+=1){const y=f[m];rie(y)&&o.getComputedStyle(y).getPropertyValue("position")==="fixed"&&!y.classList.contains(nie)&&s.push(QN(y,h,t))}}return l.classList.add(XN),()=>{l.classList.remove(XN),s.forEach(f=>f())}},[t,n,r,i]),A.createElement(A.Fragment,null,e)}const sie=cc(rre,iie);function JN(n){return cm(TC,n)}function ZN(n,e,t){const r=n.getAttribute(e);return n.setAttribute(e,t),()=>{r?n.setAttribute(e,r):n.removeAttribute(e)}}function oie({children:n,animation:e,styles:t,className:r,on:i,portal:s,close:o}){const[l,c]=A.useState(!1),[h,f]=A.useState(!1),m=A.useRef([]),y=A.useRef(null),{setTimeout:_}=Rv(),{subscribe:T}=Iv(),C=C4()?0:e.fade;A.useEffect(()=>(c(!0),()=>{c(!1),f(!1)}),[]);const b=Xn(()=>{m.current.forEach(U=>U()),m.current=[]}),O=Xn(()=>{var U;f(!1),b(),(U=i.exiting)===null||U===void 0||U.call(i),_(()=>{var W;(W=i.exited)===null||W===void 0||W.call(i),o()},C)});A.useEffect(()=>T(Qh,O),[T,O]);const L=Xn(U=>{var W,k,R;xre(U),f(!0),(W=i.entering)===null||W===void 0||W.call(i);const P=(R=(k=U.parentNode)===null||k===void 0?void 0:k.children)!==null&&R!==void 0?R:[];for(let N=0;N<P.length;N+=1){const j=P[N];["TEMPLATE","SCRIPT","STYLE"].indexOf(j.tagName)===-1&&j!==U&&(m.current.push(ZN(j,"inert","")),m.current.push(ZN(j,"aria-hidden","true")))}m.current.push(()=>{var N,j;(j=(N=y.current)===null||N===void 0?void 0:N.focus)===null||j===void 0||j.call(N)}),_(()=>{var N;(N=i.entered)===null||N===void 0||N.call(i)},C)}),V=A.useCallback(U=>{U?L(U):b()},[L,b]);return l?q5.createPortal(A.createElement($re,{ref:V,className:ma(r,jt(JN()),jt(t4),h&&jt(JN("open"))),"aria-modal":!0,role:"dialog","aria-live":"polite","aria-roledescription":"lightbox",style:{...e.fade!==kx.animation.fade?{[ki("fade_animation_duration")]:`${C}ms`}:null,...e.easing.fade!==kx.animation.easing.fade?{[ki("fade_animation_timing_function")]:e.easing.fade}:null,...t.root},onFocus:U=>{y.current||(y.current=U.relatedTarget)}},n),s.root||document.body):null}const aie=cc(TC,oie);function lie({children:n}){return A.createElement(A.Fragment,null,n)}const uie=cc(ire,lie);function cie(n){return cm(ZF,n)}function hie({toolbar:{buttons:n},render:{buttonClose:e,iconClose:t},styles:r}){const{close:i,setToolbarWidth:s}=pm(),{setContainerRef:o,containerRect:l}=b4();fm(()=>{s(l==null?void 0:l.width)},[s,l==null?void 0:l.width]);const c=()=>e?e():A.createElement(S4,{key:Qh,label:"Close",icon:Dre,renderIcon:t,onClick:i});return A.createElement("div",{ref:o,style:r.toolbar,className:jt(cie())},n==null?void 0:n.map(h=>h===Qh?c():h))}const die=cc(ZF,hie);function R4(n,e){var t;return A.createElement(n.module.component,{key:n.module.name,...e},(t=n.children)===null||t===void 0?void 0:t.map(r=>R4(r,e)))}function fie(n,e={}){const{easing:t,...r}=n,{easing:i,...s}=e;return{easing:{...t,...i},...r,...s}}function pie({carousel:n,animation:e,render:t,toolbar:r,controller:i,noScroll:s,on:o,plugins:l,slides:c,index:h,...f}){const{animation:m,carousel:y,render:_,toolbar:T,controller:w,noScroll:C,on:b,slides:O,index:L,plugins:V,...U}=kx,{config:W,augmentation:k}=Sre([yr(aie,[yr(sie,[yr(Yre,[yr(Jre),yr(die),yr(tie)])])])],l||V),R=k({animation:fie(m,e),carousel:{...y,...n},render:{..._,...t},toolbar:{...T,...r},controller:{...w,...i},noScroll:{...C,...s},on:{...b,...o},...U,...f});return R.open?A.createElement(Ire,{...R},A.createElement(Pre,{slides:c||O,index:bv(h||L)},A.createElement(kre,null,A.createElement(bre,null,R4(yr(uie,W),R))))):null}const mie=({src:n,alt:e,className:t="",onClick:r})=>{const[i,s]=A.useState(!1);return E.jsxs("div",{className:`relative overflow-hidden bg-gray-200 rounded-lg ${t}`,children:[!i&&E.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-300"}),E.jsx(_n.img,{src:n,alt:e,initial:{opacity:0,scale:.95},animate:i?{opacity:1,scale:1}:{},transition:{opacity:{duration:.6,ease:[.43,.13,.23,.96]},scale:{type:"spring",stiffness:90,damping:20}},onLoad:()=>s(!0),onClick:r,loading:"lazy",className:`relative w-full h-auto object-cover cursor-pointer ${i?"":"invisible"}`})]})},gie=({images:n})=>{const[e,t]=A.useState(!1),[r,i]=A.useState(0),s=o=>{i(o),t(!0)};return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"columns-1 mt-12 sm:columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4 p-4",children:n.map((o,l)=>E.jsx("div",{className:"break-inside-avoid",children:E.jsx(mie,{src:o,alt:`Gallery image ${l+1}`,className:"mb-4",onClick:()=>s(l)})},l))}),E.jsx(pie,{open:e,close:()=>t(!1),index:r,slides:n.map(o=>({src:o}))})]})},yie=()=>{const[n,e]=A.useState([]);return A.useEffect(()=>{(async()=>{const i=(await $l(Ds(Fi,"gallery"))).docs.map(s=>s.data().url);e(i)})()},[]),E.jsxs("section",{className:"p-8 mt-8",children:[E.jsxs(Hu,{children:[E.jsx("title",{children:"Galerie - PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:title",content:"Galerie - PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsx(A.Suspense,{fallback:E.jsx(tre,{count:16}),children:E.jsx(gie,{images:n})})]})},_ie=[{id:1,question:"🐾 Quels types d’animaux acceptez-vous ?",answer:E.jsxs(E.Fragment,{children:["Nous accueillons principalement les chiens et les chats, mais nous pouvons également prendre soin de petits animaux (lapins, rongeurs, oiseaux, etc.). Dans ce cas, nous vous invitons à nous ",E.jsx("a",{href:"/contact",className:"text-blue-600 underline",children:"contacter via le formulaire de contact"}),"."]})},{id:2,question:"📍 Où se trouve la garderie ?",answer:"La garderie se trouve dans notre appartement de 60 m² à Antony (Île-de-France), en face d'un parc et de la coulée verte qui s’étend sur de nombreux kilomètres jusqu’à Paris."},{id:3,question:"🕒 Quels sont les horaires de dépôt et de récupération ?",answer:"Les horaires varient selon les propriétaires, mais en général, les dépôts et récupérations se font entre 8 h et 21 h. Une flexibilité peut être proposée sur demande."},{id:4,question:"📅 Comment réserver une garde ?",answer:"Vous pouvez réserver directement via notre site en choisissant les dates souhaitées, le type et le nombre d’animaux."},{id:5,question:"📑 Que dois-je fournir pour la garde ?",answer:E.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[E.jsx("li",{children:"La nourriture de votre animal"}),E.jsx("li",{children:"Ses accessoires (jouets, panier, laisse, gamelles, etc.)"}),E.jsxs("li",{children:["Une note contenant toutes les informations relatives à l’animal :",E.jsxs("ul",{className:"list-circle list-inside ml-4 space-y-1",children:[E.jsx("li",{children:"Heure et quantité des repas"}),E.jsx("li",{children:"Allergies et antécédents médicaux"}),E.jsx("li",{children:"Caractère (sociable, éducatif, propreté, etc.)"}),E.jsx("li",{children:"Toute autre spécificité"})]})]})]})},{id:6,question:"💉 Mon animal doit-il être vacciné ?",answer:"Oui, pour la sécurité de tous les animaux, les vaccins doivent être à jour. Nous demandons également un traitement antiparasitaire récent."},{id:7,question:"🐕 Mon chien sera-t-il en contact avec d’autres animaux ?",answer:"Non. Nous accueillons les animaux d’un seul propriétaire à la fois."},{id:8,question:"📸 Aurai-je des nouvelles pendant la garde ?",answer:"Oui. Nous envoyons des photos quotidiennes, une à deux fois par jour selon votre choix."},{id:9,question:"🛑 Puis-je annuler ma réservation ?",answer:E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{children:"Oui, selon nos Conditions Générales de Vente :"}),E.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"≥ 7 jours"})," avant le début : remboursement total."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"7 jours à 48 h"})," avant : remboursement à 50 %."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"48 h"})," avant : aucun remboursement."]})]})]})},{id:10,question:"💬 Et si j’ai une urgence ou une question pendant la garde ?",answer:"Vous pouvez nous contacter directement 7 j/7 pour toute question ou urgence."}],vie=()=>{const[n,e]=A.useState(null),t=r=>e(n===r?null:r);return E.jsxs("section",{className:"max-w-4xl mx-auto py-12 px-4 mt-20",children:[E.jsx("h2",{className:"text-3xl font-extrabold text-center text-gray-800 mb-8",children:"FAQ – Garderie pour animaux de compagnie"}),E.jsx("div",{className:"space-y-4",children:_ie.map(({id:r,question:i,answer:s})=>E.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[E.jsxs("button",{onClick:()=>t(r),className:"w-full flex justify-between items-center py-4 px-6 focus:outline-none",children:[E.jsx("span",{className:"text-left text-lg font-medium text-gray-700",children:i}),n===r?E.jsx(s6,{}):E.jsx(r6,{})]}),n===r&&E.jsx("div",{className:"px-6 pb-4 text-gray-600",children:s})]},r))})]})};function Pv(...n){return n.filter(Boolean).join(" ")}const wie=A.forwardRef(function({className:e,...t},r){return E.jsx("div",{ref:r,className:Pv("bg-white rounded-2xl shadow-md overflow-hidden",e),...t})}),Tie=A.forwardRef(function({className:e,...t},r){return E.jsx("div",{ref:r,className:Pv("px-6 py-4 border-b border-gray-100",e),...t})}),Eie=A.forwardRef(function({className:e,children:t,...r},i){return E.jsx("h3",{ref:i,className:Pv("text-xl font-semibold",e),...r,children:t})}),xie=A.forwardRef(function({className:e,...t},r){return E.jsx("div",{ref:r,className:Pv("p-6",e),...t})});function Sie(...n){return n.filter(Boolean).join(" ")}const Qc=A.forwardRef(function({className:e,...t},r){return E.jsx("input",{ref:r,className:Sie("w-full px-3 py-2 rounded-lg border border-gray-300 shadow-sm placeholder-gray-400focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors",e),...t})});function Cie(...n){return n.filter(Boolean).join(" ")}const bie=A.forwardRef(function({className:e,...t},r){return E.jsx("textarea",{ref:r,className:Cie(`w-full px-3 py-2 rounded-lg border border-gray-300 shadow-sm placeholder-gray-400
         focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors`,e),...t})}),bT=["Garderie Journalière","Pension de Nuit","Promenade Individuelle"],cf={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},Iie=()=>{const[n,e]=Mn.useState({name:"",email:"",phone:"",petType:"",companionName:"",companionBreed:"",companionAge:"",service:bT[0],message:"",newsletter:!1}),[t,r]=Mn.useState(!1),[i,s]=Mn.useState(null),[o,l]=Mn.useState(!1),c=f=>m=>{const y=m.currentTarget.type==="checkbox"?m.currentTarget.checked:m.currentTarget.value;e(_=>({..._,[f]:y}))},h=async f=>{f.preventDefault(),r(!0),s(null),l(!1);try{await yv(Ds(Fi,"contacts"),{...n,timestamp:new Date}),l(!0),e({name:"",email:"",phone:"",petType:"",companionName:"",companionBreed:"",companionAge:"",service:bT[0],message:"",newsletter:!1})}catch(m){console.error(m),s("Error al enviar, inténtalo de nuevo.")}finally{r(!1)}};return E.jsxs(E.Fragment,{children:[E.jsxs(Hu,{children:[E.jsx("title",{children:"Contact - PetHome"}),E.jsx("meta",{name:"description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:title",content:"Contact - PetHome"}),E.jsx("meta",{property:"og:description",content:"Découvrez notre histoire, notre passion et nos valeurs pour le bien-être de vos animaux."}),E.jsx("meta",{property:"og:type",content:"website"})]}),E.jsx("div",{className:"container mx-auto px-4 py-12 mt-20",children:E.jsxs(_n.section,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[E.jsxs(wie,{className:"shadow-lg rounded-2xl",children:[E.jsx(Tie,{children:E.jsx(Eie,{className:"text-2xl",children:"Contactez-nous"})}),E.jsxs(xie,{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx(x6,{}),E.jsx("p",{children:"Antony, Île-de-France"})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(T6,{}),E.jsx("p",{children:"maisonpourpets@hotmail.com"})]})]})]}),E.jsxs(_n.form,{onSubmit:h,initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-6",children:[E.jsx("h2",{className:"text-2xl font-semibold",children:"Parlez-nous de votre compagnon"}),E.jsxs(_n.div,{variants:cf,initial:"initial",animate:"animate",className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsx(Qc,{placeholder:"Votre nom",value:n.name,onChange:c("name"),required:!0}),E.jsx(Qc,{type:"email",placeholder:"Votre e-mail",value:n.email,onChange:c("email"),required:!0}),E.jsx(Qc,{type:"tel",placeholder:"Votre téléphone",value:n.phone,onChange:c("phone"),required:!0})]}),E.jsx(TE,{children:!n.petType&&E.jsx(_n.div,{variants:cf,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4},className:"w-full",children:E.jsxs("select",{className:"w-full p-2 rounded-lg border",value:n.petType,onChange:c("petType"),required:!0,children:[E.jsx("option",{value:"",disabled:!0,children:"¿Chien o Chat?"}),E.jsx("option",{value:"dog",children:"Chien"}),E.jsx("option",{value:"cat",children:"Chat"})]})},"petType")}),E.jsx(TE,{children:n.petType&&E.jsxs(_n.div,{variants:cf,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.4},className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsx(Qc,{placeholder:n.petType==="dog"?"Nom du chien":"Nom du chat",value:n.companionName,onChange:c("companionName"),required:!0}),n.petType==="dog"&&E.jsx(Qc,{placeholder:"Race du chien",value:n.companionBreed,onChange:c("companionBreed"),required:!0}),E.jsx(Qc,{placeholder:n.petType==="dog"?"Âge du chien":"Âge du chat",type:"number",value:n.companionAge,onChange:c("companionAge"),required:!0})]},"companionFields")}),E.jsxs(_n.div,{variants:cf,initial:"initial",animate:"animate",className:"space-y-4",children:[E.jsx("select",{className:"w-full p-2 rounded-lg border",value:n.service,onChange:c("service"),required:!0,children:bT.map(f=>E.jsx("option",{value:f,children:f},f))}),E.jsx(bie,{placeholder:"Votre message / besoins spécifiques",value:n.message,onChange:c("message"),rows:4,required:!0}),E.jsxs("label",{className:"inline-flex items-center space-x-2",children:[E.jsx("input",{type:"checkbox",checked:n.newsletter,onChange:c("newsletter")}),E.jsx("span",{children:"S'inscrire à notre newsletter & offres exclusives"})]})]}),i&&E.jsx("p",{className:"text-red-500",children:i}),o&&E.jsx("p",{className:"text-green-600",children:"¡Solicitud enviada correctamente!"}),E.jsx(_n.button,{type:"submit",disabled:t,variants:cf,initial:"initial",animate:"animate",className:`w-full py-2 rounded-lg text-white transition
              ${t?"bg-blue-300":"bg-blue-500 hover:bg-blue-600"}`,children:t?"Enviando...":"Envoyer la demande"})]})]})})]})};/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni;(function(n){n.INITIAL="initial",n.PENDING="pending",n.REJECTED="rejected",n.RESOLVED="resolved"})(Ni||(Ni={}));var Tl;(function(n){n.LOADING_STATUS="setLoadingStatus",n.RESET_OPTIONS="resetOptions",n.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Tl||(Tl={}));var eD;(function(n){n.NUMBER="number",n.CVV="cvv",n.EXPIRATION_DATE="expirationDate",n.EXPIRATION_MONTH="expirationMonth",n.EXPIRATION_YEAR="expirationYear",n.POSTAL_CODE="postalCode"})(eD||(eD={}));var Gn=function(){return Gn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Gn.apply(this,arguments)};function P4(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tD(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var Mp="data-react-paypal-script-id",Iu={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},Aie="Failed to load the PayPal JS SDK script.",k4="paypal",Rie="usePayPalScriptReducer must be used within a PayPalScriptProvider";function Pie(n){return n===void 0&&(n=k4),window[n]}function kie(n){for(var e="",t=0;t<n.length;t++){var r=n[t].charCodeAt(0)*t;n[t+1]&&(r+=n[t+1].charCodeAt(0)*(t-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function Nie(n){var e=n.reactComponentName,t=n.sdkComponentKey,r=n.sdkRequestedComponents,i=r===void 0?"":r,s=n.sdkDataNamespace,o=s===void 0?k4:s,l=t.charAt(0).toUpperCase().concat(t.substring(1)),c="Unable to render <".concat(e," /> because window.").concat(o,".").concat(l," is undefined."),h=typeof i=="string"?i:i.join(",");if(!h.includes(t)){var f=[h,t].filter(Boolean).join();c+=`
To fix the issue, add '`.concat(t,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(f,"'}}>`.")}return c}function N4(n){var e=n,t=Mp;e[t];var r=P4(e,[t+""]);return"react-paypal-js-".concat(kie(JSON.stringify(r)))}function Die(n){var e=self.document.querySelector("script[".concat(Mp,'="').concat(n,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function Oie(n,e){var t,r;switch(e.type){case Tl.LOADING_STATUS:return typeof e.value=="object"?Gn(Gn({},n),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):Gn(Gn({},n),{loadingStatus:e.value});case Tl.RESET_OPTIONS:return Die(n.options[Mp]),Gn(Gn({},n),{loadingStatus:Ni.PENDING,options:Gn(Gn((t={},t[Iu.DATA_SDK_INTEGRATION_SOURCE]=Iu.DATA_LIBRARY_VALUE,t),e.value),(r={},r[Mp]="".concat(N4(e.value)),r))});case Tl.SET_BRAINTREE_INSTANCE:return Gn(Gn({},n),{braintreePayPalCheckoutInstance:e.value});default:return n}}var D4=A.createContext(null);function Mie(n){if(typeof(n==null?void 0:n.dispatch)=="function"&&n.dispatch.length!==0)return n;throw new Error(Rie)}function Lie(){var n=Mie(A.useContext(D4)),e=Gn(Gn({},n),{isInitial:n.loadingStatus===Ni.INITIAL,isPending:n.loadingStatus===Ni.PENDING,isResolved:n.loadingStatus===Ni.RESOLVED,isRejected:n.loadingStatus===Ni.REJECTED});return[e,n.dispatch]}A.createContext({});function Vie(n){var e=A.useRef(new Proxy({},{get:function(t,r,i){return typeof t[r]=="function"?function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return t[r].apply(t,s)}:Reflect.get(t,r,i)}}));return e.current=Object.assign(e.current,n),e.current}var bC=function(n){var e,t=n.className,r=t===void 0?"":t,i=n.disabled,s=i===void 0?!1:i,o=n.children,l=n.forceReRender,c=l===void 0?[]:l,h=P4(n,["className","disabled","children","forceReRender"]),f=s?{opacity:.38}:{},m="".concat(r," ").concat(s?"paypal-buttons-disabled":"").trim(),y=A.useRef(null),_=A.useRef(null),T=Vie(h),w=Lie()[0],C=w.isResolved,b=w.options,O=A.useState(null),L=O[0],V=O[1],U=A.useState(!0),W=U[0],k=U[1],R=A.useState(null),P=R[1];function N(){_.current!==null&&_.current.close().catch(function(){})}return!((e=_.current)===null||e===void 0)&&e.updateProps&&_.current.updateProps({message:h.message}),A.useEffect(function(){if(C===!1)return N;var j=Pie(b.dataNamespace);if(j===void 0||j.Buttons===void 0)return P(function(){throw new Error(Nie({reactComponentName:bC.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:b.components,sdkDataNamespace:b[Iu.DATA_NAMESPACE]}))}),N;var B=function(M,ne){V(ne),typeof h.onInit=="function"&&h.onInit(M,ne)};try{_.current=j.Buttons(Gn(Gn({},T),{onInit:B}))}catch(M){return P(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(M))})}return _.current.isEligible()===!1?(k(!1),N):(y.current&&_.current.render(y.current).catch(function(M){y.current===null||y.current.children.length===0||P(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(M))})}),N)},tD(tD([C],c,!0),[h.fundingSource],!1)),A.useEffect(function(){L!==null&&(s===!0?L.disable().catch(function(){}):L.enable().catch(function(){}))},[s,L]),Mn.createElement(Mn.Fragment,null,W?Mn.createElement("div",{ref:y,style:f,className:m}):o)};bC.displayName="PayPalButtons";function jie(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Fie(n,e){var t=document.querySelector('script[src="'.concat(n,'"]'));if(t===null)return null;var r=O4(n,e),i=t.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var s=!0;return Object.keys(i.dataset).forEach(function(o){i.dataset[o]!==r.dataset[o]&&(s=!1)}),s?t:null}function Uie(n){var e=n.url,t=n.attributes,r=n.onSuccess,i=n.onError,s=O4(e,t);s.onerror=i,s.onload=r,document.head.insertBefore(s,document.head.firstElementChild)}function Bie(n){var e=n.sdkBaseUrl,t=n.environment,r=jie(n,["sdkBaseUrl","environment"]),i=e||Wie(t),s=r,o=Object.keys(s).filter(function(h){return typeof s[h]<"u"&&s[h]!==null&&s[h]!==""}).reduce(function(h,f){var m=s[f].toString();return f=$ie(f),f.substring(0,4)==="data"||f==="crossorigin"?h.attributes[f]=m:h.queryParams[f]=m,h},{queryParams:{},attributes:{}}),l=o.queryParams,c=o.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(c["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(i,"?").concat(zie(l)),attributes:c}}function $ie(n){var e=function(t,r){return(r?"-":"")+t.toLowerCase()};return n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function zie(n){var e="";return Object.keys(n).forEach(function(t){e.length!==0&&(e+="&"),e+=t+"="+n[t]}),e}function Wie(n){return n==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function O4(n,e){e===void 0&&(e={});var t=document.createElement("script");return t.src=n,Object.keys(e).forEach(function(r){t.setAttribute(r,e[r]),r==="data-csp-nonce"&&t.setAttribute("nonce",e["data-csp-nonce"])}),t}function Hie(n,e){if(e===void 0&&(e=Promise),M4(n,e),typeof document>"u")return e.resolve(null);var t=Bie(n),r=t.url,i=t.attributes,s=i["data-namespace"]||"paypal",o=nD(s);return i["data-js-sdk-library"]||(i["data-js-sdk-library"]="paypal-js"),Fie(r,i)&&o?e.resolve(o):qie({url:r,attributes:i},e).then(function(){var l=nD(s);if(l)return l;throw new Error("The window.".concat(s," global variable is not available."))})}function qie(n,e){e===void 0&&(e=Promise),M4(n,e);var t=n.url,r=n.attributes;if(typeof t!="string"||t.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,s){if(typeof document>"u")return i();Uie({url:t,attributes:r,onSuccess:function(){return i()},onError:function(){var o=new Error('The script "'.concat(t,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return s(o)}})})}function nD(n){return window[n]}function M4(n,e){if(typeof n!="object"||n===null)throw new Error("Expected an options object.");var t=n.environment;if(t&&t!=="production"&&t!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var Gie=function(n){var e,t=n.options,r=t===void 0?{clientId:"test"}:t,i=n.children,s=n.deferLoading,o=s===void 0?!1:s,l=A.useReducer(Oie,{options:Gn(Gn({},r),(e={},e[Iu.DATA_JS_SDK_LIBRARY]=Iu.DATA_LIBRARY_VALUE,e[Iu.DATA_SDK_INTEGRATION_SOURCE]=Iu.DATA_LIBRARY_VALUE,e[Mp]="".concat(N4(r)),e)),loadingStatus:o?Ni.INITIAL:Ni.PENDING}),c=l[0],h=l[1];return A.useEffect(function(){if(o===!1&&c.loadingStatus===Ni.INITIAL)return h({type:Tl.LOADING_STATUS,value:Ni.PENDING});if(c.loadingStatus===Ni.PENDING){var f=!0;return Hie(c.options).then(function(){f&&h({type:Tl.LOADING_STATUS,value:Ni.RESOLVED})}).catch(function(m){console.error("".concat(Aie," ").concat(m)),f&&h({type:Tl.LOADING_STATUS,value:{state:Ni.REJECTED,message:String(m)}})}),function(){f=!1}}},[c.options,o,c.loadingStatus]),Mn.createElement(D4.Provider,{value:Gn(Gn({},c),{dispatch:h})},i)};function rD(){}A.createContext({cardFieldsForm:null,fields:{},registerField:rD,unregisterField:rD});function Yie(){var P,N;const n=so(),e=ed(),{service:t,selectedRange:r,quantity:i,sizes:s,details:o}=n.state||{},[l,c]=A.useState({name:"",email:""}),[h,f]=A.useState({}),[m,y]=A.useState(r||[new Date,new Date]),_=()=>l.name.trim()!==""&&/^\S+@\S+\.\S+$/.test(l.email);if(!t||!r)return E.jsx("p",{className:"text-red-500 text-center mt-20",children:"Informations manquantes."});const T=XF.find(j=>j.id===t.id),[w,C]=m,b=Math.ceil((C.getTime()-w.getTime())/(1e3*60*60*24))+1,O=T.type==="cat"?15:s.includes("Gros chien")?30:25,L=b*O*i,V=()=>{const j={};return l.name.trim()||(j.name="Nom requis"),/^\S+@\S+\.\S+$/.test(l.email)||(j.email="Email invalide"),f(j),Object.keys(j).length===0},U=(j,B)=>B.order.create({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"EUR",value:L.toFixed(2)}}]}),W=async(j,B)=>{const M=await B.order.capture();console.log("✅ Pago aprobado:",M);let ne=new Date(w);for(;ne<=C;){try{const ae=await yv(Ds(Fi,"bookings"),{serviceId:T.id,date:ne.toISOString().split("T")[0],quantity:i,sizes:s,details:o,contact:l,paymentId:M.id,createdAt:new Date().toISOString()});console.log("  📄 Documento creado:",ae.id)}catch(ae){console.error("❌ Error al guardar booking:",ae)}ne.setDate(ne.getDate()+1)}e("/success",{state:{order:M,contact:l,serviceId:T.id,dates:[w,C],bookingCount:b}})},k=j=>{console.error("Erreur PayPal:",j),e("/error",{state:{error:j.toString()}})},R=j=>{console.log("Paiement annulé:",j),e("/error",{state:{cancelled:!0}})};return A.useEffect(()=>window.scrollTo(0,0),[]),E.jsx(_n.div,{className:"bg-gray-50 min-h-screen py-10 px-4 sm:px-6 lg:px-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:E.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 mt-15",children:[E.jsx("div",{className:"flex justify-center space-x-4",children:["Dates","Info","Paiement"].map((j,B)=>E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-500 text-white font-bold",children:B+1}),E.jsx("span",{className:"ml-2 text-gray-700 uppercase text-sm",children:j}),B<2&&E.jsx("div",{className:"w-8 h-1 bg-gray-300 mx-2"})]},B))}),E.jsxs(_n.section,{className:"bg-white rounded-xl shadow p-6 flex flex-col items-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:[E.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[E.jsx(Z5,{className:"mr-2 text-blue-500"})," ","Sélection des dates"]}),E.jsx(KF,{selectRange:!0,onChange:j=>Array.isArray(j)&&j[0]instanceof Date&&j[1]instanceof Date&&y([j[0],j[1]]),value:m,className:"rounded"}),E.jsxs("p",{className:"mt-2 text-center text-gray-600",children:[w.toLocaleDateString("fr-FR")," →"," "," ",C.toLocaleDateString("fr-FR")]}),E.jsxs("p",{className:"mt-2 text-center text-gray-600",children:["(",b," jours)"]})]}),E.jsxs(_n.section,{className:"bg-white rounded-xl shadow p-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[E.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[E.jsx(kD,{className:"mr-2 text-blue-500"})," Vos coordonnées"]}),E.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Nom complet"}),E.jsx("input",{type:"text",value:l.name,onChange:j=>c({...l,name:j.target.value}),onBlur:V,className:"mt-1 w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Jean Dupont"}),h.name&&E.jsx("p",{className:"text-red-600 text-xs mt-1",children:h.name})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium",children:"Email"}),E.jsx("input",{type:"email",value:l.email,onChange:j=>c({...l,email:j.target.value}),onBlur:V,className:"mt-1 w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"jean@exemple.com"}),h.email&&E.jsx("p",{className:"text-red-600 text-xs mt-1",children:h.email})]})]})]}),E.jsxs(_n.section,{className:"bg-white rounded-xl shadow p-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[E.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[E.jsx(y6,{className:"mr-2 text-blue-500"})," ","Récapitulatif & Paiement"]}),E.jsxs("div",{className:"space-y-2 mb-4",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Service:"})," ",E.jsx("span",{className:"text-blue-600",children:T.title})]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Quantité:"})," ",i]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Tailles:"})," ",s.join(", ")]}),E.jsxs("p",{className:"text-lg font-bold mt-2",children:["Total :"," ",E.jsxs("span",{className:"text-green-600",children:[L.toFixed(2)," €"]})]})]}),_()&&E.jsx(Gie,{options:{clientId:"AXirtriToKJRacHdNcbsDgohVuLJr7F4gILWOHpMTi9GApiEypMKEy6cfN-EAxue3EnS52dklkWnF8gh",currency:"EUR",locale:"fr_FR",components:"buttons"},children:E.jsx("div",{className:"w-full flex justify-center",children:E.jsx("div",{className:"w-full max-w-md z-10",children:E.jsx(bC,{style:{layout:"horizontal",shape:"rect",color:"black",label:"pay"},fundingSource:(N=(P=window==null?void 0:window.paypal)==null?void 0:P.FUNDING)==null?void 0:N.CARD,createOrder:U,onApprove:W,onError:k,onCancel:R,forceReRender:[L]})})})})]})]})})}function ny(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var IT={exports:{}},iD;function Kie(){return iD||(iD=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function o(h,f){if(!i[h]){if(!r[h]){var m=typeof ny=="function"&&ny;if(!f&&m)return m(h,!0);if(l)return l(h,!0);var y=new Error("Cannot find module '"+h+"'");throw y.code="MODULE_NOT_FOUND",y}var _=i[h]={exports:{}};r[h][0].call(_.exports,function(T){var w=r[h][1][T];return o(w||T)},_,_.exports,t,r,i,s)}return i[h].exports}for(var l=typeof ny=="function"&&ny,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(t,r,i){var s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function c(f){if(f==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(f)}function h(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de",Object.getOwnPropertyNames(f)[0]==="5")return!1;for(var m={},y=0;y<10;y++)m["_"+String.fromCharCode(y)]=y;var _=Object.getOwnPropertyNames(m).map(function(w){return m[w]});if(_.join("")!=="0123456789")return!1;var T={};return"abcdefghijklmnopqrst".split("").forEach(function(w){T[w]=w}),Object.keys(Object.assign({},T)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}r.exports=h()?Object.assign:function(f,m){for(var y,_=c(f),T,w=1;w<arguments.length;w++){y=Object(arguments[w]);for(var C in y)o.call(y,C)&&(_[C]=y[C]);if(s){T=s(y);for(var b=0;b<T.length;b++)l.call(y,T[b])&&(_[T[b]]=y[T[b]])}}return _}},{}],2:[function(t,r,i){(function(s){(function(){var o,l,c,h,f,m;typeof performance<"u"&&performance!==null&&performance.now?r.exports=function(){return performance.now()}:typeof s<"u"&&s!==null&&s.hrtime?(r.exports=function(){return(o()-f)/1e6},l=s.hrtime,o=function(){var y;return y=l(),y[0]*1e9+y[1]},h=o(),m=s.uptime()*1e9,f=h-m):Date.now?(r.exports=function(){return Date.now()-c},c=Date.now()):(r.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}).call(this,t("_process"))},{_process:3}],3:[function(t,r,i){var s=r.exports={},o,l;function c(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=c}catch{o=c}try{typeof clearTimeout=="function"?l=clearTimeout:l=h}catch{l=h}})();function f(V){if(o===setTimeout)return setTimeout(V,0);if((o===c||!o)&&setTimeout)return o=setTimeout,setTimeout(V,0);try{return o(V,0)}catch{try{return o.call(null,V,0)}catch{return o.call(this,V,0)}}}function m(V){if(l===clearTimeout)return clearTimeout(V);if((l===h||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(V);try{return l(V)}catch{try{return l.call(null,V)}catch{return l.call(this,V)}}}var y=[],_=!1,T,w=-1;function C(){!_||!T||(_=!1,T.length?y=T.concat(y):w=-1,y.length&&b())}function b(){if(!_){var V=f(C);_=!0;for(var U=y.length;U;){for(T=y,y=[];++w<U;)T&&T[w].run();w=-1,U=y.length}T=null,_=!1,m(V)}}s.nextTick=function(V){var U=new Array(arguments.length-1);if(arguments.length>1)for(var W=1;W<arguments.length;W++)U[W-1]=arguments[W];y.push(new O(V,U)),y.length===1&&!_&&f(b)};function O(V,U){this.fun=V,this.array=U}O.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function L(){}s.on=L,s.addListener=L,s.once=L,s.off=L,s.removeListener=L,s.removeAllListeners=L,s.emit=L,s.prependListener=L,s.prependOnceListener=L,s.listeners=function(V){return[]},s.binding=function(V){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(V){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],4:[function(t,r,i){(function(s){for(var o=t("performance-now"),l=typeof window>"u"?s:window,c=["moz","webkit"],h="AnimationFrame",f=l["request"+h],m=l["cancel"+h]||l["cancelRequest"+h],y=0;!f&&y<c.length;y++)f=l[c[y]+"Request"+h],m=l[c[y]+"Cancel"+h]||l[c[y]+"CancelRequest"+h];if(!f||!m){var _=0,T=0,w=[],C=1e3/60;f=function(b){if(w.length===0){var O=o(),L=Math.max(0,C-(O-_));_=L+O,setTimeout(function(){var V=w.slice(0);w.length=0;for(var U=0;U<V.length;U++)if(!V[U].cancelled)try{V[U].callback(_)}catch(W){setTimeout(function(){throw W},0)}},Math.round(L))}return w.push({handle:++T,callback:b,cancelled:!1}),T},m=function(b){for(var O=0;O<w.length;O++)w[O].handle===b&&(w[O].cancelled=!0)}}r.exports=function(b){return f.call(l,b)},r.exports.cancel=function(){m.apply(l,arguments)},r.exports.polyfill=function(){l.requestAnimationFrame=f,l.cancelAnimationFrame=m}}).call(this,typeof DI<"u"?DI:typeof self<"u"?self:typeof window<"u"?window:{})},{"performance-now":2}],5:[function(t,r,i){var s=function(){function _(T,w){for(var C=0;C<w.length;C++){var b=w[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,w,C){return w&&_(T.prototype,w),C&&_(T,C),T}}();function o(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}var l=t("raf"),c=t("object-assign"),h={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function(T,w,C){return w<C?T<w?w:T>C?C:T:T<C?C:T>w?w:T},data:function(T,w){return h.deserialize(T.getAttribute("data-"+w))},deserialize:function(T){return T==="true"?!0:T==="false"?!1:T==="null"?null:!isNaN(parseFloat(T))&&isFinite(T)?parseFloat(T):T},camelCase:function(T){return T.replace(/-+(.)?/g,function(w,C){return C?C.toUpperCase():""})},accelerate:function(T){h.css(T,"transform","translate3d(0,0,0) rotate(0.0001deg)"),h.css(T,"transform-style","preserve-3d"),h.css(T,"backface-visibility","hidden")},transformSupport:function(T){for(var w=document.createElement("div"),C=!1,b=null,O=!1,L=null,V=null,U=0,W=h.vendors.length;U<W;U++)if(h.vendors[U]!==null?(L=h.vendors[U][0]+"transform",V=h.vendors[U][1]+"Transform"):(L="transform",V="transform"),w.style[V]!==void 0){C=!0;break}switch(T){case"2D":O=C;break;case"3D":if(C){var k=document.body||document.createElement("body"),R=document.documentElement,P=R.style.overflow,N=!1;document.body||(N=!0,R.style.overflow="hidden",R.appendChild(k),k.style.overflow="hidden",k.style.background=""),k.appendChild(w),w.style[V]="translate3d(1px,1px,1px)",b=window.getComputedStyle(w).getPropertyValue(L),O=b!==void 0&&b.length>0&&b!=="none",R.style.overflow=P,k.removeChild(w),N&&(k.removeAttribute("style"),k.parentNode.removeChild(k))}break}return O},css:function(T,w,C){var b=h.propertyCache[w];if(!b){for(var O=0,L=h.vendors.length;O<L;O++)if(h.vendors[O]!==null?b=h.camelCase(h.vendors[O][1]+"-"+w):b=w,T.style[b]!==void 0){h.propertyCache[w]=b;break}}T.style[b]=C}},f=30,m={relativeInput:!1,clipRelativeInput:!1,inputElement:null,hoverOnly:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5,pointerEvents:!1,precision:1,onReady:null,selector:null},y=function(){function _(T,w){o(this,_),this.element=T;var C={calibrateX:h.data(this.element,"calibrate-x"),calibrateY:h.data(this.element,"calibrate-y"),invertX:h.data(this.element,"invert-x"),invertY:h.data(this.element,"invert-y"),limitX:h.data(this.element,"limit-x"),limitY:h.data(this.element,"limit-y"),scalarX:h.data(this.element,"scalar-x"),scalarY:h.data(this.element,"scalar-y"),frictionX:h.data(this.element,"friction-x"),frictionY:h.data(this.element,"friction-y"),originX:h.data(this.element,"origin-x"),originY:h.data(this.element,"origin-y"),pointerEvents:h.data(this.element,"pointer-events"),precision:h.data(this.element,"precision"),relativeInput:h.data(this.element,"relative-input"),clipRelativeInput:h.data(this.element,"clip-relative-input"),hoverOnly:h.data(this.element,"hover-only"),inputElement:document.querySelector(h.data(this.element,"input-element")),selector:h.data(this.element,"selector")};for(var b in C)C[b]===null&&delete C[b];c(this,m,C,w),this.inputElement||(this.inputElement=this.element),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depthsX=[],this.depthsY=[],this.raf=null,this.bounds=null,this.elementPositionX=0,this.elementPositionY=0,this.elementWidth=0,this.elementHeight=0,this.elementCenterX=0,this.elementCenterY=0,this.elementRangeX=0,this.elementRangeY=0,this.calibrationX=0,this.calibrationY=0,this.inputX=0,this.inputY=0,this.motionX=0,this.motionY=0,this.velocityX=0,this.velocityY=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onDeviceMotion=this.onDeviceMotion.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onMotionTimer=this.onMotionTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.windowWidth=null,this.windowHeight=null,this.windowCenterX=null,this.windowCenterY=null,this.windowRadiusX=null,this.windowRadiusY=null,this.portrait=!1,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop,this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop,this.orientationStatus=0,this.motionStatus=0,this.initialise()}return s(_,[{key:"initialise",value:function(){this.transform2DSupport===void 0&&(this.transform2DSupport=h.transformSupport("2D"),this.transform3DSupport=h.transformSupport("3D")),this.transform3DSupport&&h.accelerate(this.element);var w=window.getComputedStyle(this.element);w.getPropertyValue("position")==="static"&&(this.element.style.position="relative"),this.pointerEvents||(this.element.style.pointerEvents="none"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function(){this.onReady&&this.onReady()}},{key:"updateLayers",value:function(){this.selector?this.layers=this.element.querySelectorAll(this.selector):this.layers=this.element.children,this.layers.length||console.warn("ParallaxJS: Your scene does not have any layers."),this.depthsX=[],this.depthsY=[];for(var w=0;w<this.layers.length;w++){var C=this.layers[w];this.transform3DSupport&&h.accelerate(C),C.style.position=w?"absolute":"relative",C.style.display="block",C.style.left=0,C.style.top=0;var b=h.data(C,"depth")||0;this.depthsX.push(h.data(C,"depth-x")||b),this.depthsY.push(h.data(C,"depth-y")||b)}}},{key:"updateDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowCenterX=this.windowWidth*this.originX,this.windowCenterY=this.windowHeight*this.originY,this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX),this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function(){this.bounds=this.inputElement.getBoundingClientRect(),this.elementPositionX=this.bounds.left,this.elementPositionY=this.bounds.top,this.elementWidth=this.bounds.width,this.elementHeight=this.bounds.height,this.elementCenterX=this.elementWidth*this.originX,this.elementCenterY=this.elementHeight*this.originY,this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX),this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function(w){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,w)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=!1,window.addEventListener("deviceorientation",this.onDeviceOrientation),this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)):this.motionSupport?(this.portrait=!1,window.addEventListener("devicemotion",this.onDeviceMotion),this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)):(this.calibrationX=0,this.calibrationY=0,this.portrait=!1,window.addEventListener("mousemove",this.onMouseMove),this.doReadyCallback()),window.addEventListener("resize",this.onWindowResize),this.raf=l(this.onAnimationFrame))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.orientationSupport?window.removeEventListener("deviceorientation",this.onDeviceOrientation):this.motionSupport?window.removeEventListener("devicemotion",this.onDeviceMotion):window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),l.cancel(this.raf))}},{key:"calibrate",value:function(w,C){this.calibrateX=w===void 0?this.calibrateX:w,this.calibrateY=C===void 0?this.calibrateY:C}},{key:"invert",value:function(w,C){this.invertX=w===void 0?this.invertX:w,this.invertY=C===void 0?this.invertY:C}},{key:"friction",value:function(w,C){this.frictionX=w===void 0?this.frictionX:w,this.frictionY=C===void 0?this.frictionY:C}},{key:"scalar",value:function(w,C){this.scalarX=w===void 0?this.scalarX:w,this.scalarY=C===void 0?this.scalarY:C}},{key:"limit",value:function(w,C){this.limitX=w===void 0?this.limitX:w,this.limitY=C===void 0?this.limitY:C}},{key:"origin",value:function(w,C){this.originX=w===void 0?this.originX:w,this.originY=C===void 0?this.originY:C}},{key:"setInputElement",value:function(w){this.inputElement=w,this.updateDimensions()}},{key:"setPosition",value:function(w,C,b){C=C.toFixed(this.precision)+"px",b=b.toFixed(this.precision)+"px",this.transform3DSupport?h.css(w,"transform","translate3d("+C+","+b+",0)"):this.transform2DSupport?h.css(w,"transform","translate("+C+","+b+")"):(w.style.left=C,w.style.top=b)}},{key:"onOrientationTimer",value:function(){this.orientationSupport&&this.orientationStatus===0?(this.disable(),this.orientationSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onMotionTimer",value:function(){this.motionSupport&&this.motionStatus===0?(this.disable(),this.motionSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onCalibrationTimer",value:function(){this.calibrationFlag=!0}},{key:"onWindowResize",value:function(){this.updateDimensions()}},{key:"onAnimationFrame",value:function(){this.updateBounds();var w=this.inputX-this.calibrationX,C=this.inputY-this.calibrationY;(Math.abs(w)>this.calibrationThreshold||Math.abs(C)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.motionX=this.calibrateX?C:this.inputY,this.motionY=this.calibrateY?w:this.inputX):(this.motionX=this.calibrateX?w:this.inputX,this.motionY=this.calibrateY?C:this.inputY),this.motionX*=this.elementWidth*(this.scalarX/100),this.motionY*=this.elementHeight*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.motionX=h.clamp(this.motionX,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.motionY=h.clamp(this.motionY,-this.limitY,this.limitY)),this.velocityX+=(this.motionX-this.velocityX)*this.frictionX,this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var b=0;b<this.layers.length;b++){var O=this.layers[b],L=this.depthsX[b],V=this.depthsY[b],U=this.velocityX*(L*(this.invertX?-1:1)),W=this.velocityY*(V*(this.invertY?-1:1));this.setPosition(O,U,W)}this.raf=l(this.onAnimationFrame)}},{key:"rotate",value:function(w,C){var b=(w||0)/f,O=(C||0)/f,L=this.windowHeight>this.windowWidth;this.portrait!==L&&(this.portrait=L,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.calibrationX=b,this.calibrationY=O),this.inputX=b,this.inputY=O}},{key:"onDeviceOrientation",value:function(w){var C=w.beta,b=w.gamma;C!==null&&b!==null&&(this.orientationStatus=1,this.rotate(C,b))}},{key:"onDeviceMotion",value:function(w){var C=w.rotationRate.beta,b=w.rotationRate.gamma;C!==null&&b!==null&&(this.motionStatus=1,this.rotate(C,b))}},{key:"onMouseMove",value:function(w){var C=w.clientX,b=w.clientY;if(this.hoverOnly&&(C<this.elementPositionX||C>this.elementPositionX+this.elementWidth||b<this.elementPositionY||b>this.elementPositionY+this.elementHeight)){this.inputX=0,this.inputY=0;return}this.relativeInput?(this.clipRelativeInput&&(C=Math.max(C,this.elementPositionX),C=Math.min(C,this.elementPositionX+this.elementWidth),b=Math.max(b,this.elementPositionY),b=Math.min(b,this.elementPositionY+this.elementHeight)),this.elementRangeX&&this.elementRangeY&&(this.inputX=(C-this.elementPositionX-this.elementCenterX)/this.elementRangeX,this.inputY=(b-this.elementPositionY-this.elementCenterY)/this.elementRangeY)):this.windowRadiusX&&this.windowRadiusY&&(this.inputX=(C-this.windowCenterX)/this.windowRadiusX,this.inputY=(b-this.windowCenterY)/this.windowRadiusY)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.calibrationTimer),clearTimeout(this.detectionTimer),this.element.removeAttribute("style");for(var w=0;w<this.layers.length;w++)this.layers[w].removeAttribute("style");delete this.element,delete this.layers}},{key:"version",value:function(){return"3.1.0"}}]),_}();r.exports=y},{"object-assign":1,raf:4}]},{},[5])(5)})}(IT)),IT.exports}var Xie=Kie();const Qie=Fo(Xie),Jie=()=>{const n=A.useRef(null);return A.useEffect(()=>{let e;return n.current&&(e=new Qie(n.current,{relativeInput:!0,hoverOnly:!0,pointerEvents:!0})),()=>e&&e.disable()},[]),E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-pink-50 p-6 overflow-hidden",children:[E.jsx("div",{ref:n,className:"w-96 h-96 mb-8 relative",id:"parallax-scene",children:E.jsx("div",{"data-depth":"0.8",className:"absolute top-0 right-0 z-20",children:E.jsx("img",{src:"/images/cat.gif",alt:"Chat perdu",className:"w-full h-full object-contain"})})}),E.jsx("h1",{className:"text-5xl font-extrabold mb-4 text-blue-700 animate-fade-in-down",children:"Oups ! Page introuvable"}),E.jsx("p",{className:"text-lg text-gray-600 mb-6 animate-fade-in-up",children:"Nos petites mascottes n'ont pas trouvé ce que vous cherchez."}),E.jsxs(es,{to:"/",className:"relative inline-block px-8 py-3 font-medium group",children:[E.jsx("span",{className:"absolute inset-0 w-full h-full transition duration-300 ease-out transform translate-x-1 translate-y-1 bg-blue-500 group-hover:-translate-x-0 group-hover:-translate-y-0"}),E.jsx("span",{className:"absolute inset-0 w-full h-full bg-white border-2 border-blue-500 group-hover:bg-blue-500"}),E.jsx("span",{className:"relative text-blue-500 group-hover:text-white",children:"Retour à l'accueil"})]})]})};function Zie(){const[n,e]=A.useState([]),[t,r]=A.useState(!0);A.useEffect(()=>{$l(Ds(Fi,"contacts")).then(s=>{const o=s.docs.map(l=>({id:l.id,...l.data()}));e(o)}).finally(()=>r(!1))},[]);const i=async s=>{await _F(ZS(Fi,"contacts",s)),e(o=>o.filter(l=>l.id!==s))};return t?E.jsx("p",{className:"p-8",children:"Cargando…"}):E.jsxs("div",{className:"space-y-6",children:[E.jsx("h1",{className:"text-2xl font-bold",children:"Mensajes de Contacto"}),n.length===0?E.jsx("p",{className:"text-gray-600",children:"No hay mensajes."}):E.jsxs("table",{className:"w-full table-auto bg-white rounded shadow",children:[E.jsx("thead",{className:"bg-gray-100 text-left",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2",children:"Fecha"}),E.jsx("th",{className:"p-2",children:"Nombre"}),E.jsx("th",{className:"p-2",children:"Mensaje"}),E.jsx("th",{className:"p-2",children:"Newsletter"}),E.jsx("th",{className:"p-2",children:"Acciones"})]})}),E.jsx("tbody",{children:n.map(s=>{var o;return E.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[E.jsx("td",{className:"p-2",children:new Date(((o=s.timestamp)==null?void 0:o.seconds)*1e3).toLocaleString()}),E.jsx("td",{className:"p-2",children:s.name}),E.jsx("td",{className:"p-2",children:s.message}),E.jsx("td",{className:"p-2",children:s.newsletter?"✅":"❌"}),E.jsx("td",{className:"p-2",children:E.jsx("button",{onClick:()=>i(s.id),className:"text-red-600 hover:underline",children:"Eliminar"})})]},s.id)})})]})]})}function ese(){const[n,e]=A.useState([]);return A.useEffect(()=>{$l(Ds(Fi,"bookings")).then(t=>{const r=t.docs.map(i=>({id:i.id,...i.data()}));e(r)})},[]),E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Reservas"}),n.length===0?E.jsx("p",{children:"No hay reservas."}):E.jsxs("table",{className:"w-full table-auto bg-white rounded shadow",children:[E.jsx("thead",{className:"bg-gray-100 text-left",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2",children:"Desde"}),E.jsx("th",{className:"p-2",children:"Hasta"}),E.jsx("th",{className:"p-2",children:"Tipo"}),E.jsx("th",{className:"p-2",children:"Estado"})]})}),E.jsx("tbody",{children:n.map(t=>E.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[E.jsx("td",{className:"p-2",children:t.dateFrom}),E.jsx("td",{className:"p-2",children:t.dateTo}),E.jsx("td",{className:"p-2",children:t.type}),E.jsx("td",{className:"p-2",children:t.status})]},t.id))})]})]})}function tse(){const[n,e]=A.useState([]);return A.useEffect(()=>{$l(Ds(Fi,"pets")).then(t=>{const r=t.docs.map(i=>({id:i.id,...i.data()}));e(r)})},[]),E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Mascotas"}),n.length===0?E.jsx("p",{children:"No hay mascotas registradas."}):E.jsxs("table",{className:"w-full table-auto bg-white rounded shadow",children:[E.jsx("thead",{className:"bg-gray-100 text-left",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2",children:"Nombre"}),E.jsx("th",{className:"p-2",children:"Tipo"}),E.jsx("th",{className:"p-2",children:"Raza"})]})}),E.jsx("tbody",{children:n.map(t=>E.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[E.jsx("td",{className:"p-2",children:t.name}),E.jsx("td",{className:"p-2",children:t.type}),E.jsx("td",{className:"p-2",children:t.breed})]},t.id))})]})]})}function nse(){const[n,e]=A.useState([]);return A.useEffect(()=>{$l(Ds(Fi,"clients")).then(t=>{const r=t.docs.map(i=>({id:i.id,...i.data()}));e(r)})},[]),E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Clientes"}),n.length===0?E.jsx("p",{children:"No hay clientes."}):E.jsxs("table",{className:"w-full table-auto bg-white rounded shadow",children:[E.jsx("thead",{className:"bg-gray-100 text-left",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2",children:"Nombre"}),E.jsx("th",{className:"p-2",children:"Teléfono"}),E.jsx("th",{className:"p-2",children:"Correo"})]})}),E.jsx("tbody",{children:n.map(t=>E.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[E.jsx("td",{className:"p-2",children:t.name}),E.jsx("td",{className:"p-2",children:t.phone}),E.jsx("td",{className:"p-2",children:t.email})]},t.id))})]})]})}function rse(){const[n,e]=A.useState(null),[t,r]=A.useState([]),[i,s]=A.useState(!1),o=async()=>{if(!n)return;s(!0);const c=new FormData;c.append("image",n);try{const m=(await(await fetch("https://api.imgbb.com/1/upload?key=711bea0af9cd9be4a115705e4205e5b9",{method:"POST",body:c})).json()).data.url,y=await yv(Ds(Fi,"gallery"),{url:m,name:`${Date.now()}-${n.name}`});r(_=>[..._,{id:y.id,url:m,name:n.name}]),e(null)}catch(h){console.error("Error uploading to ImgBB:",h)}finally{s(!1)}},l=async c=>{try{await _F(ZS(Fi,"gallery",c)),r(h=>h.filter(f=>f.id!==c))}catch(h){console.error("Error deleting image:",h)}};return A.useEffect(()=>{(async()=>{try{const f=(await $l(Ds(Fi,"gallery"))).docs.map(m=>({id:m.id,url:m.data().url,name:m.data().name}));r(f)}catch(h){console.error("Error fetching gallery images:",h)}})()},[]),E.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:E.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("h1",{className:"text-4xl font-semibold text-gray-800",children:"Galería de Imágenes"})}),E.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:E.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[E.jsx("input",{type:"file",accept:"image/*",onChange:c=>{var h;return e(((h=c.target.files)==null?void 0:h[0])||null)},className:"w-full sm:w-auto"}),n&&E.jsxs("button",{onClick:o,disabled:i,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition",children:[E.jsx(a6,{size:18}),i?"Subiendo...":"Subir imagen"]})]})}),E.jsx("div",{children:t.length===0?E.jsx("p",{className:"text-center text-gray-500 text-lg",children:"No hay imágenes aún."}):E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(c=>E.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow hover:shadow-xl transition",children:[E.jsx("img",{src:c.url,alt:c.name,className:"w-full h-48 object-cover"}),E.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 flex justify-end p-2 transition",children:E.jsx("button",{onClick:()=>l(c.id),className:"bg-red-600 hover:bg-red-700 text-white p-1 rounded",children:E.jsx(k6,{size:18})})})]},c.id))})})]})})}function ise(){const[n,e]=A.useState("messages"),[t,r]=A.useState(!1),[i,s]=A.useState(!1),o=ed();A.useEffect(()=>{(()=>{const m=sessionStorage.getItem("isAdminLogged")==="true",y=ep.currentUser;(!m||!y)&&o("/login")})();const f=ep.onAuthStateChanged(m=>{m||(sessionStorage.removeItem("isAdminLogged"),o("/login"))});return()=>f()},[o]);const l=async()=>{try{await ep.signOut(),sessionStorage.removeItem("isAdminLogged"),o("/login")}catch(h){console.error("Error al cerrar sesión:",h)}},c=()=>{switch(n){case"messages":return E.jsx(Zie,{});case"bookings":return E.jsx(ese,{});case"pets":return E.jsx(tse,{});case"clients":return E.jsx(nse,{});case"gallery":return E.jsx(rse,{});default:return null}};return E.jsxs("div",{className:"min-h-screen md:flex",children:[E.jsx("aside",{className:`bg-gray-800 text-white fixed top-0 left-0 h-full z-40 transition-all duration-300 ease-in-out
          ${t?"translate-x-0":"-translate-x-full"} 
          ${i?"w-16":"w-64"} 
          md:translate-x-0`,children:E.jsxs("div",{className:"p-4 space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h2",{className:`text-2xl font-bold ${i?"hidden":"block"}`,children:"Admin"}),E.jsx("button",{className:"text-white md:hidden",onClick:()=>r(!1),children:"✖"})]}),E.jsxs("nav",{className:"flex flex-col gap-2",children:[E.jsxs("button",{onClick:()=>{e("messages"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"📩"}),E.jsx("span",{className:i?"hidden":"block",children:"Mensajes"})]}),E.jsxs("button",{onClick:()=>{e("bookings"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"📆"}),E.jsx("span",{className:i?"hidden":"block",children:"Reservas"})]}),E.jsxs("button",{onClick:()=>{e("pets"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"🐶"}),E.jsx("span",{className:i?"hidden":"block",children:"Mascotas"})]}),E.jsxs("button",{onClick:()=>{e("clients"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"👤"}),E.jsx("span",{className:i?"hidden":"block",children:"Clientes"})]}),E.jsxs("button",{onClick:()=>{e("gallery"),r(!1)},className:"flex items-center gap-2",children:[E.jsx("span",{children:"🖼️"}),E.jsx("span",{className:i?"hidden":"block",children:"Galería"})]})]}),E.jsxs("button",{onClick:l,className:`text-red-400 hover:underline mt-10 flex items-center gap-2 ${i?"justify-center":""}`,children:[E.jsx("span",{children:"🚪"}),E.jsx("span",{className:i?"hidden":"block",children:"Cerrar sesión"})]})]})}),t&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>r(!1)}),E.jsxs("main",{className:`flex flex-col p-4 md:p-6 bg-gray-50 min-h-screen transition-all duration-300
        ${i?"md:ml-16":"md:ml-64"}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("button",{onClick:()=>r(!t),className:"text-gray-700 text-2xl md:hidden",children:"☰"}),E.jsx("button",{onClick:()=>s(!i),className:"hidden md:block text-gray-700",children:i?E.jsx("span",{className:"mr-4",children:E.jsx("i",{className:"fa-solid fa-angle-right"})}):E.jsx("span",{className:"mr-4",children:E.jsx("i",{className:"fa-solid fa-angle-left"})})}),E.jsx("h1",{className:"text-lg font-semibold",children:"Panel de Administración"})]}),c()]})]})}function sse(){const[n,e]=A.useState(""),[t,r]=A.useState(""),[i,s]=A.useState(""),[o,l]=A.useState(!1),c=ed(),h=async f=>{f.preventDefault(),s(""),l(!0);try{await EG(ep,n,t),sessionStorage.setItem("isAdminLogged","true"),c("/admin")}catch(m){s(m.message||"Erreur de connexion")}finally{l(!1)}};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:E.jsxs(_n.form,{onSubmit:h,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"relative w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 space-y-6 sm:p-10",children:[E.jsx("h1",{className:"text-3xl font-extrabold text-gray-800 text-center",children:"Admin Login"}),i&&E.jsx(_n.div,{initial:{x:-10},animate:{x:0},className:"text-red-500 text-center",children:i}),E.jsxs("div",{className:"relative",children:[E.jsx(kD,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400"}),E.jsx("input",{type:"email",value:n,onChange:f=>e(f.target.value),placeholder:"Email",autoComplete:"username",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"})]}),E.jsxs("div",{className:"relative",children:[E.jsx(v6,{className:"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400"}),E.jsx("input",{type:"password",value:t,onChange:f=>r(f.target.value),placeholder:"Contraseña",autoComplete:"current-password",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition"})]}),E.jsx(_n.button,{type:"submit",disabled:o,whileHover:{scale:o?1:1.02},whileTap:{scale:o?1:.98},className:`w-full flex items-center justify-center py-3 rounded-full text-white font-semibold transition-colors ${o?"bg-blue-300":"bg-blue-600 hover:bg-blue-700"}`,children:o?E.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):"Iniciar sesión"})]})})}function ose(){const[n,e]=A.useState(""),[t,r]=A.useState(""),i=ed(),s=async o=>{o.preventDefault();try{await TG(ep,n,t),i("/admin")}catch(l){console.error("Error registrando admin:",l),alert("No se pudo crear el usuario")}};return E.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:E.jsxs("form",{onSubmit:s,className:"bg-white p-8 rounded shadow-md w-96",children:[E.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Crear Admin"}),E.jsx("input",{type:"email",placeholder:"Correo",value:n,onChange:o=>e(o.target.value),className:"w-full p-2 border mb-4",required:!0}),E.jsx("input",{type:"password",placeholder:"Contraseña",value:t,onChange:o=>r(o.target.value),className:"w-full p-2 border mb-4",required:!0}),E.jsx("button",{type:"submit",className:"bg-blue-500 text-white w-full py-2 rounded",children:"Crear Cuenta"})]})})}function ase(){const{pathname:n}=so();return A.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[n]),null}const lse=()=>{const e=so().pathname.startsWith("/admin");return A.useEffect(()=>{document.body.style.scrollBehavior="smooth"},[]),E.jsxs(E.Fragment,{children:[E.jsxs(TU,{children:[E.jsx("meta",{charSet:"UTF-8"}),E.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),E.jsx("meta",{name:"description",content:"Cuidado de perros y gatos en casa con amor y diversión - PetHome, tu guardería de mascotas ideal"}),E.jsx("meta",{name:"keywords",content:"cuidado mascotas, guardería perros, pet sitter, cuidado gatos"}),E.jsx("meta",{name:"robots",content:"index, follow"}),E.jsx("title",{children:"PetHome - El Hogar de tus Perros y Gatos"})]}),E.jsxs("div",{className:"min-h-screen flex flex-col",children:[!e&&E.jsx(O6,{}),E.jsxs("main",{className:"flex-grow",children:[E.jsx(ase,{}),E.jsxs(d5,{children:[E.jsx(Ki,{path:"/",element:E.jsx(e$,{})}),E.jsx(Ki,{path:"/services",element:E.jsx(BN,{})}),E.jsx(Ki,{path:"/tarifs",element:E.jsx(BN,{})}),E.jsx(Ki,{path:"/apropos",element:E.jsx(ere,{})}),E.jsx(Ki,{path:"/gallery",element:E.jsx(yie,{})}),E.jsx(Ki,{path:"/faq",element:E.jsx(vie,{})}),E.jsx(Ki,{path:"/checkout",element:E.jsx(Yie,{})}),E.jsx(Ki,{path:"/login",element:E.jsx(sse,{})}),E.jsx(Ki,{path:"/admin",element:E.jsx(ise,{})}),E.jsx(Ki,{path:"/contact",element:E.jsx(Iie,{})}),E.jsx(Ki,{path:"/admin-register",element:E.jsx(ose,{})}),E.jsx(Ki,{path:"*",element:E.jsx(Jie,{})})]})]}),!e&&E.jsx(M6,{})]})]})};K3.createRoot(document.getElementById("root")).render(E.jsx(Mn.StrictMode,{children:E.jsx(fD,{children:E.jsx(L5,{children:E.jsx(lse,{})})})}));
